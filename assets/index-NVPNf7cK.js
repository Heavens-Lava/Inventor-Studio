var Pue=Object.defineProperty;var n3=e=>{throw TypeError(e)};var Due=(e,t,n)=>t in e?Pue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ie=(e,t,n)=>Due(e,typeof t!="symbol"?t+"":t,n),pE=(e,t,n)=>t.has(e)||n3("Cannot "+n);var ue=(e,t,n)=>(pE(e,t,"read from private field"),n?n.call(e):t.get(e)),kt=(e,t,n)=>t.has(e)?n3("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),it=(e,t,n,r)=>(pE(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Yr=(e,t,n)=>(pE(e,t,"access private method"),n);var $0=(e,t,n,r)=>({set _(s){it(e,t,s,n)},get _(){return ue(e,t,r)}});function h9(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var B0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Rue(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var f9={exports:{}},jk={},p9={exports:{}},bt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv=Symbol.for("react.element"),Iue=Symbol.for("react.portal"),Lue=Symbol.for("react.fragment"),$ue=Symbol.for("react.strict_mode"),Bue=Symbol.for("react.profiler"),Fue=Symbol.for("react.provider"),zue=Symbol.for("react.context"),Uue=Symbol.for("react.forward_ref"),Hue=Symbol.for("react.suspense"),Wue=Symbol.for("react.memo"),Vue=Symbol.for("react.lazy"),r3=Symbol.iterator;function Gue(e){return e===null||typeof e!="object"?null:(e=r3&&e[r3]||e["@@iterator"],typeof e=="function"?e:null)}var m9={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g9=Object.assign,y9={};function hm(e,t,n){this.props=e,this.context=t,this.refs=y9,this.updater=n||m9}hm.prototype.isReactComponent={};hm.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};hm.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function x9(){}x9.prototype=hm.prototype;function DP(e,t,n){this.props=e,this.context=t,this.refs=y9,this.updater=n||m9}var RP=DP.prototype=new x9;RP.constructor=DP;g9(RP,hm.prototype);RP.isPureReactComponent=!0;var s3=Array.isArray,v9=Object.prototype.hasOwnProperty,IP={current:null},b9={key:!0,ref:!0,__self:!0,__source:!0};function w9(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)v9.call(t,r)&&!b9.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Mv,type:e,key:i,ref:o,props:s,_owner:IP.current}}function que(e,t){return{$$typeof:Mv,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function LP(e){return typeof e=="object"&&e!==null&&e.$$typeof===Mv}function Kue(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var i3=/\/+/g;function mE(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Kue(""+e.key):t.toString(36)}function Rw(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Mv:case Iue:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+mE(o,0):r,s3(s)?(n="",e!=null&&(n=e.replace(i3,"$&/")+"/"),Rw(s,t,n,"",function(u){return u})):s!=null&&(LP(s)&&(s=que(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(i3,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",s3(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+mE(i,l);o+=Rw(i,t,n,c,s)}else if(c=Gue(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+mE(i,l++),o+=Rw(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function F0(e,t,n){if(e==null)return e;var r=[],s=0;return Rw(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Yue(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var As={current:null},Iw={transition:null},Xue={ReactCurrentDispatcher:As,ReactCurrentBatchConfig:Iw,ReactCurrentOwner:IP};function S9(){throw Error("act(...) is not supported in production builds of React.")}bt.Children={map:F0,forEach:function(e,t,n){F0(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return F0(e,function(){t++}),t},toArray:function(e){return F0(e,function(t){return t})||[]},only:function(e){if(!LP(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};bt.Component=hm;bt.Fragment=Lue;bt.Profiler=Bue;bt.PureComponent=DP;bt.StrictMode=$ue;bt.Suspense=Hue;bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xue;bt.act=S9;bt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=g9({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=IP.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)v9.call(t,c)&&!b9.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Mv,type:e.type,key:s,ref:i,props:r,_owner:o}};bt.createContext=function(e){return e={$$typeof:zue,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Fue,_context:e},e.Consumer=e};bt.createElement=w9;bt.createFactory=function(e){var t=w9.bind(null,e);return t.type=e,t};bt.createRef=function(){return{current:null}};bt.forwardRef=function(e){return{$$typeof:Uue,render:e}};bt.isValidElement=LP;bt.lazy=function(e){return{$$typeof:Vue,_payload:{_status:-1,_result:e},_init:Yue}};bt.memo=function(e,t){return{$$typeof:Wue,type:e,compare:t===void 0?null:t}};bt.startTransition=function(e){var t=Iw.transition;Iw.transition={};try{e()}finally{Iw.transition=t}};bt.unstable_act=S9;bt.useCallback=function(e,t){return As.current.useCallback(e,t)};bt.useContext=function(e){return As.current.useContext(e)};bt.useDebugValue=function(){};bt.useDeferredValue=function(e){return As.current.useDeferredValue(e)};bt.useEffect=function(e,t){return As.current.useEffect(e,t)};bt.useId=function(){return As.current.useId()};bt.useImperativeHandle=function(e,t,n){return As.current.useImperativeHandle(e,t,n)};bt.useInsertionEffect=function(e,t){return As.current.useInsertionEffect(e,t)};bt.useLayoutEffect=function(e,t){return As.current.useLayoutEffect(e,t)};bt.useMemo=function(e,t){return As.current.useMemo(e,t)};bt.useReducer=function(e,t,n){return As.current.useReducer(e,t,n)};bt.useRef=function(e){return As.current.useRef(e)};bt.useState=function(e){return As.current.useState(e)};bt.useSyncExternalStore=function(e,t,n){return As.current.useSyncExternalStore(e,t,n)};bt.useTransition=function(){return As.current.useTransition()};bt.version="18.3.1";p9.exports=bt;var v=p9.exports;const H=Dt(v),Pv=h9({__proto__:null,default:H},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jue=v,Que=Symbol.for("react.element"),Zue=Symbol.for("react.fragment"),ede=Object.prototype.hasOwnProperty,tde=Jue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nde={key:!0,ref:!0,__self:!0,__source:!0};function N9(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)ede.call(t,r)&&!nde.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Que,type:e,key:i,ref:o,props:s,_owner:tde.current}}jk.Fragment=Zue;jk.jsx=N9;jk.jsxs=N9;f9.exports=jk;var a=f9.exports,k9={exports:{}},bi={},j9={exports:{}},_9={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,D){var F=L.length;L.push(D);e:for(;0<F;){var z=F-1>>>1,B=L[z];if(0<s(B,D))L[z]=D,L[F]=B,F=z;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var D=L[0],F=L.pop();if(F!==D){L[0]=F;e:for(var z=0,B=L.length,$=B>>>1;z<$;){var W=2*(z+1)-1,V=L[W],Y=W+1,G=L[Y];if(0>s(V,F))Y<B&&0>s(G,V)?(L[z]=G,L[Y]=F,z=Y):(L[z]=V,L[W]=F,z=W);else if(Y<B&&0>s(G,F))L[z]=G,L[Y]=F,z=Y;else break e}}return D}function s(L,D){var F=L.sortIndex-D.sortIndex;return F!==0?F:L.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(L){for(var D=n(u);D!==null;){if(D.callback===null)r(u);else if(D.startTime<=L)r(u),D.sortIndex=D.expirationTime,t(c,D);else break;D=n(u)}}function N(L){if(g=!1,w(L),!m)if(n(c)!==null)m=!0,T(S);else{var D=n(u);D!==null&&R(N,D.startTime-L)}}function S(L,D){m=!1,g&&(g=!1,x(_),_=-1),p=!0;var F=f;try{for(w(D),h=n(c);h!==null&&(!(h.expirationTime>D)||L&&!O());){var z=h.callback;if(typeof z=="function"){h.callback=null,f=h.priorityLevel;var B=z(h.expirationTime<=D);D=e.unstable_now(),typeof B=="function"?h.callback=B:h===n(c)&&r(c),w(D)}else r(c);h=n(c)}if(h!==null)var $=!0;else{var W=n(u);W!==null&&R(N,W.startTime-D),$=!1}return $}finally{h=null,f=F,p=!1}}var k=!1,j=null,_=-1,C=5,A=-1;function O(){return!(e.unstable_now()-A<C)}function M(){if(j!==null){var L=e.unstable_now();A=L;var D=!0;try{D=j(!0,L)}finally{D?P():(k=!1,j=null)}}else k=!1}var P;if(typeof b=="function")P=function(){b(M)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,I=E.port2;E.port1.onmessage=M,P=function(){I.postMessage(null)}}else P=function(){y(M,0)};function T(L){j=L,k||(k=!0,P())}function R(L,D){_=y(function(){L(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,T(S))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(L){switch(f){case 1:case 2:case 3:var D=3;break;default:D=f}var F=f;f=D;try{return L()}finally{f=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,D){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var F=f;f=L;try{return D()}finally{f=F}},e.unstable_scheduleCallback=function(L,D,F){var z=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?z+F:z):F=z,L){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=F+B,L={id:d++,callback:D,priorityLevel:L,startTime:F,expirationTime:B,sortIndex:-1},F>z?(L.sortIndex=F,t(u,L),n(c)===null&&L===n(u)&&(g?(x(_),_=-1):g=!0,R(N,F-z))):(L.sortIndex=B,t(c,L),m||p||(m=!0,T(S))),L},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(L){var D=f;return function(){var F=f;f=D;try{return L.apply(this,arguments)}finally{f=F}}}})(_9);j9.exports=_9;var rde=j9.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sde=v,pi=rde;function xe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var E9=new Set,$y={};function oh(e,t){hp(e,t),hp(e+"Capture",t)}function hp(e,t){for($y[e]=t,e=0;e<t.length;e++)E9.add(t[e])}var bl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),iA=Object.prototype.hasOwnProperty,ide=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,o3={},a3={};function ode(e){return iA.call(a3,e)?!0:iA.call(o3,e)?!1:ide.test(e)?a3[e]=!0:(o3[e]=!0,!1)}function ade(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function lde(e,t,n,r){if(t===null||typeof t>"u"||ade(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Os(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Gr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Gr[e]=new Os(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Gr[t]=new Os(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Gr[e]=new Os(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Gr[e]=new Os(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Gr[e]=new Os(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Gr[e]=new Os(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Gr[e]=new Os(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Gr[e]=new Os(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Gr[e]=new Os(e,5,!1,e.toLowerCase(),null,!1,!1)});var $P=/[\-:]([a-z])/g;function BP(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace($P,BP);Gr[t]=new Os(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace($P,BP);Gr[t]=new Os(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace($P,BP);Gr[t]=new Os(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Gr[e]=new Os(e,1,!1,e.toLowerCase(),null,!1,!1)});Gr.xlinkHref=new Os("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Gr[e]=new Os(e,1,!1,e.toLowerCase(),null,!0,!0)});function FP(e,t,n,r){var s=Gr.hasOwnProperty(t)?Gr[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(lde(t,n,s,r)&&(n=null),r||s===null?ode(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ml=sde.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z0=Symbol.for("react.element"),uf=Symbol.for("react.portal"),df=Symbol.for("react.fragment"),zP=Symbol.for("react.strict_mode"),oA=Symbol.for("react.profiler"),C9=Symbol.for("react.provider"),T9=Symbol.for("react.context"),UP=Symbol.for("react.forward_ref"),aA=Symbol.for("react.suspense"),lA=Symbol.for("react.suspense_list"),HP=Symbol.for("react.memo"),Jl=Symbol.for("react.lazy"),A9=Symbol.for("react.offscreen"),l3=Symbol.iterator;function qm(e){return e===null||typeof e!="object"?null:(e=l3&&e[l3]||e["@@iterator"],typeof e=="function"?e:null)}var Rn=Object.assign,gE;function Mg(e){if(gE===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);gE=t&&t[1]||""}return`
`+gE+e}var yE=!1;function xE(e,t){if(!e||yE)return"";yE=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{yE=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Mg(e):""}function cde(e){switch(e.tag){case 5:return Mg(e.type);case 16:return Mg("Lazy");case 13:return Mg("Suspense");case 19:return Mg("SuspenseList");case 0:case 2:case 15:return e=xE(e.type,!1),e;case 11:return e=xE(e.type.render,!1),e;case 1:return e=xE(e.type,!0),e;default:return""}}function cA(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case df:return"Fragment";case uf:return"Portal";case oA:return"Profiler";case zP:return"StrictMode";case aA:return"Suspense";case lA:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case T9:return(e.displayName||"Context")+".Consumer";case C9:return(e._context.displayName||"Context")+".Provider";case UP:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case HP:return t=e.displayName||null,t!==null?t:cA(e.type)||"Memo";case Jl:t=e._payload,e=e._init;try{return cA(e(t))}catch{}}return null}function ude(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cA(t);case 8:return t===zP?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Qc(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function O9(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function dde(e){var t=O9(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function U0(e){e._valueTracker||(e._valueTracker=dde(e))}function M9(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=O9(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function b1(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function uA(e,t){var n=t.checked;return Rn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function c3(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Qc(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function P9(e,t){t=t.checked,t!=null&&FP(e,"checked",t,!1)}function dA(e,t){P9(e,t);var n=Qc(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?hA(e,t.type,n):t.hasOwnProperty("defaultValue")&&hA(e,t.type,Qc(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function u3(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function hA(e,t,n){(t!=="number"||b1(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Pg=Array.isArray;function Tf(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Qc(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function fA(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(xe(91));return Rn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function d3(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(xe(92));if(Pg(n)){if(1<n.length)throw Error(xe(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Qc(n)}}function D9(e,t){var n=Qc(t.value),r=Qc(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function h3(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function R9(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pA(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?R9(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var H0,I9=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(H0=H0||document.createElement("div"),H0.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=H0.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function By(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ry={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hde=["Webkit","ms","Moz","O"];Object.keys(ry).forEach(function(e){hde.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ry[t]=ry[e]})});function L9(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ry.hasOwnProperty(e)&&ry[e]?(""+t).trim():t+"px"}function $9(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=L9(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var fde=Rn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mA(e,t){if(t){if(fde[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(xe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(xe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(xe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(xe(62))}}function gA(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yA=null;function WP(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xA=null,Af=null,Of=null;function f3(e){if(e=Iv(e)){if(typeof xA!="function")throw Error(xe(280));var t=e.stateNode;t&&(t=Ak(t),xA(e.stateNode,e.type,t))}}function B9(e){Af?Of?Of.push(e):Of=[e]:Af=e}function F9(){if(Af){var e=Af,t=Of;if(Of=Af=null,f3(e),t)for(e=0;e<t.length;e++)f3(t[e])}}function z9(e,t){return e(t)}function U9(){}var vE=!1;function H9(e,t,n){if(vE)return e(t,n);vE=!0;try{return z9(e,t,n)}finally{vE=!1,(Af!==null||Of!==null)&&(U9(),F9())}}function Fy(e,t){var n=e.stateNode;if(n===null)return null;var r=Ak(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(xe(231,t,typeof n));return n}var vA=!1;if(bl)try{var Km={};Object.defineProperty(Km,"passive",{get:function(){vA=!0}}),window.addEventListener("test",Km,Km),window.removeEventListener("test",Km,Km)}catch{vA=!1}function pde(e,t,n,r,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var sy=!1,w1=null,S1=!1,bA=null,mde={onError:function(e){sy=!0,w1=e}};function gde(e,t,n,r,s,i,o,l,c){sy=!1,w1=null,pde.apply(mde,arguments)}function yde(e,t,n,r,s,i,o,l,c){if(gde.apply(this,arguments),sy){if(sy){var u=w1;sy=!1,w1=null}else throw Error(xe(198));S1||(S1=!0,bA=u)}}function ah(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function W9(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p3(e){if(ah(e)!==e)throw Error(xe(188))}function xde(e){var t=e.alternate;if(!t){if(t=ah(e),t===null)throw Error(xe(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return p3(s),e;if(i===r)return p3(s),t;i=i.sibling}throw Error(xe(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(xe(189))}}if(n.alternate!==r)throw Error(xe(190))}if(n.tag!==3)throw Error(xe(188));return n.stateNode.current===n?e:t}function V9(e){return e=xde(e),e!==null?G9(e):null}function G9(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=G9(e);if(t!==null)return t;e=e.sibling}return null}var q9=pi.unstable_scheduleCallback,m3=pi.unstable_cancelCallback,vde=pi.unstable_shouldYield,bde=pi.unstable_requestPaint,er=pi.unstable_now,wde=pi.unstable_getCurrentPriorityLevel,VP=pi.unstable_ImmediatePriority,K9=pi.unstable_UserBlockingPriority,N1=pi.unstable_NormalPriority,Sde=pi.unstable_LowPriority,Y9=pi.unstable_IdlePriority,_k=null,ma=null;function Nde(e){if(ma&&typeof ma.onCommitFiberRoot=="function")try{ma.onCommitFiberRoot(_k,e,void 0,(e.current.flags&128)===128)}catch{}}var Po=Math.clz32?Math.clz32:_de,kde=Math.log,jde=Math.LN2;function _de(e){return e>>>=0,e===0?32:31-(kde(e)/jde|0)|0}var W0=64,V0=4194304;function Dg(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function k1(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Dg(l):(i&=o,i!==0&&(r=Dg(i)))}else o=n&~s,o!==0?r=Dg(o):i!==0&&(r=Dg(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Po(t),s=1<<n,r|=e[n],t&=~s;return r}function Ede(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cde(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Po(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=Ede(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function wA(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function X9(){var e=W0;return W0<<=1,!(W0&4194240)&&(W0=64),e}function bE(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Dv(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Po(t),e[t]=n}function Tde(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Po(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function GP(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Po(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Vt=0;function J9(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Q9,qP,Z9,eG,tG,SA=!1,G0=[],Mc=null,Pc=null,Dc=null,zy=new Map,Uy=new Map,sc=[],Ade="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function g3(e,t){switch(e){case"focusin":case"focusout":Mc=null;break;case"dragenter":case"dragleave":Pc=null;break;case"mouseover":case"mouseout":Dc=null;break;case"pointerover":case"pointerout":zy.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uy.delete(t.pointerId)}}function Ym(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Iv(t),t!==null&&qP(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Ode(e,t,n,r,s){switch(t){case"focusin":return Mc=Ym(Mc,e,t,n,r,s),!0;case"dragenter":return Pc=Ym(Pc,e,t,n,r,s),!0;case"mouseover":return Dc=Ym(Dc,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return zy.set(i,Ym(zy.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Uy.set(i,Ym(Uy.get(i)||null,e,t,n,r,s)),!0}return!1}function nG(e){var t=Yu(e.target);if(t!==null){var n=ah(t);if(n!==null){if(t=n.tag,t===13){if(t=W9(n),t!==null){e.blockedOn=t,tG(e.priority,function(){Z9(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Lw(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=NA(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);yA=r,n.target.dispatchEvent(r),yA=null}else return t=Iv(n),t!==null&&qP(t),e.blockedOn=n,!1;t.shift()}return!0}function y3(e,t,n){Lw(e)&&n.delete(t)}function Mde(){SA=!1,Mc!==null&&Lw(Mc)&&(Mc=null),Pc!==null&&Lw(Pc)&&(Pc=null),Dc!==null&&Lw(Dc)&&(Dc=null),zy.forEach(y3),Uy.forEach(y3)}function Xm(e,t){e.blockedOn===t&&(e.blockedOn=null,SA||(SA=!0,pi.unstable_scheduleCallback(pi.unstable_NormalPriority,Mde)))}function Hy(e){function t(s){return Xm(s,e)}if(0<G0.length){Xm(G0[0],e);for(var n=1;n<G0.length;n++){var r=G0[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Mc!==null&&Xm(Mc,e),Pc!==null&&Xm(Pc,e),Dc!==null&&Xm(Dc,e),zy.forEach(t),Uy.forEach(t),n=0;n<sc.length;n++)r=sc[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<sc.length&&(n=sc[0],n.blockedOn===null);)nG(n),n.blockedOn===null&&sc.shift()}var Mf=Ml.ReactCurrentBatchConfig,j1=!0;function Pde(e,t,n,r){var s=Vt,i=Mf.transition;Mf.transition=null;try{Vt=1,KP(e,t,n,r)}finally{Vt=s,Mf.transition=i}}function Dde(e,t,n,r){var s=Vt,i=Mf.transition;Mf.transition=null;try{Vt=4,KP(e,t,n,r)}finally{Vt=s,Mf.transition=i}}function KP(e,t,n,r){if(j1){var s=NA(e,t,n,r);if(s===null)AE(e,t,r,_1,n),g3(e,r);else if(Ode(s,e,t,n,r))r.stopPropagation();else if(g3(e,r),t&4&&-1<Ade.indexOf(e)){for(;s!==null;){var i=Iv(s);if(i!==null&&Q9(i),i=NA(e,t,n,r),i===null&&AE(e,t,r,_1,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else AE(e,t,r,null,n)}}var _1=null;function NA(e,t,n,r){if(_1=null,e=WP(r),e=Yu(e),e!==null)if(t=ah(e),t===null)e=null;else if(n=t.tag,n===13){if(e=W9(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return _1=e,null}function rG(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wde()){case VP:return 1;case K9:return 4;case N1:case Sde:return 16;case Y9:return 536870912;default:return 16}default:return 16}}var vc=null,YP=null,$w=null;function sG(){if($w)return $w;var e,t=YP,n=t.length,r,s="value"in vc?vc.value:vc.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return $w=s.slice(e,1<r?1-r:void 0)}function Bw(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function q0(){return!0}function x3(){return!1}function wi(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?q0:x3,this.isPropagationStopped=x3,this}return Rn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=q0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=q0)},persist:function(){},isPersistent:q0}),t}var fm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},XP=wi(fm),Rv=Rn({},fm,{view:0,detail:0}),Rde=wi(Rv),wE,SE,Jm,Ek=Rn({},Rv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:JP,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jm&&(Jm&&e.type==="mousemove"?(wE=e.screenX-Jm.screenX,SE=e.screenY-Jm.screenY):SE=wE=0,Jm=e),wE)},movementY:function(e){return"movementY"in e?e.movementY:SE}}),v3=wi(Ek),Ide=Rn({},Ek,{dataTransfer:0}),Lde=wi(Ide),$de=Rn({},Rv,{relatedTarget:0}),NE=wi($de),Bde=Rn({},fm,{animationName:0,elapsedTime:0,pseudoElement:0}),Fde=wi(Bde),zde=Rn({},fm,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ude=wi(zde),Hde=Rn({},fm,{data:0}),b3=wi(Hde),Wde={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vde={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gde={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qde(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Gde[e])?!!t[e]:!1}function JP(){return qde}var Kde=Rn({},Rv,{key:function(e){if(e.key){var t=Wde[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Bw(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Vde[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:JP,charCode:function(e){return e.type==="keypress"?Bw(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bw(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Yde=wi(Kde),Xde=Rn({},Ek,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w3=wi(Xde),Jde=Rn({},Rv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:JP}),Qde=wi(Jde),Zde=Rn({},fm,{propertyName:0,elapsedTime:0,pseudoElement:0}),ehe=wi(Zde),the=Rn({},Ek,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),nhe=wi(the),rhe=[9,13,27,32],QP=bl&&"CompositionEvent"in window,iy=null;bl&&"documentMode"in document&&(iy=document.documentMode);var she=bl&&"TextEvent"in window&&!iy,iG=bl&&(!QP||iy&&8<iy&&11>=iy),S3=" ",N3=!1;function oG(e,t){switch(e){case"keyup":return rhe.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aG(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var hf=!1;function ihe(e,t){switch(e){case"compositionend":return aG(t);case"keypress":return t.which!==32?null:(N3=!0,S3);case"textInput":return e=t.data,e===S3&&N3?null:e;default:return null}}function ohe(e,t){if(hf)return e==="compositionend"||!QP&&oG(e,t)?(e=sG(),$w=YP=vc=null,hf=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return iG&&t.locale!=="ko"?null:t.data;default:return null}}var ahe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function k3(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ahe[e.type]:t==="textarea"}function lG(e,t,n,r){B9(r),t=E1(t,"onChange"),0<t.length&&(n=new XP("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var oy=null,Wy=null;function lhe(e){vG(e,0)}function Ck(e){var t=mf(e);if(M9(t))return e}function che(e,t){if(e==="change")return t}var cG=!1;if(bl){var kE;if(bl){var jE="oninput"in document;if(!jE){var j3=document.createElement("div");j3.setAttribute("oninput","return;"),jE=typeof j3.oninput=="function"}kE=jE}else kE=!1;cG=kE&&(!document.documentMode||9<document.documentMode)}function _3(){oy&&(oy.detachEvent("onpropertychange",uG),Wy=oy=null)}function uG(e){if(e.propertyName==="value"&&Ck(Wy)){var t=[];lG(t,Wy,e,WP(e)),H9(lhe,t)}}function uhe(e,t,n){e==="focusin"?(_3(),oy=t,Wy=n,oy.attachEvent("onpropertychange",uG)):e==="focusout"&&_3()}function dhe(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ck(Wy)}function hhe(e,t){if(e==="click")return Ck(t)}function fhe(e,t){if(e==="input"||e==="change")return Ck(t)}function phe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Fo=typeof Object.is=="function"?Object.is:phe;function Vy(e,t){if(Fo(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!iA.call(t,s)||!Fo(e[s],t[s]))return!1}return!0}function E3(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function C3(e,t){var n=E3(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=E3(n)}}function dG(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?dG(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hG(){for(var e=window,t=b1();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=b1(e.document)}return t}function ZP(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function mhe(e){var t=hG(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dG(n.ownerDocument.documentElement,n)){if(r!==null&&ZP(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=C3(n,i);var o=C3(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ghe=bl&&"documentMode"in document&&11>=document.documentMode,ff=null,kA=null,ay=null,jA=!1;function T3(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jA||ff==null||ff!==b1(r)||(r=ff,"selectionStart"in r&&ZP(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ay&&Vy(ay,r)||(ay=r,r=E1(kA,"onSelect"),0<r.length&&(t=new XP("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ff)))}function K0(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var pf={animationend:K0("Animation","AnimationEnd"),animationiteration:K0("Animation","AnimationIteration"),animationstart:K0("Animation","AnimationStart"),transitionend:K0("Transition","TransitionEnd")},_E={},fG={};bl&&(fG=document.createElement("div").style,"AnimationEvent"in window||(delete pf.animationend.animation,delete pf.animationiteration.animation,delete pf.animationstart.animation),"TransitionEvent"in window||delete pf.transitionend.transition);function Tk(e){if(_E[e])return _E[e];if(!pf[e])return e;var t=pf[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in fG)return _E[e]=t[n];return e}var pG=Tk("animationend"),mG=Tk("animationiteration"),gG=Tk("animationstart"),yG=Tk("transitionend"),xG=new Map,A3="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function au(e,t){xG.set(e,t),oh(t,[e])}for(var EE=0;EE<A3.length;EE++){var CE=A3[EE],yhe=CE.toLowerCase(),xhe=CE[0].toUpperCase()+CE.slice(1);au(yhe,"on"+xhe)}au(pG,"onAnimationEnd");au(mG,"onAnimationIteration");au(gG,"onAnimationStart");au("dblclick","onDoubleClick");au("focusin","onFocus");au("focusout","onBlur");au(yG,"onTransitionEnd");hp("onMouseEnter",["mouseout","mouseover"]);hp("onMouseLeave",["mouseout","mouseover"]);hp("onPointerEnter",["pointerout","pointerover"]);hp("onPointerLeave",["pointerout","pointerover"]);oh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));oh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));oh("onBeforeInput",["compositionend","keypress","textInput","paste"]);oh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));oh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));oh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vhe=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rg));function O3(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,yde(r,t,void 0,e),e.currentTarget=null}function vG(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;O3(s,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;O3(s,l,u),i=c}}}if(S1)throw e=bA,S1=!1,bA=null,e}function mn(e,t){var n=t[AA];n===void 0&&(n=t[AA]=new Set);var r=e+"__bubble";n.has(r)||(bG(t,e,2,!1),n.add(r))}function TE(e,t,n){var r=0;t&&(r|=4),bG(n,e,r,t)}var Y0="_reactListening"+Math.random().toString(36).slice(2);function Gy(e){if(!e[Y0]){e[Y0]=!0,E9.forEach(function(n){n!=="selectionchange"&&(vhe.has(n)||TE(n,!1,e),TE(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Y0]||(t[Y0]=!0,TE("selectionchange",!1,t))}}function bG(e,t,n,r){switch(rG(t)){case 1:var s=Pde;break;case 4:s=Dde;break;default:s=KP}n=s.bind(null,t,n,e),s=void 0,!vA||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function AE(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Yu(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}H9(function(){var u=i,d=WP(n),h=[];e:{var f=xG.get(e);if(f!==void 0){var p=XP,m=e;switch(e){case"keypress":if(Bw(n)===0)break e;case"keydown":case"keyup":p=Yde;break;case"focusin":m="focus",p=NE;break;case"focusout":m="blur",p=NE;break;case"beforeblur":case"afterblur":p=NE;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=v3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Lde;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Qde;break;case pG:case mG:case gG:p=Fde;break;case yG:p=ehe;break;case"scroll":p=Rde;break;case"wheel":p=nhe;break;case"copy":case"cut":case"paste":p=Ude;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=w3}var g=(t&4)!==0,y=!g&&e==="scroll",x=g?f!==null?f+"Capture":null:f;g=[];for(var b=u,w;b!==null;){w=b;var N=w.stateNode;if(w.tag===5&&N!==null&&(w=N,x!==null&&(N=Fy(b,x),N!=null&&g.push(qy(b,N,w)))),y)break;b=b.return}0<g.length&&(f=new p(f,m,null,n,d),h.push({event:f,listeners:g}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&n!==yA&&(m=n.relatedTarget||n.fromElement)&&(Yu(m)||m[wl]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=u,m=m?Yu(m):null,m!==null&&(y=ah(m),m!==y||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(g=v3,N="onMouseLeave",x="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(g=w3,N="onPointerLeave",x="onPointerEnter",b="pointer"),y=p==null?f:mf(p),w=m==null?f:mf(m),f=new g(N,b+"leave",p,n,d),f.target=y,f.relatedTarget=w,N=null,Yu(d)===u&&(g=new g(x,b+"enter",m,n,d),g.target=w,g.relatedTarget=y,N=g),y=N,p&&m)t:{for(g=p,x=m,b=0,w=g;w;w=_h(w))b++;for(w=0,N=x;N;N=_h(N))w++;for(;0<b-w;)g=_h(g),b--;for(;0<w-b;)x=_h(x),w--;for(;b--;){if(g===x||x!==null&&g===x.alternate)break t;g=_h(g),x=_h(x)}g=null}else g=null;p!==null&&M3(h,f,p,g,!1),m!==null&&y!==null&&M3(h,y,m,g,!0)}}e:{if(f=u?mf(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var S=che;else if(k3(f))if(cG)S=fhe;else{S=dhe;var k=uhe}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=hhe);if(S&&(S=S(e,u))){lG(h,S,n,d);break e}k&&k(e,f,u),e==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&hA(f,"number",f.value)}switch(k=u?mf(u):window,e){case"focusin":(k3(k)||k.contentEditable==="true")&&(ff=k,kA=u,ay=null);break;case"focusout":ay=kA=ff=null;break;case"mousedown":jA=!0;break;case"contextmenu":case"mouseup":case"dragend":jA=!1,T3(h,n,d);break;case"selectionchange":if(ghe)break;case"keydown":case"keyup":T3(h,n,d)}var j;if(QP)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else hf?oG(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(iG&&n.locale!=="ko"&&(hf||_!=="onCompositionStart"?_==="onCompositionEnd"&&hf&&(j=sG()):(vc=d,YP="value"in vc?vc.value:vc.textContent,hf=!0)),k=E1(u,_),0<k.length&&(_=new b3(_,e,null,n,d),h.push({event:_,listeners:k}),j?_.data=j:(j=aG(n),j!==null&&(_.data=j)))),(j=she?ihe(e,n):ohe(e,n))&&(u=E1(u,"onBeforeInput"),0<u.length&&(d=new b3("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=j))}vG(h,t)})}function qy(e,t,n){return{instance:e,listener:t,currentTarget:n}}function E1(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Fy(e,n),i!=null&&r.unshift(qy(e,i,s)),i=Fy(e,t),i!=null&&r.push(qy(e,i,s))),e=e.return}return r}function _h(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function M3(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Fy(n,i),c!=null&&o.unshift(qy(n,c,l))):s||(c=Fy(n,i),c!=null&&o.push(qy(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var bhe=/\r\n?/g,whe=/\u0000|\uFFFD/g;function P3(e){return(typeof e=="string"?e:""+e).replace(bhe,`
`).replace(whe,"")}function X0(e,t,n){if(t=P3(t),P3(e)!==t&&n)throw Error(xe(425))}function C1(){}var _A=null,EA=null;function CA(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var TA=typeof setTimeout=="function"?setTimeout:void 0,She=typeof clearTimeout=="function"?clearTimeout:void 0,D3=typeof Promise=="function"?Promise:void 0,Nhe=typeof queueMicrotask=="function"?queueMicrotask:typeof D3<"u"?function(e){return D3.resolve(null).then(e).catch(khe)}:TA;function khe(e){setTimeout(function(){throw e})}function OE(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Hy(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Hy(t)}function Rc(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function R3(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var pm=Math.random().toString(36).slice(2),ha="__reactFiber$"+pm,Ky="__reactProps$"+pm,wl="__reactContainer$"+pm,AA="__reactEvents$"+pm,jhe="__reactListeners$"+pm,_he="__reactHandles$"+pm;function Yu(e){var t=e[ha];if(t)return t;for(var n=e.parentNode;n;){if(t=n[wl]||n[ha]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=R3(e);e!==null;){if(n=e[ha])return n;e=R3(e)}return t}e=n,n=e.parentNode}return null}function Iv(e){return e=e[ha]||e[wl],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function mf(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(xe(33))}function Ak(e){return e[Ky]||null}var OA=[],gf=-1;function lu(e){return{current:e}}function wn(e){0>gf||(e.current=OA[gf],OA[gf]=null,gf--)}function dn(e,t){gf++,OA[gf]=e.current,e.current=t}var Zc={},ds=lu(Zc),Ws=lu(!1),Md=Zc;function fp(e,t){var n=e.type.contextTypes;if(!n)return Zc;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Vs(e){return e=e.childContextTypes,e!=null}function T1(){wn(Ws),wn(ds)}function I3(e,t,n){if(ds.current!==Zc)throw Error(xe(168));dn(ds,t),dn(Ws,n)}function wG(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(xe(108,ude(e)||"Unknown",s));return Rn({},n,r)}function A1(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Zc,Md=ds.current,dn(ds,e),dn(Ws,Ws.current),!0}function L3(e,t,n){var r=e.stateNode;if(!r)throw Error(xe(169));n?(e=wG(e,t,Md),r.__reactInternalMemoizedMergedChildContext=e,wn(Ws),wn(ds),dn(ds,e)):wn(Ws),dn(Ws,n)}var Za=null,Ok=!1,ME=!1;function SG(e){Za===null?Za=[e]:Za.push(e)}function Ehe(e){Ok=!0,SG(e)}function cu(){if(!ME&&Za!==null){ME=!0;var e=0,t=Vt;try{var n=Za;for(Vt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Za=null,Ok=!1}catch(s){throw Za!==null&&(Za=Za.slice(e+1)),q9(VP,cu),s}finally{Vt=t,ME=!1}}return null}var yf=[],xf=0,O1=null,M1=0,Mi=[],Pi=0,Pd=null,rl=1,sl="";function Du(e,t){yf[xf++]=M1,yf[xf++]=O1,O1=e,M1=t}function NG(e,t,n){Mi[Pi++]=rl,Mi[Pi++]=sl,Mi[Pi++]=Pd,Pd=e;var r=rl;e=sl;var s=32-Po(r)-1;r&=~(1<<s),n+=1;var i=32-Po(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,rl=1<<32-Po(t)+s|n<<s|r,sl=i+e}else rl=1<<i|n<<s|r,sl=e}function eD(e){e.return!==null&&(Du(e,1),NG(e,1,0))}function tD(e){for(;e===O1;)O1=yf[--xf],yf[xf]=null,M1=yf[--xf],yf[xf]=null;for(;e===Pd;)Pd=Mi[--Pi],Mi[Pi]=null,sl=Mi[--Pi],Mi[Pi]=null,rl=Mi[--Pi],Mi[Pi]=null}var di=null,ci=null,jn=!1,No=null;function kG(e,t){var n=Li(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function $3(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,di=e,ci=Rc(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,di=e,ci=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Pd!==null?{id:rl,overflow:sl}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Li(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,di=e,ci=null,!0):!1;default:return!1}}function MA(e){return(e.mode&1)!==0&&(e.flags&128)===0}function PA(e){if(jn){var t=ci;if(t){var n=t;if(!$3(e,t)){if(MA(e))throw Error(xe(418));t=Rc(n.nextSibling);var r=di;t&&$3(e,t)?kG(r,n):(e.flags=e.flags&-4097|2,jn=!1,di=e)}}else{if(MA(e))throw Error(xe(418));e.flags=e.flags&-4097|2,jn=!1,di=e}}}function B3(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;di=e}function J0(e){if(e!==di)return!1;if(!jn)return B3(e),jn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!CA(e.type,e.memoizedProps)),t&&(t=ci)){if(MA(e))throw jG(),Error(xe(418));for(;t;)kG(e,t),t=Rc(t.nextSibling)}if(B3(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(xe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ci=Rc(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ci=null}}else ci=di?Rc(e.stateNode.nextSibling):null;return!0}function jG(){for(var e=ci;e;)e=Rc(e.nextSibling)}function pp(){ci=di=null,jn=!1}function nD(e){No===null?No=[e]:No.push(e)}var Che=Ml.ReactCurrentBatchConfig;function Qm(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(xe(309));var r=n.stateNode}if(!r)throw Error(xe(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(xe(284));if(!n._owner)throw Error(xe(290,e))}return e}function Q0(e,t){throw e=Object.prototype.toString.call(t),Error(xe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function F3(e){var t=e._init;return t(e._payload)}function _G(e){function t(x,b){if(e){var w=x.deletions;w===null?(x.deletions=[b],x.flags|=16):w.push(b)}}function n(x,b){if(!e)return null;for(;b!==null;)t(x,b),b=b.sibling;return null}function r(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function s(x,b){return x=Bc(x,b),x.index=0,x.sibling=null,x}function i(x,b,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<b?(x.flags|=2,b):w):(x.flags|=2,b)):(x.flags|=1048576,b)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,b,w,N){return b===null||b.tag!==6?(b=BE(w,x.mode,N),b.return=x,b):(b=s(b,w),b.return=x,b)}function c(x,b,w,N){var S=w.type;return S===df?d(x,b,w.props.children,N,w.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Jl&&F3(S)===b.type)?(N=s(b,w.props),N.ref=Qm(x,b,w),N.return=x,N):(N=Gw(w.type,w.key,w.props,null,x.mode,N),N.ref=Qm(x,b,w),N.return=x,N)}function u(x,b,w,N){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=FE(w,x.mode,N),b.return=x,b):(b=s(b,w.children||[]),b.return=x,b)}function d(x,b,w,N,S){return b===null||b.tag!==7?(b=md(w,x.mode,N,S),b.return=x,b):(b=s(b,w),b.return=x,b)}function h(x,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=BE(""+b,x.mode,w),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case z0:return w=Gw(b.type,b.key,b.props,null,x.mode,w),w.ref=Qm(x,null,b),w.return=x,w;case uf:return b=FE(b,x.mode,w),b.return=x,b;case Jl:var N=b._init;return h(x,N(b._payload),w)}if(Pg(b)||qm(b))return b=md(b,x.mode,w,null),b.return=x,b;Q0(x,b)}return null}function f(x,b,w,N){var S=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:l(x,b,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case z0:return w.key===S?c(x,b,w,N):null;case uf:return w.key===S?u(x,b,w,N):null;case Jl:return S=w._init,f(x,b,S(w._payload),N)}if(Pg(w)||qm(w))return S!==null?null:d(x,b,w,N,null);Q0(x,w)}return null}function p(x,b,w,N,S){if(typeof N=="string"&&N!==""||typeof N=="number")return x=x.get(w)||null,l(b,x,""+N,S);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case z0:return x=x.get(N.key===null?w:N.key)||null,c(b,x,N,S);case uf:return x=x.get(N.key===null?w:N.key)||null,u(b,x,N,S);case Jl:var k=N._init;return p(x,b,w,k(N._payload),S)}if(Pg(N)||qm(N))return x=x.get(w)||null,d(b,x,N,S,null);Q0(b,N)}return null}function m(x,b,w,N){for(var S=null,k=null,j=b,_=b=0,C=null;j!==null&&_<w.length;_++){j.index>_?(C=j,j=null):C=j.sibling;var A=f(x,j,w[_],N);if(A===null){j===null&&(j=C);break}e&&j&&A.alternate===null&&t(x,j),b=i(A,b,_),k===null?S=A:k.sibling=A,k=A,j=C}if(_===w.length)return n(x,j),jn&&Du(x,_),S;if(j===null){for(;_<w.length;_++)j=h(x,w[_],N),j!==null&&(b=i(j,b,_),k===null?S=j:k.sibling=j,k=j);return jn&&Du(x,_),S}for(j=r(x,j);_<w.length;_++)C=p(j,x,_,w[_],N),C!==null&&(e&&C.alternate!==null&&j.delete(C.key===null?_:C.key),b=i(C,b,_),k===null?S=C:k.sibling=C,k=C);return e&&j.forEach(function(O){return t(x,O)}),jn&&Du(x,_),S}function g(x,b,w,N){var S=qm(w);if(typeof S!="function")throw Error(xe(150));if(w=S.call(w),w==null)throw Error(xe(151));for(var k=S=null,j=b,_=b=0,C=null,A=w.next();j!==null&&!A.done;_++,A=w.next()){j.index>_?(C=j,j=null):C=j.sibling;var O=f(x,j,A.value,N);if(O===null){j===null&&(j=C);break}e&&j&&O.alternate===null&&t(x,j),b=i(O,b,_),k===null?S=O:k.sibling=O,k=O,j=C}if(A.done)return n(x,j),jn&&Du(x,_),S;if(j===null){for(;!A.done;_++,A=w.next())A=h(x,A.value,N),A!==null&&(b=i(A,b,_),k===null?S=A:k.sibling=A,k=A);return jn&&Du(x,_),S}for(j=r(x,j);!A.done;_++,A=w.next())A=p(j,x,_,A.value,N),A!==null&&(e&&A.alternate!==null&&j.delete(A.key===null?_:A.key),b=i(A,b,_),k===null?S=A:k.sibling=A,k=A);return e&&j.forEach(function(M){return t(x,M)}),jn&&Du(x,_),S}function y(x,b,w,N){if(typeof w=="object"&&w!==null&&w.type===df&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case z0:e:{for(var S=w.key,k=b;k!==null;){if(k.key===S){if(S=w.type,S===df){if(k.tag===7){n(x,k.sibling),b=s(k,w.props.children),b.return=x,x=b;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Jl&&F3(S)===k.type){n(x,k.sibling),b=s(k,w.props),b.ref=Qm(x,k,w),b.return=x,x=b;break e}n(x,k);break}else t(x,k);k=k.sibling}w.type===df?(b=md(w.props.children,x.mode,N,w.key),b.return=x,x=b):(N=Gw(w.type,w.key,w.props,null,x.mode,N),N.ref=Qm(x,b,w),N.return=x,x=N)}return o(x);case uf:e:{for(k=w.key;b!==null;){if(b.key===k)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(x,b.sibling),b=s(b,w.children||[]),b.return=x,x=b;break e}else{n(x,b);break}else t(x,b);b=b.sibling}b=FE(w,x.mode,N),b.return=x,x=b}return o(x);case Jl:return k=w._init,y(x,b,k(w._payload),N)}if(Pg(w))return m(x,b,w,N);if(qm(w))return g(x,b,w,N);Q0(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(x,b.sibling),b=s(b,w),b.return=x,x=b):(n(x,b),b=BE(w,x.mode,N),b.return=x,x=b),o(x)):n(x,b)}return y}var mp=_G(!0),EG=_G(!1),P1=lu(null),D1=null,vf=null,rD=null;function sD(){rD=vf=D1=null}function iD(e){var t=P1.current;wn(P1),e._currentValue=t}function DA(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Pf(e,t){D1=e,rD=vf=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(zs=!0),e.firstContext=null)}function Yi(e){var t=e._currentValue;if(rD!==e)if(e={context:e,memoizedValue:t,next:null},vf===null){if(D1===null)throw Error(xe(308));vf=e,D1.dependencies={lanes:0,firstContext:e}}else vf=vf.next=e;return t}var Xu=null;function oD(e){Xu===null?Xu=[e]:Xu.push(e)}function CG(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,oD(t)):(n.next=s.next,s.next=n),t.interleaved=n,Sl(e,r)}function Sl(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ql=!1;function aD(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function TG(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function hl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ic(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,At&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Sl(e,n)}return s=r.interleaved,s===null?(t.next=t,oD(r)):(t.next=s.next,s.next=t),r.interleaved=t,Sl(e,n)}function Fw(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,GP(e,n)}}function z3(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function R1(e,t,n,r){var s=e.updateQueue;Ql=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,d=u=c=null,l=i;do{var f=l.lane,p=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=e,g=l;switch(f=t,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){h=m.call(p,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,f=typeof m=="function"?m.call(p,h,f):m,f==null)break e;h=Rn({},h,f);break e;case 2:Ql=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Rd|=o,e.lanes=o,e.memoizedState=h}}function U3(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(xe(191,s));s.call(r)}}}var Lv={},ga=lu(Lv),Yy=lu(Lv),Xy=lu(Lv);function Ju(e){if(e===Lv)throw Error(xe(174));return e}function lD(e,t){switch(dn(Xy,t),dn(Yy,e),dn(ga,Lv),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pA(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=pA(t,e)}wn(ga),dn(ga,t)}function gp(){wn(ga),wn(Yy),wn(Xy)}function AG(e){Ju(Xy.current);var t=Ju(ga.current),n=pA(t,e.type);t!==n&&(dn(Yy,e),dn(ga,n))}function cD(e){Yy.current===e&&(wn(ga),wn(Yy))}var Mn=lu(0);function I1(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var PE=[];function uD(){for(var e=0;e<PE.length;e++)PE[e]._workInProgressVersionPrimary=null;PE.length=0}var zw=Ml.ReactCurrentDispatcher,DE=Ml.ReactCurrentBatchConfig,Dd=0,Pn=null,gr=null,Cr=null,L1=!1,ly=!1,Jy=0,The=0;function Xr(){throw Error(xe(321))}function dD(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Fo(e[n],t[n]))return!1;return!0}function hD(e,t,n,r,s,i){if(Dd=i,Pn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,zw.current=e===null||e.memoizedState===null?Phe:Dhe,e=n(r,s),ly){i=0;do{if(ly=!1,Jy=0,25<=i)throw Error(xe(301));i+=1,Cr=gr=null,t.updateQueue=null,zw.current=Rhe,e=n(r,s)}while(ly)}if(zw.current=$1,t=gr!==null&&gr.next!==null,Dd=0,Cr=gr=Pn=null,L1=!1,t)throw Error(xe(300));return e}function fD(){var e=Jy!==0;return Jy=0,e}function sa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cr===null?Pn.memoizedState=Cr=e:Cr=Cr.next=e,Cr}function Xi(){if(gr===null){var e=Pn.alternate;e=e!==null?e.memoizedState:null}else e=gr.next;var t=Cr===null?Pn.memoizedState:Cr.next;if(t!==null)Cr=t,gr=e;else{if(e===null)throw Error(xe(310));gr=e,e={memoizedState:gr.memoizedState,baseState:gr.baseState,baseQueue:gr.baseQueue,queue:gr.queue,next:null},Cr===null?Pn.memoizedState=Cr=e:Cr=Cr.next=e}return Cr}function Qy(e,t){return typeof t=="function"?t(e):t}function RE(e){var t=Xi(),n=t.queue;if(n===null)throw Error(xe(311));n.lastRenderedReducer=e;var r=gr,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Dd&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,Pn.lanes|=d,Rd|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,Fo(r,t.memoizedState)||(zs=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Pn.lanes|=i,Rd|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function IE(e){var t=Xi(),n=t.queue;if(n===null)throw Error(xe(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Fo(i,t.memoizedState)||(zs=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function OG(){}function MG(e,t){var n=Pn,r=Xi(),s=t(),i=!Fo(r.memoizedState,s);if(i&&(r.memoizedState=s,zs=!0),r=r.queue,pD(RG.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Cr!==null&&Cr.memoizedState.tag&1){if(n.flags|=2048,Zy(9,DG.bind(null,n,r,s,t),void 0,null),Ar===null)throw Error(xe(349));Dd&30||PG(n,t,s)}return s}function PG(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Pn.updateQueue,t===null?(t={lastEffect:null,stores:null},Pn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function DG(e,t,n,r){t.value=n,t.getSnapshot=r,IG(t)&&LG(e)}function RG(e,t,n){return n(function(){IG(t)&&LG(e)})}function IG(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Fo(e,n)}catch{return!0}}function LG(e){var t=Sl(e,1);t!==null&&Do(t,e,1,-1)}function H3(e){var t=sa();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qy,lastRenderedState:e},t.queue=e,e=e.dispatch=Mhe.bind(null,Pn,e),[t.memoizedState,e]}function Zy(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Pn.updateQueue,t===null?(t={lastEffect:null,stores:null},Pn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function $G(){return Xi().memoizedState}function Uw(e,t,n,r){var s=sa();Pn.flags|=e,s.memoizedState=Zy(1|t,n,void 0,r===void 0?null:r)}function Mk(e,t,n,r){var s=Xi();r=r===void 0?null:r;var i=void 0;if(gr!==null){var o=gr.memoizedState;if(i=o.destroy,r!==null&&dD(r,o.deps)){s.memoizedState=Zy(t,n,i,r);return}}Pn.flags|=e,s.memoizedState=Zy(1|t,n,i,r)}function W3(e,t){return Uw(8390656,8,e,t)}function pD(e,t){return Mk(2048,8,e,t)}function BG(e,t){return Mk(4,2,e,t)}function FG(e,t){return Mk(4,4,e,t)}function zG(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function UG(e,t,n){return n=n!=null?n.concat([e]):null,Mk(4,4,zG.bind(null,t,e),n)}function mD(){}function HG(e,t){var n=Xi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&dD(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function WG(e,t){var n=Xi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&dD(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function VG(e,t,n){return Dd&21?(Fo(n,t)||(n=X9(),Pn.lanes|=n,Rd|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,zs=!0),e.memoizedState=n)}function Ahe(e,t){var n=Vt;Vt=n!==0&&4>n?n:4,e(!0);var r=DE.transition;DE.transition={};try{e(!1),t()}finally{Vt=n,DE.transition=r}}function GG(){return Xi().memoizedState}function Ohe(e,t,n){var r=$c(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},qG(e))KG(t,n);else if(n=CG(e,t,n,r),n!==null){var s=Ns();Do(n,e,r,s),YG(n,t,r)}}function Mhe(e,t,n){var r=$c(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(qG(e))KG(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Fo(l,o)){var c=t.interleaved;c===null?(s.next=s,oD(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=CG(e,t,s,r),n!==null&&(s=Ns(),Do(n,e,r,s),YG(n,t,r))}}function qG(e){var t=e.alternate;return e===Pn||t!==null&&t===Pn}function KG(e,t){ly=L1=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function YG(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,GP(e,n)}}var $1={readContext:Yi,useCallback:Xr,useContext:Xr,useEffect:Xr,useImperativeHandle:Xr,useInsertionEffect:Xr,useLayoutEffect:Xr,useMemo:Xr,useReducer:Xr,useRef:Xr,useState:Xr,useDebugValue:Xr,useDeferredValue:Xr,useTransition:Xr,useMutableSource:Xr,useSyncExternalStore:Xr,useId:Xr,unstable_isNewReconciler:!1},Phe={readContext:Yi,useCallback:function(e,t){return sa().memoizedState=[e,t===void 0?null:t],e},useContext:Yi,useEffect:W3,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Uw(4194308,4,zG.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Uw(4194308,4,e,t)},useInsertionEffect:function(e,t){return Uw(4,2,e,t)},useMemo:function(e,t){var n=sa();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=sa();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ohe.bind(null,Pn,e),[r.memoizedState,e]},useRef:function(e){var t=sa();return e={current:e},t.memoizedState=e},useState:H3,useDebugValue:mD,useDeferredValue:function(e){return sa().memoizedState=e},useTransition:function(){var e=H3(!1),t=e[0];return e=Ahe.bind(null,e[1]),sa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Pn,s=sa();if(jn){if(n===void 0)throw Error(xe(407));n=n()}else{if(n=t(),Ar===null)throw Error(xe(349));Dd&30||PG(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,W3(RG.bind(null,r,i,e),[e]),r.flags|=2048,Zy(9,DG.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=sa(),t=Ar.identifierPrefix;if(jn){var n=sl,r=rl;n=(r&~(1<<32-Po(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Jy++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=The++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Dhe={readContext:Yi,useCallback:HG,useContext:Yi,useEffect:pD,useImperativeHandle:UG,useInsertionEffect:BG,useLayoutEffect:FG,useMemo:WG,useReducer:RE,useRef:$G,useState:function(){return RE(Qy)},useDebugValue:mD,useDeferredValue:function(e){var t=Xi();return VG(t,gr.memoizedState,e)},useTransition:function(){var e=RE(Qy)[0],t=Xi().memoizedState;return[e,t]},useMutableSource:OG,useSyncExternalStore:MG,useId:GG,unstable_isNewReconciler:!1},Rhe={readContext:Yi,useCallback:HG,useContext:Yi,useEffect:pD,useImperativeHandle:UG,useInsertionEffect:BG,useLayoutEffect:FG,useMemo:WG,useReducer:IE,useRef:$G,useState:function(){return IE(Qy)},useDebugValue:mD,useDeferredValue:function(e){var t=Xi();return gr===null?t.memoizedState=e:VG(t,gr.memoizedState,e)},useTransition:function(){var e=IE(Qy)[0],t=Xi().memoizedState;return[e,t]},useMutableSource:OG,useSyncExternalStore:MG,useId:GG,unstable_isNewReconciler:!1};function ho(e,t){if(e&&e.defaultProps){t=Rn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function RA(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Rn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Pk={isMounted:function(e){return(e=e._reactInternals)?ah(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ns(),s=$c(e),i=hl(r,s);i.payload=t,n!=null&&(i.callback=n),t=Ic(e,i,s),t!==null&&(Do(t,e,s,r),Fw(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ns(),s=$c(e),i=hl(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Ic(e,i,s),t!==null&&(Do(t,e,s,r),Fw(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ns(),r=$c(e),s=hl(n,r);s.tag=2,t!=null&&(s.callback=t),t=Ic(e,s,r),t!==null&&(Do(t,e,r,n),Fw(t,e,r))}};function V3(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Vy(n,r)||!Vy(s,i):!0}function XG(e,t,n){var r=!1,s=Zc,i=t.contextType;return typeof i=="object"&&i!==null?i=Yi(i):(s=Vs(t)?Md:ds.current,r=t.contextTypes,i=(r=r!=null)?fp(e,s):Zc),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Pk,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function G3(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Pk.enqueueReplaceState(t,t.state,null)}function IA(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},aD(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Yi(i):(i=Vs(t)?Md:ds.current,s.context=fp(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(RA(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Pk.enqueueReplaceState(s,s.state,null),R1(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function yp(e,t){try{var n="",r=t;do n+=cde(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function LE(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function LA(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Ihe=typeof WeakMap=="function"?WeakMap:Map;function JG(e,t,n){n=hl(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){F1||(F1=!0,qA=r),LA(e,t)},n}function QG(e,t,n){n=hl(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){LA(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){LA(e,t),typeof r!="function"&&(Lc===null?Lc=new Set([this]):Lc.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function q3(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Ihe;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Xhe.bind(null,e,t,n),t.then(e,e))}function K3(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Y3(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=hl(-1,1),t.tag=2,Ic(n,t,1))),n.lanes|=1),e)}var Lhe=Ml.ReactCurrentOwner,zs=!1;function vs(e,t,n,r){t.child=e===null?EG(t,null,n,r):mp(t,e.child,n,r)}function X3(e,t,n,r,s){n=n.render;var i=t.ref;return Pf(t,s),r=hD(e,t,n,r,i,s),n=fD(),e!==null&&!zs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Nl(e,t,s)):(jn&&n&&eD(t),t.flags|=1,vs(e,t,r,s),t.child)}function J3(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!ND(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,ZG(e,t,i,r,s)):(e=Gw(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Vy,n(o,r)&&e.ref===t.ref)return Nl(e,t,s)}return t.flags|=1,e=Bc(i,r),e.ref=t.ref,e.return=t,t.child=e}function ZG(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Vy(i,r)&&e.ref===t.ref)if(zs=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(zs=!0);else return t.lanes=e.lanes,Nl(e,t,s)}return $A(e,t,n,r,s)}function e7(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},dn(wf,ti),ti|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,dn(wf,ti),ti|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,dn(wf,ti),ti|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,dn(wf,ti),ti|=r;return vs(e,t,s,n),t.child}function t7(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function $A(e,t,n,r,s){var i=Vs(n)?Md:ds.current;return i=fp(t,i),Pf(t,s),n=hD(e,t,n,r,i,s),r=fD(),e!==null&&!zs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Nl(e,t,s)):(jn&&r&&eD(t),t.flags|=1,vs(e,t,n,s),t.child)}function Q3(e,t,n,r,s){if(Vs(n)){var i=!0;A1(t)}else i=!1;if(Pf(t,s),t.stateNode===null)Hw(e,t),XG(t,n,r),IA(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Yi(u):(u=Vs(n)?Md:ds.current,u=fp(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&G3(t,o,r,u),Ql=!1;var f=t.memoizedState;o.state=f,R1(t,r,o,s),c=t.memoizedState,l!==r||f!==c||Ws.current||Ql?(typeof d=="function"&&(RA(t,n,d,r),c=t.memoizedState),(l=Ql||V3(t,n,l,r,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,TG(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ho(t.type,l),o.props=u,h=t.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Yi(c):(c=Vs(n)?Md:ds.current,c=fp(t,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&G3(t,o,r,c),Ql=!1,f=t.memoizedState,o.state=f,R1(t,r,o,s);var m=t.memoizedState;l!==h||f!==m||Ws.current||Ql?(typeof p=="function"&&(RA(t,n,p,r),m=t.memoizedState),(u=Ql||V3(t,n,u,r,f,m,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),o.props=r,o.state=m,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return BA(e,t,n,r,i,s)}function BA(e,t,n,r,s,i){t7(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&L3(t,n,!1),Nl(e,t,i);r=t.stateNode,Lhe.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=mp(t,e.child,null,i),t.child=mp(t,null,l,i)):vs(e,t,l,i),t.memoizedState=r.state,s&&L3(t,n,!0),t.child}function n7(e){var t=e.stateNode;t.pendingContext?I3(e,t.pendingContext,t.pendingContext!==t.context):t.context&&I3(e,t.context,!1),lD(e,t.containerInfo)}function Z3(e,t,n,r,s){return pp(),nD(s),t.flags|=256,vs(e,t,n,r),t.child}var FA={dehydrated:null,treeContext:null,retryLane:0};function zA(e){return{baseLanes:e,cachePool:null,transitions:null}}function r7(e,t,n){var r=t.pendingProps,s=Mn.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),dn(Mn,s&1),e===null)return PA(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ik(o,r,0,null),e=md(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=zA(n),t.memoizedState=FA,e):gD(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return $he(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Bc(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Bc(l,i):(i=md(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?zA(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=FA,r}return i=e.child,e=i.sibling,r=Bc(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function gD(e,t){return t=Ik({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Z0(e,t,n,r){return r!==null&&nD(r),mp(t,e.child,null,n),e=gD(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $he(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=LE(Error(xe(422))),Z0(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Ik({mode:"visible",children:r.children},s,0,null),i=md(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&mp(t,e.child,null,o),t.child.memoizedState=zA(o),t.memoizedState=FA,i);if(!(t.mode&1))return Z0(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(xe(419)),r=LE(i,r,void 0),Z0(e,t,o,r)}if(l=(o&e.childLanes)!==0,zs||l){if(r=Ar,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Sl(e,s),Do(r,e,s,-1))}return SD(),r=LE(Error(xe(421))),Z0(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Jhe.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,ci=Rc(s.nextSibling),di=t,jn=!0,No=null,e!==null&&(Mi[Pi++]=rl,Mi[Pi++]=sl,Mi[Pi++]=Pd,rl=e.id,sl=e.overflow,Pd=t),t=gD(t,r.children),t.flags|=4096,t)}function e4(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),DA(e.return,t,n)}function $E(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function s7(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(vs(e,t,r.children,n),r=Mn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&e4(e,n,t);else if(e.tag===19)e4(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(dn(Mn,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&I1(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),$E(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&I1(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}$E(t,!0,n,null,i);break;case"together":$E(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hw(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Nl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Rd|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(xe(153));if(t.child!==null){for(e=t.child,n=Bc(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Bc(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Bhe(e,t,n){switch(t.tag){case 3:n7(t),pp();break;case 5:AG(t);break;case 1:Vs(t.type)&&A1(t);break;case 4:lD(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;dn(P1,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(dn(Mn,Mn.current&1),t.flags|=128,null):n&t.child.childLanes?r7(e,t,n):(dn(Mn,Mn.current&1),e=Nl(e,t,n),e!==null?e.sibling:null);dn(Mn,Mn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return s7(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),dn(Mn,Mn.current),r)break;return null;case 22:case 23:return t.lanes=0,e7(e,t,n)}return Nl(e,t,n)}var i7,UA,o7,a7;i7=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};UA=function(){};o7=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Ju(ga.current);var i=null;switch(n){case"input":s=uA(e,s),r=uA(e,r),i=[];break;case"select":s=Rn({},s,{value:void 0}),r=Rn({},r,{value:void 0}),i=[];break;case"textarea":s=fA(e,s),r=fA(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=C1)}mA(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&($y.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&($y.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&mn("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};a7=function(e,t,n,r){n!==r&&(t.flags|=4)};function Zm(e,t){if(!jn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Jr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Fhe(e,t,n){var r=t.pendingProps;switch(tD(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jr(t),null;case 1:return Vs(t.type)&&T1(),Jr(t),null;case 3:return r=t.stateNode,gp(),wn(Ws),wn(ds),uD(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(J0(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,No!==null&&(XA(No),No=null))),UA(e,t),Jr(t),null;case 5:cD(t);var s=Ju(Xy.current);if(n=t.type,e!==null&&t.stateNode!=null)o7(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(xe(166));return Jr(t),null}if(e=Ju(ga.current),J0(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[ha]=t,r[Ky]=i,e=(t.mode&1)!==0,n){case"dialog":mn("cancel",r),mn("close",r);break;case"iframe":case"object":case"embed":mn("load",r);break;case"video":case"audio":for(s=0;s<Rg.length;s++)mn(Rg[s],r);break;case"source":mn("error",r);break;case"img":case"image":case"link":mn("error",r),mn("load",r);break;case"details":mn("toggle",r);break;case"input":c3(r,i),mn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},mn("invalid",r);break;case"textarea":d3(r,i),mn("invalid",r)}mA(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&X0(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&X0(r.textContent,l,e),s=["children",""+l]):$y.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&mn("scroll",r)}switch(n){case"input":U0(r),u3(r,i,!0);break;case"textarea":U0(r),h3(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=C1)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=R9(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[ha]=t,e[Ky]=r,i7(e,t,!1,!1),t.stateNode=e;e:{switch(o=gA(n,r),n){case"dialog":mn("cancel",e),mn("close",e),s=r;break;case"iframe":case"object":case"embed":mn("load",e),s=r;break;case"video":case"audio":for(s=0;s<Rg.length;s++)mn(Rg[s],e);s=r;break;case"source":mn("error",e),s=r;break;case"img":case"image":case"link":mn("error",e),mn("load",e),s=r;break;case"details":mn("toggle",e),s=r;break;case"input":c3(e,r),s=uA(e,r),mn("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Rn({},r,{value:void 0}),mn("invalid",e);break;case"textarea":d3(e,r),s=fA(e,r),mn("invalid",e);break;default:s=r}mA(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?$9(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&I9(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&By(e,c):typeof c=="number"&&By(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&($y.hasOwnProperty(i)?c!=null&&i==="onScroll"&&mn("scroll",e):c!=null&&FP(e,i,c,o))}switch(n){case"input":U0(e),u3(e,r,!1);break;case"textarea":U0(e),h3(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Qc(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Tf(e,!!r.multiple,i,!1):r.defaultValue!=null&&Tf(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=C1)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Jr(t),null;case 6:if(e&&t.stateNode!=null)a7(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(xe(166));if(n=Ju(Xy.current),Ju(ga.current),J0(t)){if(r=t.stateNode,n=t.memoizedProps,r[ha]=t,(i=r.nodeValue!==n)&&(e=di,e!==null))switch(e.tag){case 3:X0(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&X0(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ha]=t,t.stateNode=r}return Jr(t),null;case 13:if(wn(Mn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(jn&&ci!==null&&t.mode&1&&!(t.flags&128))jG(),pp(),t.flags|=98560,i=!1;else if(i=J0(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(xe(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(xe(317));i[ha]=t}else pp(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Jr(t),i=!1}else No!==null&&(XA(No),No=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Mn.current&1?xr===0&&(xr=3):SD())),t.updateQueue!==null&&(t.flags|=4),Jr(t),null);case 4:return gp(),UA(e,t),e===null&&Gy(t.stateNode.containerInfo),Jr(t),null;case 10:return iD(t.type._context),Jr(t),null;case 17:return Vs(t.type)&&T1(),Jr(t),null;case 19:if(wn(Mn),i=t.memoizedState,i===null)return Jr(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Zm(i,!1);else{if(xr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=I1(e),o!==null){for(t.flags|=128,Zm(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return dn(Mn,Mn.current&1|2),t.child}e=e.sibling}i.tail!==null&&er()>xp&&(t.flags|=128,r=!0,Zm(i,!1),t.lanes=4194304)}else{if(!r)if(e=I1(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Zm(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!jn)return Jr(t),null}else 2*er()-i.renderingStartTime>xp&&n!==1073741824&&(t.flags|=128,r=!0,Zm(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=er(),t.sibling=null,n=Mn.current,dn(Mn,r?n&1|2:n&1),t):(Jr(t),null);case 22:case 23:return wD(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ti&1073741824&&(Jr(t),t.subtreeFlags&6&&(t.flags|=8192)):Jr(t),null;case 24:return null;case 25:return null}throw Error(xe(156,t.tag))}function zhe(e,t){switch(tD(t),t.tag){case 1:return Vs(t.type)&&T1(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return gp(),wn(Ws),wn(ds),uD(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return cD(t),null;case 13:if(wn(Mn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(xe(340));pp()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return wn(Mn),null;case 4:return gp(),null;case 10:return iD(t.type._context),null;case 22:case 23:return wD(),null;case 24:return null;default:return null}}var eb=!1,ns=!1,Uhe=typeof WeakSet=="function"?WeakSet:Set,Me=null;function bf(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Hn(e,t,r)}else n.current=null}function HA(e,t,n){try{n()}catch(r){Hn(e,t,r)}}var t4=!1;function Hhe(e,t){if(_A=j1,e=hG(),ZP(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==i||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===s&&(l=o),f===i&&++d===r&&(c=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(EA={focusedElem:e,selectionRange:n},j1=!1,Me=t;Me!==null;)if(t=Me,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Me=e;else for(;Me!==null;){t=Me;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,y=m.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:ho(t.type,g),y);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(xe(163))}}catch(N){Hn(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,Me=e;break}Me=t.return}return m=t4,t4=!1,m}function cy(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&HA(t,n,i)}s=s.next}while(s!==r)}}function Dk(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function WA(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function l7(e){var t=e.alternate;t!==null&&(e.alternate=null,l7(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ha],delete t[Ky],delete t[AA],delete t[jhe],delete t[_he])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function c7(e){return e.tag===5||e.tag===3||e.tag===4}function n4(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||c7(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function VA(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=C1));else if(r!==4&&(e=e.child,e!==null))for(VA(e,t,n),e=e.sibling;e!==null;)VA(e,t,n),e=e.sibling}function GA(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(GA(e,t,n),e=e.sibling;e!==null;)GA(e,t,n),e=e.sibling}var Fr=null,yo=!1;function Fl(e,t,n){for(n=n.child;n!==null;)u7(e,t,n),n=n.sibling}function u7(e,t,n){if(ma&&typeof ma.onCommitFiberUnmount=="function")try{ma.onCommitFiberUnmount(_k,n)}catch{}switch(n.tag){case 5:ns||bf(n,t);case 6:var r=Fr,s=yo;Fr=null,Fl(e,t,n),Fr=r,yo=s,Fr!==null&&(yo?(e=Fr,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Fr.removeChild(n.stateNode));break;case 18:Fr!==null&&(yo?(e=Fr,n=n.stateNode,e.nodeType===8?OE(e.parentNode,n):e.nodeType===1&&OE(e,n),Hy(e)):OE(Fr,n.stateNode));break;case 4:r=Fr,s=yo,Fr=n.stateNode.containerInfo,yo=!0,Fl(e,t,n),Fr=r,yo=s;break;case 0:case 11:case 14:case 15:if(!ns&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&HA(n,t,o),s=s.next}while(s!==r)}Fl(e,t,n);break;case 1:if(!ns&&(bf(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Hn(n,t,l)}Fl(e,t,n);break;case 21:Fl(e,t,n);break;case 22:n.mode&1?(ns=(r=ns)||n.memoizedState!==null,Fl(e,t,n),ns=r):Fl(e,t,n);break;default:Fl(e,t,n)}}function r4(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Uhe),t.forEach(function(r){var s=Qhe.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function so(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Fr=l.stateNode,yo=!1;break e;case 3:Fr=l.stateNode.containerInfo,yo=!0;break e;case 4:Fr=l.stateNode.containerInfo,yo=!0;break e}l=l.return}if(Fr===null)throw Error(xe(160));u7(i,o,s),Fr=null,yo=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Hn(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)d7(t,e),t=t.sibling}function d7(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(so(t,e),Zo(e),r&4){try{cy(3,e,e.return),Dk(3,e)}catch(g){Hn(e,e.return,g)}try{cy(5,e,e.return)}catch(g){Hn(e,e.return,g)}}break;case 1:so(t,e),Zo(e),r&512&&n!==null&&bf(n,n.return);break;case 5:if(so(t,e),Zo(e),r&512&&n!==null&&bf(n,n.return),e.flags&32){var s=e.stateNode;try{By(s,"")}catch(g){Hn(e,e.return,g)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&P9(s,i),gA(l,o);var u=gA(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?$9(s,h):d==="dangerouslySetInnerHTML"?I9(s,h):d==="children"?By(s,h):FP(s,d,h,u)}switch(l){case"input":dA(s,i);break;case"textarea":D9(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Tf(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Tf(s,!!i.multiple,i.defaultValue,!0):Tf(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ky]=i}catch(g){Hn(e,e.return,g)}}break;case 6:if(so(t,e),Zo(e),r&4){if(e.stateNode===null)throw Error(xe(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(g){Hn(e,e.return,g)}}break;case 3:if(so(t,e),Zo(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Hy(t.containerInfo)}catch(g){Hn(e,e.return,g)}break;case 4:so(t,e),Zo(e);break;case 13:so(t,e),Zo(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(vD=er())),r&4&&r4(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(ns=(u=ns)||d,so(t,e),ns=u):so(t,e),Zo(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Me=e,d=e.child;d!==null;){for(h=Me=d;Me!==null;){switch(f=Me,p=f.child,f.tag){case 0:case 11:case 14:case 15:cy(4,f,f.return);break;case 1:bf(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Hn(r,n,g)}}break;case 5:bf(f,f.return);break;case 22:if(f.memoizedState!==null){i4(h);continue}}p!==null?(p.return=f,Me=p):i4(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=L9("display",o))}catch(g){Hn(e,e.return,g)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Hn(e,e.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:so(t,e),Zo(e),r&4&&r4(e);break;case 21:break;default:so(t,e),Zo(e)}}function Zo(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(c7(n)){var r=n;break e}n=n.return}throw Error(xe(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(By(s,""),r.flags&=-33);var i=n4(e);GA(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=n4(e);VA(e,l,o);break;default:throw Error(xe(161))}}catch(c){Hn(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Whe(e,t,n){Me=e,h7(e)}function h7(e,t,n){for(var r=(e.mode&1)!==0;Me!==null;){var s=Me,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||eb;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||ns;l=eb;var u=ns;if(eb=o,(ns=c)&&!u)for(Me=s;Me!==null;)o=Me,c=o.child,o.tag===22&&o.memoizedState!==null?o4(s):c!==null?(c.return=o,Me=c):o4(s);for(;i!==null;)Me=i,h7(i),i=i.sibling;Me=s,eb=l,ns=u}s4(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Me=i):s4(e)}}function s4(e){for(;Me!==null;){var t=Me;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ns||Dk(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ns)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:ho(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&U3(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}U3(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Hy(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(xe(163))}ns||t.flags&512&&WA(t)}catch(f){Hn(t,t.return,f)}}if(t===e){Me=null;break}if(n=t.sibling,n!==null){n.return=t.return,Me=n;break}Me=t.return}}function i4(e){for(;Me!==null;){var t=Me;if(t===e){Me=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Me=n;break}Me=t.return}}function o4(e){for(;Me!==null;){var t=Me;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Dk(4,t)}catch(c){Hn(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){Hn(t,s,c)}}var i=t.return;try{WA(t)}catch(c){Hn(t,i,c)}break;case 5:var o=t.return;try{WA(t)}catch(c){Hn(t,o,c)}}}catch(c){Hn(t,t.return,c)}if(t===e){Me=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Me=l;break}Me=t.return}}var Vhe=Math.ceil,B1=Ml.ReactCurrentDispatcher,yD=Ml.ReactCurrentOwner,Ui=Ml.ReactCurrentBatchConfig,At=0,Ar=null,ar=null,Vr=0,ti=0,wf=lu(0),xr=0,ex=null,Rd=0,Rk=0,xD=0,uy=null,$s=null,vD=0,xp=1/0,Xa=null,F1=!1,qA=null,Lc=null,tb=!1,bc=null,z1=0,dy=0,KA=null,Ww=-1,Vw=0;function Ns(){return At&6?er():Ww!==-1?Ww:Ww=er()}function $c(e){return e.mode&1?At&2&&Vr!==0?Vr&-Vr:Che.transition!==null?(Vw===0&&(Vw=X9()),Vw):(e=Vt,e!==0||(e=window.event,e=e===void 0?16:rG(e.type)),e):1}function Do(e,t,n,r){if(50<dy)throw dy=0,KA=null,Error(xe(185));Dv(e,n,r),(!(At&2)||e!==Ar)&&(e===Ar&&(!(At&2)&&(Rk|=n),xr===4&&ic(e,Vr)),Gs(e,r),n===1&&At===0&&!(t.mode&1)&&(xp=er()+500,Ok&&cu()))}function Gs(e,t){var n=e.callbackNode;Cde(e,t);var r=k1(e,e===Ar?Vr:0);if(r===0)n!==null&&m3(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&m3(n),t===1)e.tag===0?Ehe(a4.bind(null,e)):SG(a4.bind(null,e)),Nhe(function(){!(At&6)&&cu()}),n=null;else{switch(J9(r)){case 1:n=VP;break;case 4:n=K9;break;case 16:n=N1;break;case 536870912:n=Y9;break;default:n=N1}n=b7(n,f7.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function f7(e,t){if(Ww=-1,Vw=0,At&6)throw Error(xe(327));var n=e.callbackNode;if(Df()&&e.callbackNode!==n)return null;var r=k1(e,e===Ar?Vr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=U1(e,r);else{t=r;var s=At;At|=2;var i=m7();(Ar!==e||Vr!==t)&&(Xa=null,xp=er()+500,pd(e,t));do try{Khe();break}catch(l){p7(e,l)}while(!0);sD(),B1.current=i,At=s,ar!==null?t=0:(Ar=null,Vr=0,t=xr)}if(t!==0){if(t===2&&(s=wA(e),s!==0&&(r=s,t=YA(e,s))),t===1)throw n=ex,pd(e,0),ic(e,r),Gs(e,er()),n;if(t===6)ic(e,r);else{if(s=e.current.alternate,!(r&30)&&!Ghe(s)&&(t=U1(e,r),t===2&&(i=wA(e),i!==0&&(r=i,t=YA(e,i))),t===1))throw n=ex,pd(e,0),ic(e,r),Gs(e,er()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(xe(345));case 2:Ru(e,$s,Xa);break;case 3:if(ic(e,r),(r&130023424)===r&&(t=vD+500-er(),10<t)){if(k1(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ns(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=TA(Ru.bind(null,e,$s,Xa),t);break}Ru(e,$s,Xa);break;case 4:if(ic(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Po(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=er()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Vhe(r/1960))-r,10<r){e.timeoutHandle=TA(Ru.bind(null,e,$s,Xa),r);break}Ru(e,$s,Xa);break;case 5:Ru(e,$s,Xa);break;default:throw Error(xe(329))}}}return Gs(e,er()),e.callbackNode===n?f7.bind(null,e):null}function YA(e,t){var n=uy;return e.current.memoizedState.isDehydrated&&(pd(e,t).flags|=256),e=U1(e,t),e!==2&&(t=$s,$s=n,t!==null&&XA(t)),e}function XA(e){$s===null?$s=e:$s.push.apply($s,e)}function Ghe(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Fo(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ic(e,t){for(t&=~xD,t&=~Rk,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Po(t),r=1<<n;e[n]=-1,t&=~r}}function a4(e){if(At&6)throw Error(xe(327));Df();var t=k1(e,0);if(!(t&1))return Gs(e,er()),null;var n=U1(e,t);if(e.tag!==0&&n===2){var r=wA(e);r!==0&&(t=r,n=YA(e,r))}if(n===1)throw n=ex,pd(e,0),ic(e,t),Gs(e,er()),n;if(n===6)throw Error(xe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ru(e,$s,Xa),Gs(e,er()),null}function bD(e,t){var n=At;At|=1;try{return e(t)}finally{At=n,At===0&&(xp=er()+500,Ok&&cu())}}function Id(e){bc!==null&&bc.tag===0&&!(At&6)&&Df();var t=At;At|=1;var n=Ui.transition,r=Vt;try{if(Ui.transition=null,Vt=1,e)return e()}finally{Vt=r,Ui.transition=n,At=t,!(At&6)&&cu()}}function wD(){ti=wf.current,wn(wf)}function pd(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,She(n)),ar!==null)for(n=ar.return;n!==null;){var r=n;switch(tD(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&T1();break;case 3:gp(),wn(Ws),wn(ds),uD();break;case 5:cD(r);break;case 4:gp();break;case 13:wn(Mn);break;case 19:wn(Mn);break;case 10:iD(r.type._context);break;case 22:case 23:wD()}n=n.return}if(Ar=e,ar=e=Bc(e.current,null),Vr=ti=t,xr=0,ex=null,xD=Rk=Rd=0,$s=uy=null,Xu!==null){for(t=0;t<Xu.length;t++)if(n=Xu[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Xu=null}return e}function p7(e,t){do{var n=ar;try{if(sD(),zw.current=$1,L1){for(var r=Pn.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}L1=!1}if(Dd=0,Cr=gr=Pn=null,ly=!1,Jy=0,yD.current=null,n===null||n.return===null){xr=1,ex=t,ar=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=Vr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=K3(o);if(p!==null){p.flags&=-257,Y3(p,o,l,i,t),p.mode&1&&q3(i,u,t),t=p,c=u;var m=t.updateQueue;if(m===null){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}else{if(!(t&1)){q3(i,u,t),SD();break e}c=Error(xe(426))}}else if(jn&&l.mode&1){var y=K3(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Y3(y,o,l,i,t),nD(yp(c,l));break e}}i=c=yp(c,l),xr!==4&&(xr=2),uy===null?uy=[i]:uy.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=JG(i,c,t);z3(i,x);break e;case 1:l=c;var b=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Lc===null||!Lc.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var N=QG(i,l,t);z3(i,N);break e}}i=i.return}while(i!==null)}y7(n)}catch(S){t=S,ar===n&&n!==null&&(ar=n=n.return);continue}break}while(!0)}function m7(){var e=B1.current;return B1.current=$1,e===null?$1:e}function SD(){(xr===0||xr===3||xr===2)&&(xr=4),Ar===null||!(Rd&268435455)&&!(Rk&268435455)||ic(Ar,Vr)}function U1(e,t){var n=At;At|=2;var r=m7();(Ar!==e||Vr!==t)&&(Xa=null,pd(e,t));do try{qhe();break}catch(s){p7(e,s)}while(!0);if(sD(),At=n,B1.current=r,ar!==null)throw Error(xe(261));return Ar=null,Vr=0,xr}function qhe(){for(;ar!==null;)g7(ar)}function Khe(){for(;ar!==null&&!vde();)g7(ar)}function g7(e){var t=v7(e.alternate,e,ti);e.memoizedProps=e.pendingProps,t===null?y7(e):ar=t,yD.current=null}function y7(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=zhe(n,t),n!==null){n.flags&=32767,ar=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xr=6,ar=null;return}}else if(n=Fhe(n,t,ti),n!==null){ar=n;return}if(t=t.sibling,t!==null){ar=t;return}ar=t=e}while(t!==null);xr===0&&(xr=5)}function Ru(e,t,n){var r=Vt,s=Ui.transition;try{Ui.transition=null,Vt=1,Yhe(e,t,n,r)}finally{Ui.transition=s,Vt=r}return null}function Yhe(e,t,n,r){do Df();while(bc!==null);if(At&6)throw Error(xe(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(xe(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Tde(e,i),e===Ar&&(ar=Ar=null,Vr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||tb||(tb=!0,b7(N1,function(){return Df(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ui.transition,Ui.transition=null;var o=Vt;Vt=1;var l=At;At|=4,yD.current=null,Hhe(e,n),d7(n,e),mhe(EA),j1=!!_A,EA=_A=null,e.current=n,Whe(n),bde(),At=l,Vt=o,Ui.transition=i}else e.current=n;if(tb&&(tb=!1,bc=e,z1=s),i=e.pendingLanes,i===0&&(Lc=null),Nde(n.stateNode),Gs(e,er()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(F1)throw F1=!1,e=qA,qA=null,e;return z1&1&&e.tag!==0&&Df(),i=e.pendingLanes,i&1?e===KA?dy++:(dy=0,KA=e):dy=0,cu(),null}function Df(){if(bc!==null){var e=J9(z1),t=Ui.transition,n=Vt;try{if(Ui.transition=null,Vt=16>e?16:e,bc===null)var r=!1;else{if(e=bc,bc=null,z1=0,At&6)throw Error(xe(331));var s=At;for(At|=4,Me=e.current;Me!==null;){var i=Me,o=i.child;if(Me.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Me=u;Me!==null;){var d=Me;switch(d.tag){case 0:case 11:case 15:cy(8,d,i)}var h=d.child;if(h!==null)h.return=d,Me=h;else for(;Me!==null;){d=Me;var f=d.sibling,p=d.return;if(l7(d),d===u){Me=null;break}if(f!==null){f.return=p,Me=f;break}Me=p}}}var m=i.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}Me=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Me=o;else e:for(;Me!==null;){if(i=Me,i.flags&2048)switch(i.tag){case 0:case 11:case 15:cy(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,Me=x;break e}Me=i.return}}var b=e.current;for(Me=b;Me!==null;){o=Me;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Me=w;else e:for(o=b;Me!==null;){if(l=Me,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Dk(9,l)}}catch(S){Hn(l,l.return,S)}if(l===o){Me=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,Me=N;break e}Me=l.return}}if(At=s,cu(),ma&&typeof ma.onPostCommitFiberRoot=="function")try{ma.onPostCommitFiberRoot(_k,e)}catch{}r=!0}return r}finally{Vt=n,Ui.transition=t}}return!1}function l4(e,t,n){t=yp(n,t),t=JG(e,t,1),e=Ic(e,t,1),t=Ns(),e!==null&&(Dv(e,1,t),Gs(e,t))}function Hn(e,t,n){if(e.tag===3)l4(e,e,n);else for(;t!==null;){if(t.tag===3){l4(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Lc===null||!Lc.has(r))){e=yp(n,e),e=QG(t,e,1),t=Ic(t,e,1),e=Ns(),t!==null&&(Dv(t,1,e),Gs(t,e));break}}t=t.return}}function Xhe(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ns(),e.pingedLanes|=e.suspendedLanes&n,Ar===e&&(Vr&n)===n&&(xr===4||xr===3&&(Vr&130023424)===Vr&&500>er()-vD?pd(e,0):xD|=n),Gs(e,t)}function x7(e,t){t===0&&(e.mode&1?(t=V0,V0<<=1,!(V0&130023424)&&(V0=4194304)):t=1);var n=Ns();e=Sl(e,t),e!==null&&(Dv(e,t,n),Gs(e,n))}function Jhe(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),x7(e,n)}function Qhe(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(xe(314))}r!==null&&r.delete(t),x7(e,n)}var v7;v7=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ws.current)zs=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return zs=!1,Bhe(e,t,n);zs=!!(e.flags&131072)}else zs=!1,jn&&t.flags&1048576&&NG(t,M1,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hw(e,t),e=t.pendingProps;var s=fp(t,ds.current);Pf(t,n),s=hD(null,t,r,e,s,n);var i=fD();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Vs(r)?(i=!0,A1(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,aD(t),s.updater=Pk,t.stateNode=s,s._reactInternals=t,IA(t,r,e,n),t=BA(null,t,r,!0,i,n)):(t.tag=0,jn&&i&&eD(t),vs(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hw(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=efe(r),e=ho(r,e),s){case 0:t=$A(null,t,r,e,n);break e;case 1:t=Q3(null,t,r,e,n);break e;case 11:t=X3(null,t,r,e,n);break e;case 14:t=J3(null,t,r,ho(r.type,e),n);break e}throw Error(xe(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ho(r,s),$A(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ho(r,s),Q3(e,t,r,s,n);case 3:e:{if(n7(t),e===null)throw Error(xe(387));r=t.pendingProps,i=t.memoizedState,s=i.element,TG(e,t),R1(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=yp(Error(xe(423)),t),t=Z3(e,t,r,n,s);break e}else if(r!==s){s=yp(Error(xe(424)),t),t=Z3(e,t,r,n,s);break e}else for(ci=Rc(t.stateNode.containerInfo.firstChild),di=t,jn=!0,No=null,n=EG(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(pp(),r===s){t=Nl(e,t,n);break e}vs(e,t,r,n)}t=t.child}return t;case 5:return AG(t),e===null&&PA(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,CA(r,s)?o=null:i!==null&&CA(r,i)&&(t.flags|=32),t7(e,t),vs(e,t,o,n),t.child;case 6:return e===null&&PA(t),null;case 13:return r7(e,t,n);case 4:return lD(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=mp(t,null,r,n):vs(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ho(r,s),X3(e,t,r,s,n);case 7:return vs(e,t,t.pendingProps,n),t.child;case 8:return vs(e,t,t.pendingProps.children,n),t.child;case 12:return vs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,dn(P1,r._currentValue),r._currentValue=o,i!==null)if(Fo(i.value,o)){if(i.children===s.children&&!Ws.current){t=Nl(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=hl(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),DA(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(xe(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),DA(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}vs(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Pf(t,n),s=Yi(s),r=r(s),t.flags|=1,vs(e,t,r,n),t.child;case 14:return r=t.type,s=ho(r,t.pendingProps),s=ho(r.type,s),J3(e,t,r,s,n);case 15:return ZG(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ho(r,s),Hw(e,t),t.tag=1,Vs(r)?(e=!0,A1(t)):e=!1,Pf(t,n),XG(t,r,s),IA(t,r,s,n),BA(null,t,r,!0,e,n);case 19:return s7(e,t,n);case 22:return e7(e,t,n)}throw Error(xe(156,t.tag))};function b7(e,t){return q9(e,t)}function Zhe(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Li(e,t,n,r){return new Zhe(e,t,n,r)}function ND(e){return e=e.prototype,!(!e||!e.isReactComponent)}function efe(e){if(typeof e=="function")return ND(e)?1:0;if(e!=null){if(e=e.$$typeof,e===UP)return 11;if(e===HP)return 14}return 2}function Bc(e,t){var n=e.alternate;return n===null?(n=Li(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gw(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")ND(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case df:return md(n.children,s,i,t);case zP:o=8,s|=8;break;case oA:return e=Li(12,n,t,s|2),e.elementType=oA,e.lanes=i,e;case aA:return e=Li(13,n,t,s),e.elementType=aA,e.lanes=i,e;case lA:return e=Li(19,n,t,s),e.elementType=lA,e.lanes=i,e;case A9:return Ik(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case C9:o=10;break e;case T9:o=9;break e;case UP:o=11;break e;case HP:o=14;break e;case Jl:o=16,r=null;break e}throw Error(xe(130,e==null?e:typeof e,""))}return t=Li(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function md(e,t,n,r){return e=Li(7,e,r,t),e.lanes=n,e}function Ik(e,t,n,r){return e=Li(22,e,r,t),e.elementType=A9,e.lanes=n,e.stateNode={isHidden:!1},e}function BE(e,t,n){return e=Li(6,e,null,t),e.lanes=n,e}function FE(e,t,n){return t=Li(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function tfe(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bE(0),this.expirationTimes=bE(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bE(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function kD(e,t,n,r,s,i,o,l,c){return e=new tfe(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Li(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},aD(i),e}function nfe(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:uf,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function w7(e){if(!e)return Zc;e=e._reactInternals;e:{if(ah(e)!==e||e.tag!==1)throw Error(xe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Vs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(xe(171))}if(e.tag===1){var n=e.type;if(Vs(n))return wG(e,n,t)}return t}function S7(e,t,n,r,s,i,o,l,c){return e=kD(n,r,!0,e,s,i,o,l,c),e.context=w7(null),n=e.current,r=Ns(),s=$c(n),i=hl(r,s),i.callback=t??null,Ic(n,i,s),e.current.lanes=s,Dv(e,s,r),Gs(e,r),e}function Lk(e,t,n,r){var s=t.current,i=Ns(),o=$c(s);return n=w7(n),t.context===null?t.context=n:t.pendingContext=n,t=hl(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ic(s,t,o),e!==null&&(Do(e,s,o,i),Fw(e,s,o)),o}function H1(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function c4(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function jD(e,t){c4(e,t),(e=e.alternate)&&c4(e,t)}function rfe(){return null}var N7=typeof reportError=="function"?reportError:function(e){console.error(e)};function _D(e){this._internalRoot=e}$k.prototype.render=_D.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(xe(409));Lk(e,t,null,null)};$k.prototype.unmount=_D.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Id(function(){Lk(null,e,null,null)}),t[wl]=null}};function $k(e){this._internalRoot=e}$k.prototype.unstable_scheduleHydration=function(e){if(e){var t=eG();e={blockedOn:null,target:e,priority:t};for(var n=0;n<sc.length&&t!==0&&t<sc[n].priority;n++);sc.splice(n,0,e),n===0&&nG(e)}};function ED(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Bk(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function u4(){}function sfe(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=H1(o);i.call(u)}}var o=S7(t,r,e,0,null,!1,!1,"",u4);return e._reactRootContainer=o,e[wl]=o.current,Gy(e.nodeType===8?e.parentNode:e),Id(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=H1(c);l.call(u)}}var c=kD(e,0,!1,null,null,!1,!1,"",u4);return e._reactRootContainer=c,e[wl]=c.current,Gy(e.nodeType===8?e.parentNode:e),Id(function(){Lk(t,c,n,r)}),c}function Fk(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=H1(o);l.call(c)}}Lk(t,o,e,s)}else o=sfe(n,t,e,s,r);return H1(o)}Q9=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Dg(t.pendingLanes);n!==0&&(GP(t,n|1),Gs(t,er()),!(At&6)&&(xp=er()+500,cu()))}break;case 13:Id(function(){var r=Sl(e,1);if(r!==null){var s=Ns();Do(r,e,1,s)}}),jD(e,1)}};qP=function(e){if(e.tag===13){var t=Sl(e,134217728);if(t!==null){var n=Ns();Do(t,e,134217728,n)}jD(e,134217728)}};Z9=function(e){if(e.tag===13){var t=$c(e),n=Sl(e,t);if(n!==null){var r=Ns();Do(n,e,t,r)}jD(e,t)}};eG=function(){return Vt};tG=function(e,t){var n=Vt;try{return Vt=e,t()}finally{Vt=n}};xA=function(e,t,n){switch(t){case"input":if(dA(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Ak(r);if(!s)throw Error(xe(90));M9(r),dA(r,s)}}}break;case"textarea":D9(e,n);break;case"select":t=n.value,t!=null&&Tf(e,!!n.multiple,t,!1)}};z9=bD;U9=Id;var ife={usingClientEntryPoint:!1,Events:[Iv,mf,Ak,B9,F9,bD]},eg={findFiberByHostInstance:Yu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ofe={bundleType:eg.bundleType,version:eg.version,rendererPackageName:eg.rendererPackageName,rendererConfig:eg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ml.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=V9(e),e===null?null:e.stateNode},findFiberByHostInstance:eg.findFiberByHostInstance||rfe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nb.isDisabled&&nb.supportsFiber)try{_k=nb.inject(ofe),ma=nb}catch{}}bi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ife;bi.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ED(t))throw Error(xe(200));return nfe(e,t,null,n)};bi.createRoot=function(e,t){if(!ED(e))throw Error(xe(299));var n=!1,r="",s=N7;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=kD(e,1,!1,null,null,n,!1,r,s),e[wl]=t.current,Gy(e.nodeType===8?e.parentNode:e),new _D(t)};bi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(xe(188)):(e=Object.keys(e).join(","),Error(xe(268,e)));return e=V9(t),e=e===null?null:e.stateNode,e};bi.flushSync=function(e){return Id(e)};bi.hydrate=function(e,t,n){if(!Bk(t))throw Error(xe(200));return Fk(null,e,t,!0,n)};bi.hydrateRoot=function(e,t,n){if(!ED(e))throw Error(xe(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=N7;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=S7(t,null,e,1,n??null,s,!1,i,o),e[wl]=t.current,Gy(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new $k(t)};bi.render=function(e,t,n){if(!Bk(t))throw Error(xe(200));return Fk(null,e,t,!1,n)};bi.unmountComponentAtNode=function(e){if(!Bk(e))throw Error(xe(40));return e._reactRootContainer?(Id(function(){Fk(null,null,e,!1,function(){e._reactRootContainer=null,e[wl]=null})}),!0):!1};bi.unstable_batchedUpdates=bD;bi.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Bk(n))throw Error(xe(200));if(e==null||e._reactInternals===void 0)throw Error(xe(38));return Fk(e,t,n,!1,r)};bi.version="18.3.1-next-f1338f8080-20240426";function k7(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(k7)}catch(e){console.error(e)}}k7(),k9.exports=bi;var Ta=k9.exports;const CD=Dt(Ta);var j7,d4=Ta;j7=d4.createRoot,d4.hydrateRoot;const afe=1,lfe=1e6;let zE=0;function cfe(){return zE=(zE+1)%Number.MAX_SAFE_INTEGER,zE.toString()}const UE=new Map,h4=e=>{if(UE.has(e))return;const t=setTimeout(()=>{UE.delete(e),hy({type:"REMOVE_TOAST",toastId:e})},lfe);UE.set(e,t)},ufe=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,afe)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?h4(n):e.toasts.forEach(r=>{h4(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},qw=[];let Kw={toasts:[]};function hy(e){Kw=ufe(Kw,e),qw.forEach(t=>{t(Kw)})}function dfe({...e}){const t=cfe(),n=s=>hy({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>hy({type:"DISMISS_TOAST",toastId:t});return hy({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function hfe(){const[e,t]=v.useState(Kw);return v.useEffect(()=>(qw.push(t),()=>{const n=qw.indexOf(t);n>-1&&qw.splice(n,1)}),[e]),{...e,toast:dfe,dismiss:n=>hy({type:"DISMISS_TOAST",toastId:n})}}function ge(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function f4(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Aa(...e){return t=>{let n=!1;const r=e.map(s=>{const i=f4(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():f4(e[s],null)}}}}function Ke(...e){return v.useCallback(Aa(...e),e)}function ffe(e,t){const n=v.createContext(t),r=i=>{const{children:o,...l}=i,c=v.useMemo(()=>l,Object.values(l));return a.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function s(i){const o=v.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,s]}function fs(e,t=[]){let n=[];function r(i,o){const l=v.createContext(o),c=n.length;n=[...n,o];const u=h=>{var x;const{scope:f,children:p,...m}=h,g=((x=f==null?void 0:f[e])==null?void 0:x[c])||l,y=v.useMemo(()=>m,Object.values(m));return a.jsx(g.Provider,{value:y,children:p})};u.displayName=i+"Provider";function d(h,f){var g;const p=((g=f==null?void 0:f[e])==null?void 0:g[c])||l,m=v.useContext(p);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,pfe(s,...t)]}function pfe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function p4(e){const t=mfe(e),n=v.forwardRef((r,s)=>{const{children:i,...o}=r,l=v.Children.toArray(i),c=l.find(yfe);if(c){const u=c.props.children,d=l.map(h=>h===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:h);return a.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}function mfe(e){const t=v.forwardRef((n,r)=>{const{children:s,...i}=n;if(v.isValidElement(s)){const o=vfe(s),l=xfe(i,s.props);return s.type!==v.Fragment&&(l.ref=r?Aa(r,o):o),v.cloneElement(s,l)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var gfe=Symbol("radix.slottable");function yfe(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===gfe}function xfe(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function vfe(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function $v(e){const t=e+"CollectionProvider",[n,r]=fs(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:y,children:x}=g,b=H.useRef(null),w=H.useRef(new Map).current;return a.jsx(s,{scope:y,itemMap:w,collectionRef:b,children:x})};o.displayName=t;const l=e+"CollectionSlot",c=p4(l),u=H.forwardRef((g,y)=>{const{scope:x,children:b}=g,w=i(l,x),N=Ke(y,w.collectionRef);return a.jsx(c,{ref:N,children:b})});u.displayName=l;const d=e+"CollectionItemSlot",h="data-radix-collection-item",f=p4(d),p=H.forwardRef((g,y)=>{const{scope:x,children:b,...w}=g,N=H.useRef(null),S=Ke(y,N),k=i(d,x);return H.useEffect(()=>(k.itemMap.set(N,{ref:N,...w}),()=>void k.itemMap.delete(N))),a.jsx(f,{[h]:"",ref:S,children:b})});p.displayName=d;function m(g){const y=i(e+"CollectionConsumer",g);return H.useCallback(()=>{const b=y.collectionRef.current;if(!b)return[];const w=Array.from(b.querySelectorAll(`[${h}]`));return Array.from(y.itemMap.values()).sort((k,j)=>w.indexOf(k.ref.current)-w.indexOf(j.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},m,r]}function bfe(e){const t=wfe(e),n=v.forwardRef((r,s)=>{const{children:i,...o}=r,l=v.Children.toArray(i),c=l.find(Nfe);if(c){const u=c.props.children,d=l.map(h=>h===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:h);return a.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}function wfe(e){const t=v.forwardRef((n,r)=>{const{children:s,...i}=n;if(v.isValidElement(s)){const o=jfe(s),l=kfe(i,s.props);return s.type!==v.Fragment&&(l.ref=r?Aa(r,o):o),v.cloneElement(s,l)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Sfe=Symbol("radix.slottable");function Nfe(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Sfe}function kfe(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function jfe(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var _fe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$e=_fe.reduce((e,t)=>{const n=bfe(`Primitive.${t}`),r=v.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function TD(e,t){e&&Ta.flushSync(()=>e.dispatchEvent(t))}function Kn(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Efe(e,t=globalThis==null?void 0:globalThis.document){const n=Kn(e);v.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Cfe="DismissableLayer",JA="dismissableLayer.update",Tfe="dismissableLayer.pointerDownOutside",Afe="dismissableLayer.focusOutside",m4,_7=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),lh=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=v.useContext(_7),[d,h]=v.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=v.useState({}),m=Ke(t,j=>h(j)),g=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=g.indexOf(y),b=d?g.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,N=b>=x,S=Mfe(j=>{const _=j.target,C=[...u.branches].some(A=>A.contains(_));!N||C||(s==null||s(j),o==null||o(j),j.defaultPrevented||l==null||l())},f),k=Pfe(j=>{const _=j.target;[...u.branches].some(A=>A.contains(_))||(i==null||i(j),o==null||o(j),j.defaultPrevented||l==null||l())},f);return Efe(j=>{b===u.layers.size-1&&(r==null||r(j),!j.defaultPrevented&&l&&(j.preventDefault(),l()))},f),v.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(m4=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),g4(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=m4)}},[d,f,n,u]),v.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),g4())},[d,u]),v.useEffect(()=>{const j=()=>p({});return document.addEventListener(JA,j),()=>document.removeEventListener(JA,j)},[]),a.jsx($e.div,{...c,ref:m,style:{pointerEvents:w?N?"auto":"none":void 0,...e.style},onFocusCapture:ge(e.onFocusCapture,k.onFocusCapture),onBlurCapture:ge(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:ge(e.onPointerDownCapture,S.onPointerDownCapture)})});lh.displayName=Cfe;var Ofe="DismissableLayerBranch",E7=v.forwardRef((e,t)=>{const n=v.useContext(_7),r=v.useRef(null),s=Ke(t,r);return v.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),a.jsx($e.div,{...e,ref:s})});E7.displayName=Ofe;function Mfe(e,t=globalThis==null?void 0:globalThis.document){const n=Kn(e),r=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){C7(Tfe,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Pfe(e,t=globalThis==null?void 0:globalThis.document){const n=Kn(e),r=v.useRef(!1);return v.useEffect(()=>{const s=i=>{i.target&&!r.current&&C7(Afe,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function g4(){const e=new CustomEvent(JA);document.dispatchEvent(e)}function C7(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?TD(s,i):s.dispatchEvent(i)}var Dfe=lh,Rfe=E7,rr=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},Ife="Portal",mm=v.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,i]=v.useState(!1);rr(()=>i(!0),[]);const o=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?CD.createPortal(a.jsx($e.div,{...r,ref:t}),o):null});mm.displayName=Ife;function Lfe(e,t){return v.useReducer((n,r)=>t[n][r]??n,e)}var Dr=e=>{const{present:t,children:n}=e,r=$fe(t),s=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),i=Ke(r.ref,Bfe(s));return typeof n=="function"||r.isPresent?v.cloneElement(s,{ref:i}):null};Dr.displayName="Presence";function $fe(e){const[t,n]=v.useState(),r=v.useRef(null),s=v.useRef(e),i=v.useRef("none"),o=e?"mounted":"unmounted",[l,c]=Lfe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const u=rb(r.current);i.current=l==="mounted"?u:"none"},[l]),rr(()=>{const u=r.current,d=s.current;if(d!==e){const f=i.current,p=rb(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),rr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=p=>{const g=rb(r.current).includes(CSS.escape(p.animationName));if(p.target===t&&g&&(c("ANIMATION_END"),!s.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},f=p=>{p.target===t&&(i.current=rb(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:v.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function rb(e){return(e==null?void 0:e.animationName)||"none"}function Bfe(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Ffe=Pv[" useInsertionEffect ".trim().toString()]||rr;function Ji({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,i,o]=zfe({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:s;{const d=v.useRef(e!==void 0);v.useEffect(()=>{const h=d.current;h!==l&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=v.useCallback(d=>{var h;if(l){const f=Ufe(d)?d(e):d;f!==e&&((h=o.current)==null||h.call(o,f))}else i(d)},[l,e,i,o]);return[c,u]}function zfe({defaultProp:e,onChange:t}){const[n,r]=v.useState(e),s=v.useRef(n),i=v.useRef(t);return Ffe(()=>{i.current=t},[t]),v.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function Ufe(e){return typeof e=="function"}var T7=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Hfe="VisuallyHidden",zk=v.forwardRef((e,t)=>a.jsx($e.span,{...e,ref:t,style:{...T7,...e.style}}));zk.displayName=Hfe;var Wfe=zk,AD="ToastProvider",[OD,Vfe,Gfe]=$v("Toast"),[A7]=fs("Toast",[Gfe]),[qfe,Uk]=A7(AD),O7=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[l,c]=v.useState(null),[u,d]=v.useState(0),h=v.useRef(!1),f=v.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${AD}\`. Expected non-empty \`string\`.`),a.jsx(OD.Provider,{scope:t,children:a.jsx(qfe,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:v.useCallback(()=>d(p=>p+1),[]),onToastRemove:v.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};O7.displayName=AD;var M7="ToastViewport",Kfe=["F8"],QA="toast.viewportPause",ZA="toast.viewportResume",P7=v.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=Kfe,label:s="Notifications ({hotkey})",...i}=e,o=Uk(M7,n),l=Vfe(n),c=v.useRef(null),u=v.useRef(null),d=v.useRef(null),h=v.useRef(null),f=Ke(t,h,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),m=o.toastCount>0;v.useEffect(()=>{const y=x=>{var w;r.length!==0&&r.every(N=>x[N]||x.code===N)&&((w=h.current)==null||w.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),v.useEffect(()=>{const y=c.current,x=h.current;if(m&&y&&x){const b=()=>{if(!o.isClosePausedRef.current){const k=new CustomEvent(QA);x.dispatchEvent(k),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const k=new CustomEvent(ZA);x.dispatchEvent(k),o.isClosePausedRef.current=!1}},N=k=>{!y.contains(k.relatedTarget)&&w()},S=()=>{y.contains(document.activeElement)||w()};return y.addEventListener("focusin",b),y.addEventListener("focusout",N),y.addEventListener("pointermove",b),y.addEventListener("pointerleave",S),window.addEventListener("blur",b),window.addEventListener("focus",w),()=>{y.removeEventListener("focusin",b),y.removeEventListener("focusout",N),y.removeEventListener("pointermove",b),y.removeEventListener("pointerleave",S),window.removeEventListener("blur",b),window.removeEventListener("focus",w)}}},[m,o.isClosePausedRef]);const g=v.useCallback(({tabbingDirection:y})=>{const b=l().map(w=>{const N=w.ref.current,S=[N,...ape(N)];return y==="forwards"?S:S.reverse()});return(y==="forwards"?b.reverse():b).flat()},[l]);return v.useEffect(()=>{const y=h.current;if(y){const x=b=>{var S,k,j;const w=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!w){const _=document.activeElement,C=b.shiftKey;if(b.target===y&&C){(S=u.current)==null||S.focus();return}const M=g({tabbingDirection:C?"backwards":"forwards"}),P=M.findIndex(E=>E===_);HE(M.slice(P+1))?b.preventDefault():C?(k=u.current)==null||k.focus():(j=d.current)==null||j.focus()}};return y.addEventListener("keydown",x),()=>y.removeEventListener("keydown",x)}},[l,g]),a.jsxs(Rfe,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:m?void 0:"none"},children:[m&&a.jsx(eO,{ref:u,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"forwards"});HE(y)}}),a.jsx(OD.Slot,{scope:n,children:a.jsx($e.ol,{tabIndex:-1,...i,ref:f})}),m&&a.jsx(eO,{ref:d,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"backwards"});HE(y)}})]})});P7.displayName=M7;var D7="ToastFocusProxy",eO=v.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,i=Uk(D7,n);return a.jsx(zk,{tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&r()}})});eO.displayName=D7;var Bv="Toast",Yfe="toast.swipeStart",Xfe="toast.swipeMove",Jfe="toast.swipeCancel",Qfe="toast.swipeEnd",R7=v.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=e,[l,c]=Ji({prop:r,defaultProp:s??!0,onChange:i,caller:Bv});return a.jsx(Dr,{present:n||l,children:a.jsx(tpe,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Kn(e.onPause),onResume:Kn(e.onResume),onSwipeStart:ge(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ge(e.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:ge(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ge(e.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});R7.displayName=Bv;var[Zfe,epe]=A7(Bv,{onClose(){}}),tpe=v.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:p,...m}=e,g=Uk(Bv,n),[y,x]=v.useState(null),b=Ke(t,E=>x(E)),w=v.useRef(null),N=v.useRef(null),S=s||g.duration,k=v.useRef(0),j=v.useRef(S),_=v.useRef(0),{onToastAdd:C,onToastRemove:A}=g,O=Kn(()=>{var I;(y==null?void 0:y.contains(document.activeElement))&&((I=g.viewport)==null||I.focus()),o()}),M=v.useCallback(E=>{!E||E===1/0||(window.clearTimeout(_.current),k.current=new Date().getTime(),_.current=window.setTimeout(O,E))},[O]);v.useEffect(()=>{const E=g.viewport;if(E){const I=()=>{M(j.current),u==null||u()},T=()=>{const R=new Date().getTime()-k.current;j.current=j.current-R,window.clearTimeout(_.current),c==null||c()};return E.addEventListener(QA,T),E.addEventListener(ZA,I),()=>{E.removeEventListener(QA,T),E.removeEventListener(ZA,I)}}},[g.viewport,S,c,u,M]),v.useEffect(()=>{i&&!g.isClosePausedRef.current&&M(S)},[i,S,g.isClosePausedRef,M]),v.useEffect(()=>(C(),()=>A()),[C,A]);const P=v.useMemo(()=>y?U7(y):null,[y]);return g.viewport?a.jsxs(a.Fragment,{children:[P&&a.jsx(npe,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:P}),a.jsx(Zfe,{scope:n,onClose:O,children:Ta.createPortal(a.jsx(OD.ItemSlot,{scope:n,children:a.jsx(Dfe,{asChild:!0,onEscapeKeyDown:ge(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||O(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx($e.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...m,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ge(e.onKeyDown,E=>{E.key==="Escape"&&(l==null||l(E.nativeEvent),E.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:ge(e.onPointerDown,E=>{E.button===0&&(w.current={x:E.clientX,y:E.clientY})}),onPointerMove:ge(e.onPointerMove,E=>{if(!w.current)return;const I=E.clientX-w.current.x,T=E.clientY-w.current.y,R=!!N.current,L=["left","right"].includes(g.swipeDirection),D=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,F=L?D(0,I):0,z=L?0:D(0,T),B=E.pointerType==="touch"?10:2,$={x:F,y:z},W={originalEvent:E,delta:$};R?(N.current=$,sb(Xfe,h,W,{discrete:!1})):y4($,g.swipeDirection,B)?(N.current=$,sb(Yfe,d,W,{discrete:!1}),E.target.setPointerCapture(E.pointerId)):(Math.abs(I)>B||Math.abs(T)>B)&&(w.current=null)}),onPointerUp:ge(e.onPointerUp,E=>{const I=N.current,T=E.target;if(T.hasPointerCapture(E.pointerId)&&T.releasePointerCapture(E.pointerId),N.current=null,w.current=null,I){const R=E.currentTarget,L={originalEvent:E,delta:I};y4(I,g.swipeDirection,g.swipeThreshold)?sb(Qfe,p,L,{discrete:!0}):sb(Jfe,f,L,{discrete:!0}),R.addEventListener("click",D=>D.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),npe=e=>{const{__scopeToast:t,children:n,...r}=e,s=Uk(Bv,t),[i,o]=v.useState(!1),[l,c]=v.useState(!1);return ipe(()=>o(!0)),v.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(mm,{asChild:!0,children:a.jsx(zk,{...r,children:i&&a.jsxs(a.Fragment,{children:[s.label," ",n]})})})},rpe="ToastTitle",I7=v.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return a.jsx($e.div,{...r,ref:t})});I7.displayName=rpe;var spe="ToastDescription",L7=v.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return a.jsx($e.div,{...r,ref:t})});L7.displayName=spe;var $7="ToastAction",B7=v.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?a.jsx(z7,{altText:n,asChild:!0,children:a.jsx(MD,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${$7}\`. Expected non-empty \`string\`.`),null)});B7.displayName=$7;var F7="ToastClose",MD=v.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=epe(F7,n);return a.jsx(z7,{asChild:!0,children:a.jsx($e.button,{type:"button",...r,ref:t,onClick:ge(e.onClick,s.onClose)})})});MD.displayName=F7;var z7=v.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return a.jsx($e.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function U7(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),ope(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...U7(r))}}),t}function sb(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?TD(s,i):s.dispatchEvent(i)}var y4=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),i=r>s;return t==="left"||t==="right"?i&&r>n:!i&&s>n};function ipe(e=()=>{}){const t=Kn(e);rr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function ope(e){return e.nodeType===e.ELEMENT_NODE}function ape(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function HE(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var lpe=O7,H7=P7,W7=R7,V7=I7,G7=L7,q7=B7,K7=MD;function Y7(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Y7(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Et(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Y7(e))&&(r&&(r+=" "),r+=t);return r}const x4=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,v4=Et,Fv=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return v4(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],h=i==null?void 0:i[u];if(d===null)return null;const f=x4(d)||x4(h);return s[u][f]}),l=n&&Object.entries(n).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:f,...p}=d;return Object.entries(p).every(m=>{let[g,y]=m;return Array.isArray(y)?y.includes({...i,...l}[g]):{...i,...l}[g]===y})?[...u,h,f]:u},[]);return v4(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cpe=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),X7=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var upe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dpe=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...l},c)=>v.createElement("svg",{ref:c,...upe,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:X7("lucide",s),...l},[...o.map(([u,d])=>v.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=(e,t)=>{const n=v.forwardRef(({className:r,...s},i)=>v.createElement(dpe,{ref:i,iconNode:t,className:X7(`lucide-${cpe(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gd=ie("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hpe=ie("AlignCenter",[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fpe=ie("AlignJustify",[["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 18h18",key:"1h113x"}],["path",{d:"M3 6h18",key:"d0wm0j"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ppe=ie("AlignLeft",[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mpe=ie("AlignRight",[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=ie("Apple",[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gpe=ie("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=ie("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J7=ie("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=ie("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=ie("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=ie("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=ie("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ype=ie("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xpe=ie("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q7=ie("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vpe=ie("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=ie("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=ie("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bpe=ie("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wpe=ie("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=ie("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=ie("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=ie("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=ie("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=ie("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=ie("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Spe=ie("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=ie("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=ie("CirclePause",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=ie("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z7=ie("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=ie("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=ie("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=ie("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eq=ie("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=ie("Columns2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tq=ie("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=ie("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=ie("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=ie("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=ie("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=ie("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=ie("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nq=ie("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Npe=ie("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kpe=ie("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=ie("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=ie("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=ie("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=ie("Folders",[["path",{d:"M20 17a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3.9a2 2 0 0 1-1.69-.9l-.81-1.2a2 2 0 0 0-1.67-.9H8a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2Z",key:"4u7rpt"}],["path",{d:"M2 8v11a2 2 0 0 0 2 2h14",key:"1eicx1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jpe=ie("Footprints",[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=ie("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ld=ie("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rq=ie("Heading1",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sq=ie("Heading2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _pe=ie("Heading3",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=ie("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Epe=ie("Highlighter",[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cpe=ie("ImagePlus",[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=ie("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tpe=ie("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=ie("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ape=ie("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ope=ie("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iq=ie("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mpe=ie("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oq=ie("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aq=ie("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=ie("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=ie("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=ie("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ppe=ie("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lq=ie("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dpe=ie("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cq=ie("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rpe=ie("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ipe=ie("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lpe=ie("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uq=ie("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=ie("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $pe=ie("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bpe=ie("Paintbrush",[["path",{d:"m14.622 17.897-10.68-2.913",key:"vj2p1u"}],["path",{d:"M18.376 2.622a1 1 0 1 1 3.002 3.002L17.36 9.643a.5.5 0 0 0 0 .707l.944.944a2.41 2.41 0 0 1 0 3.408l-.944.944a.5.5 0 0 1-.707 0L8.354 7.348a.5.5 0 0 1 0-.707l.944-.944a2.41 2.41 0 0 1 3.408 0l.944.944a.5.5 0 0 0 .707 0z",key:"18tc5c"}],["path",{d:"M9 8c-1.804 2.71-3.97 3.46-6.583 3.948a.507.507 0 0 0-.302.819l7.32 8.883a1 1 0 0 0 1.185.204C12.735 20.405 16 16.792 16 15",key:"ytzfxy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dq=ie("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=ie("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fpe=ie("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=ie("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=ie("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2V5z",key:"1ivx2i"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h.01",key:"xkw8gn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zpe=ie("Pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hq=ie("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=ie("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fq=ie("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Upe=ie("Redo2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=ie("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pq=ie("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mq=ie("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hpe=ie("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=ie("Rows2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 12h18",key:"1i2n21"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=ie("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=ie("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=ie("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=ie("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wpe=ie("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=ie("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vpe=ie("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ig=ie("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=ie("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gq=ie("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=ie("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gpe=ie("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=ie("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=ie("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yq=ie("Strikethrough",[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=ie("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=ie("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=ie("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qpe=ie("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=ie("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=ie("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=ie("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=ie("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=ie("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=ie("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xq=ie("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=ie("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=ie("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=ie("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=ie("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vq=ie("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=ie("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yd=ie("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bq=ie("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wq=ie("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kpe=ie("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ype=ie("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),zD="-",Xpe=e=>{const t=Qpe(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(zD);return l[0]===""&&l.length!==1&&l.shift(),Sq(l,t)||Jpe(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},Sq=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?Sq(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(zD);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},E4=/^\[(.+)\]$/,Jpe=e=>{if(E4.test(e)){const t=E4.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Qpe=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return eme(Object.entries(e.classGroups),n).forEach(([i,o])=>{iO(o,r,i,t)}),r},iO=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:C4(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(Zpe(s)){iO(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{iO(o,C4(t,i),n,r)})})},C4=(e,t)=>{let n=e;return t.split(zD).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Zpe=e=>e.isThemeGetter,eme=(e,t)=>t?e.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[n,s]}):e,tme=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},Nq="!",nme=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,h;for(let y=0;y<l.length;y++){let x=l[y];if(u===0){if(x===s&&(r||l.slice(y,y+i)===t)){c.push(l.slice(d,y)),d=y+i;continue}if(x==="/"){h=y;continue}}x==="["?u++:x==="]"&&u--}const f=c.length===0?l:l.substring(d),p=f.startsWith(Nq),m=p?f.substring(1):f,g=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:g}};return n?l=>n({className:l,parseClassName:o}):o},rme=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},sme=e=>({cache:tme(e.cacheSize),parseClassName:nme(e),...Xpe(e)}),ime=/\s+/,ome=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(ime);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=n(u);let m=!!p,g=r(m?f.substring(0,p):f);if(!g){if(!m){l=u+(l.length>0?" "+l:l);continue}if(g=r(f),!g){l=u+(l.length>0?" "+l:l);continue}m=!1}const y=rme(d).join(":"),x=h?y+Nq:y,b=x+g;if(i.includes(b))continue;i.push(b);const w=s(g,m);for(let N=0;N<w.length;++N){const S=w[N];i.push(x+S)}l=u+(l.length>0?" "+l:l)}return l};function ame(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=kq(t))&&(r&&(r+=" "),r+=n);return r}const kq=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=kq(e[r]))&&(n&&(n+=" "),n+=t);return n};function lme(e,...t){let n,r,s,i=o;function o(c){const u=t.reduce((d,h)=>h(d),e());return n=sme(u),r=n.cache.get,s=n.cache.set,i=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=ome(c,n);return s(c,d),d}return function(){return i(ame.apply(null,arguments))}}const pn=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},jq=/^\[(?:([a-z-]+):)?(.+)\]$/i,cme=/^\d+\/\d+$/,ume=new Set(["px","full","screen"]),dme=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,hme=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fme=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,pme=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,mme=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,$a=e=>Rf(e)||ume.has(e)||cme.test(e),zl=e=>xm(e,"length",Nme),Rf=e=>!!e&&!Number.isNaN(Number(e)),YE=e=>xm(e,"number",Rf),tg=e=>!!e&&Number.isInteger(Number(e)),gme=e=>e.endsWith("%")&&Rf(e.slice(0,-1)),lt=e=>jq.test(e),Ul=e=>dme.test(e),yme=new Set(["length","size","percentage"]),xme=e=>xm(e,yme,_q),vme=e=>xm(e,"position",_q),bme=new Set(["image","url"]),wme=e=>xm(e,bme,jme),Sme=e=>xm(e,"",kme),ng=()=>!0,xm=(e,t,n)=>{const r=jq.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},Nme=e=>hme.test(e)&&!fme.test(e),_q=()=>!1,kme=e=>pme.test(e),jme=e=>mme.test(e),_me=()=>{const e=pn("colors"),t=pn("spacing"),n=pn("blur"),r=pn("brightness"),s=pn("borderColor"),i=pn("borderRadius"),o=pn("borderSpacing"),l=pn("borderWidth"),c=pn("contrast"),u=pn("grayscale"),d=pn("hueRotate"),h=pn("invert"),f=pn("gap"),p=pn("gradientColorStops"),m=pn("gradientColorStopPositions"),g=pn("inset"),y=pn("margin"),x=pn("opacity"),b=pn("padding"),w=pn("saturate"),N=pn("scale"),S=pn("sepia"),k=pn("skew"),j=pn("space"),_=pn("translate"),C=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",lt,t],M=()=>[lt,t],P=()=>["",$a,zl],E=()=>["auto",Rf,lt],I=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],T=()=>["solid","dashed","dotted","double","none"],R=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",lt],F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[Rf,lt];return{cacheSize:500,separator:":",theme:{colors:[ng],spacing:[$a,zl],blur:["none","",Ul,lt],brightness:z(),borderColor:[e],borderRadius:["none","","full",Ul,lt],borderSpacing:M(),borderWidth:P(),contrast:z(),grayscale:D(),hueRotate:z(),invert:D(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[gme,zl],inset:O(),margin:O(),opacity:z(),padding:M(),saturate:z(),scale:z(),sepia:D(),skew:z(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",lt]}],container:["container"],columns:[{columns:[Ul]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...I(),lt]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",tg,lt]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",lt]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",tg,lt]}],"grid-cols":[{"grid-cols":[ng]}],"col-start-end":[{col:["auto",{span:["full",tg,lt]},lt]}],"col-start":[{"col-start":E()}],"col-end":[{"col-end":E()}],"grid-rows":[{"grid-rows":[ng]}],"row-start-end":[{row:["auto",{span:[tg,lt]},lt]}],"row-start":[{"row-start":E()}],"row-end":[{"row-end":E()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",lt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",lt]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",lt,t]}],"min-w":[{"min-w":[lt,t,"min","max","fit"]}],"max-w":[{"max-w":[lt,t,"none","full","min","max","fit","prose",{screen:[Ul]},Ul]}],h:[{h:[lt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[lt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[lt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[lt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ul,zl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",YE]}],"font-family":[{font:[ng]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",lt]}],"line-clamp":[{"line-clamp":["none",Rf,YE]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",$a,lt]}],"list-image":[{"list-image":["none",lt]}],"list-style-type":[{list:["none","disc","decimal",lt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...T(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",$a,zl]}],"underline-offset":[{"underline-offset":["auto",$a,lt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",lt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",lt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...I(),vme]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",xme]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},wme]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...T(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:T()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...T()]}],"outline-offset":[{"outline-offset":[$a,lt]}],"outline-w":[{outline:[$a,zl]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[$a,zl]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ul,Sme]}],"shadow-color":[{shadow:[ng]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...R(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":R()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ul,lt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",lt]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",lt]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",lt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[tg,lt]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",lt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",lt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",lt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[$a,zl,YE]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Eme=lme(_me);function me(...e){return Eme(Et(e))}const Cme=lpe,Eq=v.forwardRef(({className:e,...t},n)=>a.jsx(H7,{ref:n,className:me("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Eq.displayName=H7.displayName;const Tme=Fv("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Cq=v.forwardRef(({className:e,variant:t,...n},r)=>a.jsx(W7,{ref:r,className:me(Tme({variant:t}),e),...n}));Cq.displayName=W7.displayName;const Ame=v.forwardRef(({className:e,...t},n)=>a.jsx(q7,{ref:n,className:me("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));Ame.displayName=q7.displayName;const Tq=v.forwardRef(({className:e,...t},n)=>a.jsx(K7,{ref:n,className:me("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(zo,{className:"h-4 w-4"})}));Tq.displayName=K7.displayName;const Aq=v.forwardRef(({className:e,...t},n)=>a.jsx(V7,{ref:n,className:me("text-sm font-semibold",e),...t}));Aq.displayName=V7.displayName;const Oq=v.forwardRef(({className:e,...t},n)=>a.jsx(G7,{ref:n,className:me("text-sm opacity-90",e),...t}));Oq.displayName=G7.displayName;function Ome(){const{toasts:e}=hfe();return a.jsxs(Cme,{children:[e.map(function({id:t,title:n,description:r,action:s,...i}){return a.jsxs(Cq,{...i,children:[a.jsxs("div",{className:"grid gap-1",children:[n&&a.jsx(Aq,{children:n}),r&&a.jsx(Oq,{children:r})]}),s,a.jsx(Tq,{})]},t)}),a.jsx(Eq,{})]})}var T4=["light","dark"],Mme="(prefers-color-scheme: dark)",Pme=v.createContext(void 0),Dme={setTheme:e=>{},themes:[]},Rme=()=>{var e;return(e=v.useContext(Pme))!=null?e:Dme};v.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(m=>`'${m}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=s?T4.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(m,g=!1,y=!0)=>{let x=o?o[m]:m,b=g?m+"|| ''":`'${x}'`,w="";return s&&y&&!g&&T4.includes(m)&&(w+=`d.style.colorScheme = '${m}';`),n==="class"?g||x?w+=`c.add(${b})`:w+="null":x&&(w+=`d[s](n,${b})`),w},p=e?`!function(){${d}${f(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${Mme}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${u?"":"else{"+f(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${h}}catch(t){}}();`;return v.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var Ime=e=>{switch(e){case"success":return Bme;case"info":return zme;case"warning":return Fme;case"error":return Ume;default:return null}},Lme=Array(12).fill(0),$me=({visible:e,className:t})=>H.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},H.createElement("div",{className:"sonner-spinner"},Lme.map((n,r)=>H.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Bme=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Fme=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),zme=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Ume=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Hme=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},H.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),H.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Wme=()=>{let[e,t]=H.useState(document.hidden);return H.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},oO=1,Vme=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:oO++,i=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:n}),{...l,...e,id:s,dismissible:o,title:n}):l):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0,i,o=r.then(async c=>{if(i=["resolve",c],H.isValidElement(c))s=!1,this.create({id:n,type:"default",message:c});else if(qme(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:n,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(n),n=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||oO++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ls=new Vme,Gme=(e,t)=>{let n=(t==null?void 0:t.id)||oO++;return Ls.addToast({title:e,...t,id:n}),n},qme=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Kme=Gme,Yme=()=>Ls.toasts,Xme=()=>Ls.getActiveToasts(),J=Object.assign(Kme,{success:Ls.success,info:Ls.info,warning:Ls.warning,error:Ls.error,custom:Ls.custom,message:Ls.message,promise:Ls.promise,dismiss:Ls.dismiss,loading:Ls.loading},{getHistory:Yme,getToasts:Xme});function Jme(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}Jme(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function ab(e){return e.label!==void 0}var Qme=3,Zme="32px",ege="16px",A4=4e3,tge=356,nge=14,rge=20,sge=200;function io(...e){return e.filter(Boolean).join(" ")}function ige(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var oge=e=>{var t,n,r,s,i,o,l,c,u,d,h;let{invert:f,toast:p,unstyled:m,interacting:g,setHeights:y,visibleToasts:x,heights:b,index:w,toasts:N,expanded:S,removeToast:k,defaultRichColors:j,closeButton:_,style:C,cancelButtonStyle:A,actionButtonStyle:O,className:M="",descriptionClassName:P="",duration:E,position:I,gap:T,loadingIcon:R,expandByDefault:L,classNames:D,icons:F,closeButtonAriaLabel:z="Close toast",pauseWhenPageIsHidden:B}=e,[$,W]=H.useState(null),[V,Y]=H.useState(null),[G,Z]=H.useState(!1),[q,ee]=H.useState(!1),[se,X]=H.useState(!1),[de,pe]=H.useState(!1),[Se,be]=H.useState(!1),[Ae,ne]=H.useState(0),[Je,qe]=H.useState(0),De=H.useRef(p.duration||E||A4),gt=H.useRef(null),St=H.useRef(null),qt=w===0,In=w+1<=x,fe=p.type,Ne=p.dismissible!==!1,ae=p.className||"",Oe=p.descriptionClassName||"",at=H.useMemo(()=>b.findIndex(Ge=>Ge.toastId===p.id)||0,[b,p.id]),yt=H.useMemo(()=>{var Ge;return(Ge=p.closeButton)!=null?Ge:_},[p.closeButton,_]),ln=H.useMemo(()=>p.duration||E||A4,[p.duration,E]),Tt=H.useRef(0),Tn=H.useRef(0),ms=H.useRef(0),Qn=H.useRef(null),[sr,Si]=I.split("-"),Ln=H.useMemo(()=>b.reduce((Ge,xt,Rt)=>Rt>=at?Ge:Ge+xt.height,0),[b,at]),Ps=Wme(),gs=p.invert||f,Js=fe==="loading";Tn.current=H.useMemo(()=>at*T+Ln,[at,Ln]),H.useEffect(()=>{De.current=ln},[ln]),H.useEffect(()=>{Z(!0)},[]),H.useEffect(()=>{let Ge=St.current;if(Ge){let xt=Ge.getBoundingClientRect().height;return qe(xt),y(Rt=>[{toastId:p.id,height:xt,position:p.position},...Rt]),()=>y(Rt=>Rt.filter(Lr=>Lr.toastId!==p.id))}},[y,p.id]),H.useLayoutEffect(()=>{if(!G)return;let Ge=St.current,xt=Ge.style.height;Ge.style.height="auto";let Rt=Ge.getBoundingClientRect().height;Ge.style.height=xt,qe(Rt),y(Lr=>Lr.find(Qt=>Qt.toastId===p.id)?Lr.map(Qt=>Qt.toastId===p.id?{...Qt,height:Rt}:Qt):[{toastId:p.id,height:Rt,position:p.position},...Lr])},[G,p.title,p.description,y,p.id]);let $n=H.useCallback(()=>{ee(!0),ne(Tn.current),y(Ge=>Ge.filter(xt=>xt.toastId!==p.id)),setTimeout(()=>{k(p)},sge)},[p,k,y,Tn]);H.useEffect(()=>{if(p.promise&&fe==="loading"||p.duration===1/0||p.type==="loading")return;let Ge;return S||g||B&&Ps?(()=>{if(ms.current<Tt.current){let xt=new Date().getTime()-Tt.current;De.current=De.current-xt}ms.current=new Date().getTime()})():De.current!==1/0&&(Tt.current=new Date().getTime(),Ge=setTimeout(()=>{var xt;(xt=p.onAutoClose)==null||xt.call(p,p),$n()},De.current)),()=>clearTimeout(Ge)},[S,g,p,fe,B,Ps,$n]),H.useEffect(()=>{p.delete&&$n()},[$n,p.delete]);function Ds(){var Ge,xt,Rt;return F!=null&&F.loading?H.createElement("div",{className:io(D==null?void 0:D.loader,(Ge=p==null?void 0:p.classNames)==null?void 0:Ge.loader,"sonner-loader"),"data-visible":fe==="loading"},F.loading):R?H.createElement("div",{className:io(D==null?void 0:D.loader,(xt=p==null?void 0:p.classNames)==null?void 0:xt.loader,"sonner-loader"),"data-visible":fe==="loading"},R):H.createElement($me,{className:io(D==null?void 0:D.loader,(Rt=p==null?void 0:p.classNames)==null?void 0:Rt.loader),visible:fe==="loading"})}return H.createElement("li",{tabIndex:0,ref:St,className:io(M,ae,D==null?void 0:D.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,D==null?void 0:D.default,D==null?void 0:D[fe],(n=p==null?void 0:p.classNames)==null?void 0:n[fe]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:j,"data-styled":!(p.jsx||p.unstyled||m),"data-mounted":G,"data-promise":!!p.promise,"data-swiped":Se,"data-removed":q,"data-visible":In,"data-y-position":sr,"data-x-position":Si,"data-index":w,"data-front":qt,"data-swiping":se,"data-dismissible":Ne,"data-type":fe,"data-invert":gs,"data-swipe-out":de,"data-swipe-direction":V,"data-expanded":!!(S||L&&G),style:{"--index":w,"--toasts-before":w,"--z-index":N.length-w,"--offset":`${q?Ae:Tn.current}px`,"--initial-height":L?"auto":`${Je}px`,...C,...p.style},onDragEnd:()=>{X(!1),W(null),Qn.current=null},onPointerDown:Ge=>{Js||!Ne||(gt.current=new Date,ne(Tn.current),Ge.target.setPointerCapture(Ge.pointerId),Ge.target.tagName!=="BUTTON"&&(X(!0),Qn.current={x:Ge.clientX,y:Ge.clientY}))},onPointerUp:()=>{var Ge,xt,Rt,Lr;if(de||!Ne)return;Qn.current=null;let Qt=Number(((Ge=St.current)==null?void 0:Ge.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),jr=Number(((xt=St.current)==null?void 0:xt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),hn=new Date().getTime()-((Rt=gt.current)==null?void 0:Rt.getTime()),Bn=$==="x"?Qt:jr,Nn=Math.abs(Bn)/hn;if(Math.abs(Bn)>=rge||Nn>.11){ne(Tn.current),(Lr=p.onDismiss)==null||Lr.call(p,p),Y($==="x"?Qt>0?"right":"left":jr>0?"down":"up"),$n(),pe(!0),be(!1);return}X(!1),W(null)},onPointerMove:Ge=>{var xt,Rt,Lr,Qt;if(!Qn.current||!Ne||((xt=window.getSelection())==null?void 0:xt.toString().length)>0)return;let jr=Ge.clientY-Qn.current.y,hn=Ge.clientX-Qn.current.x,Bn=(Rt=e.swipeDirections)!=null?Rt:ige(I);!$&&(Math.abs(hn)>1||Math.abs(jr)>1)&&W(Math.abs(hn)>Math.abs(jr)?"x":"y");let Nn={x:0,y:0};$==="y"?(Bn.includes("top")||Bn.includes("bottom"))&&(Bn.includes("top")&&jr<0||Bn.includes("bottom")&&jr>0)&&(Nn.y=jr):$==="x"&&(Bn.includes("left")||Bn.includes("right"))&&(Bn.includes("left")&&hn<0||Bn.includes("right")&&hn>0)&&(Nn.x=hn),(Math.abs(Nn.x)>0||Math.abs(Nn.y)>0)&&be(!0),(Lr=St.current)==null||Lr.style.setProperty("--swipe-amount-x",`${Nn.x}px`),(Qt=St.current)==null||Qt.style.setProperty("--swipe-amount-y",`${Nn.y}px`)}},yt&&!p.jsx?H.createElement("button",{"aria-label":z,"data-disabled":Js,"data-close-button":!0,onClick:Js||!Ne?()=>{}:()=>{var Ge;$n(),(Ge=p.onDismiss)==null||Ge.call(p,p)},className:io(D==null?void 0:D.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(i=F==null?void 0:F.close)!=null?i:Hme):null,p.jsx||v.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:H.createElement(H.Fragment,null,fe||p.icon||p.promise?H.createElement("div",{"data-icon":"",className:io(D==null?void 0:D.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Ds():null,p.type!=="loading"?p.icon||(F==null?void 0:F[fe])||Ime(fe):null):null,H.createElement("div",{"data-content":"",className:io(D==null?void 0:D.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},H.createElement("div",{"data-title":"",className:io(D==null?void 0:D.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?H.createElement("div",{"data-description":"",className:io(P,Oe,D==null?void 0:D.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),v.isValidElement(p.cancel)?p.cancel:p.cancel&&ab(p.cancel)?H.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||A,onClick:Ge=>{var xt,Rt;ab(p.cancel)&&Ne&&((Rt=(xt=p.cancel).onClick)==null||Rt.call(xt,Ge),$n())},className:io(D==null?void 0:D.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,v.isValidElement(p.action)?p.action:p.action&&ab(p.action)?H.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||O,onClick:Ge=>{var xt,Rt;ab(p.action)&&((Rt=(xt=p.action).onClick)==null||Rt.call(xt,Ge),!Ge.defaultPrevented&&$n())},className:io(D==null?void 0:D.actionButton,(h=p==null?void 0:p.classNames)==null?void 0:h.actionButton)},p.action.label):null))};function O4(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function age(e,t){let n={};return[e,t].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",l=i?ege:Zme;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=l:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(l)}),n}var lge=v.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:h,duration:f,style:p,visibleToasts:m=Qme,toastOptions:g,dir:y=O4(),gap:x=nge,loadingIcon:b,icons:w,containerAriaLabel:N="Notifications",pauseWhenPageIsHidden:S}=e,[k,j]=H.useState([]),_=H.useMemo(()=>Array.from(new Set([r].concat(k.filter(B=>B.position).map(B=>B.position)))),[k,r]),[C,A]=H.useState([]),[O,M]=H.useState(!1),[P,E]=H.useState(!1),[I,T]=H.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),R=H.useRef(null),L=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=H.useRef(null),F=H.useRef(!1),z=H.useCallback(B=>{j($=>{var W;return(W=$.find(V=>V.id===B.id))!=null&&W.delete||Ls.dismiss(B.id),$.filter(({id:V})=>V!==B.id)})},[]);return H.useEffect(()=>Ls.subscribe(B=>{if(B.dismiss){j($=>$.map(W=>W.id===B.id?{...W,delete:!0}:W));return}setTimeout(()=>{CD.flushSync(()=>{j($=>{let W=$.findIndex(V=>V.id===B.id);return W!==-1?[...$.slice(0,W),{...$[W],...B},...$.slice(W+1)]:[B,...$]})})})}),[]),H.useEffect(()=>{if(d!=="system"){T(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?T("dark"):T("light")),typeof window>"u")return;let B=window.matchMedia("(prefers-color-scheme: dark)");try{B.addEventListener("change",({matches:$})=>{T($?"dark":"light")})}catch{B.addListener(({matches:W})=>{try{T(W?"dark":"light")}catch(V){console.error(V)}})}},[d]),H.useEffect(()=>{k.length<=1&&M(!1)},[k]),H.useEffect(()=>{let B=$=>{var W,V;s.every(Y=>$[Y]||$.code===Y)&&(M(!0),(W=R.current)==null||W.focus()),$.code==="Escape"&&(document.activeElement===R.current||(V=R.current)!=null&&V.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",B),()=>document.removeEventListener("keydown",B)},[s]),H.useEffect(()=>{if(R.current)return()=>{D.current&&(D.current.focus({preventScroll:!0}),D.current=null,F.current=!1)}},[R.current]),H.createElement("section",{ref:t,"aria-label":`${N} ${L}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},_.map((B,$)=>{var W;let[V,Y]=B.split("-");return k.length?H.createElement("ol",{key:B,dir:y==="auto"?O4():y,tabIndex:-1,ref:R,className:l,"data-sonner-toaster":!0,"data-theme":I,"data-y-position":V,"data-lifted":O&&k.length>1&&!i,"data-x-position":Y,style:{"--front-toast-height":`${((W=C[0])==null?void 0:W.height)||0}px`,"--width":`${tge}px`,"--gap":`${x}px`,...p,...age(c,u)},onBlur:G=>{F.current&&!G.currentTarget.contains(G.relatedTarget)&&(F.current=!1,D.current&&(D.current.focus({preventScroll:!0}),D.current=null))},onFocus:G=>{G.target instanceof HTMLElement&&G.target.dataset.dismissible==="false"||F.current||(F.current=!0,D.current=G.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{P||M(!1)},onDragEnd:()=>M(!1),onPointerDown:G=>{G.target instanceof HTMLElement&&G.target.dataset.dismissible==="false"||E(!0)},onPointerUp:()=>E(!1)},k.filter(G=>!G.position&&$===0||G.position===B).map((G,Z)=>{var q,ee;return H.createElement(oge,{key:G.id,icons:w,index:Z,toast:G,defaultRichColors:h,duration:(q=g==null?void 0:g.duration)!=null?q:f,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:n,visibleToasts:m,closeButton:(ee=g==null?void 0:g.closeButton)!=null?ee:o,interacting:P,position:B,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:z,toasts:k.filter(se=>se.position==G.position),heights:C.filter(se=>se.position==G.position),setHeights:A,expandByDefault:i,gap:x,loadingIcon:b,expanded:O,pauseWhenPageIsHidden:S,swipeDirections:e.swipeDirections})})):null}))});const cge=({...e})=>{const{theme:t="system"}=Rme();return a.jsx(lge,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var uge=Pv[" useId ".trim().toString()]||(()=>{}),dge=0;function Hi(e){const[t,n]=v.useState(uge());return rr(()=>{n(r=>r??String(dge++))},[e]),t?`radix-${t}`:""}const Mq=["top","right","bottom","left"],M4=["start","end"],P4=Mq.reduce((e,t)=>e.concat(t,t+"-"+M4[0],t+"-"+M4[1]),[]),Uo=Math.min,rs=Math.max,G1=Math.round,lb=Math.floor,xa=e=>({x:e,y:e}),hge={left:"right",right:"left",bottom:"top",top:"bottom"},fge={start:"end",end:"start"};function aO(e,t,n){return rs(e,Uo(t,n))}function Ho(e,t){return typeof e=="function"?e(t):e}function yi(e){return e.split("-")[0]}function Io(e){return e.split("-")[1]}function UD(e){return e==="x"?"y":"x"}function HD(e){return e==="y"?"height":"width"}const pge=new Set(["top","bottom"]);function To(e){return pge.has(yi(e))?"y":"x"}function WD(e){return UD(To(e))}function Pq(e,t,n){n===void 0&&(n=!1);const r=Io(e),s=WD(e),i=HD(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=K1(o)),[o,K1(o)]}function mge(e){const t=K1(e);return[q1(e),t,q1(t)]}function q1(e){return e.replace(/start|end/g,t=>fge[t])}const D4=["left","right"],R4=["right","left"],gge=["top","bottom"],yge=["bottom","top"];function xge(e,t,n){switch(e){case"top":case"bottom":return n?t?R4:D4:t?D4:R4;case"left":case"right":return t?gge:yge;default:return[]}}function vge(e,t,n,r){const s=Io(e);let i=xge(yi(e),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(q1)))),i}function K1(e){return e.replace(/left|right|bottom|top/g,t=>hge[t])}function bge(e){return{top:0,right:0,bottom:0,left:0,...e}}function VD(e){return typeof e!="number"?bge(e):{top:e,right:e,bottom:e,left:e}}function Sp(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function I4(e,t,n){let{reference:r,floating:s}=e;const i=To(t),o=WD(t),l=HD(o),c=yi(t),u=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,f=r[l]/2-s[l]/2;let p;switch(c){case"top":p={x:d,y:r.y-s.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:h};break;case"left":p={x:r.x-s.width,y:h};break;default:p={x:r.x,y:r.y}}switch(Io(t)){case"start":p[o]-=f*(n&&u?-1:1);break;case"end":p[o]+=f*(n&&u?-1:1);break}return p}const wge=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:h}=I4(u,r,c),f=r,p={},m=0;for(let g=0;g<l.length;g++){const{name:y,fn:x}=l[g],{x:b,y:w,data:N,reset:S}=await x({x:d,y:h,initialPlacement:r,placement:f,strategy:s,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});d=b??d,h=w??h,p={...p,[y]:{...p[y],...N}},S&&m<=50&&(m++,typeof S=="object"&&(S.placement&&(f=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:d,y:h}=I4(u,f,c)),g=-1)}return{x:d,y:h,placement:f,strategy:s,middlewareData:p}};async function Np(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=Ho(t,e),m=VD(p),y=l[f?h==="floating"?"reference":"floating":h],x=Sp(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(y)))==null||n?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),b=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),N=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},S=Sp(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:w,strategy:c}):b);return{top:(x.top-S.top+m.top)/N.y,bottom:(S.bottom-x.bottom+m.bottom)/N.y,left:(x.left-S.left+m.left)/N.x,right:(S.right-x.right+m.right)/N.x}}const Sge=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Ho(e,t)||{};if(u==null)return{};const h=VD(d),f={x:n,y:r},p=WD(s),m=HD(p),g=await o.getDimensions(u),y=p==="y",x=y?"top":"left",b=y?"bottom":"right",w=y?"clientHeight":"clientWidth",N=i.reference[m]+i.reference[p]-f[p]-i.floating[m],S=f[p]-i.reference[p],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let j=k?k[w]:0;(!j||!await(o.isElement==null?void 0:o.isElement(k)))&&(j=l.floating[w]||i.floating[m]);const _=N/2-S/2,C=j/2-g[m]/2-1,A=Uo(h[x],C),O=Uo(h[b],C),M=A,P=j-g[m]-O,E=j/2-g[m]/2+_,I=aO(M,E,P),T=!c.arrow&&Io(s)!=null&&E!==I&&i.reference[m]/2-(E<M?A:O)-g[m]/2<0,R=T?E<M?E-M:E-P:0;return{[p]:f[p]+R,data:{[p]:I,centerOffset:E-I-R,...T&&{alignmentOffset:R}},reset:T}}});function Nge(e,t,n){return(e?[...n.filter(s=>Io(s)===e),...n.filter(s=>Io(s)!==e)]:n.filter(s=>yi(s)===s)).filter(s=>e?Io(s)===e||(t?q1(s)!==s:!1):!0)}const kge=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(t){var n,r,s;const{rects:i,middlewareData:o,placement:l,platform:c,elements:u}=t,{crossAxis:d=!1,alignment:h,allowedPlacements:f=P4,autoAlignment:p=!0,...m}=Ho(e,t),g=h!==void 0||f===P4?Nge(h||null,p,f):f,y=await Np(t,m),x=((n=o.autoPlacement)==null?void 0:n.index)||0,b=g[x];if(b==null)return{};const w=Pq(b,i,await(c.isRTL==null?void 0:c.isRTL(u.floating)));if(l!==b)return{reset:{placement:g[0]}};const N=[y[yi(b)],y[w[0]],y[w[1]]],S=[...((r=o.autoPlacement)==null?void 0:r.overflows)||[],{placement:b,overflows:N}],k=g[x+1];if(k)return{data:{index:x+1,overflows:S},reset:{placement:k}};const j=S.map(A=>{const O=Io(A.placement);return[A.placement,O&&d?A.overflows.slice(0,2).reduce((M,P)=>M+P,0):A.overflows[0],A.overflows]}).sort((A,O)=>A[1]-O[1]),C=((s=j.filter(A=>A[2].slice(0,Io(A[0])?2:3).every(O=>O<=0))[0])==null?void 0:s[0])||j[0][0];return C!==l?{data:{index:x+1,overflows:S},reset:{placement:C}}:{}}}},jge=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...y}=Ho(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=yi(s),b=To(l),w=yi(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=f||(w||!g?[K1(l)]:mge(l)),k=m!=="none";!f&&k&&S.push(...vge(l,g,m,N));const j=[l,...S],_=await Np(t,y),C=[];let A=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&C.push(_[x]),h){const E=Pq(s,o,N);C.push(_[E[0]],_[E[1]])}if(A=[...A,{placement:s,overflows:C}],!C.every(E=>E<=0)){var O,M;const E=(((O=i.flip)==null?void 0:O.index)||0)+1,I=j[E];if(I&&(!(h==="alignment"?b!==To(I):!1)||A.every(L=>To(L.placement)===b?L.overflows[0]>0:!0)))return{data:{index:E,overflows:A},reset:{placement:I}};let T=(M=A.filter(R=>R.overflows[0]<=0).sort((R,L)=>R.overflows[1]-L.overflows[1])[0])==null?void 0:M.placement;if(!T)switch(p){case"bestFit":{var P;const R=(P=A.filter(L=>{if(k){const D=To(L.placement);return D===b||D==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(D=>D>0).reduce((D,F)=>D+F,0)]).sort((L,D)=>L[1]-D[1])[0])==null?void 0:P[0];R&&(T=R);break}case"initialPlacement":T=l;break}if(s!==T)return{reset:{placement:T}}}return{}}}};function L4(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function $4(e){return Mq.some(t=>e[t]>=0)}const _ge=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=Ho(e,t);switch(r){case"referenceHidden":{const i=await Np(t,{...s,elementContext:"reference"}),o=L4(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:$4(o)}}}case"escaped":{const i=await Np(t,{...s,altBoundary:!0}),o=L4(i,n.floating);return{data:{escapedOffsets:o,escaped:$4(o)}}}default:return{}}}}};function Dq(e){const t=Uo(...e.map(i=>i.left)),n=Uo(...e.map(i=>i.top)),r=rs(...e.map(i=>i.right)),s=rs(...e.map(i=>i.bottom));return{x:t,y:n,width:r-t,height:s-n}}function Ege(e){const t=e.slice().sort((s,i)=>s.y-i.y),n=[];let r=null;for(let s=0;s<t.length;s++){const i=t[s];!r||i.y-r.y>r.height/2?n.push([i]):n[n.length-1].push(i),r=i}return n.map(s=>Sp(Dq(s)))}const Cge=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:s,platform:i,strategy:o}=t,{padding:l=2,x:c,y:u}=Ho(e,t),d=Array.from(await(i.getClientRects==null?void 0:i.getClientRects(r.reference))||[]),h=Ege(d),f=Sp(Dq(d)),p=VD(l);function m(){if(h.length===2&&h[0].left>h[1].right&&c!=null&&u!=null)return h.find(y=>c>y.left-p.left&&c<y.right+p.right&&u>y.top-p.top&&u<y.bottom+p.bottom)||f;if(h.length>=2){if(To(n)==="y"){const A=h[0],O=h[h.length-1],M=yi(n)==="top",P=A.top,E=O.bottom,I=M?A.left:O.left,T=M?A.right:O.right,R=T-I,L=E-P;return{top:P,bottom:E,left:I,right:T,width:R,height:L,x:I,y:P}}const y=yi(n)==="left",x=rs(...h.map(A=>A.right)),b=Uo(...h.map(A=>A.left)),w=h.filter(A=>y?A.left===b:A.right===x),N=w[0].top,S=w[w.length-1].bottom,k=b,j=x,_=j-k,C=S-N;return{top:N,bottom:S,left:k,right:j,width:_,height:C,x:k,y:N}}return f}const g=await i.getElementRects({reference:{getBoundingClientRect:m},floating:r.floating,strategy:o});return s.reference.x!==g.reference.x||s.reference.y!==g.reference.y||s.reference.width!==g.reference.width||s.reference.height!==g.reference.height?{reset:{rects:g}}:{}}}},Rq=new Set(["left","top"]);async function Tge(e,t){const{placement:n,platform:r,elements:s}=e,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=yi(n),l=Io(n),c=To(n)==="y",u=Rq.has(o)?-1:1,d=i&&c?-1:1,h=Ho(t,e);let{mainAxis:f,crossAxis:p,alignmentAxis:m}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof m=="number"&&(p=l==="end"?m*-1:m),c?{x:p*d,y:f*u}:{x:f*u,y:p*d}}const Age=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:i,placement:o,middlewareData:l}=t,c=await Tge(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},Oge=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:y=>{let{x,y:b}=y;return{x,y:b}}},...c}=Ho(e,t),u={x:n,y:r},d=await Np(t,c),h=To(yi(s)),f=UD(h);let p=u[f],m=u[h];if(i){const y=f==="y"?"top":"left",x=f==="y"?"bottom":"right",b=p+d[y],w=p-d[x];p=aO(b,p,w)}if(o){const y=h==="y"?"top":"left",x=h==="y"?"bottom":"right",b=m+d[y],w=m-d[x];m=aO(b,m,w)}const g=l.fn({...t,[f]:p,[h]:m});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[f]:i,[h]:o}}}}}},Mge=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Ho(e,t),d={x:n,y:r},h=To(s),f=UD(h);let p=d[f],m=d[h];const g=Ho(l,t),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const w=f==="y"?"height":"width",N=i.reference[f]-i.floating[w]+y.mainAxis,S=i.reference[f]+i.reference[w]-y.mainAxis;p<N?p=N:p>S&&(p=S)}if(u){var x,b;const w=f==="y"?"width":"height",N=Rq.has(yi(s)),S=i.reference[h]-i.floating[w]+(N&&((x=o.offset)==null?void 0:x[h])||0)+(N?0:y.crossAxis),k=i.reference[h]+i.reference[w]+(N?0:((b=o.offset)==null?void 0:b[h])||0)-(N?y.crossAxis:0);m<S?m=S:m>k&&(m=k)}return{[f]:p,[h]:m}}}},Pge=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Ho(e,t),d=await Np(t,u),h=yi(s),f=Io(s),p=To(s)==="y",{width:m,height:g}=i.floating;let y,x;h==="top"||h==="bottom"?(y=h,x=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(x=h,y=f==="end"?"top":"bottom");const b=g-d.top-d.bottom,w=m-d.left-d.right,N=Uo(g-d[y],b),S=Uo(m-d[x],w),k=!t.middlewareData.shift;let j=N,_=S;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(_=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(j=b),k&&!f){const A=rs(d.left,0),O=rs(d.right,0),M=rs(d.top,0),P=rs(d.bottom,0);p?_=m-2*(A!==0||O!==0?A+O:rs(d.left,d.right)):j=g-2*(M!==0||P!==0?M+P:rs(d.top,d.bottom))}await c({...t,availableWidth:_,availableHeight:j});const C=await o.getDimensions(l.floating);return m!==C.width||g!==C.height?{reset:{rects:!0}}:{}}}};function Xk(){return typeof window<"u"}function vm(e){return Iq(e)?(e.nodeName||"").toLowerCase():"#document"}function hi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Oa(e){var t;return(t=(Iq(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Iq(e){return Xk()?e instanceof Node||e instanceof hi(e).Node:!1}function Wo(e){return Xk()?e instanceof Element||e instanceof hi(e).Element:!1}function ka(e){return Xk()?e instanceof HTMLElement||e instanceof hi(e).HTMLElement:!1}function B4(e){return!Xk()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof hi(e).ShadowRoot}const Dge=new Set(["inline","contents"]);function Hv(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Vo(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!Dge.has(s)}const Rge=new Set(["table","td","th"]);function Ige(e){return Rge.has(vm(e))}const Lge=[":popover-open",":modal"];function Jk(e){return Lge.some(t=>{try{return e.matches(t)}catch{return!1}})}const $ge=["transform","translate","scale","rotate","perspective"],Bge=["transform","translate","scale","rotate","perspective","filter"],Fge=["paint","layout","strict","content"];function GD(e){const t=qD(),n=Wo(e)?Vo(e):e;return $ge.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Bge.some(r=>(n.willChange||"").includes(r))||Fge.some(r=>(n.contain||"").includes(r))}function zge(e){let t=eu(e);for(;ka(t)&&!kp(t);){if(GD(t))return t;if(Jk(t))return null;t=eu(t)}return null}function qD(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Uge=new Set(["html","body","#document"]);function kp(e){return Uge.has(vm(e))}function Vo(e){return hi(e).getComputedStyle(e)}function Qk(e){return Wo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function eu(e){if(vm(e)==="html")return e;const t=e.assignedSlot||e.parentNode||B4(e)&&e.host||Oa(e);return B4(t)?t.host:t}function Lq(e){const t=eu(e);return kp(t)?e.ownerDocument?e.ownerDocument.body:e.body:ka(t)&&Hv(t)?t:Lq(t)}function ix(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=Lq(e),i=s===((r=e.ownerDocument)==null?void 0:r.body),o=hi(s);if(i){const l=lO(o);return t.concat(o,o.visualViewport||[],Hv(s)?s:[],l&&n?ix(l):[])}return t.concat(s,ix(s,[],n))}function lO(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function $q(e){const t=Vo(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=ka(e),i=s?e.offsetWidth:n,o=s?e.offsetHeight:r,l=G1(n)!==i||G1(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function KD(e){return Wo(e)?e:e.contextElement}function If(e){const t=KD(e);if(!ka(t))return xa(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=$q(t);let o=(i?G1(n.width):n.width)/r,l=(i?G1(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Hge=xa(0);function Bq(e){const t=hi(e);return!qD()||!t.visualViewport?Hge:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Wge(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==hi(e)?!1:t}function Bd(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=KD(e);let o=xa(1);t&&(r?Wo(r)&&(o=If(r)):o=If(e));const l=Wge(i,n,r)?Bq(i):xa(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const f=hi(i),p=r&&Wo(r)?hi(r):r;let m=f,g=lO(m);for(;g&&r&&p!==m;){const y=If(g),x=g.getBoundingClientRect(),b=Vo(g),w=x.left+(g.clientLeft+parseFloat(b.paddingLeft))*y.x,N=x.top+(g.clientTop+parseFloat(b.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,h*=y.y,c+=w,u+=N,m=hi(g),g=lO(m)}}return Sp({width:d,height:h,x:c,y:u})}function Zk(e,t){const n=Qk(e).scrollLeft;return t?t.left+n:Bd(Oa(e)).left+n}function Fq(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Zk(e,n),s=n.top+t.scrollTop;return{x:r,y:s}}function Vge(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const i=s==="fixed",o=Oa(r),l=t?Jk(t.floating):!1;if(r===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=xa(1);const d=xa(0),h=ka(r);if((h||!h&&!i)&&((vm(r)!=="body"||Hv(o))&&(c=Qk(r)),ka(r))){const p=Bd(r);u=If(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const f=o&&!h&&!i?Fq(o,c):xa(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+f.x,y:n.y*u.y-c.scrollTop*u.y+d.y+f.y}}function Gge(e){return Array.from(e.getClientRects())}function qge(e){const t=Oa(e),n=Qk(e),r=e.ownerDocument.body,s=rs(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=rs(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Zk(e);const l=-n.scrollTop;return Vo(r).direction==="rtl"&&(o+=rs(t.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:l}}const F4=25;function Kge(e,t){const n=hi(e),r=Oa(e),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const d=qD();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const u=Zk(r);if(u<=0){const d=r.ownerDocument,h=d.body,f=getComputedStyle(h),p=d.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,m=Math.abs(r.clientWidth-h.clientWidth-p);m<=F4&&(i-=m)}else u<=F4&&(i+=u);return{width:i,height:o,x:l,y:c}}const Yge=new Set(["absolute","fixed"]);function Xge(e,t){const n=Bd(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,i=ka(e)?If(e):xa(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:o,height:l,x:c,y:u}}function z4(e,t,n){let r;if(t==="viewport")r=Kge(e,n);else if(t==="document")r=qge(Oa(e));else if(Wo(t))r=Xge(t,n);else{const s=Bq(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Sp(r)}function zq(e,t){const n=eu(e);return n===t||!Wo(n)||kp(n)?!1:Vo(n).position==="fixed"||zq(n,t)}function Jge(e,t){const n=t.get(e);if(n)return n;let r=ix(e,[],!1).filter(l=>Wo(l)&&vm(l)!=="body"),s=null;const i=Vo(e).position==="fixed";let o=i?eu(e):e;for(;Wo(o)&&!kp(o);){const l=Vo(o),c=GD(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&Yge.has(s.position)||Hv(o)&&!c&&zq(e,o))?r=r.filter(d=>d!==o):s=l,o=eu(o)}return t.set(e,r),r}function Qge(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const o=[...n==="clippingAncestors"?Jk(t)?[]:Jge(t,this._c):[].concat(n),r],l=o[0],c=o.reduce((u,d)=>{const h=z4(t,d,s);return u.top=rs(h.top,u.top),u.right=Uo(h.right,u.right),u.bottom=Uo(h.bottom,u.bottom),u.left=rs(h.left,u.left),u},z4(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Zge(e){const{width:t,height:n}=$q(e);return{width:t,height:n}}function eye(e,t,n){const r=ka(t),s=Oa(t),i=n==="fixed",o=Bd(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=xa(0);function u(){c.x=Zk(s)}if(r||!r&&!i)if((vm(t)!=="body"||Hv(s))&&(l=Qk(t)),r){const p=Bd(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&u();i&&!r&&s&&u();const d=s&&!r&&!i?Fq(s,l):xa(0),h=o.left+l.scrollLeft-c.x-d.x,f=o.top+l.scrollTop-c.y-d.y;return{x:h,y:f,width:o.width,height:o.height}}function XE(e){return Vo(e).position==="static"}function U4(e,t){if(!ka(e)||Vo(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Oa(e)===n&&(n=n.ownerDocument.body),n}function Uq(e,t){const n=hi(e);if(Jk(e))return n;if(!ka(e)){let s=eu(e);for(;s&&!kp(s);){if(Wo(s)&&!XE(s))return s;s=eu(s)}return n}let r=U4(e,t);for(;r&&Ige(r)&&XE(r);)r=U4(r,t);return r&&kp(r)&&XE(r)&&!GD(r)?n:r||zge(e)||n}const tye=async function(e){const t=this.getOffsetParent||Uq,n=this.getDimensions,r=await n(e.floating);return{reference:eye(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function nye(e){return Vo(e).direction==="rtl"}const rye={convertOffsetParentRelativeRectToViewportRelativeRect:Vge,getDocumentElement:Oa,getClippingRect:Qge,getOffsetParent:Uq,getElementRects:tye,getClientRects:Gge,getDimensions:Zge,getScale:If,isElement:Wo,isRTL:nye};function Hq(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function sye(e,t){let n=null,r;const s=Oa(e);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:h,width:f,height:p}=u;if(l||t(),!f||!p)return;const m=lb(h),g=lb(s.clientWidth-(d+f)),y=lb(s.clientHeight-(h+p)),x=lb(d),w={rootMargin:-m+"px "+-g+"px "+-y+"px "+-x+"px",threshold:rs(0,Uo(1,c))||1};let N=!0;function S(k){const j=k[0].intersectionRatio;if(j!==c){if(!N)return o();j?o(!1,j):r=setTimeout(()=>{o(!1,1e-7)},1e3)}j===1&&!Hq(u,e.getBoundingClientRect())&&o(),N=!1}try{n=new IntersectionObserver(S,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(S,w)}n.observe(e)}return o(!0),i}function iye(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=KD(e),d=s||i?[...u?ix(u):[],...ix(t)]:[];d.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const h=u&&l?sye(u,n):null;let f=-1,p=null;o&&(p=new ResizeObserver(x=>{let[b]=x;b&&b.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(t)})),n()}),u&&!c&&p.observe(u),p.observe(t));let m,g=c?Bd(e):null;c&&y();function y(){const x=Bd(e);g&&!Hq(g,x)&&n(),g=x,m=requestAnimationFrame(y)}return n(),()=>{var x;d.forEach(b=>{s&&b.removeEventListener("scroll",n),i&&b.removeEventListener("resize",n)}),h==null||h(),(x=p)==null||x.disconnect(),p=null,c&&cancelAnimationFrame(m)}}const YD=Age,Wq=kge,XD=Oge,JD=jge,QD=Pge,ZD=_ge,Y1=Sge,Vq=Cge,oye=Mge,eR=(e,t,n)=>{const r=new Map,s={platform:rye,...n},i={...s.platform,_c:r};return wge(e,t,{...s,platform:i})};var aye=typeof document<"u",lye=function(){},Jw=aye?v.useLayoutEffect:lye;function X1(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!X1(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&e.$$typeof)&&!X1(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Gq(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function H4(e,t){const n=Gq(e);return Math.round(t*n)/n}function JE(e){const t=v.useRef(e);return Jw(()=>{t.current=e}),t}function cye(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,h]=v.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=v.useState(r);X1(f,r)||p(r);const[m,g]=v.useState(null),[y,x]=v.useState(null),b=v.useCallback(L=>{L!==k.current&&(k.current=L,g(L))},[]),w=v.useCallback(L=>{L!==j.current&&(j.current=L,x(L))},[]),N=i||m,S=o||y,k=v.useRef(null),j=v.useRef(null),_=v.useRef(d),C=c!=null,A=JE(c),O=JE(s),M=JE(u),P=v.useCallback(()=>{if(!k.current||!j.current)return;const L={placement:t,strategy:n,middleware:f};O.current&&(L.platform=O.current),eR(k.current,j.current,L).then(D=>{const F={...D,isPositioned:M.current!==!1};E.current&&!X1(_.current,F)&&(_.current=F,Ta.flushSync(()=>{h(F)}))})},[f,t,n,O,M]);Jw(()=>{u===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,h(L=>({...L,isPositioned:!1})))},[u]);const E=v.useRef(!1);Jw(()=>(E.current=!0,()=>{E.current=!1}),[]),Jw(()=>{if(N&&(k.current=N),S&&(j.current=S),N&&S){if(A.current)return A.current(N,S,P);P()}},[N,S,P,A,C]);const I=v.useMemo(()=>({reference:k,floating:j,setReference:b,setFloating:w}),[b,w]),T=v.useMemo(()=>({reference:N,floating:S}),[N,S]),R=v.useMemo(()=>{const L={position:n,left:0,top:0};if(!T.floating)return L;const D=H4(T.floating,d.x),F=H4(T.floating,d.y);return l?{...L,transform:"translate("+D+"px, "+F+"px)",...Gq(T.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:D,top:F}},[n,l,T.floating,d.x,d.y]);return v.useMemo(()=>({...d,update:P,refs:I,elements:T,floatingStyles:R}),[d,P,I,T,R])}const uye=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Y1({element:r.current,padding:s}).fn(n):{}:r?Y1({element:r,padding:s}).fn(n):{}}}},dye=(e,t)=>({...YD(e),options:[e,t]}),hye=(e,t)=>({...XD(e),options:[e,t]}),fye=(e,t)=>({...oye(e),options:[e,t]}),pye=(e,t)=>({...JD(e),options:[e,t]}),mye=(e,t)=>({...QD(e),options:[e,t]}),gye=(e,t)=>({...ZD(e),options:[e,t]}),yye=(e,t)=>({...uye(e),options:[e,t]});var xye="Arrow",qq=v.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...i}=e;return a.jsx($e.svg,{...i,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});qq.displayName=xye;var vye=qq;function ej(e){const[t,n]=v.useState(void 0);return rr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var tR="Popper",[Kq,uu]=fs(tR),[bye,Yq]=Kq(tR),Xq=e=>{const{__scopePopper:t,children:n}=e,[r,s]=v.useState(null);return a.jsx(bye,{scope:t,anchor:r,onAnchorChange:s,children:n})};Xq.displayName=tR;var Jq="PopperAnchor",Qq=v.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,i=Yq(Jq,n),o=v.useRef(null),l=Ke(t,o),c=v.useRef(null);return v.useEffect(()=>{const u=c.current;c.current=(r==null?void 0:r.current)||o.current,u!==c.current&&i.onAnchorChange(c.current)}),r?null:a.jsx($e.div,{...s,ref:l})});Qq.displayName=Jq;var nR="PopperContent",[wye,Sye]=Kq(nR),Zq=v.forwardRef((e,t)=>{var G,Z,q,ee,se,X;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:m,...g}=e,y=Yq(nR,n),[x,b]=v.useState(null),w=Ke(t,de=>b(de)),[N,S]=v.useState(null),k=ej(N),j=(k==null?void 0:k.width)??0,_=(k==null?void 0:k.height)??0,C=r+(i!=="center"?"-"+i:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},O=Array.isArray(u)?u:[u],M=O.length>0,P={padding:A,boundary:O.filter(kye),altBoundary:M},{refs:E,floatingStyles:I,placement:T,isPositioned:R,middlewareData:L}=cye({strategy:"fixed",placement:C,whileElementsMounted:(...de)=>iye(...de,{animationFrame:p==="always"}),elements:{reference:y.anchor},middleware:[dye({mainAxis:s+_,alignmentAxis:o}),c&&hye({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?fye():void 0,...P}),c&&pye({...P}),mye({...P,apply:({elements:de,rects:pe,availableWidth:Se,availableHeight:be})=>{const{width:Ae,height:ne}=pe.reference,Je=de.floating.style;Je.setProperty("--radix-popper-available-width",`${Se}px`),Je.setProperty("--radix-popper-available-height",`${be}px`),Je.setProperty("--radix-popper-anchor-width",`${Ae}px`),Je.setProperty("--radix-popper-anchor-height",`${ne}px`)}}),N&&yye({element:N,padding:l}),jye({arrowWidth:j,arrowHeight:_}),f&&gye({strategy:"referenceHidden",...P})]}),[D,F]=nK(T),z=Kn(m);rr(()=>{R&&(z==null||z())},[R,z]);const B=(G=L.arrow)==null?void 0:G.x,$=(Z=L.arrow)==null?void 0:Z.y,W=((q=L.arrow)==null?void 0:q.centerOffset)!==0,[V,Y]=v.useState();return rr(()=>{x&&Y(window.getComputedStyle(x).zIndex)},[x]),a.jsx("div",{ref:E.setFloating,"data-radix-popper-content-wrapper":"",style:{...I,transform:R?I.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:V,"--radix-popper-transform-origin":[(ee=L.transformOrigin)==null?void 0:ee.x,(se=L.transformOrigin)==null?void 0:se.y].join(" "),...((X=L.hide)==null?void 0:X.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(wye,{scope:n,placedSide:D,onArrowChange:S,arrowX:B,arrowY:$,shouldHideArrow:W,children:a.jsx($e.div,{"data-side":D,"data-align":F,...g,ref:w,style:{...g.style,animation:R?void 0:"none"}})})})});Zq.displayName=nR;var eK="PopperArrow",Nye={top:"bottom",right:"left",bottom:"top",left:"right"},tK=v.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,i=Sye(eK,r),o=Nye[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(vye,{...s,ref:n,style:{...s.style,display:"block"}})})});tK.displayName=eK;function kye(e){return e!==null}var jye=e=>({name:"transformOrigin",options:e,fn(t){var y,x,b;const{placement:n,rects:r,middlewareData:s}=t,o=((y=s.arrow)==null?void 0:y.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=nK(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((x=s.arrow)==null?void 0:x.x)??0)+l/2,p=(((b=s.arrow)==null?void 0:b.y)??0)+c/2;let m="",g="";return u==="bottom"?(m=o?h:`${f}px`,g=`${-c}px`):u==="top"?(m=o?h:`${f}px`,g=`${r.floating.height+c}px`):u==="right"?(m=`${-c}px`,g=o?h:`${p}px`):u==="left"&&(m=`${r.floating.width+c}px`,g=o?h:`${p}px`),{data:{x:m,y:g}}}});function nK(e){const[t,n="center"]=e.split("-");return[t,n]}var tj=Xq,Wv=Qq,nj=Zq,rj=tK,_ye=Symbol("radix.slottable");function Eye(e){const t=({children:n})=>a.jsx(a.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=_ye,t}var[sj]=fs("Tooltip",[uu]),ij=uu(),rK="TooltipProvider",Cye=700,cO="tooltip.open",[Tye,rR]=sj(rK),sK=e=>{const{__scopeTooltip:t,delayDuration:n=Cye,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=e,o=v.useRef(!0),l=v.useRef(!1),c=v.useRef(0);return v.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),a.jsx(Tye,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:v.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:v.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};sK.displayName=rK;var ox="Tooltip",[Aye,oj]=sj(ox),iK=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=rR(ox,e.__scopeTooltip),u=ij(t),[d,h]=v.useState(null),f=Hi(),p=v.useRef(0),m=o??c.disableHoverableContent,g=l??c.delayDuration,y=v.useRef(!1),[x,b]=Ji({prop:r,defaultProp:s??!1,onChange:j=>{j?(c.onOpen(),document.dispatchEvent(new CustomEvent(cO))):c.onClose(),i==null||i(j)},caller:ox}),w=v.useMemo(()=>x?y.current?"delayed-open":"instant-open":"closed",[x]),N=v.useCallback(()=>{window.clearTimeout(p.current),p.current=0,y.current=!1,b(!0)},[b]),S=v.useCallback(()=>{window.clearTimeout(p.current),p.current=0,b(!1)},[b]),k=v.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{y.current=!0,b(!0),p.current=0},g)},[g,b]);return v.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),a.jsx(tj,{...u,children:a.jsx(Aye,{scope:t,contentId:f,open:x,stateAttribute:w,trigger:d,onTriggerChange:h,onTriggerEnter:v.useCallback(()=>{c.isOpenDelayedRef.current?k():N()},[c.isOpenDelayedRef,k,N]),onTriggerLeave:v.useCallback(()=>{m?S():(window.clearTimeout(p.current),p.current=0)},[S,m]),onOpen:N,onClose:S,disableHoverableContent:m,children:n})})};iK.displayName=ox;var uO="TooltipTrigger",oK=v.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=oj(uO,n),i=rR(uO,n),o=ij(n),l=v.useRef(null),c=Ke(t,l,s.onTriggerChange),u=v.useRef(!1),d=v.useRef(!1),h=v.useCallback(()=>u.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),a.jsx(Wv,{asChild:!0,...o,children:a.jsx($e.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:ge(e.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:ge(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:ge(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:ge(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:ge(e.onBlur,s.onClose),onClick:ge(e.onClick,s.onClose)})})});oK.displayName=uO;var Oye="TooltipPortal",[pvt,Mye]=sj(Oye,{forceMount:void 0}),jp="TooltipContent",aK=v.forwardRef((e,t)=>{const n=Mye(jp,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=e,o=oj(jp,e.__scopeTooltip);return a.jsx(Dr,{present:r||o.open,children:o.disableHoverableContent?a.jsx(lK,{side:s,...i,ref:t}):a.jsx(Pye,{side:s,...i,ref:t})})}),Pye=v.forwardRef((e,t)=>{const n=oj(jp,e.__scopeTooltip),r=rR(jp,e.__scopeTooltip),s=v.useRef(null),i=Ke(t,s),[o,l]=v.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:h}=r,f=v.useCallback(()=>{l(null),h(!1)},[h]),p=v.useCallback((m,g)=>{const y=m.currentTarget,x={x:m.clientX,y:m.clientY},b=$ye(x,y.getBoundingClientRect()),w=Bye(x,b),N=Fye(g.getBoundingClientRect()),S=Uye([...w,...N]);l(S),h(!0)},[h]);return v.useEffect(()=>()=>f(),[f]),v.useEffect(()=>{if(c&&d){const m=y=>p(y,d),g=y=>p(y,c);return c.addEventListener("pointerleave",m),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",m),d.removeEventListener("pointerleave",g)}}},[c,d,p,f]),v.useEffect(()=>{if(o){const m=g=>{const y=g.target,x={x:g.clientX,y:g.clientY},b=(c==null?void 0:c.contains(y))||(d==null?void 0:d.contains(y)),w=!zye(x,o);b?f():w&&(f(),u())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[c,d,o,u,f]),a.jsx(lK,{...e,ref:i})}),[Dye,Rye]=sj(ox,{isInside:!1}),Iye=Eye("TooltipContent"),lK=v.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=oj(jp,n),u=ij(n),{onClose:d}=c;return v.useEffect(()=>(document.addEventListener(cO,d),()=>document.removeEventListener(cO,d)),[d]),v.useEffect(()=>{if(c.trigger){const h=f=>{const p=f.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),a.jsx(lh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:a.jsxs(nj,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(Iye,{children:r}),a.jsx(Dye,{scope:n,isInside:!0,children:a.jsx(Wfe,{id:c.contentId,role:"tooltip",children:s||r})})]})})});aK.displayName=jp;var cK="TooltipArrow",Lye=v.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=ij(n);return Rye(cK,n).isInside?null:a.jsx(rj,{...s,...r,ref:t})});Lye.displayName=cK;function $ye(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Bye(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function Fye(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function zye(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,h=c.x,f=c.y;d>r!=f>r&&n<(h-u)*(r-d)/(f-d)+u&&(s=!s)}return s}function Uye(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Hye(t)}function Hye(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Wye=sK,Vye=iK,Gye=oK,uK=aK;const sR=Wye,et=Vye,tt=Gye,Ze=v.forwardRef(({className:e,sideOffset:t=4,...n},r)=>a.jsx(uK,{ref:r,sideOffset:t,className:me("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));Ze.displayName=uK.displayName;var aj=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},qye={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},fc,PP,r9,Kye=(r9=class{constructor(){kt(this,fc,qye);kt(this,PP,!1)}setTimeoutProvider(e){it(this,fc,e)}setTimeout(e,t){return ue(this,fc).setTimeout(e,t)}clearTimeout(e){ue(this,fc).clearTimeout(e)}setInterval(e,t){return ue(this,fc).setInterval(e,t)}clearInterval(e){ue(this,fc).clearInterval(e)}},fc=new WeakMap,PP=new WeakMap,r9),dO=new Kye;function Yye(e){setTimeout(e,0)}var lj=typeof window>"u"||"Deno"in globalThis;function fo(){}function Xye(e,t){return typeof e=="function"?e(t):e}function Jye(e){return typeof e=="number"&&e>=0&&e!==1/0}function Qye(e,t){return Math.max(e+(t||0)-Date.now(),0)}function hO(e,t){return typeof e=="function"?e(t):e}function Zye(e,t){return typeof e=="function"?e(t):e}function W4(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==iR(o,t.options))return!1}else if(!lx(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function V4(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(ax(t.options.mutationKey)!==ax(i))return!1}else if(!lx(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function iR(e,t){return((t==null?void 0:t.queryKeyHashFn)||ax)(e)}function ax(e){return JSON.stringify(e,(t,n)=>fO(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function lx(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>lx(e[n],t[n])):!1}var exe=Object.prototype.hasOwnProperty;function dK(e,t){if(e===t)return e;const n=G4(e)&&G4(t);if(!n&&!(fO(e)&&fO(t)))return t;const s=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),o=i.length,l=n?new Array(o):{};let c=0;for(let u=0;u<o;u++){const d=n?u:i[u],h=e[d],f=t[d];if(h===f){l[d]=h,(n?u<s:exe.call(e,d))&&c++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){l[d]=f;continue}const p=dK(h,f);l[d]=p,p===h&&c++}return s===o&&c===s?e:l}function G4(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function fO(e){if(!q4(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!q4(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function q4(e){return Object.prototype.toString.call(e)==="[object Object]"}function txe(e){return new Promise(t=>{dO.setTimeout(t,e)})}function nxe(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?dK(e,t):t}function rxe(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function sxe(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var oR=Symbol();function hK(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===oR?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var ld,pc,sp,s9,ixe=(s9=class extends aj{constructor(){super();kt(this,ld);kt(this,pc);kt(this,sp);it(this,sp,t=>{if(!lj&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ue(this,pc)||this.setEventListener(ue(this,sp))}onUnsubscribe(){var t;this.hasListeners()||((t=ue(this,pc))==null||t.call(this),it(this,pc,void 0))}setEventListener(t){var n;it(this,sp,t),(n=ue(this,pc))==null||n.call(this),it(this,pc,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){ue(this,ld)!==t&&(it(this,ld,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof ue(this,ld)=="boolean"?ue(this,ld):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ld=new WeakMap,pc=new WeakMap,sp=new WeakMap,s9),fK=new ixe;function oxe(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var axe=Yye;function lxe(){let e=[],t=0,n=l=>{l()},r=l=>{l()},s=axe;const i=l=>{t?e.push(l):s(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var bs=lxe(),ip,mc,op,i9,cxe=(i9=class extends aj{constructor(){super();kt(this,ip,!0);kt(this,mc);kt(this,op);it(this,op,t=>{if(!lj&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){ue(this,mc)||this.setEventListener(ue(this,op))}onUnsubscribe(){var t;this.hasListeners()||((t=ue(this,mc))==null||t.call(this),it(this,mc,void 0))}setEventListener(t){var n;it(this,op,t),(n=ue(this,mc))==null||n.call(this),it(this,mc,t(this.setOnline.bind(this)))}setOnline(t){ue(this,ip)!==t&&(it(this,ip,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return ue(this,ip)}},ip=new WeakMap,mc=new WeakMap,op=new WeakMap,i9),J1=new cxe;function uxe(e){return Math.min(1e3*2**e,3e4)}function pK(e){return(e??"online")==="online"?J1.isOnline():!0}var pO=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function mK(e){let t=!1,n=0,r;const s=oxe(),i=()=>s.status!=="pending",o=g=>{var y;if(!i()){const x=new pO(g);f(x),(y=e.onCancel)==null||y.call(e,x)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>fK.isFocused()&&(e.networkMode==="always"||J1.isOnline())&&e.canRun(),d=()=>pK(e.networkMode)&&e.canRun(),h=g=>{i()||(r==null||r(),s.resolve(g))},f=g=>{i()||(r==null||r(),s.reject(g))},p=()=>new Promise(g=>{var y;r=x=>{(i()||u())&&g(x)},(y=e.onPause)==null||y.call(e)}).then(()=>{var g;r=void 0,i()||(g=e.onContinue)==null||g.call(e)}),m=()=>{if(i())return;let g;const y=n===0?e.initialPromise:void 0;try{g=y??e.fn()}catch(x){g=Promise.reject(x)}Promise.resolve(g).then(h).catch(x=>{var k;if(i())return;const b=e.retry??(lj?0:3),w=e.retryDelay??uxe,N=typeof w=="function"?w(n,x):w,S=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,x);if(t||!S){f(x);return}n++,(k=e.onFail)==null||k.call(e,n,x),txe(N).then(()=>u()?void 0:p()).then(()=>{t?f(x):m()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?m():p().then(m),s)}}var cd,o9,gK=(o9=class{constructor(){kt(this,cd)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Jye(this.gcTime)&&it(this,cd,dO.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(lj?1/0:5*60*1e3))}clearGcTimeout(){ue(this,cd)&&(dO.clearTimeout(ue(this,cd)),it(this,cd,void 0))}},cd=new WeakMap,o9),ud,ap,Ti,dd,_r,Tv,hd,mo,Va,a9,dxe=(a9=class extends gK{constructor(t){super();kt(this,mo);kt(this,ud);kt(this,ap);kt(this,Ti);kt(this,dd);kt(this,_r);kt(this,Tv);kt(this,hd);it(this,hd,!1),it(this,Tv,t.defaultOptions),this.setOptions(t.options),this.observers=[],it(this,dd,t.client),it(this,Ti,ue(this,dd).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,it(this,ud,Y4(this.options)),this.state=t.state??ue(this,ud),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ue(this,_r))==null?void 0:t.promise}setOptions(t){if(this.options={...ue(this,Tv),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=Y4(this.options);n.data!==void 0&&(this.setState(K4(n.data,n.dataUpdatedAt)),it(this,ud,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ue(this,Ti).remove(this)}setData(t,n){const r=nxe(this.state.data,t,this.options);return Yr(this,mo,Va).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Yr(this,mo,Va).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=ue(this,_r))==null?void 0:r.promise;return(s=ue(this,_r))==null||s.cancel(t),n?n.then(fo).catch(fo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ue(this,ud))}isActive(){return this.observers.some(t=>Zye(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===oR||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>hO(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Qye(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=ue(this,_r))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=ue(this,_r))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ue(this,Ti).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(ue(this,_r)&&(ue(this,hd)?ue(this,_r).cancel({revert:!0}):ue(this,_r).cancelRetry()),this.scheduleGc()),ue(this,Ti).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Yr(this,mo,Va).call(this,{type:"invalidate"})}async fetch(t,n){var c,u,d,h,f,p,m,g,y,x,b,w;if(this.state.fetchStatus!=="idle"&&((c=ue(this,_r))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ue(this,_r))return ue(this,_r).continueRetry(),ue(this,_r).promise}if(t&&this.setOptions(t),!this.options.queryFn){const N=this.observers.find(S=>S.options.queryFn);N&&this.setOptions(N.options)}const r=new AbortController,s=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(it(this,hd,!0),r.signal)})},i=()=>{const N=hK(this.options,n),k=(()=>{const j={client:ue(this,dd),queryKey:this.queryKey,meta:this.meta};return s(j),j})();return it(this,hd,!1),this.options.persister?this.options.persister(N,k,this):N(k)},l=(()=>{const N={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:ue(this,dd),state:this.state,fetchFn:i};return s(N),N})();(u=this.options.behavior)==null||u.onFetch(l,this),it(this,ap,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Yr(this,mo,Va).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta}),it(this,_r,mK({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:N=>{N instanceof pO&&N.revert&&this.setState({...ue(this,ap),fetchStatus:"idle"}),r.abort()},onFail:(N,S)=>{Yr(this,mo,Va).call(this,{type:"failed",failureCount:N,error:S})},onPause:()=>{Yr(this,mo,Va).call(this,{type:"pause"})},onContinue:()=>{Yr(this,mo,Va).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const N=await ue(this,_r).start();if(N===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(N),(p=(f=ue(this,Ti).config).onSuccess)==null||p.call(f,N,this),(g=(m=ue(this,Ti).config).onSettled)==null||g.call(m,N,this.state.error,this),N}catch(N){if(N instanceof pO){if(N.silent)return ue(this,_r).promise;if(N.revert){if(this.state.data===void 0)throw N;return this.state.data}}throw Yr(this,mo,Va).call(this,{type:"error",error:N}),(x=(y=ue(this,Ti).config).onError)==null||x.call(y,N,this),(w=(b=ue(this,Ti).config).onSettled)==null||w.call(b,this.state.data,N,this),N}finally{this.scheduleGc()}}},ud=new WeakMap,ap=new WeakMap,Ti=new WeakMap,dd=new WeakMap,_r=new WeakMap,Tv=new WeakMap,hd=new WeakMap,mo=new WeakSet,Va=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...hxe(r.data,this.options),fetchMeta:t.meta??null};case"success":const s={...r,...K4(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return it(this,ap,t.manual?s:void 0),s;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),bs.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),ue(this,Ti).notify({query:this,type:"updated",action:t})})},a9);function hxe(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:pK(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function K4(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Y4(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function X4(e){return{onFetch:(t,n)=>{var d,h,f,p,m;const r=t.options,s=(f=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],o=((m=t.state.data)==null?void 0:m.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const y=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},x=hK(t.options,t.fetchOptions),b=async(w,N,S)=>{if(g)return Promise.reject();if(N==null&&w.pages.length)return Promise.resolve(w);const j=(()=>{const O={client:t.client,queryKey:t.queryKey,pageParam:N,direction:S?"backward":"forward",meta:t.options.meta};return y(O),O})(),_=await x(j),{maxPages:C}=t.options,A=S?sxe:rxe;return{pages:A(w.pages,_,C),pageParams:A(w.pageParams,N,C)}};if(s&&i.length){const w=s==="backward",N=w?fxe:J4,S={pages:i,pageParams:o},k=N(r,S);l=await b(S,k,w)}else{const w=e??i.length;do{const N=c===0?o[0]??r.initialPageParam:J4(r,l);if(c>0&&N==null)break;l=await b(l,N),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var g,y;return(y=(g=t.options).persister)==null?void 0:y.call(g,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function J4(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function fxe(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Av,ca,ys,fd,ua,Kl,l9,pxe=(l9=class extends gK{constructor(t){super();kt(this,ua);kt(this,Av);kt(this,ca);kt(this,ys);kt(this,fd);it(this,Av,t.client),this.mutationId=t.mutationId,it(this,ys,t.mutationCache),it(this,ca,[]),this.state=t.state||mxe(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ue(this,ca).includes(t)||(ue(this,ca).push(t),this.clearGcTimeout(),ue(this,ys).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){it(this,ca,ue(this,ca).filter(n=>n!==t)),this.scheduleGc(),ue(this,ys).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ue(this,ca).length||(this.state.status==="pending"?this.scheduleGc():ue(this,ys).remove(this))}continue(){var t;return((t=ue(this,fd))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,d,h,f,p,m,g,y,x,b,w,N,S,k,j,_,C;const n=()=>{Yr(this,ua,Kl).call(this,{type:"continue"})},r={client:ue(this,Av),meta:this.options.meta,mutationKey:this.options.mutationKey};it(this,fd,mK({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(A,O)=>{Yr(this,ua,Kl).call(this,{type:"failed",failureCount:A,error:O})},onPause:()=>{Yr(this,ua,Kl).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ue(this,ys).canRun(this)}));const s=this.state.status==="pending",i=!ue(this,fd).canStart();try{if(s)n();else{Yr(this,ua,Kl).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(o=ue(this,ys).config).onMutate)==null?void 0:l.call(o,t,this,r));const O=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,r));O!==this.state.context&&Yr(this,ua,Kl).call(this,{type:"pending",context:O,variables:t,isPaused:i})}const A=await ue(this,fd).start();return await((h=(d=ue(this,ys).config).onSuccess)==null?void 0:h.call(d,A,t,this.state.context,this,r)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,A,t,this.state.context,r)),await((g=(m=ue(this,ys).config).onSettled)==null?void 0:g.call(m,A,null,this.state.variables,this.state.context,this,r)),await((x=(y=this.options).onSettled)==null?void 0:x.call(y,A,null,t,this.state.context,r)),Yr(this,ua,Kl).call(this,{type:"success",data:A}),A}catch(A){try{throw await((w=(b=ue(this,ys).config).onError)==null?void 0:w.call(b,A,t,this.state.context,this,r)),await((S=(N=this.options).onError)==null?void 0:S.call(N,A,t,this.state.context,r)),await((j=(k=ue(this,ys).config).onSettled)==null?void 0:j.call(k,void 0,A,this.state.variables,this.state.context,this,r)),await((C=(_=this.options).onSettled)==null?void 0:C.call(_,void 0,A,t,this.state.context,r)),A}finally{Yr(this,ua,Kl).call(this,{type:"error",error:A})}}finally{ue(this,ys).runNext(this)}}},Av=new WeakMap,ca=new WeakMap,ys=new WeakMap,fd=new WeakMap,ua=new WeakSet,Kl=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),bs.batch(()=>{ue(this,ca).forEach(r=>{r.onMutationUpdate(t)}),ue(this,ys).notify({mutation:this,type:"updated",action:t})})},l9);function mxe(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var tl,go,Ov,c9,gxe=(c9=class extends aj{constructor(t={}){super();kt(this,tl);kt(this,go);kt(this,Ov);this.config=t,it(this,tl,new Set),it(this,go,new Map),it(this,Ov,0)}build(t,n,r){const s=new pxe({client:t,mutationCache:this,mutationId:++$0(this,Ov)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){ue(this,tl).add(t);const n=cb(t);if(typeof n=="string"){const r=ue(this,go).get(n);r?r.push(t):ue(this,go).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ue(this,tl).delete(t)){const n=cb(t);if(typeof n=="string"){const r=ue(this,go).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&ue(this,go).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=cb(t);if(typeof n=="string"){const r=ue(this,go).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=cb(t);if(typeof n=="string"){const s=(r=ue(this,go).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){bs.batch(()=>{ue(this,tl).forEach(t=>{this.notify({type:"removed",mutation:t})}),ue(this,tl).clear(),ue(this,go).clear()})}getAll(){return Array.from(ue(this,tl))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>V4(n,r))}findAll(t={}){return this.getAll().filter(n=>V4(t,n))}notify(t){bs.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return bs.batch(()=>Promise.all(t.map(n=>n.continue().catch(fo))))}},tl=new WeakMap,go=new WeakMap,Ov=new WeakMap,c9);function cb(e){var t;return(t=e.options.scope)==null?void 0:t.id}var da,u9,yxe=(u9=class extends aj{constructor(t={}){super();kt(this,da);this.config=t,it(this,da,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??iR(s,n);let o=this.get(i);return o||(o=new dxe({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){ue(this,da).has(t.queryHash)||(ue(this,da).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=ue(this,da).get(t.queryHash);n&&(t.destroy(),n===t&&ue(this,da).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){bs.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ue(this,da).get(t)}getAll(){return[...ue(this,da).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>W4(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>W4(t,r)):n}notify(t){bs.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){bs.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){bs.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},da=new WeakMap,u9),Un,gc,yc,lp,cp,xc,up,dp,d9,xxe=(d9=class{constructor(e={}){kt(this,Un);kt(this,gc);kt(this,yc);kt(this,lp);kt(this,cp);kt(this,xc);kt(this,up);kt(this,dp);it(this,Un,e.queryCache||new yxe),it(this,gc,e.mutationCache||new gxe),it(this,yc,e.defaultOptions||{}),it(this,lp,new Map),it(this,cp,new Map),it(this,xc,0)}mount(){$0(this,xc)._++,ue(this,xc)===1&&(it(this,up,fK.subscribe(async e=>{e&&(await this.resumePausedMutations(),ue(this,Un).onFocus())})),it(this,dp,J1.subscribe(async e=>{e&&(await this.resumePausedMutations(),ue(this,Un).onOnline())})))}unmount(){var e,t;$0(this,xc)._--,ue(this,xc)===0&&((e=ue(this,up))==null||e.call(this),it(this,up,void 0),(t=ue(this,dp))==null||t.call(this),it(this,dp,void 0))}isFetching(e){return ue(this,Un).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ue(this,gc).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ue(this,Un).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=ue(this,Un).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(hO(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return ue(this,Un).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=ue(this,Un).get(r.queryHash),i=s==null?void 0:s.state.data,o=Xye(t,i);if(o!==void 0)return ue(this,Un).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return bs.batch(()=>ue(this,Un).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ue(this,Un).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=ue(this,Un);bs.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=ue(this,Un);return bs.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=bs.batch(()=>ue(this,Un).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(fo).catch(fo)}invalidateQueries(e,t={}){return bs.batch(()=>(ue(this,Un).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=bs.batch(()=>ue(this,Un).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(fo)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(fo)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=ue(this,Un).build(this,t);return n.isStaleByTime(hO(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(fo).catch(fo)}fetchInfiniteQuery(e){return e.behavior=X4(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(fo).catch(fo)}ensureInfiniteQueryData(e){return e.behavior=X4(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return J1.isOnline()?ue(this,gc).resumePausedMutations():Promise.resolve()}getQueryCache(){return ue(this,Un)}getMutationCache(){return ue(this,gc)}getDefaultOptions(){return ue(this,yc)}setDefaultOptions(e){it(this,yc,e)}setQueryDefaults(e,t){ue(this,lp).set(ax(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ue(this,lp).values()],n={};return t.forEach(r=>{lx(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){ue(this,cp).set(ax(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ue(this,cp).values()],n={};return t.forEach(r=>{lx(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ue(this,yc).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=iR(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===oR&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ue(this,yc).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ue(this,Un).clear(),ue(this,gc).clear()}},Un=new WeakMap,gc=new WeakMap,yc=new WeakMap,lp=new WeakMap,cp=new WeakMap,xc=new WeakMap,up=new WeakMap,dp=new WeakMap,d9),vxe=v.createContext(void 0),bxe=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(vxe.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cx(){return cx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cx.apply(this,arguments)}var wc;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(wc||(wc={}));const Q4="popstate";function wxe(e){e===void 0&&(e={});function t(s,i){let{pathname:o="/",search:l="",hash:c=""}=ch(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),mO("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=s.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof i=="string"?i:yK(i))}function r(s,i){cj(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return Nxe(t,n,r,e)}function cr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function cj(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Sxe(){return Math.random().toString(36).substr(2,8)}function Z4(e,t){return{usr:e.state,key:e.key,idx:t}}function mO(e,t,n,r){return n===void 0&&(n=null),cx({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ch(t):t,{state:n,key:t&&t.key||r||Sxe()})}function yK(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ch(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Nxe(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=wc.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(cx({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=wc.Pop;let y=d(),x=y==null?null:y-u;u=y,c&&c({action:l,location:g.location,delta:x})}function f(y,x){l=wc.Push;let b=mO(g.location,y,x);n&&n(b,y),u=d()+1;let w=Z4(b,u),N=g.createHref(b);try{o.pushState(w,"",N)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(N)}i&&c&&c({action:l,location:g.location,delta:1})}function p(y,x){l=wc.Replace;let b=mO(g.location,y,x);n&&n(b,y),u=d();let w=Z4(b,u),N=g.createHref(b);o.replaceState(w,"",N),i&&c&&c({action:l,location:g.location,delta:0})}function m(y){let x=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof y=="string"?y:yK(y);return b=b.replace(/ $/,"%20"),cr(x,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,x)}let g={get action(){return l},get location(){return e(s,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Q4,h),c=y,()=>{s.removeEventListener(Q4,h),c=null}},createHref(y){return t(s,y)},createURL:m,encodeLocation(y){let x=m(y);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:p,go(y){return o.go(y)}};return g}var e5;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(e5||(e5={}));function kxe(e,t,n){return n===void 0&&(n="/"),jxe(e,t,n)}function jxe(e,t,n,r){let s=typeof t=="string"?ch(t):t,i=bK(s.pathname||"/",n);if(i==null)return null;let o=xK(e);_xe(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=$xe(i);l=Rxe(o[c],u)}return l}function xK(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(cr(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=xd([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(cr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),xK(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Pxe(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of vK(i.path))s(i,o,c)}),t}function vK(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=vK(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function _xe(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Dxe(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Exe=/^:[\w-]+$/,Cxe=3,Txe=2,Axe=1,Oxe=10,Mxe=-2,t5=e=>e==="*";function Pxe(e,t){let n=e.split("/"),r=n.length;return n.some(t5)&&(r+=Mxe),t&&(r+=Txe),n.filter(s=>!t5(s)).reduce((s,i)=>s+(Exe.test(i)?Cxe:i===""?Axe:Oxe),r)}function Dxe(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function Rxe(e,t,n){let{routesMeta:r}=e,s={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=Ixe({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:xd([i,h.pathname]),pathnameBase:Hxe(xd([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=xd([i,h.pathnameBase]))}return o}function Ixe(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Lxe(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let g=l[h]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const m=l[h];return p&&!m?u[f]=void 0:u[f]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function Lxe(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),cj(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function $xe(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return cj(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function bK(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const Bxe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fxe=e=>Bxe.test(e);function zxe(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?ch(e):e,i;if(n)if(Fxe(n))i=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),cj(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?i=n5(n.substring(1),"/"):i=n5(n,t)}else i=t;return{pathname:i,search:Wxe(r),hash:Vxe(s)}}function n5(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function QE(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Uxe(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function wK(e,t){let n=Uxe(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function SK(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=ch(e):(s=cx({},e),cr(!s.pathname||!s.pathname.includes("?"),QE("?","pathname","search",s)),cr(!s.pathname||!s.pathname.includes("#"),QE("#","pathname","hash",s)),cr(!s.search||!s.search.includes("#"),QE("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=zxe(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const xd=e=>e.join("/").replace(/\/\/+/g,"/"),Hxe=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Wxe=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Vxe=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Gxe(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const NK=["post","put","patch","delete"];new Set(NK);const qxe=["get",...NK];new Set(qxe);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ux(){return ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ux.apply(this,arguments)}const aR=v.createContext(null),Kxe=v.createContext(null),Vv=v.createContext(null),uj=v.createContext(null),du=v.createContext({outlet:null,matches:[],isDataRoute:!1}),kK=v.createContext(null);function Gv(){return v.useContext(uj)!=null}function qv(){return Gv()||cr(!1),v.useContext(uj).location}function jK(e){v.useContext(Vv).static||v.useLayoutEffect(e)}function Ct(){let{isDataRoute:e}=v.useContext(du);return e?ave():Yxe()}function Yxe(){Gv()||cr(!1);let e=v.useContext(aR),{basename:t,future:n,navigator:r}=v.useContext(Vv),{matches:s}=v.useContext(du),{pathname:i}=qv(),o=JSON.stringify(wK(s,n.v7_relativeSplatPath)),l=v.useRef(!1);return jK(()=>{l.current=!0}),v.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=SK(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:xd([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,o,i,e])}function lR(){let{matches:e}=v.useContext(du),t=e[e.length-1];return t?t.params:{}}function Xxe(e,t){return Jxe(e,t)}function Jxe(e,t,n,r){Gv()||cr(!1);let{navigator:s}=v.useContext(Vv),{matches:i}=v.useContext(du),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=qv(),d;if(t){var h;let y=typeof t=="string"?ch(t):t;c==="/"||(h=y.pathname)!=null&&h.startsWith(c)||cr(!1),d=y}else d=u;let f=d.pathname||"/",p=f;if(c!=="/"){let y=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=kxe(e,{pathname:p}),g=nve(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:xd([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:xd([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n,r);return t&&g?v.createElement(uj.Provider,{value:{location:ux({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:wc.Pop}},g):g}function Qxe(){let e=ove(),t=Gxe(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:s},n):null,null)}const Zxe=v.createElement(Qxe,null);class eve extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?v.createElement(du.Provider,{value:this.props.routeContext},v.createElement(kK.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function tve(e){let{routeContext:t,match:n,children:r}=e,s=v.useContext(aR);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(du.Provider,{value:t},r)}function nve(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||cr(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=n,m=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||m){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let p,m=!1,g=null,y=null;n&&(p=l&&h.route.id?l[h.route.id]:void 0,g=h.route.errorElement||Zxe,c&&(u<0&&f===0?(lve("route-fallback"),m=!0,y=null):u===f&&(m=!0,y=h.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,f+1)),b=()=>{let w;return p?w=g:m?w=y:h.route.Component?w=v.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,v.createElement(tve,{match:h,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?v.createElement(eve,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}var _K=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(_K||{}),EK=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(EK||{});function rve(e){let t=v.useContext(aR);return t||cr(!1),t}function sve(e){let t=v.useContext(Kxe);return t||cr(!1),t}function ive(e){let t=v.useContext(du);return t||cr(!1),t}function CK(e){let t=ive(),n=t.matches[t.matches.length-1];return n.route.id||cr(!1),n.route.id}function ove(){var e;let t=v.useContext(kK),n=sve(),r=CK();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function ave(){let{router:e}=rve(_K.UseNavigateStable),t=CK(EK.UseNavigateStable),n=v.useRef(!1);return jK(()=>{n.current=!0}),v.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ux({fromRouteId:t},i)))},[e,t])}const r5={};function lve(e,t,n){r5[e]||(r5[e]=!0)}function cve(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function uve(e){let{to:t,replace:n,state:r,relative:s}=e;Gv()||cr(!1);let{future:i,static:o}=v.useContext(Vv),{matches:l}=v.useContext(du),{pathname:c}=qv(),u=Ct(),d=SK(t,wK(l,i.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return v.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:s}),[u,h,s,n,r]),null}function jt(e){cr(!1)}function dve(e){let{basename:t="/",children:n=null,location:r,navigationType:s=wc.Pop,navigator:i,static:o=!1,future:l}=e;Gv()&&cr(!1);let c=t.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:i,static:o,future:ux({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=ch(r));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:m="default"}=r,g=v.useMemo(()=>{let y=bK(d,c);return y==null?null:{location:{pathname:y,search:h,hash:f,state:p,key:m},navigationType:s}},[c,d,h,f,p,m,s]);return g==null?null:v.createElement(Vv.Provider,{value:u},v.createElement(uj.Provider,{children:n,value:g}))}function hve(e){let{children:t,location:n}=e;return Xxe(gO(t),n)}new Promise(()=>{});function gO(e,t){t===void 0&&(t=[]);let n=[];return v.Children.forEach(e,(r,s)=>{if(!v.isValidElement(r))return;let i=[...t,s];if(r.type===v.Fragment){n.push.apply(n,gO(r.props.children,i));return}r.type!==jt&&cr(!1),!r.props.index||!r.props.children||cr(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=gO(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yO(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function fve(e,t){let n=yO(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(i=>{n.append(s,i)})}),n}const pve="6";try{window.__reactRouterVersion=pve}catch{}const mve="startTransition",s5=Pv[mve];function gve(e){let{basename:t,children:n,future:r,window:s}=e,i=v.useRef();i.current==null&&(i.current=wxe({window:s,v5Compat:!0}));let o=i.current,[l,c]=v.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=v.useCallback(h=>{u&&s5?s5(()=>c(h)):c(h)},[c,u]);return v.useLayoutEffect(()=>o.listen(d),[o,d]),v.useEffect(()=>cve(r),[r]),v.createElement(dve,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}var i5;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(i5||(i5={}));var o5;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(o5||(o5={}));function yve(e){let t=v.useRef(yO(e)),n=v.useRef(!1),r=qv(),s=v.useMemo(()=>fve(r.search,n.current?null:t.current),[r.search]),i=Ct(),o=v.useCallback((l,c)=>{const u=yO(typeof l=="function"?l(s):l);n.current=!0,i("?"+u,c)},[i,s]);return[s,o]}var xO=function(e,t){return xO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},xO(e,t)};function TK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");xO(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Di=function(){return Di=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Di.apply(this,arguments)};function hu(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function AK(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i}function OK(e,t){return function(n,r){t(n,r,e)}}function MK(e,t,n,r,s,i){function o(x){if(x!==void 0&&typeof x!="function")throw new TypeError("Function expected");return x}for(var l=r.kind,c=l==="getter"?"get":l==="setter"?"set":"value",u=!t&&e?r.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h,f=!1,p=n.length-1;p>=0;p--){var m={};for(var g in r)m[g]=g==="access"?{}:r[g];for(var g in r.access)m.access[g]=r.access[g];m.addInitializer=function(x){if(f)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(x||null))};var y=(0,n[p])(l==="accessor"?{get:d.get,set:d.set}:d[c],m);if(l==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(h=o(y.get))&&(d.get=h),(h=o(y.set))&&(d.set=h),(h=o(y.init))&&s.unshift(h)}else(h=o(y))&&(l==="field"?s.unshift(h):d[c]=h)}u&&Object.defineProperty(u,r.name,d),f=!0}function PK(e,t,n){for(var r=arguments.length>2,s=0;s<t.length;s++)n=r?t[s].call(e,n):t[s].call(e);return r?n:void 0}function DK(e){return typeof e=="symbol"?e:"".concat(e)}function RK(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function IK(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Be(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})}function LK(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(d){return c([u,d])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,s=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(d){u=[6,d],s=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var dj=Object.create?function(e,t,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]};function $K(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&dj(t,e,n)}function Q1(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function cR(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,i=[],o;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(l){o={error:l}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function BK(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(cR(arguments[t]));return e}function FK(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var i=arguments[t],o=0,l=i.length;o<l;o++,s++)r[s]=i[o];return r}function uR(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function _p(e){return this instanceof _p?(this.v=e,this):new _p(e)}function zK(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(p){return function(m){return Promise.resolve(m).then(p,h)}}function l(p,m){r[p]&&(s[p]=function(g){return new Promise(function(y,x){i.push([p,g,y,x])>1||c(p,g)})},m&&(s[p]=m(s[p])))}function c(p,m){try{u(r[p](m))}catch(g){f(i[0][3],g)}}function u(p){p.value instanceof _p?Promise.resolve(p.value.v).then(d,h):f(i[0][2],p)}function d(p){c("next",p)}function h(p){c("throw",p)}function f(p,m){p(m),i.shift(),i.length&&c(i[0][0],i[0][1])}}function UK(e){var t,n;return t={},r("next"),r("throw",function(s){throw s}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(s,i){t[s]=e[s]?function(o){return(n=!n)?{value:_p(e[s](o)),done:!1}:i?i(o):o}:i}}function HK(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Q1=="function"?Q1(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(o){return new Promise(function(l,c){o=e[i](o),s(l,c,o.done,o.value)})}}function s(i,o,l,c){Promise.resolve(c).then(function(u){i({value:u,done:l})},o)}}function WK(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var xve=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},vO=function(e){return vO=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},vO(e)};function VK(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=vO(e),r=0;r<n.length;r++)n[r]!=="default"&&dj(t,e,n[r]);return xve(t,e),t}function GK(e){return e&&e.__esModule?e:{default:e}}function qK(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function KK(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n}function YK(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function XK(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,s;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(s=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");s&&(r=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var vve=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function JK(e){function t(i){e.error=e.hasError?new vve(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var n,r=0;function s(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(s);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(i).then(s,function(o){return t(o),s()})}else r|=1}catch(o){t(o)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function QK(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,s,i,o){return r?t?".jsx":".js":s&&(!i||!o)?n:s+i+"."+o.toLowerCase()+"js"}):e}const bve={__extends:TK,__assign:Di,__rest:hu,__decorate:AK,__param:OK,__esDecorate:MK,__runInitializers:PK,__propKey:DK,__setFunctionName:RK,__metadata:IK,__awaiter:Be,__generator:LK,__createBinding:dj,__exportStar:$K,__values:Q1,__read:cR,__spread:BK,__spreadArrays:FK,__spreadArray:uR,__await:_p,__asyncGenerator:zK,__asyncDelegator:UK,__asyncValues:HK,__makeTemplateObject:WK,__importStar:VK,__importDefault:GK,__classPrivateFieldGet:qK,__classPrivateFieldSet:KK,__classPrivateFieldIn:YK,__addDisposableResource:XK,__disposeResources:JK,__rewriteRelativeImportExtension:QK},wve=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:XK,get __assign(){return Di},__asyncDelegator:UK,__asyncGenerator:zK,__asyncValues:HK,__await:_p,__awaiter:Be,__classPrivateFieldGet:qK,__classPrivateFieldIn:YK,__classPrivateFieldSet:KK,__createBinding:dj,__decorate:AK,__disposeResources:JK,__esDecorate:MK,__exportStar:$K,__extends:TK,__generator:LK,__importDefault:GK,__importStar:VK,__makeTemplateObject:WK,__metadata:IK,__param:OK,__propKey:DK,__read:cR,__rest:hu,__rewriteRelativeImportExtension:QK,__runInitializers:PK,__setFunctionName:RK,__spread:BK,__spreadArray:uR,__spreadArrays:FK,__values:Q1,default:bve},Symbol.toStringTag,{value:"Module"})),Sve=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class dR extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Nve extends dR{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class a5 extends dR{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class l5 extends dR{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var bO;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(bO||(bO={}));class kve{constructor(t,{headers:n={},customFetch:r,region:s=bO.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=Sve(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Be(this,arguments,void 0,function*(n,r={}){var s;let i,o;try{const{headers:l,method:c,body:u,signal:d,timeout:h}=r;let f={},{region:p}=r;p||(p=this.region);const m=new URL(`${this.url}/${n}`);p&&p!=="any"&&(f["x-region"]=p,m.searchParams.set("forceFunctionRegion",p));let g;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(f["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(f["Content-Type"]="application/json",g=JSON.stringify(u)):g=u;let y=d;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),d?(y=o.signal,d.addEventListener("abort",()=>o.abort())):y=o.signal);const x=yield this.fetch(m.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),l),body:g,signal:y}).catch(S=>{throw new Nve(S)}),b=x.headers.get("x-relay-error");if(b&&b==="true")throw new a5(x);if(!x.ok)throw new l5(x);let w=((s=x.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),N;return w==="application/json"?N=yield x.json():w==="application/octet-stream"||w==="application/pdf"?N=yield x.blob():w==="text/event-stream"?N=x:w==="multipart/form-data"?N=yield x.formData():N=yield x.text(),{data:N,error:null,response:x}}catch(l){return{data:null,error:l,response:l instanceof l5||l instanceof a5?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var ws={};const bm=Rue(wve);var ub={},db={},hb={},fb={},pb={},mb={},c5;function ZK(){if(c5)return mb;c5=1,Object.defineProperty(mb,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return mb.default=e,mb}var u5;function eY(){if(u5)return pb;u5=1,Object.defineProperty(pb,"__esModule",{value:!0});const t=bm.__importDefault(ZK());class n{constructor(s){var i,o;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(o=s.isMaybeSingle)!==null&&o!==void 0?o:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,h,f;let p=null,m=null,g=null,y=c.status,x=c.statusText;if(c.ok){if(this.method!=="HEAD"){const S=await c.text();S===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?m=S:m=JSON.parse(S))}const w=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),N=(h=c.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");w&&N&&N.length>1&&(g=parseInt(N[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(p={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,g=null,y=406,x="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{const w=await c.text();try{p=JSON.parse(w),Array.isArray(p)&&c.status===404&&(m=[],p=null,y=200,x="OK")}catch{c.status===404&&w===""?(y=204,x="No Content"):p={message:w}}if(p&&this.isMaybeSingle&&(!((f=p==null?void 0:p.details)===null||f===void 0)&&f.includes("0 rows"))&&(p=null,y=200,x="OK"),p&&this.shouldThrowOnError)throw new t.default(p)}return{error:p,data:m,count:g,status:y,statusText:x}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,d,h;return{error:{message:`${(u=c==null?void 0:c.name)!==null&&u!==void 0?u:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(d=c==null?void 0:c.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(h=c==null?void 0:c.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),l.then(s,i)}returns(){return this}overrideTypes(){return this}}return pb.default=n,pb}var d5;function tY(){if(d5)return fb;d5=1,Object.defineProperty(fb,"__esModule",{value:!0});const t=bm.__importDefault(eY());class n extends t.default{select(s){let i=!1;const o=(s??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(u,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const h=[s?"analyze":null,i?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),f=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${f}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return fb.default=n,fb}var h5;function hR(){if(h5)return hb;h5=1,Object.defineProperty(hb,"__esModule",{value:!0});const t=bm.__importDefault(tY()),n=new RegExp("[,()]");class r extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const l=Array.from(new Set(o)).map(c=>typeof c=="string"&&n.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:l,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${u}fts${d}.${o}`),this}match(i){return Object.entries(i).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(i,o,l){return this.url.searchParams.append(i,`not.${o}.${l}`),this}or(i,{foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,o,l){return this.url.searchParams.append(i,`${o}.${l}`),this}}return hb.default=r,hb}var f5;function nY(){if(f5)return db;f5=1,Object.defineProperty(db,"__esModule",{value:!0});const t=bm.__importDefault(hR());class n{constructor(s,{headers:i={},schema:o,fetch:l}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=l}select(s,i){const{head:o=!1,count:l}=i??{},c=o?"HEAD":"GET";let u=!1;const d=(s??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var l;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(h.length>0){const f=[...new Set(h)].map(p=>`"${p}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:i}={}){var o;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return db.default=n,db}var p5;function jve(){if(p5)return ub;p5=1,Object.defineProperty(ub,"__esModule",{value:!0});const e=bm,t=e.__importDefault(nY()),n=e.__importDefault(hR());class r{constructor(i,{headers:o={},schema:l,fetch:c}={}){this.url=i,this.headers=new Headers(o),this.schemaName=l,this.fetch=c}from(i){const o=new URL(`${this.url}/${i}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new r(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:l=!1,get:c=!1,count:u}={}){var d;let h;const f=new URL(`${this.url}/rpc/${i}`);let p;l||c?(h=l?"HEAD":"GET",Object.entries(o).filter(([g,y])=>y!==void 0).map(([g,y])=>[g,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([g,y])=>{f.searchParams.append(g,y)})):(h="POST",p=o);const m=new Headers(this.headers);return u&&m.set("Prefer",`count=${u}`),new n.default({method:h,url:f,headers:m,schema:this.schemaName,body:p,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return ub.default=r,ub}Object.defineProperty(ws,"__esModule",{value:!0});var rY=ws.PostgrestError=fY=ws.PostgrestBuilder=dY=ws.PostgrestTransformBuilder=cY=ws.PostgrestFilterBuilder=aY=ws.PostgrestQueryBuilder=iY=ws.PostgrestClient=void 0;const wm=bm,sY=wm.__importDefault(jve());var iY=ws.PostgrestClient=sY.default;const oY=wm.__importDefault(nY());var aY=ws.PostgrestQueryBuilder=oY.default;const lY=wm.__importDefault(hR());var cY=ws.PostgrestFilterBuilder=lY.default;const uY=wm.__importDefault(tY());var dY=ws.PostgrestTransformBuilder=uY.default;const hY=wm.__importDefault(eY());var fY=ws.PostgrestBuilder=hY.default;const pY=wm.__importDefault(ZK());rY=ws.PostgrestError=pY.default;var mY=ws.default={PostgrestClient:sY.default,PostgrestQueryBuilder:oY.default,PostgrestFilterBuilder:lY.default,PostgrestTransformBuilder:uY.default,PostgrestBuilder:hY.default,PostgrestError:pY.default};const _ve=h9({__proto__:null,get PostgrestBuilder(){return fY},get PostgrestClient(){return iY},get PostgrestError(){return rY},get PostgrestFilterBuilder(){return cY},get PostgrestQueryBuilder(){return aY},get PostgrestTransformBuilder(){return dY},default:mY},[ws]),{PostgrestClient:Eve,PostgrestQueryBuilder:mvt,PostgrestFilterBuilder:gvt,PostgrestTransformBuilder:yvt,PostgrestBuilder:xvt,PostgrestError:vvt}=mY||_ve;class Cve{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Tve="2.81.1",Ave=`realtime-js/${Tve}`,gY="1.0.0",Ove="2.0.0",m5=gY,wO=1e4,Mve=1e3,Pve=100;var Wu;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Wu||(Wu={}));var mr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(mr||(mr={}));var Ai;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ai||(Ai={}));var SO;(function(e){e.websocket="websocket"})(SO||(SO={}));var Vu;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Vu||(Vu={}));class Dve{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(t,n){if(this._isArrayBuffer(t.payload))return n(this._binaryEncodePush(t));if(t.event===this.BROADCAST&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodePush(t){const{join_ref:n,ref:r,event:s,topic:i,payload:o}=t,l=this.META_LENGTH+n.length+r.length+i.length+s.length,c=new ArrayBuffer(this.HEADER_LENGTH+l);let u=new DataView(c),d=0;u.setUint8(d++,this.KINDS.push),u.setUint8(d++,n.length),u.setUint8(d++,r.length),u.setUint8(d++,i.length),u.setUint8(d++,s.length),Array.from(n,f=>u.setUint8(d++,f.charCodeAt(0))),Array.from(r,f=>u.setUint8(d++,f.charCodeAt(0))),Array.from(i,f=>u.setUint8(d++,f.charCodeAt(0))),Array.from(s,f=>u.setUint8(d++,f.charCodeAt(0)));var h=new Uint8Array(c.byteLength+o.byteLength);return h.set(new Uint8Array(c),0),h.set(new Uint8Array(o),c.byteLength),h.buffer}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const{join_ref:s,ref:i,topic:o}=t,l=t.payload.event,c=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0),u=this.USER_BROADCAST_PUSH_META_LENGTH+s.length+i.length+o.length+l.length,d=new ArrayBuffer(this.HEADER_LENGTH+u);let h=new DataView(d),f=0;h.setUint8(f++,this.KINDS.userBroadcastPush),h.setUint8(f++,s.length),h.setUint8(f++,i.length),h.setUint8(f++,o.length),h.setUint8(f++,l.length),h.setUint8(f++,this.BINARY_ENCODING),Array.from(s,m=>h.setUint8(f++,m.charCodeAt(0))),Array.from(i,m=>h.setUint8(f++,m.charCodeAt(0))),Array.from(o,m=>h.setUint8(f++,m.charCodeAt(0))),Array.from(l,m=>h.setUint8(f++,m.charCodeAt(0)));var p=new Uint8Array(d.byteLength+c.byteLength);return p.set(new Uint8Array(d),0),p.set(new Uint8Array(c),d.byteLength),p.buffer}_encodeJsonUserBroadcastPush(t){var n,r;const{join_ref:s,ref:i,topic:o}=t,l=t.payload.event,c=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},d=new TextEncoder().encode(JSON.stringify(c)).buffer,h=this.USER_BROADCAST_PUSH_META_LENGTH+s.length+i.length+o.length+l.length,f=new ArrayBuffer(this.HEADER_LENGTH+h);let p=new DataView(f),m=0;p.setUint8(m++,this.KINDS.userBroadcastPush),p.setUint8(m++,s.length),p.setUint8(m++,i.length),p.setUint8(m++,o.length),p.setUint8(m++,l.length),p.setUint8(m++,this.JSON_ENCODING),Array.from(s,y=>p.setUint8(m++,y.charCodeAt(0))),Array.from(i,y=>p.setUint8(m++,y.charCodeAt(0))),Array.from(o,y=>p.setUint8(m++,y.charCodeAt(0))),Array.from(l,y=>p.setUint8(m++,y.charCodeAt(0)));var g=new Uint8Array(f.byteLength+d.byteLength);return g.set(new Uint8Array(f),0),g.set(new Uint8Array(d),f.byteLength),g.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[s,i,o,l,c]=r;return n({join_ref:s,ref:i,topic:o,event:l,payload:c})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.push:return this._decodePush(t,n,s);case this.KINDS.reply:return this._decodeReply(t,n,s);case this.KINDS.broadcast:return this._decodeBroadcast(t,n,s);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,s)}}_decodePush(t,n,r){const s=n.getUint8(1),i=n.getUint8(2),o=n.getUint8(3);let l=this.HEADER_LENGTH+this.META_LENGTH-1;const c=r.decode(t.slice(l,l+s));l=l+s;const u=r.decode(t.slice(l,l+i));l=l+i;const d=r.decode(t.slice(l,l+o));l=l+o;const h=JSON.parse(r.decode(t.slice(l,t.byteLength)));return{join_ref:c,ref:null,topic:u,event:d,payload:h}}_decodeReply(t,n,r){const s=n.getUint8(1),i=n.getUint8(2),o=n.getUint8(3),l=n.getUint8(4);let c=this.HEADER_LENGTH+this.META_LENGTH;const u=r.decode(t.slice(c,c+s));c=c+s;const d=r.decode(t.slice(c,c+i));c=c+i;const h=r.decode(t.slice(c,c+o));c=c+o;const f=r.decode(t.slice(c,c+l));c=c+l;const p=JSON.parse(r.decode(t.slice(c,t.byteLength))),m={status:f,response:p};return{join_ref:u,ref:d,topic:h,event:Ai.reply,payload:m}}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(t.slice(o,o+s));o=o+s;const c=r.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{join_ref:null,ref:null,topic:l,event:c,payload:u}}_decodeUserBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2),o=n.getUint8(3),l=n.getUint8(4);let c=this.HEADER_LENGTH+4;const u=r.decode(t.slice(c,c+s));c=c+s;const d=r.decode(t.slice(c,c+i));c=c+i;const h=r.decode(t.slice(c,c+o));c=c+o;const f=t.slice(c,t.byteLength),p=l===this.JSON_ENCODING?JSON.parse(r.decode(f)):f,m={type:this.BROADCAST,event:d,payload:p};return o>0&&(m.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST,payload:m}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}}let yY=class{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var cn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(cn||(cn={}));const g5=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=Rve(o,e,t,s),i),{}):{}},Rve=(e,t,n,r)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?xY(i,o):NO(o)},xY=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Bve(t,n)}switch(e){case cn.bool:return Ive(t);case cn.float4:case cn.float8:case cn.int2:case cn.int4:case cn.int8:case cn.numeric:case cn.oid:return Lve(t);case cn.json:case cn.jsonb:return $ve(t);case cn.timestamp:return Fve(t);case cn.abstime:case cn.date:case cn.daterange:case cn.int4range:case cn.int8range:case cn.money:case cn.reltime:case cn.text:case cn.time:case cn.timestamptz:case cn.timetz:case cn.tsrange:case cn.tstzrange:return NO(t);default:return NO(t)}},NO=e=>e,Ive=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Lve=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},$ve=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Bve=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>xY(t,l))}return e},Fve=e=>typeof e=="string"?e.replace(" ","T"):e,vY=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class ZE{constructor(t,n,r={},s=wO){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var y5;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(y5||(y5={}));class my{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=my.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=my.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=my.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(y=>y.presence_ref),p=h.map(y=>y.presence_ref),m=d.filter(y=>p.indexOf(y.presence_ref)<0),g=h.filter(y=>f.indexOf(y.presence_ref)<0);m.length>0&&(l[u]=m),g.length>0&&(c[u]=g)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);t[l].unshift(...f)}r(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var x5;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(x5||(x5={}));var gy;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(gy||(gy={}));var Ja;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ja||(Ja={}));class fR{constructor(t,n={config:{}},r){var s,i;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=mr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ZE(this,Ai.join,this.params,this.timeout),this.rejoinTimer=new yY(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=mr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=mr.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=mr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=mr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=mr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ai.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new my(this),this.broadcastEndpointURL=vY(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==mr.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[gy.PRESENCE]&&this.bindings[gy.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Ja.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Ja.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var m;if(this.socket.setAuth(),p===void 0){t==null||t(Ja.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,y=(m=g==null?void 0:g.length)!==null&&m!==void 0?m:0,x=[];for(let b=0;b<y;b++){const w=g[b],{filter:{event:N,schema:S,table:k,filter:j}}=w,_=p&&p[b];if(_&&_.event===N&&_.schema===S&&_.table===k&&_.filter===j)x.push(Object.assign(Object.assign({},w),{id:_.id}));else{this.unsubscribe(),this.state=mr.errored,t==null||t(Ja.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(Ja.SUBSCRIBED);return}}).receive("error",p=>{this.state=mr.errored,t==null||t(Ja.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ja.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===mr.joined&&t===gy.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=mr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ai.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new ZE(this,Ai.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=mr.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new ZE(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Pve){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Ai;if(r&&[l,c,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var m,g,y;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((y=(g=p.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(p=>p.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var m,g,y,x,b,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const N=p.id,S=(m=p.filter)===null||m===void 0?void 0:m.event;return N&&((g=n.ids)===null||g===void 0?void 0:g.includes(N))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const N=(b=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return N==="*"||N===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const m=f.data,{schema:g,table:y,commit_timestamp:x,type:b,errors:w}=m;f=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:x,eventType:b,new:{},old:{},errors:w}),this._getPayloadRecords(m))}p.callback(f,r)})}_isClosed(){return this.state===mr.closed}_isJoined(){return this.state===mr.joined}_isJoining(){return this.state===mr.joining}_isLeaving(){return this.state===mr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&fR.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ai.close,{},t)}_onError(t){this._on(Ai.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=mr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=g5(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=g5(t.columns,t.old_record)),n}}const eC=()=>{},gb={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},zve=[1e3,2e3,5e3,1e4],Uve=1e4,Hve=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Wve{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=wO,this.transport=null,this.heartbeatIntervalMs=gb.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=eC,this.ref=0,this.reconnectTimer=null,this.vsn=m5,this.logger=eC,this.conn=null,this.sendBuffer=[],this.serializer=new Dve,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${SO.websocket}`,this.httpEndpoint=vY(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Cve.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Wu.connecting:return Vu.Connecting;case Wu.open:return Vu.Open;case Wu.closing:return Vu.Closing;default:return Vu.Closed}}isConnected(){return this.connectionState()===Vu.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new fR(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Mve,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},gb.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Wu.open||this.conn.readyState===Wu.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ai.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Hve],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:Ave};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Ai.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new yY(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},gb.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,i,o,l,c,u,d,h,f,p;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:wO,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:gb.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:eC,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:m5,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:m=>zve[m-1]||Uve,this.vsn){case gY:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(m,g)=>g(JSON.stringify(m)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(m,g)=>g(JSON.parse(m));break;case Ove:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class pR extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function On(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Vve extends pR{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class kO extends pR{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const mR=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Gve=()=>Response,jO=e=>{if(Array.isArray(e))return e.map(n=>jO(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=jO(r)}),t},qve=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},tC=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Kve=(e,t,n)=>Be(void 0,void 0,void 0,function*(){const r=yield Gve();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const i=e.status||500,o=(s==null?void 0:s.statusCode)||i+"";t(new Vve(tC(s),i,o))}).catch(s=>{t(new kO(tC(s),s))}):t(new kO(tC(e),e))}),Yve=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(qve(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),n))};function Kv(e,t,n,r,s,i){return Be(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,Yve(t,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>Kve(c,l,r))})})}function dx(e,t,n,r){return Be(this,void 0,void 0,function*(){return Kv(e,"GET",t,n,r)})}function po(e,t,n,r,s){return Be(this,void 0,void 0,function*(){return Kv(e,"POST",t,r,s,n)})}function _O(e,t,n,r,s){return Be(this,void 0,void 0,function*(){return Kv(e,"PUT",t,r,s,n)})}function Xve(e,t,n,r){return Be(this,void 0,void 0,function*(){return Kv(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function gR(e,t,n,r,s){return Be(this,void 0,void 0,function*(){return Kv(e,"DELETE",t,r,s,n)})}class Jve{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return Be(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(On(t))return{data:null,error:t};throw t}})}}var bY;class Qve{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[bY]="BlobDownloadBuilder",this.promise=null}asStream(){return new Jve(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Be(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(On(t))return{data:null,error:t};throw t}})}}bY=Symbol.toStringTag;const Zve={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},v5={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class e0e{constructor(t,n={},r,s){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=mR(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,s){return Be(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},v5),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield(t=="PUT"?_O:po)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(On(i))return{data:null,error:i};throw i}})}upload(t,n,r){return Be(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Be(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:v5.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield _O(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(On(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return Be(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield po(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new pR("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(On(r))return{data:null,error:r};throw r}})}update(t,n,r){return Be(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Be(this,void 0,void 0,function*(){try{return{data:yield po(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(On(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Be(this,void 0,void 0,function*(){try{return{data:{path:(yield po(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(On(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Be(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield po(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(On(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Be(this,void 0,void 0,function*(){try{const s=yield po(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(On(s))return{data:null,error:s};throw s}})}download(t,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"",l=this._getFinalPath(t),c=()=>dx(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new Qve(c,this.shouldThrowOnError)}info(t){return Be(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield dx(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:jO(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(On(r))return{data:null,error:r};throw r}})}exists(t){return Be(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield Xve(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(On(r)&&r instanceof kO){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return Be(this,void 0,void 0,function*(){try{return{data:yield gR(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(On(n))return{data:null,error:n};throw n}})}list(t,n,r){return Be(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Zve),n),{prefix:t||""});return{data:yield po(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(On(s))return{data:null,error:s};throw s}})}listV2(t,n){return Be(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield po(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(On(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const wY="2.81.1",SY={"X-Client-Info":`storage-js/${wY}`};class t0e{constructor(t,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},SY),n),this.fetch=mR(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Be(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield dx(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(On(n))return{data:null,error:n};throw n}})}getBucket(t){return Be(this,void 0,void 0,function*(){try{return{data:yield dx(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(On(n))return{data:null,error:n};throw n}})}createBucket(t){return Be(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield po(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(On(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return Be(this,void 0,void 0,function*(){try{return{data:yield _O(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(On(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Be(this,void 0,void 0,function*(){try{return{data:yield po(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(On(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Be(this,void 0,void 0,function*(){try{return{data:yield gR(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(On(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class n0e{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},SY),n),this.fetch=mR(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Be(this,void 0,void 0,function*(){try{return{data:yield po(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(On(n))return{data:null,error:n};throw n}})}listBuckets(t){return Be(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),s=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield dx(this.fetch,s,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(On(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Be(this,void 0,void 0,function*(){try{return{data:yield gR(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(On(n))return{data:null,error:n};throw n}})}}const yR={"X-Client-Info":`storage-js/${wY}`,"Content-Type":"application/json"};class NY extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function si(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class nC extends NY{constructor(t,n,r){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class r0e extends NY{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var b5;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(b5||(b5={}));const xR=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),s0e=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},w5=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),i0e=(e,t,n)=>Be(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const s=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";t(new nC(w5(o),s,l))}).catch(()=>{const o=s+"",l=i.statusText||`HTTP ${s} error`;t(new nC(l,s,o))});else{const o=s+"",l=i.statusText||`HTTP ${s} error`;t(new nC(l,s,o))}}else t(new r0e(w5(e),e))}),o0e=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return r?(s0e(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,Object.assign(Object.assign({},s),n)):s};function a0e(e,t,n,r,s,i){return Be(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,o0e(t,r,s,i)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>i0e(c,l,r))})})}function ii(e,t,n,r,s){return Be(this,void 0,void 0,function*(){return a0e(e,"POST",t,r,s,n)})}class l0e{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},yR),n),this.fetch=xR(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Be(this,void 0,void 0,function*(){try{return{data:(yield ii(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(si(n))return{data:null,error:n};throw n}})}getIndex(t,n){return Be(this,void 0,void 0,function*(){try{return{data:yield ii(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(si(r))return{data:null,error:r};throw r}})}listIndexes(t){return Be(this,void 0,void 0,function*(){try{return{data:yield ii(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(si(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return Be(this,void 0,void 0,function*(){try{return{data:(yield ii(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(si(r))return{data:null,error:r};throw r}})}}class c0e{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},yR),n),this.fetch=xR(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Be(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ii(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(si(n))return{data:null,error:n};throw n}})}getVectors(t){return Be(this,void 0,void 0,function*(){try{return{data:yield ii(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(si(n))return{data:null,error:n};throw n}})}listVectors(t){return Be(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield ii(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(si(n))return{data:null,error:n};throw n}})}queryVectors(t){return Be(this,void 0,void 0,function*(){try{return{data:yield ii(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(si(n))return{data:null,error:n};throw n}})}deleteVectors(t){return Be(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ii(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(si(n))return{data:null,error:n};throw n}})}}class u0e{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},yR),n),this.fetch=xR(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Be(this,void 0,void 0,function*(){try{return{data:(yield ii(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(si(n))return{data:null,error:n};throw n}})}getBucket(t){return Be(this,void 0,void 0,function*(){try{return{data:yield ii(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(si(n))return{data:null,error:n};throw n}})}listBuckets(){return Be(this,arguments,void 0,function*(t={}){try{return{data:yield ii(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(si(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Be(this,void 0,void 0,function*(){try{return{data:(yield ii(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(si(n))return{data:null,error:n};throw n}})}}class d0e extends u0e{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new h0e(this.url,this.headers,t,this.fetch)}}class h0e extends l0e{constructor(t,n,r,s){super(t,n,s),this.vectorBucketName=r}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Be(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Be(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Be(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Be(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new f0e(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class f0e extends c0e{constructor(t,n,r,s,i){super(t,n,i),this.vectorBucketName=r,this.indexName=s}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Be(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Be(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Be(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Be(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Be(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class p0e extends t0e{constructor(t,n={},r,s){super(t,n,r,s)}from(t){return new e0e(this.url,this.headers,t,this.fetch)}get vectors(){return new d0e(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new n0e(this.url+"/iceberg",this.headers,this.fetch)}}const m0e="2.81.1";let Lg="";typeof Deno<"u"?Lg="deno":typeof document<"u"?Lg="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Lg="react-native":Lg="node";const g0e={"X-Client-Info":`supabase-js-${Lg}/${m0e}`},y0e={headers:g0e},x0e={schema:"public"},v0e={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},b0e={},w0e=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),S0e=()=>Headers,N0e=(e,t,n)=>{const r=w0e(n),s=S0e();return async(i,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},o),{headers:u}))}};function k0e(e){return e.endsWith("/")?e:e+"/"}function j0e(e,t){var n,r;const{db:s,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,f={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function _0e(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(k0e(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const kY="2.81.1",Zh=30*1e3,EO=3,rC=EO*Zh,E0e="http://localhost:9999",C0e="supabase.auth.token",T0e={"X-Client-Info":`gotrue-js/${kY}`},CO="X-Supabase-Api-Version",jY={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},A0e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,O0e=10*60*1e3;class hx extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ze(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class M0e extends hx{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function P0e(e){return ze(e)&&e.name==="AuthApiError"}class Gu extends hx{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class fu extends hx{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class lo extends fu{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function D0e(e){return ze(e)&&e.name==="AuthSessionMissingError"}class Eh extends fu{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class yb extends fu{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class xb extends fu{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function R0e(e){return ze(e)&&e.name==="AuthImplicitGrantRedirectError"}class S5 extends fu{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class TO extends fu{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function sC(e){return ze(e)&&e.name==="AuthRetryableFetchError"}class N5 extends fu{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class AO extends fu{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Z1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),k5=` 	
\r=`.split(""),I0e=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<k5.length;t+=1)e[k5[t].charCodeAt(0)]=-2;for(let t=0;t<Z1.length;t+=1)e[Z1[t].charCodeAt(0)]=t;return e})();function j5(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Z1[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Z1[r]),t.queuedBits-=6}}function _Y(e,t,n){const r=I0e[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function _5(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{B0e(o,r,n)};for(let o=0;o<e.length;o+=1)_Y(e.charCodeAt(o),s,i);return t.join("")}function L0e(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function $0e(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}L0e(r,t)}}function B0e(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Lf(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)_Y(e.charCodeAt(s),n,r);return new Uint8Array(t)}function F0e(e){const t=[];return $0e(e,n=>t.push(n)),new Uint8Array(t)}function Qu(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>j5(s,n,r)),j5(null,n,r),t.join("")}function z0e(e){return Math.round(Date.now()/1e3)+e}function U0e(){return Symbol("auth-callback")}const $r=()=>typeof window<"u"&&typeof document<"u",ju={tested:!1,writable:!1},EY=()=>{if(!$r())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ju.tested)return ju.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ju.tested=!0,ju.writable=!0}catch{ju.tested=!0,ju.writable=!1}return ju.writable};function H0e(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const CY=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),W0e=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ef=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},_u=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Hl=async(e,t)=>{await e.removeItem(t)};class hj{constructor(){this.promise=new hj.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}hj.promiseConstructor=Promise;function iC(e){const t=e.split(".");if(t.length!==3)throw new AO("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!A0e.test(t[r]))throw new AO("JWT not in base64url format");return{header:JSON.parse(_5(t[0])),payload:JSON.parse(_5(t[1])),signature:Lf(t[2]),raw:{header:t[0],payload:t[1]}}}async function V0e(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function G0e(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function q0e(e){return("0"+e.toString(16)).substr(-2)}function K0e(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,q0e).join("")}async function Y0e(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function X0e(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Y0e(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ch(e,t,n=!1){const r=K0e();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await ef(e,`${t}-code-verifier`,s);const i=await X0e(r);return[i,r===i?"plain":"s256"]}const J0e=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Q0e(e){const t=e.headers.get(CO);if(!t||!t.match(J0e))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Z0e(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function ebe(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const tbe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Th(e){if(!tbe.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function oC(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function nbe(e,t){return new Proxy(e,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,s)}})}function E5(e){return JSON.parse(JSON.stringify(e))}const Iu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),rbe=[502,503,504];async function C5(e){var t;if(!W0e(e))throw new TO(Iu(e),0);if(rbe.includes(e.status))throw new TO(Iu(e),e.status);let n;try{n=await e.json()}catch(i){throw new Gu(Iu(i),i)}let r;const s=Q0e(e);if(s&&s.getTime()>=jY["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new N5(Iu(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new lo}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new N5(Iu(n),e.status,n.weak_password.reasons);throw new M0e(Iu(n),e.status||500,r)}const sbe=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Qe(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[CO]||(i[CO]=jY["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await ibe(e,t,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function ibe(e,t,n,r,s,i){const o=sbe(t,r,s,i);let l;try{l=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new TO(Iu(c),0)}if(l.ok||await C5(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await C5(c)}}function co(e){var t;let n=null;lbe(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=z0e(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function T5(e){const t=co(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function oc(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function obe(e){return{data:e,error:null}}function abe(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=hu(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function A5(e){return e}function lbe(e){return e.access_token&&e.refresh_token&&e.expires_in}const aC=["global","local","others"];class cbe{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=CY(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=aC[0]){if(aC.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${aC.join(", ")}`);try{return await Qe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ze(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Qe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:oc})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=hu(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Qe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:abe,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ze(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Qe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:oc})}catch(n){if(ze(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Qe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:A5});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(m.split(";")[1].split("=")[1]);u[`${y}Page`]=g}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ze(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Th(t);try{return await Qe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:oc})}catch(n){if(ze(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Th(t);try{return await Qe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:oc})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Th(t);try{return await Qe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:oc})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Th(t.userId);try{const{data:n,error:r}=await Qe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Th(t.userId),Th(t.id);try{return{data:await Qe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Qe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:A5});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(m.split(";")[1].split("=")[1]);u[`${y}Page`]=g}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ze(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Qe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Qe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await Qe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ze(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await Qe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Qe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}}function O5(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Ah={debug:!!(globalThis&&EY()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class TY extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class ube extends TY{}async function dbe(e,t,n){Ah.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Ah.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Ah.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Ah.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Ah.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new ube(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ah.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function hbe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function AY(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function fbe(e){return parseInt(e,16)}function pbe(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function mbe(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:h,version:f}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=AY(e.address),m=d?`${d}://${r}`:r,g=e.statement?`${e.statement}
`:"",y=`${m} wants you to sign in with your Ethereum account:
${p}

${g}`;let x=`URI: ${h}
Version: ${f}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(x+=`
Expiration Time: ${s.toISOString()}`),l&&(x+=`
Not Before: ${l.toISOString()}`),c&&(x+=`
Request ID: ${c}`),u){let b=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);b+=`
- ${w}`}x+=b}return`${y}
${x}`}class or extends Error{constructor({message:t,code:n,cause:r,name:s}){var i;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class eS extends or{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function gbe({error:e,options:t}){var n,r,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new or({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new or({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new or({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new or({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new or({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new or({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new or({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new or({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(OY(o)){if(i.rp.id!==o)return new or({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new or({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new or({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new or({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new or({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function ybe({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new or({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new or({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(OY(r)){if(n.rpId!==r)return new or({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new or({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new or({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new or({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class xbe{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const vbe=new xbe;function bbe(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=hu(e,["challenge","user","excludeCredentials"]),i=Lf(t).buffer,o=Object.assign(Object.assign({},n),{id:Lf(n.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:o});if(r&&r.length>0){l.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Lf(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function wbe(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=hu(e,["challenge","allowCredentials"]),s=Lf(t).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const l=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Lf(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function Sbe(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Qu(new Uint8Array(e.response.attestationObject)),clientDataJSON:Qu(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Nbe(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Qu(new Uint8Array(s.authenticatorData)),clientDataJSON:Qu(new Uint8Array(s.clientDataJSON)),signature:Qu(new Uint8Array(s.signature)),userHandle:s.userHandle?Qu(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function OY(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function M5(){var e,t;return!!($r()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function kbe(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new eS("Browser returned unexpected credential type",t)}:{data:null,error:new eS("Empty credential response",t)}}catch(t){return{data:null,error:gbe({error:t,options:e})}}}async function jbe(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new eS("Browser returned unexpected credential type",t)}:{data:null,error:new eS("Empty credential response",t)}}catch(t){return{data:null,error:ybe({error:t,options:e})}}}const _be={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Ebe={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function tS(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))r[i]=o;else if(n(o))r[i]=o;else if(t(o)){const l=r[i];t(l)?r[i]=tS(l,o):r[i]=tS(o)}else r[i]=o}return r}function Cbe(e,t){return tS(_be,e,t||{})}function Tbe(e,t){return tS(Ebe,e,t||{})}class Abe{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:l};const c=s??vbe.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=Cbe(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await kbe({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=Tbe(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await jbe(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(o){return ze(o)?{data:null,error:o}:{data:null,error:new Gu("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new hx("rpId is required for WebAuthn authentication")};try{if(!M5())return{data:null,error:new Gu("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(o){return ze(o)?{data:null,error:o}:{data:null,error:new Gu("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new hx("rpId is required for WebAuthn registration")};try{if(!M5())return{data:null,error:new Gu("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return ze(o)?{data:null,error:o}:{data:null,error:new Gu("Unexpected error in register",o)}}}}hbe();const Obe={url:E0e,storageKey:C0e,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:T0e,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function P5(e,t,n){return await n()}const Oh={};class fx{get jwks(){var t,n;return(n=(t=Oh[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Oh[this.storageKey]=Object.assign(Object.assign({},Oh[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Oh[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Oh[this.storageKey]=Object.assign(Object.assign({},Oh[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},Obe),t);if(this.storageKey=i.storageKey,this.instanceID=(n=fx.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,fx.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&$r()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new cbe({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=CY(i.fetch),this.lock=i.lock||P5,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:$r()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=dbe:this.lock=P5,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Abe(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:EY()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=O5(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=O5(this.memoryStorage)),$r()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${kY}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if($r()&&(n=H0e(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),$r()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),R0e(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ze(n)?this._returnResult({error:n}):this._returnResult({error:new Gu("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:co}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(ze(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await Ch(this.storage,this.storageKey)),i=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:m},xform:co})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:co})}else throw new yb("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(ze(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:l}=t;n=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:T5})}else if("phone"in t){const{phone:i,password:o,options:l}=t;n=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:T5})}else throw new yb("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new Eh;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(ze(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,i,o,l,c,u,d,h,f;let p,m;if("message"in t)p=t.message,m=t.signature;else{const{chain:g,wallet:y,statement:x,options:b}=t;let w;if($r())if(typeof y=="object")w=y;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")w=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=y}const N=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href),S=await w.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=AY(S[0]);let j=(r=b==null?void 0:b.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!j){const C=await w.request({method:"eth_chainId"});j=fbe(C)}const _={domain:N.host,address:k,statement:x,uri:N.href,version:"1",chainId:j,nonce:(s=b==null?void 0:b.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=b==null?void 0:b.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=b==null?void 0:b.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=b==null?void 0:b.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=b==null?void 0:b.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=b==null?void 0:b.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=mbe(_),m=await w.request({method:"personal_sign",params:[pbe(p),k]})}try{const{data:g,error:y}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:m},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:co});if(y)throw y;if(!g||!g.session||!g.user){const x=new Eh;return this._returnResult({data:{user:null,session:null},error:x})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:y})}catch(g){if(ze(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(t){var n,r,s,i,o,l,c,u,d,h,f,p;let m,g;if("message"in t)m=t.message,g=t.signature;else{const{chain:y,wallet:x,statement:b,options:w}=t;let N;if($r())if(typeof x=="object")N=x;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))N=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=x}const S=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in N&&N.signIn){const k=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),b?{statement:b}:null));let j;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")j=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)j=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)m=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),g=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${S.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(r=w==null?void 0:w.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((h=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...w.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const k=await N.signMessage(new TextEncoder().encode(m),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=k}}try{const{data:y,error:x}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:Qu(g)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:co});if(x)throw x;if(!y||!y.session||!y.user){const b=new Eh;return this._returnResult({data:{user:null,session:null},error:b})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:x})}catch(y){if(ze(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(t){const n=await _u(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:co});if(await Hl(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new Eh;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(ze(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,l=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:co}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Eh;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(n){if(ze(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ch(this.storage,this.storageKey));const{error:h}=await Qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new yb("You must provide either an email or phone number.")}catch(l){if(ze(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await Qe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:co});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(ze(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,r,s,i,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Ch(this.storage,this.storageKey));const u=await Qe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:obe});return!((i=u.data)===null||i===void 0)&&i.url&&$r()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(ze(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new lo;const{error:s}=await Qe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(ze(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await Qe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:l}=await Qe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new yb("You must provide either an email or phone number and a type")}catch(n){if(ze(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await _u(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<rC:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await _u(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=oC()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=nbe(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:oc}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new lo}:await Qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:oc})})}catch(n){if(ze(n))return D0e(n)&&(await this._removeSession(),await Hl(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new lo;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Ch(this.storage,this.storageKey));const{data:u,error:d}=await Qe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:oc});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(ze(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new lo;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=iC(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(ze(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new lo;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ze(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!$r())throw new xb("No browser detected.");if(t.error||t.error_description||t.error_code)throw new xb(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new S5("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new xb("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new S5("No code detected.");const{data:b,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new xb("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const p=f-d;p*1e3<=Zh&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const m=f-h;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,d);const{data:g,error:y}=await this._getUser(i);if(y)throw y;const x={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:x,redirectType:t.type},error:null})}catch(r){if(ze(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await _u(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({error:i});const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(P0e(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Hl(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=U0e(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Ch(this.storage,this.storageKey,!0));try{return await Qe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(ze(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(ze(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:h,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Qe(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return $r()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(ze(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,h=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:co}),{data:f,error:p}=h;return p?this._returnResult({data:{user:null,session:null},error:p}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new Eh}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:p}))}catch(s){if(ze(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await Qe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(ze(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await G0e(async s=>(s>0&&await V0e(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Qe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:co})),(s,i)=>{const o=200*Math.pow(2,s);return i&&sC(i)&&Date.now()+o-r<Zh})}catch(r){if(this._debug(n,"error",r),ze(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),$r()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await _u(this.storage,this.storageKey);if(s&&this.userStorage){let o=await _u(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await ef(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:oC()}else if(s&&!s.user&&!s.user){const o=await _u(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Hl(this.storage,this.storageKey+"-user"),await ef(this.storage,this.storageKey,s)):s.user=oC()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<rC;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${rC}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),sC(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new lo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new hj;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new lo;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),ze(i)){const o={data:null,error:i};return sC(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await ef(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=E5(s);await ef(this.storage,this.storageKey,i)}else{const s=E5(n);await ef(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Hl(this.storage,this.storageKey),await Hl(this.storage,this.storageKey+"-code-verifier"),await Hl(this.storage,this.storageKey+"-user"),this.userStorage&&await Hl(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&$r()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Zh);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Zh);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Zh}ms, refresh threshold is ${EO} ticks`),s<=EO&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof TY)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!$r()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Ch(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await Qe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ze(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await Qe(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(n){if(ze(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Sbe(t.webauthn.credential_response):Nbe(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await Qe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(n){if(ze(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=await Qe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:bbe(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:wbe(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ze(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=iC(r.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await Qe(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new lo})})}catch(n){if(ze(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new lo});const o=await Qe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&$r()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(ze(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new lo});const o=await Qe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&$r()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(ze(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+O0e>s)return r;const{data:i,error:o}=await Qe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:p,error:m}=await this.getSession();if(m||!p.session)return this._returnResult({data:null,error:m});r=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=iC(r);n!=null&&n.allowExpired||Z0e(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const d=ebe(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,F0e(`${l}.${c}`)))throw new AO("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(ze(r))return this._returnResult({data:null,error:r});throw r}}}fx.nextInstanceID={};const Mbe=fx;class Pbe extends Mbe{constructor(t){super(t)}}class Dbe{constructor(t,n,r){var s,i,o;this.supabaseUrl=t,this.supabaseKey=n;const l=_0e(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:x0e,realtime:b0e,auth:Object.assign(Object.assign({},v0e),{storageKey:c}),global:y0e},d=j0e(r??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=N0e(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new Eve(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new p0e(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new kve(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:o,flowType:l,lock:c,debug:u,throwOnError:d},h,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Pbe({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),h),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:l,lock:c,debug:u,throwOnError:d,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Wve(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Rbe=(e,t,n)=>new Dbe(e,t,n);function Ibe(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Ibe()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Lbe="https://flqsdjtfkgycvssdbegd.supabase.co",$be="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZscXNkanRma2d5Y3Zzc2RiZWdkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTEwMzQ0ODYsImV4cCI6MjA2NjYxMDQ4Nn0.Ru54QXWaccTvHfLE6Ldi3rByk6y-n_thWkoJWAisptE",Le=Rbe(Lbe,$be,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}}),MY=v.createContext({user:null,loading:!0,signOut:async()=>{}}),vR=()=>{const e=v.useContext(MY);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Bbe=({children:e})=>{const[t,n]=v.useState(null),[r,s]=v.useState(!0);v.useEffect(()=>{Le.auth.getSession().then(({data:{session:c}})=>{n((c==null?void 0:c.user)??null),s(!1)});const{data:{subscription:l}}=Le.auth.onAuthStateChange((c,u)=>{n((u==null?void 0:u.user)??null),s(!1)});return()=>l.unsubscribe()},[]);const o={user:t,loading:r,signOut:async()=>{await Le.auth.signOut(),n(null)}};return a.jsx(MY.Provider,{value:o,children:e})},lC=({children:e})=>{const{user:t,loading:n}=vR();return n?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(bp,{className:"w-8 h-8 animate-spin text-blue-600"})}):t?a.jsx(a.Fragment,{children:e}):a.jsx(uve,{to:"/login",replace:!0})};var Fbe=Symbol.for("react.lazy"),nS=Pv[" use ".trim().toString()];function zbe(e){return typeof e=="object"&&e!==null&&"then"in e}function PY(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===Fbe&&"_payload"in e&&zbe(e._payload)}function Yv(e){const t=Hbe(e),n=v.forwardRef((r,s)=>{let{children:i,...o}=r;PY(i)&&typeof nS=="function"&&(i=nS(i._payload));const l=v.Children.toArray(i),c=l.find(Vbe);if(c){const u=c.props.children,d=l.map(h=>h===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:h);return a.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}var Ube=Yv("Slot");function Hbe(e){const t=v.forwardRef((n,r)=>{let{children:s,...i}=n;if(PY(s)&&typeof nS=="function"&&(s=nS(s._payload)),v.isValidElement(s)){const o=qbe(s),l=Gbe(i,s.props);return s.type!==v.Fragment&&(l.ref=r?Aa(r,o):o),v.cloneElement(s,l)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Wbe=Symbol("radix.slottable");function Vbe(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Wbe}function Gbe(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function qbe(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const bR=Fv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),U=v.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},i)=>{const o=r?Ube:"button";return a.jsx(o,{className:me(bR({variant:t,size:n,className:e})),ref:i,...s})});U.displayName="Button";var Kbe=v.createContext(void 0);function Sm(e){const t=v.useContext(Kbe);return e||t||"ltr"}var cC=0;function fj(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??D5()),document.body.insertAdjacentElement("beforeend",e[1]??D5()),cC++,()=>{cC===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),cC--}},[])}function D5(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var uC="focusScope.autoFocusOnMount",dC="focusScope.autoFocusOnUnmount",R5={bubbles:!1,cancelable:!0},Ybe="FocusScope",Xv=v.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[l,c]=v.useState(null),u=Kn(s),d=Kn(i),h=v.useRef(null),f=Ke(t,g=>c(g)),p=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let g=function(w){if(p.paused||!l)return;const N=w.target;l.contains(N)?h.current=N:Yl(h.current,{select:!0})},y=function(w){if(p.paused||!l)return;const N=w.relatedTarget;N!==null&&(l.contains(N)||Yl(h.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&Yl(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",y);const b=new MutationObserver(x);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y),b.disconnect()}}},[r,l,p.paused]),v.useEffect(()=>{if(l){L5.add(p);const g=document.activeElement;if(!l.contains(g)){const x=new CustomEvent(uC,R5);l.addEventListener(uC,u),l.dispatchEvent(x),x.defaultPrevented||(Xbe(twe(DY(l)),{select:!0}),document.activeElement===g&&Yl(l))}return()=>{l.removeEventListener(uC,u),setTimeout(()=>{const x=new CustomEvent(dC,R5);l.addEventListener(dC,d),l.dispatchEvent(x),x.defaultPrevented||Yl(g??document.body,{select:!0}),l.removeEventListener(dC,d),L5.remove(p)},0)}}},[l,u,d,p]);const m=v.useCallback(g=>{if(!n&&!r||p.paused)return;const y=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,x=document.activeElement;if(y&&x){const b=g.currentTarget,[w,N]=Jbe(b);w&&N?!g.shiftKey&&x===N?(g.preventDefault(),n&&Yl(w,{select:!0})):g.shiftKey&&x===w&&(g.preventDefault(),n&&Yl(N,{select:!0})):x===b&&g.preventDefault()}},[n,r,p.paused]);return a.jsx($e.div,{tabIndex:-1,...o,ref:f,onKeyDown:m})});Xv.displayName=Ybe;function Xbe(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Yl(r,{select:t}),document.activeElement!==n)return}function Jbe(e){const t=DY(e),n=I5(t,e),r=I5(t.reverse(),e);return[n,r]}function DY(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function I5(e,t){for(const n of e)if(!Qbe(n,{upTo:t}))return n}function Qbe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Zbe(e){return e instanceof HTMLInputElement&&"select"in e}function Yl(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Zbe(e)&&t&&e.select()}}var L5=ewe();function ewe(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=$5(e,t),e.unshift(t)},remove(t){var n;e=$5(e,t),(n=e[0])==null||n.resume()}}}function $5(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function twe(e){return e.filter(t=>t.tagName!=="A")}var hC="rovingFocusGroup.onEntryFocus",nwe={bubbles:!1,cancelable:!0},Jv="RovingFocusGroup",[OO,RY,rwe]=$v(Jv),[swe,pj]=fs(Jv,[rwe]),[iwe,owe]=swe(Jv),IY=v.forwardRef((e,t)=>a.jsx(OO.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(OO.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(awe,{...e,ref:t})})}));IY.displayName=Jv;var awe=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,f=v.useRef(null),p=Ke(t,f),m=Sm(i),[g,y]=Ji({prop:o,defaultProp:l??null,onChange:c,caller:Jv}),[x,b]=v.useState(!1),w=Kn(u),N=RY(n),S=v.useRef(!1),[k,j]=v.useState(0);return v.useEffect(()=>{const _=f.current;if(_)return _.addEventListener(hC,w),()=>_.removeEventListener(hC,w)},[w]),a.jsx(iwe,{scope:n,orientation:r,dir:m,loop:s,currentTabStopId:g,onItemFocus:v.useCallback(_=>y(_),[y]),onItemShiftTab:v.useCallback(()=>b(!0),[]),onFocusableItemAdd:v.useCallback(()=>j(_=>_+1),[]),onFocusableItemRemove:v.useCallback(()=>j(_=>_-1),[]),children:a.jsx($e.div,{tabIndex:x||k===0?-1:0,"data-orientation":r,...h,ref:p,style:{outline:"none",...e.style},onMouseDown:ge(e.onMouseDown,()=>{S.current=!0}),onFocus:ge(e.onFocus,_=>{const C=!S.current;if(_.target===_.currentTarget&&C&&!x){const A=new CustomEvent(hC,nwe);if(_.currentTarget.dispatchEvent(A),!A.defaultPrevented){const O=N().filter(T=>T.focusable),M=O.find(T=>T.active),P=O.find(T=>T.id===g),I=[M,P,...O].filter(Boolean).map(T=>T.ref.current);BY(I,d)}}S.current=!1}),onBlur:ge(e.onBlur,()=>b(!1))})})}),LY="RovingFocusGroupItem",$Y=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...l}=e,c=Hi(),u=i||c,d=owe(LY,n),h=d.currentTabStopId===u,f=RY(n),{onFocusableItemAdd:p,onFocusableItemRemove:m,currentTabStopId:g}=d;return v.useEffect(()=>{if(r)return p(),()=>m()},[r,p,m]),a.jsx(OO.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:a.jsx($e.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:ge(e.onMouseDown,y=>{r?d.onItemFocus(u):y.preventDefault()}),onFocus:ge(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:ge(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const x=uwe(y,d.orientation,d.dir);if(x!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let w=f().filter(N=>N.focusable).map(N=>N.ref.current);if(x==="last")w.reverse();else if(x==="prev"||x==="next"){x==="prev"&&w.reverse();const N=w.indexOf(y.currentTarget);w=d.loop?dwe(w,N+1):w.slice(N+1)}setTimeout(()=>BY(w))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:g!=null}):o})})});$Y.displayName=LY;var lwe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function cwe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function uwe(e,t,n){const r=cwe(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return lwe[r]}function BY(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function dwe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var FY=IY,zY=$Y;function hwe(e){const t=fwe(e),n=v.forwardRef((r,s)=>{const{children:i,...o}=r,l=v.Children.toArray(i),c=l.find(mwe);if(c){const u=c.props.children,d=l.map(h=>h===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:h);return a.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}function fwe(e){const t=v.forwardRef((n,r)=>{const{children:s,...i}=n;if(v.isValidElement(s)){const o=ywe(s),l=gwe(i,s.props);return s.type!==v.Fragment&&(l.ref=r?Aa(r,o):o),v.cloneElement(s,l)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var pwe=Symbol("radix.slottable");function mwe(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===pwe}function gwe(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function ywe(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var xwe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Mh=new WeakMap,vb=new WeakMap,bb={},fC=0,UY=function(e){return e&&(e.host||UY(e.parentNode))},vwe=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=UY(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},bwe=function(e,t,n,r){var s=vwe(t,Array.isArray(e)?e:[e]);bb[n]||(bb[n]=new WeakMap);var i=bb[n],o=[],l=new Set,c=new Set(s),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))d(f);else try{var p=f.getAttribute(r),m=p!==null&&p!=="false",g=(Mh.get(f)||0)+1,y=(i.get(f)||0)+1;Mh.set(f,g),i.set(f,y),o.push(f),g===1&&m&&vb.set(f,!0),y===1&&f.setAttribute(n,"true"),m||f.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",f,x)}})};return d(t),l.clear(),fC++,function(){o.forEach(function(h){var f=Mh.get(h)-1,p=i.get(h)-1;Mh.set(h,f),i.set(h,p),f||(vb.has(h)||h.removeAttribute(r),vb.delete(h)),p||h.removeAttribute(n)}),fC--,fC||(Mh=new WeakMap,Mh=new WeakMap,vb=new WeakMap,bb={})}},mj=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=xwe(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),bwe(r,s,n,"aria-hidden")):function(){return null}},Qw="right-scroll-bar-position",Zw="width-before-scroll-bar",wwe="with-scroll-bars-hidden",Swe="--removed-body-scroll-bar-size";function pC(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Nwe(e,t){var n=v.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var kwe=typeof window<"u"?v.useLayoutEffect:v.useEffect,B5=new WeakMap;function jwe(e,t){var n=Nwe(null,function(r){return e.forEach(function(s){return pC(s,r)})});return kwe(function(){var r=B5.get(n);if(r){var s=new Set(r),i=new Set(e),o=n.current;s.forEach(function(l){i.has(l)||pC(l,null)}),i.forEach(function(l){s.has(l)||pC(l,o)})}B5.set(n,e)},[e]),n}function _we(e){return e}function Ewe(e,t){t===void 0&&(t=_we);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return s}function Cwe(e){e===void 0&&(e={});var t=Ewe(null);return t.options=Di({async:!0,ssr:!1},e),t}var HY=function(e){var t=e.sideCar,n=hu(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,Di({},n))};HY.isSideCarExport=!0;function Twe(e,t){return e.useMedium(t),HY}var WY=Cwe(),mC=function(){},gj=v.forwardRef(function(e,t){var n=v.useRef(null),r=v.useState({onScrollCapture:mC,onWheelCapture:mC,onTouchMoveCapture:mC}),s=r[0],i=r[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,p=e.noRelative,m=e.noIsolation,g=e.inert,y=e.allowPinchZoom,x=e.as,b=x===void 0?"div":x,w=e.gapMode,N=hu(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=f,k=jwe([n,t]),j=Di(Di({},N),s);return v.createElement(v.Fragment,null,d&&v.createElement(S,{sideCar:WY,removeScrollBar:u,shards:h,noRelative:p,noIsolation:m,inert:g,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:w}),o?v.cloneElement(v.Children.only(l),Di(Di({},j),{ref:k})):v.createElement(b,Di({},j,{className:c,ref:k}),l))});gj.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};gj.classNames={fullWidth:Zw,zeroRight:Qw};var Awe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Owe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Awe();return t&&e.setAttribute("nonce",t),e}function Mwe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Pwe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Dwe=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Owe())&&(Mwe(t,n),Pwe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Rwe=function(){var e=Dwe();return function(t,n){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},VY=function(){var e=Rwe(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},Iwe={left:0,top:0,right:0,gap:0},gC=function(e){return parseInt(e||"",10)||0},Lwe=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[gC(n),gC(r),gC(s)]},$we=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Iwe;var t=Lwe(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Bwe=VY(),$f="data-scroll-locked",Fwe=function(e,t,n,r){var s=e.left,i=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(wwe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat($f,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Qw,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Zw,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Qw," .").concat(Qw,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Zw," .").concat(Zw,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat($f,`] {
    `).concat(Swe,": ").concat(l,`px;
  }
`)},F5=function(){var e=parseInt(document.body.getAttribute($f)||"0",10);return isFinite(e)?e:0},zwe=function(){v.useEffect(function(){return document.body.setAttribute($f,(F5()+1).toString()),function(){var e=F5()-1;e<=0?document.body.removeAttribute($f):document.body.setAttribute($f,e.toString())}},[])},Uwe=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;zwe();var i=v.useMemo(function(){return $we(s)},[s]);return v.createElement(Bwe,{styles:Fwe(i,!t,s,n?"":"!important")})},MO=!1;if(typeof window<"u")try{var wb=Object.defineProperty({},"passive",{get:function(){return MO=!0,!0}});window.addEventListener("test",wb,wb),window.removeEventListener("test",wb,wb)}catch{MO=!1}var Ph=MO?{passive:!1}:!1,Hwe=function(e){return e.tagName==="TEXTAREA"},GY=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Hwe(e)&&n[t]==="visible")},Wwe=function(e){return GY(e,"overflowY")},Vwe=function(e){return GY(e,"overflowX")},z5=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=qY(e,r);if(s){var i=KY(e,r),o=i[1],l=i[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Gwe=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},qwe=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},qY=function(e,t){return e==="v"?Wwe(t):Vwe(t)},KY=function(e,t){return e==="v"?Gwe(t):qwe(t)},Kwe=function(e,t){return e==="h"&&t==="rtl"?-1:1},Ywe=function(e,t,n,r,s){var i=Kwe(e,window.getComputedStyle(t).direction),o=i*r,l=n.target,c=t.contains(l),u=!1,d=o>0,h=0,f=0;do{if(!l)break;var p=KY(e,l),m=p[0],g=p[1],y=p[2],x=g-y-i*m;(m||x)&&qY(e,l)&&(h+=x,f+=m);var b=l.parentNode;l=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(h)<1||!d&&Math.abs(f)<1)&&(u=!0),u},Sb=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},U5=function(e){return[e.deltaX,e.deltaY]},H5=function(e){return e&&"current"in e?e.current:e},Xwe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Jwe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Qwe=0,Dh=[];function Zwe(e){var t=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),s=v.useState(Qwe++)[0],i=v.useState(VY)[0],o=v.useRef(e);v.useEffect(function(){o.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=uR([e.lockRef.current],(e.shards||[]).map(H5),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=v.useCallback(function(g,y){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var x=Sb(g),b=n.current,w="deltaX"in g?g.deltaX:b[0]-x[0],N="deltaY"in g?g.deltaY:b[1]-x[1],S,k=g.target,j=Math.abs(w)>Math.abs(N)?"h":"v";if("touches"in g&&j==="h"&&k.type==="range")return!1;var _=z5(j,k);if(!_)return!0;if(_?S=j:(S=j==="v"?"h":"v",_=z5(j,k)),!_)return!1;if(!r.current&&"changedTouches"in g&&(w||N)&&(r.current=S),!S)return!0;var C=r.current||S;return Ywe(C,y,g,C==="h"?w:N)},[]),c=v.useCallback(function(g){var y=g;if(!(!Dh.length||Dh[Dh.length-1]!==i)){var x="deltaY"in y?U5(y):Sb(y),b=t.current.filter(function(S){return S.name===y.type&&(S.target===y.target||y.target===S.shadowParent)&&Xwe(S.delta,x)})[0];if(b&&b.should){y.cancelable&&y.preventDefault();return}if(!b){var w=(o.current.shards||[]).map(H5).filter(Boolean).filter(function(S){return S.contains(y.target)}),N=w.length>0?l(y,w[0]):!o.current.noIsolation;N&&y.cancelable&&y.preventDefault()}}},[]),u=v.useCallback(function(g,y,x,b){var w={name:g,delta:y,target:x,should:b,shadowParent:e1e(x)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(N){return N!==w})},1)},[]),d=v.useCallback(function(g){n.current=Sb(g),r.current=void 0},[]),h=v.useCallback(function(g){u(g.type,U5(g),g.target,l(g,e.lockRef.current))},[]),f=v.useCallback(function(g){u(g.type,Sb(g),g.target,l(g,e.lockRef.current))},[]);v.useEffect(function(){return Dh.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Ph),document.addEventListener("touchmove",c,Ph),document.addEventListener("touchstart",d,Ph),function(){Dh=Dh.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,Ph),document.removeEventListener("touchmove",c,Ph),document.removeEventListener("touchstart",d,Ph)}},[]);var p=e.removeScrollBar,m=e.inert;return v.createElement(v.Fragment,null,m?v.createElement(i,{styles:Jwe(s)}):null,p?v.createElement(Uwe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function e1e(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const t1e=Twe(WY,Zwe);var Qv=v.forwardRef(function(e,t){return v.createElement(gj,Di({},e,{ref:t,sideCar:t1e}))});Qv.classNames=gj.classNames;var PO=["Enter"," "],n1e=["ArrowDown","PageUp","Home"],YY=["ArrowUp","PageDown","End"],r1e=[...n1e,...YY],s1e={ltr:[...PO,"ArrowRight"],rtl:[...PO,"ArrowLeft"]},i1e={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Zv="Menu",[px,o1e,a1e]=$v(Zv),[uh,XY]=fs(Zv,[a1e,uu,pj]),yj=uu(),JY=pj(),[l1e,dh]=uh(Zv),[c1e,e0]=uh(Zv),QY=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=e,l=yj(t),[c,u]=v.useState(null),d=v.useRef(!1),h=Kn(i),f=Sm(s);return v.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",m,{capture:!0,once:!0}),document.addEventListener("pointermove",m,{capture:!0,once:!0})},m=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",m,{capture:!0}),document.removeEventListener("pointermove",m,{capture:!0})}},[]),a.jsx(tj,{...l,children:a.jsx(l1e,{scope:t,open:n,onOpenChange:h,content:c,onContentChange:u,children:a.jsx(c1e,{scope:t,onClose:v.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:f,modal:o,children:r})})})};QY.displayName=Zv;var u1e="MenuAnchor",wR=v.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=yj(n);return a.jsx(Wv,{...s,...r,ref:t})});wR.displayName=u1e;var SR="MenuPortal",[d1e,ZY]=uh(SR,{forceMount:void 0}),eX=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,i=dh(SR,t);return a.jsx(d1e,{scope:t,forceMount:n,children:a.jsx(Dr,{present:n||i.open,children:a.jsx(mm,{asChild:!0,container:s,children:r})})})};eX.displayName=SR;var Wi="MenuContent",[h1e,NR]=uh(Wi),tX=v.forwardRef((e,t)=>{const n=ZY(Wi,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,i=dh(Wi,e.__scopeMenu),o=e0(Wi,e.__scopeMenu);return a.jsx(px.Provider,{scope:e.__scopeMenu,children:a.jsx(Dr,{present:r||i.open,children:a.jsx(px.Slot,{scope:e.__scopeMenu,children:o.modal?a.jsx(f1e,{...s,ref:t}):a.jsx(p1e,{...s,ref:t})})})})}),f1e=v.forwardRef((e,t)=>{const n=dh(Wi,e.__scopeMenu),r=v.useRef(null),s=Ke(t,r);return v.useEffect(()=>{const i=r.current;if(i)return mj(i)},[]),a.jsx(kR,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ge(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),p1e=v.forwardRef((e,t)=>{const n=dh(Wi,e.__scopeMenu);return a.jsx(kR,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),m1e=hwe("MenuContent.ScrollLock"),kR=v.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:p,disableOutsideScroll:m,...g}=e,y=dh(Wi,n),x=e0(Wi,n),b=yj(n),w=JY(n),N=o1e(n),[S,k]=v.useState(null),j=v.useRef(null),_=Ke(t,j,y.onContentChange),C=v.useRef(0),A=v.useRef(""),O=v.useRef(0),M=v.useRef(null),P=v.useRef("right"),E=v.useRef(0),I=m?Qv:v.Fragment,T=m?{as:m1e,allowPinchZoom:!0}:void 0,R=D=>{var G,Z;const F=A.current+D,z=N().filter(q=>!q.disabled),B=document.activeElement,$=(G=z.find(q=>q.ref.current===B))==null?void 0:G.textValue,W=z.map(q=>q.textValue),V=E1e(W,F,$),Y=(Z=z.find(q=>q.textValue===V))==null?void 0:Z.ref.current;(function q(ee){A.current=ee,window.clearTimeout(C.current),ee!==""&&(C.current=window.setTimeout(()=>q(""),1e3))})(F),Y&&setTimeout(()=>Y.focus())};v.useEffect(()=>()=>window.clearTimeout(C.current),[]),fj();const L=v.useCallback(D=>{var z,B;return P.current===((z=M.current)==null?void 0:z.side)&&T1e(D,(B=M.current)==null?void 0:B.area)},[]);return a.jsx(h1e,{scope:n,searchRef:A,onItemEnter:v.useCallback(D=>{L(D)&&D.preventDefault()},[L]),onItemLeave:v.useCallback(D=>{var F;L(D)||((F=j.current)==null||F.focus(),k(null))},[L]),onTriggerLeave:v.useCallback(D=>{L(D)&&D.preventDefault()},[L]),pointerGraceTimerRef:O,onPointerGraceIntentChange:v.useCallback(D=>{M.current=D},[]),children:a.jsx(I,{...T,children:a.jsx(Xv,{asChild:!0,trapped:s,onMountAutoFocus:ge(i,D=>{var F;D.preventDefault(),(F=j.current)==null||F.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(lh,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:p,children:a.jsx(FY,{asChild:!0,...w,dir:x.dir,orientation:"vertical",loop:r,currentTabStopId:S,onCurrentTabStopIdChange:k,onEntryFocus:ge(c,D=>{x.isUsingKeyboardRef.current||D.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(nj,{role:"menu","aria-orientation":"vertical","data-state":yX(y.open),"data-radix-menu-content":"",dir:x.dir,...b,...g,ref:_,style:{outline:"none",...g.style},onKeyDown:ge(g.onKeyDown,D=>{const z=D.target.closest("[data-radix-menu-content]")===D.currentTarget,B=D.ctrlKey||D.altKey||D.metaKey,$=D.key.length===1;z&&(D.key==="Tab"&&D.preventDefault(),!B&&$&&R(D.key));const W=j.current;if(D.target!==W||!r1e.includes(D.key))return;D.preventDefault();const Y=N().filter(G=>!G.disabled).map(G=>G.ref.current);YY.includes(D.key)&&Y.reverse(),j1e(Y)}),onBlur:ge(e.onBlur,D=>{D.currentTarget.contains(D.target)||(window.clearTimeout(C.current),A.current="")}),onPointerMove:ge(e.onPointerMove,mx(D=>{const F=D.target,z=E.current!==D.clientX;if(D.currentTarget.contains(F)&&z){const B=D.clientX>E.current?"right":"left";P.current=B,E.current=D.clientX}}))})})})})})})});tX.displayName=Wi;var g1e="MenuGroup",jR=v.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx($e.div,{role:"group",...r,ref:t})});jR.displayName=g1e;var y1e="MenuLabel",nX=v.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx($e.div,{...r,ref:t})});nX.displayName=y1e;var rS="MenuItem",W5="menu.itemSelect",xj=v.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,i=v.useRef(null),o=e0(rS,e.__scopeMenu),l=NR(rS,e.__scopeMenu),c=Ke(t,i),u=v.useRef(!1),d=()=>{const h=i.current;if(!n&&h){const f=new CustomEvent(W5,{bubbles:!0,cancelable:!0});h.addEventListener(W5,p=>r==null?void 0:r(p),{once:!0}),TD(h,f),f.defaultPrevented?u.current=!1:o.onClose()}};return a.jsx(rX,{...s,ref:c,disabled:n,onClick:ge(e.onClick,d),onPointerDown:h=>{var f;(f=e.onPointerDown)==null||f.call(e,h),u.current=!0},onPointerUp:ge(e.onPointerUp,h=>{var f;u.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:ge(e.onKeyDown,h=>{const f=l.searchRef.current!=="";n||f&&h.key===" "||PO.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});xj.displayName=rS;var rX=v.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=e,o=NR(rS,n),l=JY(n),c=v.useRef(null),u=Ke(t,c),[d,h]=v.useState(!1),[f,p]=v.useState("");return v.useEffect(()=>{const m=c.current;m&&p((m.textContent??"").trim())},[i.children]),a.jsx(px.ItemSlot,{scope:n,disabled:r,textValue:s??f,children:a.jsx(zY,{asChild:!0,...l,focusable:!r,children:a.jsx($e.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:ge(e.onPointerMove,mx(m=>{r?o.onItemLeave(m):(o.onItemEnter(m),m.defaultPrevented||m.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ge(e.onPointerLeave,mx(m=>o.onItemLeave(m))),onFocus:ge(e.onFocus,()=>h(!0)),onBlur:ge(e.onBlur,()=>h(!1))})})})}),x1e="MenuCheckboxItem",sX=v.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return a.jsx(cX,{scope:e.__scopeMenu,checked:n,children:a.jsx(xj,{role:"menuitemcheckbox","aria-checked":sS(n)?"mixed":n,...s,ref:t,"data-state":ER(n),onSelect:ge(s.onSelect,()=>r==null?void 0:r(sS(n)?!0:!n),{checkForDefaultPrevented:!1})})})});sX.displayName=x1e;var iX="MenuRadioGroup",[v1e,b1e]=uh(iX,{value:void 0,onValueChange:()=>{}}),oX=v.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,i=Kn(r);return a.jsx(v1e,{scope:e.__scopeMenu,value:n,onValueChange:i,children:a.jsx(jR,{...s,ref:t})})});oX.displayName=iX;var aX="MenuRadioItem",lX=v.forwardRef((e,t)=>{const{value:n,...r}=e,s=b1e(aX,e.__scopeMenu),i=n===s.value;return a.jsx(cX,{scope:e.__scopeMenu,checked:i,children:a.jsx(xj,{role:"menuitemradio","aria-checked":i,...r,ref:t,"data-state":ER(i),onSelect:ge(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});lX.displayName=aX;var _R="MenuItemIndicator",[cX,w1e]=uh(_R,{checked:!1}),uX=v.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,i=w1e(_R,n);return a.jsx(Dr,{present:r||sS(i.checked)||i.checked===!0,children:a.jsx($e.span,{...s,ref:t,"data-state":ER(i.checked)})})});uX.displayName=_R;var S1e="MenuSeparator",dX=v.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx($e.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});dX.displayName=S1e;var N1e="MenuArrow",hX=v.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=yj(n);return a.jsx(rj,{...s,...r,ref:t})});hX.displayName=N1e;var k1e="MenuSub",[wvt,fX]=uh(k1e),$g="MenuSubTrigger",pX=v.forwardRef((e,t)=>{const n=dh($g,e.__scopeMenu),r=e0($g,e.__scopeMenu),s=fX($g,e.__scopeMenu),i=NR($g,e.__scopeMenu),o=v.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=v.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return v.useEffect(()=>d,[d]),v.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),a.jsx(wR,{asChild:!0,...u,children:a.jsx(rX,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":yX(n.open),...e,ref:Aa(t,s.onTriggerChange),onClick:h=>{var f;(f=e.onClick)==null||f.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ge(e.onPointerMove,mx(h=>{i.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:ge(e.onPointerLeave,mx(h=>{var p,m;d();const f=(p=n.content)==null?void 0:p.getBoundingClientRect();if(f){const g=(m=n.content)==null?void 0:m.dataset.side,y=g==="right",x=y?-5:5,b=f[y?"left":"right"],w=f[y?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+x,y:h.clientY},{x:b,y:f.top},{x:w,y:f.top},{x:w,y:f.bottom},{x:b,y:f.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ge(e.onKeyDown,h=>{var p;const f=i.searchRef.current!=="";e.disabled||f&&h.key===" "||s1e[r.dir].includes(h.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),h.preventDefault())})})})});pX.displayName=$g;var mX="MenuSubContent",gX=v.forwardRef((e,t)=>{const n=ZY(Wi,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,i=dh(Wi,e.__scopeMenu),o=e0(Wi,e.__scopeMenu),l=fX(mX,e.__scopeMenu),c=v.useRef(null),u=Ke(t,c);return a.jsx(px.Provider,{scope:e.__scopeMenu,children:a.jsx(Dr,{present:r||i.open,children:a.jsx(px.Slot,{scope:e.__scopeMenu,children:a.jsx(kR,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ge(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ge(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:ge(e.onKeyDown,d=>{var p;const h=d.currentTarget.contains(d.target),f=i1e[o.dir].includes(d.key);h&&f&&(i.onOpenChange(!1),(p=l.trigger)==null||p.focus(),d.preventDefault())})})})})})});gX.displayName=mX;function yX(e){return e?"open":"closed"}function sS(e){return e==="indeterminate"}function ER(e){return sS(e)?"indeterminate":e?"checked":"unchecked"}function j1e(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function _1e(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function E1e(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=_1e(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function C1e(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,h=c.x,f=c.y;d>r!=f>r&&n<(h-u)*(r-d)/(f-d)+u&&(s=!s)}return s}function T1e(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return C1e(n,t)}function mx(e){return t=>t.pointerType==="mouse"?e(t):void 0}var A1e=QY,O1e=wR,M1e=eX,P1e=tX,D1e=jR,R1e=nX,I1e=xj,L1e=sX,$1e=oX,B1e=lX,F1e=uX,z1e=dX,U1e=hX,H1e=pX,W1e=gX,vj="DropdownMenu",[V1e]=fs(vj,[XY]),Ms=XY(),[G1e,xX]=V1e(vj),vX=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=Ms(t),u=v.useRef(null),[d,h]=Ji({prop:s,defaultProp:i??!1,onChange:o,caller:vj});return a.jsx(G1e,{scope:t,triggerId:Hi(),triggerRef:u,contentId:Hi(),open:d,onOpenChange:h,onOpenToggle:v.useCallback(()=>h(f=>!f),[h]),modal:l,children:a.jsx(A1e,{...c,open:d,onOpenChange:h,dir:r,modal:l,children:n})})};vX.displayName=vj;var bX="DropdownMenuTrigger",wX=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,i=xX(bX,n),o=Ms(n);return a.jsx(O1e,{asChild:!0,...o,children:a.jsx($e.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Aa(t,i.triggerRef),onPointerDown:ge(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:ge(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});wX.displayName=bX;var q1e="DropdownMenuPortal",SX=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Ms(t);return a.jsx(M1e,{...r,...n})};SX.displayName=q1e;var NX="DropdownMenuContent",kX=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=xX(NX,n),i=Ms(n),o=v.useRef(!1);return a.jsx(P1e,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:t,onCloseAutoFocus:ge(e.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:ge(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});kX.displayName=NX;var K1e="DropdownMenuGroup",Y1e=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Ms(n);return a.jsx(D1e,{...s,...r,ref:t})});Y1e.displayName=K1e;var X1e="DropdownMenuLabel",jX=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Ms(n);return a.jsx(R1e,{...s,...r,ref:t})});jX.displayName=X1e;var J1e="DropdownMenuItem",_X=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Ms(n);return a.jsx(I1e,{...s,...r,ref:t})});_X.displayName=J1e;var Q1e="DropdownMenuCheckboxItem",EX=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Ms(n);return a.jsx(L1e,{...s,...r,ref:t})});EX.displayName=Q1e;var Z1e="DropdownMenuRadioGroup",eSe=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Ms(n);return a.jsx($1e,{...s,...r,ref:t})});eSe.displayName=Z1e;var tSe="DropdownMenuRadioItem",CX=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Ms(n);return a.jsx(B1e,{...s,...r,ref:t})});CX.displayName=tSe;var nSe="DropdownMenuItemIndicator",TX=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Ms(n);return a.jsx(F1e,{...s,...r,ref:t})});TX.displayName=nSe;var rSe="DropdownMenuSeparator",AX=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Ms(n);return a.jsx(z1e,{...s,...r,ref:t})});AX.displayName=rSe;var sSe="DropdownMenuArrow",iSe=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Ms(n);return a.jsx(U1e,{...s,...r,ref:t})});iSe.displayName=sSe;var oSe="DropdownMenuSubTrigger",OX=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Ms(n);return a.jsx(H1e,{...s,...r,ref:t})});OX.displayName=oSe;var aSe="DropdownMenuSubContent",MX=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Ms(n);return a.jsx(W1e,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});MX.displayName=aSe;var lSe=vX,cSe=wX,uSe=SX,PX=kX,DX=jX,RX=_X,IX=EX,LX=CX,$X=TX,BX=AX,FX=OX,zX=MX;const hh=lSe,fh=cSe,dSe=v.forwardRef(({className:e,inset:t,children:n,...r},s)=>a.jsxs(FX,{ref:s,className:me("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...r,children:[n,a.jsx(vp,{className:"ml-auto h-4 w-4"})]}));dSe.displayName=FX.displayName;const hSe=v.forwardRef(({className:e,...t},n)=>a.jsx(zX,{ref:n,className:me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));hSe.displayName=zX.displayName;const pu=v.forwardRef(({className:e,sideOffset:t=4,...n},r)=>a.jsx(uSe,{children:a.jsx(PX,{ref:r,sideOffset:t,className:me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));pu.displayName=PX.displayName;const _n=v.forwardRef(({className:e,inset:t,...n},r)=>a.jsx(RX,{ref:r,className:me("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...n}));_n.displayName=RX.displayName;const fSe=v.forwardRef(({className:e,children:t,checked:n,...r},s)=>a.jsxs(IX,{ref:s,className:me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:n,...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx($X,{children:a.jsx(Wk,{className:"h-4 w-4"})})}),t]}));fSe.displayName=IX.displayName;const pSe=v.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(LX,{ref:r,className:me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx($X,{children:a.jsx(gm,{className:"h-2 w-2 fill-current"})})}),t]}));pSe.displayName=LX.displayName;const UX=v.forwardRef(({className:e,inset:t,...n},r)=>a.jsx(DX,{ref:r,className:me("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));UX.displayName=DX.displayName;const tu=v.forwardRef(({className:e,...t},n)=>a.jsx(BX,{ref:n,className:me("-mx-1 my-1 h-px bg-muted",e),...t}));tu.displayName=BX.displayName;function mSe(e,t=[]){let n=[];function r(i,o){const l=v.createContext(o);l.displayName=i+"Context";const c=n.length;n=[...n,o];const u=h=>{var x;const{scope:f,children:p,...m}=h,g=((x=f==null?void 0:f[e])==null?void 0:x[c])||l,y=v.useMemo(()=>m,Object.values(m));return a.jsx(g.Provider,{value:y,children:p})};u.displayName=i+"Provider";function d(h,f){var g;const p=((g=f==null?void 0:f[e])==null?void 0:g[c])||l,m=v.useContext(p);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,gSe(s,...t)]}function gSe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var ySe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],CR=ySe.reduce((e,t)=>{const n=Yv(`Primitive.${t}`),r=v.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),HX={exports:{}},WX={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ep=v;function xSe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vSe=typeof Object.is=="function"?Object.is:xSe,bSe=Ep.useState,wSe=Ep.useEffect,SSe=Ep.useLayoutEffect,NSe=Ep.useDebugValue;function kSe(e,t){var n=t(),r=bSe({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return SSe(function(){s.value=n,s.getSnapshot=t,yC(s)&&i({inst:s})},[e,n,t]),wSe(function(){return yC(s)&&i({inst:s}),e(function(){yC(s)&&i({inst:s})})},[e]),NSe(n),n}function yC(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!vSe(e,n)}catch{return!0}}function jSe(e,t){return t()}var _Se=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?jSe:kSe;WX.useSyncExternalStore=Ep.useSyncExternalStore!==void 0?Ep.useSyncExternalStore:_Se;HX.exports=WX;var bj=HX.exports;function ESe(){return bj.useSyncExternalStore(CSe,()=>!0,()=>!1)}function CSe(){return()=>{}}var TR="Avatar",[TSe]=mSe(TR),[ASe,VX]=TSe(TR),GX=v.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,i]=v.useState("idle");return a.jsx(ASe,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:a.jsx(CR.span,{...r,ref:t})})});GX.displayName=TR;var qX="AvatarImage",KX=v.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=e,o=VX(qX,n),l=OSe(r,i),c=Kn(u=>{s(u),o.onImageLoadingStatusChange(u)});return rr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(CR.img,{...i,ref:t,src:r}):null});KX.displayName=qX;var YX="AvatarFallback",XX=v.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,i=VX(YX,n),[o,l]=v.useState(r===void 0);return v.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&i.imageLoadingStatus!=="loaded"?a.jsx(CR.span,{...s,ref:t}):null});XX.displayName=YX;function V5(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function OSe(e,{referrerPolicy:t,crossOrigin:n}){const r=ESe(),s=v.useRef(null),i=r?(s.current||(s.current=new window.Image),s.current):null,[o,l]=v.useState(()=>V5(i,e));return rr(()=>{l(V5(i,e))},[i,e]),rr(()=>{const c=h=>()=>{l(h)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,n,t]),o}var JX=GX,QX=KX,ZX=XX;const eJ=v.forwardRef(({className:e,...t},n)=>a.jsx(JX,{ref:n,className:me("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));eJ.displayName=JX.displayName;const MSe=v.forwardRef(({className:e,...t},n)=>a.jsx(QX,{ref:n,className:me("aspect-square h-full w-full",e),...t}));MSe.displayName=QX.displayName;const tJ=v.forwardRef(({className:e,...t},n)=>a.jsx(ZX,{ref:n,className:me("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));tJ.displayName=ZX.displayName;const wj=()=>{const e=Ct(),{user:t,signOut:n}=vR(),r=async()=>{await n(),J.success("Logged out successfully"),e("/login")},s=()=>{var o,l;return(o=t==null?void 0:t.user_metadata)!=null&&o.name?t.user_metadata.name.split(" ").map(c=>c[0]).join("").toUpperCase().slice(0,2):((l=t==null?void 0:t.email)==null?void 0:l[0].toUpperCase())||"U"},i=()=>{var o;return((o=t==null?void 0:t.user_metadata)==null?void 0:o.name)||(t==null?void 0:t.email)||"User"};return a.jsx("nav",{className:"sticky top-0 z-50 w-full border-b bg-white/80 backdrop-blur-lg supports-[backdrop-filter]:bg-white/60",children:a.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[a.jsxs("button",{onClick:()=>e("/apps"),className:"flex items-center gap-2 hover:opacity-80 transition-opacity",children:[a.jsx(mi,{className:"w-6 h-6 text-blue-600"}),a.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Inventor Studio"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(U,{variant:"ghost",size:"sm",onClick:()=>e("/apps"),className:"gap-2",children:[a.jsx(rx,{className:"w-4 h-4"}),"Apps"]}),a.jsxs(hh,{children:[a.jsx(fh,{asChild:!0,children:a.jsx(U,{variant:"ghost",className:"relative h-10 w-10 rounded-full",children:a.jsx(eJ,{className:"h-10 w-10",children:a.jsx(tJ,{className:"bg-gradient-to-br from-blue-500 to-purple-500 text-white font-semibold",children:s()})})})}),a.jsxs(pu,{className:"w-56",align:"end",forceMount:!0,children:[a.jsx(UX,{className:"font-normal",children:a.jsxs("div",{className:"flex flex-col space-y-1",children:[a.jsx("p",{className:"text-sm font-medium leading-none",children:i()}),a.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:t==null?void 0:t.email})]})}),a.jsx(tu,{}),a.jsxs(_n,{onClick:()=>e("/apps"),children:[a.jsx(rx,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"All Apps"})]}),a.jsxs(_n,{disabled:!0,children:[a.jsx(vq,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Account Settings"})]}),a.jsx(tu,{}),a.jsxs(_n,{onClick:r,className:"text-red-600",children:[a.jsx(Ppe,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Log out"})]})]})]})]})]})})};function PSe(){const e=Ct(),{user:t}=vR();return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[a.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-blue-400/10 rounded-full blur-3xl animate-pulse"}),a.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-purple-400/10 rounded-full blur-3xl animate-pulse delay-1000"}),a.jsx("div",{className:"absolute top-1/2 left-1/2 w-80 h-80 bg-indigo-400/10 rounded-full blur-3xl animate-pulse delay-500"})]}),t?a.jsx(wj,{}):a.jsx("nav",{className:"relative z-10 container mx-auto px-6 py-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(mi,{className:"w-8 h-8 text-blue-600"}),a.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Inventor Studio"})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(U,{variant:"ghost",onClick:()=>e("/login"),children:"Login"}),a.jsx(U,{onClick:()=>e("/signup"),children:"Get Started"})]})]})}),a.jsxs("main",{className:"relative z-10 container mx-auto px-6 pt-20 pb-32",children:[a.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[a.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-blue-100 text-blue-700 mb-8",children:[a.jsx(wq,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:"All-in-one productivity suite"})]}),a.jsxs("h1",{className:"text-6xl font-bold mb-6 leading-tight",children:["Your Life, ",a.jsx("br",{}),a.jsx("span",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Beautifully Organized"})]}),a.jsx("p",{className:"text-xl text-gray-600 mb-12 max-w-2xl mx-auto leading-relaxed",children:"Inventor Studio brings together powerful tools for productivity, creativity, and personal growth. Everything you need to turn ideas into reality."}),a.jsxs("div",{className:"flex items-center justify-center gap-4",children:[a.jsxs(U,{size:"lg",className:"text-lg px-8 py-6 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",onClick:()=>e("/apps"),children:[t?"Go to Apps":"Explore Apps",a.jsx(J7,{className:"w-5 h-5 ml-2"})]}),!t&&a.jsx(U,{size:"lg",variant:"outline",className:"text-lg px-8 py-6",onClick:()=>e("/signup"),children:"Start Free"})]})]}),a.jsxs("div",{className:"mt-32 grid md:grid-cols-3 gap-8 max-w-5xl mx-auto",children:[a.jsxs("div",{className:"bg-white/50 backdrop-blur-sm rounded-2xl p-8 border border-gray-200/50 hover:shadow-xl transition-all",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center mb-4",children:a.jsx(mi,{className:"w-6 h-6 text-blue-600"})}),a.jsx("h3",{className:"text-xl font-semibold mb-3",children:"12+ Powerful Apps"}),a.jsx("p",{className:"text-gray-600",children:"From notes and tasks to finance and fitness - everything you need in one place"})]}),a.jsxs("div",{className:"bg-white/50 backdrop-blur-sm rounded-2xl p-8 border border-gray-200/50 hover:shadow-xl transition-all",children:[a.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center mb-4",children:a.jsx(Wpe,{className:"w-6 h-6 text-purple-600"})}),a.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Privacy First"}),a.jsx("p",{className:"text-gray-600",children:"Your data stays yours. Local-first storage with optional cloud sync"})]}),a.jsxs("div",{className:"bg-white/50 backdrop-blur-sm rounded-2xl p-8 border border-gray-200/50 hover:shadow-xl transition-all",children:[a.jsx("div",{className:"w-12 h-12 bg-pink-100 rounded-xl flex items-center justify-center mb-4",children:a.jsx(Vpe,{className:"w-6 h-6 text-pink-600"})}),a.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Works Everywhere"}),a.jsx("p",{className:"text-gray-600",children:"Beautiful responsive design that works seamlessly on any device"})]})]})]}),a.jsx("footer",{className:"relative z-10 border-t border-gray-200 bg-white/30 backdrop-blur-sm",children:a.jsx("div",{className:"container mx-auto px-6 py-8",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-gray-600 text-sm",children:" 2024 Inventor Studio. All rights reserved."}),a.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-600",children:[a.jsx("a",{href:"#",className:"hover:text-blue-600 transition-colors",children:"Privacy"}),a.jsx("a",{href:"#",className:"hover:text-blue-600 transition-colors",children:"Terms"}),a.jsx("a",{href:"#",className:"hover:text-blue-600 transition-colors",children:"Support"})]})]})})})]})}const re=v.forwardRef(({className:e,type:t,...n},r)=>a.jsx("input",{type:t,className:me("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));re.displayName="Input";const te=v.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:me("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));te.displayName="Card";const nJ=v.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:me("flex flex-col space-y-1.5 p-6",e),...t}));nJ.displayName="CardHeader";const rJ=v.forwardRef(({className:e,...t},n)=>a.jsx("h3",{ref:n,className:me("text-2xl font-semibold leading-none tracking-tight",e),...t}));rJ.displayName="CardTitle";const DSe=v.forwardRef(({className:e,...t},n)=>a.jsx("p",{ref:n,className:me("text-sm text-muted-foreground",e),...t}));DSe.displayName="CardDescription";const AR=v.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:me("p-6 pt-0",e),...t}));AR.displayName="CardContent";const RSe=v.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:me("flex items-center p-6 pt-0",e),...t}));RSe.displayName="CardFooter";const ISe=({title:e,description:t,icon:n,route:r,gradient:s})=>{const i=Ct();return a.jsxs(te,{onClick:()=>i(r),className:"group relative overflow-hidden cursor-pointer transition-all duration-300 hover:scale-105 shadow-card hover:shadow-card-hover bg-gradient-card border-border/50",children:[a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsx("div",{className:`w-14 h-14 rounded-xl ${s} flex items-center justify-center transform group-hover:scale-110 transition-transform duration-300`,children:a.jsx(n,{className:"w-7 h-7 text-white"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-xl font-semibold text-foreground group-hover:text-primary transition-colors",children:e}),a.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:t})]})]}),a.jsx("div",{className:"absolute inset-0 bg-gradient-primary opacity-0 group-hover:opacity-5 transition-opacity duration-300"})]})};function LSe(){Ct();const[e,t]=v.useState(""),r=[{title:"To-Do",description:"Organize your tasks and boost productivity with smart task management",icon:gq,route:"/todo",gradient:"bg-gradient-to-br from-blue-500 to-blue-600",category:"productivity"},{title:"Calendar",description:"Plan your schedule, manage events, and stay organized with your calendar",icon:qr,route:"/calendar",gradient:"bg-gradient-to-br from-purple-500 to-purple-600",category:"productivity"},{title:"Finance",description:"Track expenses, manage budgets, and visualize your financial health",icon:yd,route:"/finance",gradient:"bg-gradient-to-br from-emerald-500 to-emerald-600",category:"finance"},{title:"Ideas",description:"Capture, develop, and organize your creative thoughts and innovations",icon:iq,route:"/ideas",gradient:"bg-gradient-to-br from-amber-500 to-amber-600",category:"creativity"},{title:"Goals",description:"Plan your journey and track progress towards your aspirations",icon:Xt,route:"/goals",gradient:"bg-gradient-to-br from-rose-500 to-rose-600",category:"productivity"},{title:"Journal",description:"Reflect on your day and document your personal growth journey",icon:tx,route:"/journal",gradient:"bg-gradient-to-br from-indigo-500 to-indigo-600",category:"personal"},{title:"Habits",description:"Build positive routines and track your daily habit streaks",icon:Sn,route:"/habits",gradient:"bg-gradient-to-br from-teal-500 to-teal-600",category:"personal"},{title:"Expenses",description:"Track daily spending, analyze trends, and discover savings opportunities",icon:zv,route:"/expenses",gradient:"bg-gradient-to-br from-red-500 to-red-600",category:"finance"},{title:"Budgets",description:"Set spending limits, monitor budgets, and stay financially on track",icon:yd,route:"/budgets",gradient:"bg-gradient-to-br from-cyan-500 to-cyan-600",category:"finance"},{title:"Savings",description:"Build toward your financial goals and track savings progress",icon:fa,route:"/savings",gradient:"bg-gradient-to-br from-pink-500 to-pink-600",category:"finance"},{title:"Fitness Tracker",description:"Track workouts, nutrition, wellness with gamification and achievements",icon:gd,route:"/fitness",gradient:"bg-gradient-to-br from-orange-500 to-orange-600",category:"health"},{title:"Notes",description:"Advanced note-taking with rich editing, drawing, voice input, and more",icon:sx,route:"/notes",gradient:"bg-gradient-to-br from-yellow-500 to-yellow-600",category:"productivity"},{title:"Recipes",description:"Manage your favorite recipes with ingredients, instructions, and ratings",icon:tO,route:"/recipes",gradient:"bg-gradient-to-br from-orange-500 to-amber-600",category:"lifestyle"},{title:"Grocery List",description:"Organize your shopping with categorized grocery lists and smart tracking",icon:rO,route:"/grocery",gradient:"bg-gradient-to-br from-green-500 to-emerald-600",category:"lifestyle"}].filter(s=>s.title.toLowerCase().includes(e.toLowerCase())||s.description.toLowerCase().includes(e.toLowerCase())||s.category.toLowerCase().includes(e.toLowerCase()));return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[a.jsx(wj,{}),a.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-blue-400/10 rounded-full blur-3xl animate-pulse"}),a.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-purple-400/10 rounded-full blur-3xl animate-pulse delay-1000"})]}),a.jsxs("div",{className:"relative z-10 container mx-auto px-6 py-8",children:[a.jsxs("div",{className:"max-w-2xl mx-auto mb-12",children:[a.jsxs("h1",{className:"text-5xl font-bold text-center mb-4",children:["Explore ",a.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Apps"})]}),a.jsx("p",{className:"text-center text-gray-600 mb-8",children:"Discover powerful tools to organize your life and boost productivity"}),a.jsxs("div",{className:"relative",children:[a.jsx(Sa,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(re,{type:"text",placeholder:"Search apps by name, description, or category...",value:e,onChange:s=>t(s.target.value),className:"pl-12 h-14 text-lg bg-white/80 backdrop-blur-sm border-gray-200 focus:border-blue-500"})]}),e&&a.jsxs("p",{className:"text-sm text-gray-600 mt-3",children:["Found ",r.length," app",r.length!==1?"s":""]})]}),a.jsx("div",{className:"relative z-10 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 max-w-7xl mx-auto pb-16",children:r.length>0?r.map(s=>a.jsx(ISe,{title:s.title,description:s.description,icon:s.icon,route:s.route,gradient:s.gradient},s.title)):a.jsxs("div",{className:"col-span-full text-center py-16",children:[a.jsxs("p",{className:"text-gray-500 text-lg",children:['No apps found matching "',e,'"']}),a.jsx(U,{variant:"outline",onClick:()=>t(""),className:"mt-4",children:"Clear Search"})]})})]})]})}var $Se=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],BSe=$Se.reduce((e,t)=>{const n=Yv(`Primitive.${t}`),r=v.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),FSe="Label",sJ=v.forwardRef((e,t)=>a.jsx(BSe.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));sJ.displayName=FSe;var iJ=sJ;const zSe=Fv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),K=v.forwardRef(({className:e,...t},n)=>a.jsx(iJ,{ref:n,className:me(zSe(),e),...t}));K.displayName=iJ.displayName;function USe(){const e=Ct(),[t,n]=v.useState(""),[r,s]=v.useState(""),[i,o]=v.useState(!1),l=async c=>{c.preventDefault(),o(!0);try{const{data:u,error:d}=await Le.auth.signInWithPassword({email:t,password:r});if(d)throw d;J.success("Welcome back!"),e("/apps")}catch(u){console.error("Login error:",u),J.error(u.message||"Failed to login")}finally{o(!1)}};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 flex items-center justify-center",children:[a.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-blue-400/10 rounded-full blur-3xl animate-pulse"}),a.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-purple-400/10 rounded-full blur-3xl animate-pulse delay-1000"})]}),a.jsx("div",{className:"absolute top-6 left-6",children:a.jsxs(U,{variant:"ghost",onClick:()=>e("/"),className:"gap-2",children:[a.jsx(Jn,{className:"w-4 h-4"}),"Back"]})}),a.jsx("div",{className:"relative z-10 w-full max-w-md mx-4",children:a.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-2xl p-8 border border-gray-200/50",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-8",children:[a.jsx(mi,{className:"w-8 h-8 text-blue-600"}),a.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Inventor Studio"})]}),a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Welcome Back"}),a.jsx("p",{className:"text-gray-600",children:"Sign in to continue to your workspace"})]}),a.jsxs("form",{onSubmit:l,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"email",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(lq,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(re,{id:"email",type:"email",placeholder:"your@email.com",value:t,onChange:c=>n(c.target.value),className:"pl-10 h-12",required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(K,{htmlFor:"password",children:"Password"}),a.jsx("a",{href:"#",className:"text-sm text-blue-600 hover:underline",children:"Forgot?"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(ym,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(re,{id:"password",type:"password",placeholder:"",value:r,onChange:c=>s(c.target.value),className:"pl-10 h-12",required:!0})]})]}),a.jsx(U,{type:"submit",className:"w-full h-12 text-lg bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",disabled:i,children:i?"Signing in...":"Sign In"})]}),a.jsxs("div",{className:"relative my-8",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-gray-300"})}),a.jsx("div",{className:"relative flex justify-center text-sm",children:a.jsx("span",{className:"px-4 bg-white text-gray-500",children:"Or continue with"})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs(U,{variant:"outline",className:"h-12",children:[a.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[a.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),a.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),a.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),a.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),a.jsxs(U,{variant:"outline",className:"h-12",children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),"GitHub"]})]}),a.jsxs("p",{className:"text-center text-sm text-gray-600 mt-8",children:["Don't have an account?"," ",a.jsx("button",{onClick:()=>e("/signup"),className:"text-blue-600 hover:underline font-medium",children:"Sign up for free"})]})]})})]})}function Sj(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Nj="Checkbox",[HSe]=fs(Nj),[WSe,OR]=HSe(Nj);function VSe(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:s,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:h}=e,[f,p]=Ji({prop:n,defaultProp:s??!1,onChange:c,caller:Nj}),[m,g]=v.useState(null),[y,x]=v.useState(null),b=v.useRef(!1),w=m?!!o||!!m.closest("form"):!0,N={checked:f,disabled:i,setChecked:p,control:m,setControl:g,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:b,required:u,defaultChecked:Fc(s)?!1:s,isFormControl:w,bubbleInput:y,setBubbleInput:x};return a.jsx(WSe,{scope:t,...N,children:GSe(h)?h(N):r})}var oJ="CheckboxTrigger",aJ=v.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},s)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:h,hasConsumerStoppedPropagationRef:f,isFormControl:p,bubbleInput:m}=OR(oJ,e),g=Ke(s,d),y=v.useRef(c);return v.useEffect(()=>{const x=i==null?void 0:i.form;if(x){const b=()=>h(y.current);return x.addEventListener("reset",b),()=>x.removeEventListener("reset",b)}},[i,h]),a.jsx($e.button,{type:"button",role:"checkbox","aria-checked":Fc(c)?"mixed":c,"aria-required":u,"data-state":hJ(c),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:g,onKeyDown:ge(t,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:ge(n,x=>{h(b=>Fc(b)?!0:!b),m&&p&&(f.current=x.isPropagationStopped(),f.current||x.stopPropagation())})})});aJ.displayName=oJ;var MR=v.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...h}=e;return a.jsx(VSe,{__scopeCheckbox:n,checked:s,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:f})=>a.jsxs(a.Fragment,{children:[a.jsx(aJ,{...h,ref:t,__scopeCheckbox:n}),f&&a.jsx(dJ,{__scopeCheckbox:n})]})})});MR.displayName=Nj;var lJ="CheckboxIndicator",cJ=v.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,i=OR(lJ,n);return a.jsx(Dr,{present:r||Fc(i.checked)||i.checked===!0,children:a.jsx($e.span,{"data-state":hJ(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});cJ.displayName=lJ;var uJ="CheckboxBubbleInput",dJ=v.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:h,bubbleInput:f,setBubbleInput:p}=OR(uJ,e),m=Ke(n,p),g=Sj(i),y=ej(r);v.useEffect(()=>{const b=f;if(!b)return;const w=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(w,"checked").set,k=!s.current;if(g!==i&&S){const j=new Event("click",{bubbles:k});b.indeterminate=Fc(i),S.call(b,Fc(i)?!1:i),b.dispatchEvent(j)}},[f,g,i,s]);const x=v.useRef(Fc(i)?!1:i);return a.jsx($e.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??x.current,required:l,disabled:c,name:u,value:d,form:h,...t,tabIndex:-1,ref:m,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});dJ.displayName=uJ;function GSe(e){return typeof e=="function"}function Fc(e){return e==="indeterminate"}function hJ(e){return Fc(e)?"indeterminate":e?"checked":"unchecked"}const ks=v.forwardRef(({className:e,...t},n)=>a.jsx(MR,{ref:n,className:me("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(cJ,{className:me("flex items-center justify-center text-current"),children:a.jsx(Wk,{className:"h-4 w-4"})})}));ks.displayName=MR.displayName;function qSe(){const e=Ct(),[t,n]=v.useState(""),[r,s]=v.useState(""),[i,o]=v.useState(""),[l,c]=v.useState(!1),[u,d]=v.useState(!1),h=async f=>{if(f.preventDefault(),!l){J.error("Please agree to the terms and conditions");return}d(!0);try{const{data:p,error:m}=await Le.auth.signUp({email:r,password:i,options:{data:{name:t}}});if(m)throw m;if(p.user){const{error:g}=await Le.from("profiles").insert({id:p.user.id,email:r,name:t,photos_taken:0,recipes_tried:0,lists_created:0,favorites_count:0,has_premium:!1});g&&console.error("Profile creation error:",g)}J.success("Account created successfully!"),e("/apps")}catch(p){console.error("Signup error:",p),J.error(p.message||"Failed to create account")}finally{d(!1)}};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 flex items-center justify-center py-12",children:[a.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-blue-400/10 rounded-full blur-3xl animate-pulse"}),a.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-purple-400/10 rounded-full blur-3xl animate-pulse delay-1000"})]}),a.jsx("div",{className:"absolute top-6 left-6",children:a.jsxs(U,{variant:"ghost",onClick:()=>e("/"),className:"gap-2",children:[a.jsx(Jn,{className:"w-4 h-4"}),"Back"]})}),a.jsx("div",{className:"relative z-10 w-full max-w-md mx-4",children:a.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-2xl p-8 border border-gray-200/50",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-8",children:[a.jsx(mi,{className:"w-8 h-8 text-blue-600"}),a.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Inventor Studio"})]}),a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Create Account"}),a.jsx("p",{className:"text-gray-600",children:"Start your productivity journey today"})]}),a.jsxs("form",{onSubmit:h,className:"space-y-5",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"name",children:"Full Name"}),a.jsxs("div",{className:"relative",children:[a.jsx(vq,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(re,{id:"name",type:"text",placeholder:"John Doe",value:t,onChange:f=>n(f.target.value),className:"pl-10 h-12",required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"email",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(lq,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(re,{id:"email",type:"email",placeholder:"your@email.com",value:r,onChange:f=>s(f.target.value),className:"pl-10 h-12",required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"password",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(ym,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(re,{id:"password",type:"password",placeholder:"",value:i,onChange:f=>o(f.target.value),className:"pl-10 h-12",required:!0,minLength:8})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Must be at least 8 characters"})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(ks,{id:"terms",checked:l,onCheckedChange:f=>c(f),className:"mt-1"}),a.jsxs("label",{htmlFor:"terms",className:"text-sm text-gray-600 leading-relaxed cursor-pointer",children:["I agree to the"," ",a.jsx("a",{href:"#",className:"text-blue-600 hover:underline",children:"Terms of Service"})," ","and"," ",a.jsx("a",{href:"#",className:"text-blue-600 hover:underline",children:"Privacy Policy"})]})]}),a.jsx(U,{type:"submit",className:"w-full h-12 text-lg bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",disabled:u,children:u?"Creating account...":"Create Account"})]}),a.jsxs("div",{className:"relative my-6",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-gray-300"})}),a.jsx("div",{className:"relative flex justify-center text-sm",children:a.jsx("span",{className:"px-4 bg-white text-gray-500",children:"Or sign up with"})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs(U,{variant:"outline",className:"h-12",children:[a.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[a.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),a.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),a.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),a.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),a.jsxs(U,{variant:"outline",className:"h-12",children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),"GitHub"]})]}),a.jsxs("p",{className:"text-center text-sm text-gray-600 mt-6",children:["Already have an account?"," ",a.jsx("button",{onClick:()=>e("/login"),className:"text-blue-600 hover:underline font-medium",children:"Sign in"})]})]})})]})}const KSe=Fv("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ve({className:e,variant:t,...n}){return a.jsx("div",{className:me(KSe({variant:t}),e),...n})}function YSe(e,t=[]){let n=[];function r(i,o){const l=v.createContext(o);l.displayName=i+"Context";const c=n.length;n=[...n,o];const u=h=>{var x;const{scope:f,children:p,...m}=h,g=((x=f==null?void 0:f[e])==null?void 0:x[c])||l,y=v.useMemo(()=>m,Object.values(m));return a.jsx(g.Provider,{value:y,children:p})};u.displayName=i+"Provider";function d(h,f){var g;const p=((g=f==null?void 0:f[e])==null?void 0:g[c])||l,m=v.useContext(p);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,XSe(s,...t)]}function XSe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var JSe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],fJ=JSe.reduce((e,t)=>{const n=Yv(`Primitive.${t}`),r=v.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),PR="Progress",DR=100,[QSe]=YSe(PR),[ZSe,eNe]=QSe(PR),pJ=v.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=tNe,...o}=e;(s||s===0)&&!G5(s)&&console.error(nNe(`${s}`,"Progress"));const l=G5(s)?s:DR;r!==null&&!q5(r,l)&&console.error(rNe(`${r}`,"Progress"));const c=q5(r,l)?r:null,u=iS(c)?i(c,l):void 0;return a.jsx(ZSe,{scope:n,value:c,max:l,children:a.jsx(fJ.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":iS(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":yJ(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});pJ.displayName=PR;var mJ="ProgressIndicator",gJ=v.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,s=eNe(mJ,n);return a.jsx(fJ.div,{"data-state":yJ(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:t})});gJ.displayName=mJ;function tNe(e,t){return`${Math.round(e/t*100)}%`}function yJ(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function iS(e){return typeof e=="number"}function G5(e){return iS(e)&&!isNaN(e)&&e>0}function q5(e,t){return iS(e)&&!isNaN(e)&&e<=t&&e>=0}function nNe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${DR}\`.`}function rNe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${DR} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var xJ=pJ,sNe=gJ;const Sr=v.forwardRef(({className:e,value:t,...n},r)=>a.jsx(xJ,{ref:r,className:me("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:a.jsx(sNe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Sr.displayName=xJ.displayName;function iNe(e){const t=oNe(e),n=v.forwardRef((r,s)=>{const{children:i,...o}=r,l=v.Children.toArray(i),c=l.find(lNe);if(c){const u=c.props.children,d=l.map(h=>h===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:h);return a.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}function oNe(e){const t=v.forwardRef((n,r)=>{const{children:s,...i}=n;if(v.isValidElement(s)){const o=uNe(s),l=cNe(i,s.props);return s.type!==v.Fragment&&(l.ref=r?Aa(r,o):o),v.cloneElement(s,l)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var aNe=Symbol("radix.slottable");function lNe(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===aNe}function cNe(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function uNe(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var kj="Dialog",[vJ,bJ]=fs(kj),[dNe,Go]=vJ(kj),wJ=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,l=v.useRef(null),c=v.useRef(null),[u,d]=Ji({prop:r,defaultProp:s??!1,onChange:i,caller:kj});return a.jsx(dNe,{scope:t,triggerRef:l,contentRef:c,contentId:Hi(),titleId:Hi(),descriptionId:Hi(),open:u,onOpenChange:d,onOpenToggle:v.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};wJ.displayName=kj;var SJ="DialogTrigger",NJ=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Go(SJ,n),i=Ke(t,s.triggerRef);return a.jsx($e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":LR(s.open),...r,ref:i,onClick:ge(e.onClick,s.onOpenToggle)})});NJ.displayName=SJ;var RR="DialogPortal",[hNe,kJ]=vJ(RR,{forceMount:void 0}),jJ=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,i=Go(RR,t);return a.jsx(hNe,{scope:t,forceMount:n,children:v.Children.map(r,o=>a.jsx(Dr,{present:n||i.open,children:a.jsx(mm,{asChild:!0,container:s,children:o})}))})};jJ.displayName=RR;var oS="DialogOverlay",_J=v.forwardRef((e,t)=>{const n=kJ(oS,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=Go(oS,e.__scopeDialog);return i.modal?a.jsx(Dr,{present:r||i.open,children:a.jsx(pNe,{...s,ref:t})}):null});_J.displayName=oS;var fNe=iNe("DialogOverlay.RemoveScroll"),pNe=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Go(oS,n);return a.jsx(Qv,{as:fNe,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx($e.div,{"data-state":LR(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Fd="DialogContent",EJ=v.forwardRef((e,t)=>{const n=kJ(Fd,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=Go(Fd,e.__scopeDialog);return a.jsx(Dr,{present:r||i.open,children:i.modal?a.jsx(mNe,{...s,ref:t}):a.jsx(gNe,{...s,ref:t})})});EJ.displayName=Fd;var mNe=v.forwardRef((e,t)=>{const n=Go(Fd,e.__scopeDialog),r=v.useRef(null),s=Ke(t,n.contentRef,r);return v.useEffect(()=>{const i=r.current;if(i)return mj(i)},[]),a.jsx(CJ,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ge(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ge(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:ge(e.onFocusOutside,i=>i.preventDefault())})}),gNe=v.forwardRef((e,t)=>{const n=Go(Fd,e.__scopeDialog),r=v.useRef(!1),s=v.useRef(!1);return a.jsx(CJ,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),CJ=v.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,l=Go(Fd,n),c=v.useRef(null),u=Ke(t,c);return fj(),a.jsxs(a.Fragment,{children:[a.jsx(Xv,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(lh,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":LR(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(xNe,{titleId:l.titleId}),a.jsx(bNe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),IR="DialogTitle",TJ=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Go(IR,n);return a.jsx($e.h2,{id:s.titleId,...r,ref:t})});TJ.displayName=IR;var AJ="DialogDescription",OJ=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Go(AJ,n);return a.jsx($e.p,{id:s.descriptionId,...r,ref:t})});OJ.displayName=AJ;var MJ="DialogClose",PJ=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Go(MJ,n);return a.jsx($e.button,{type:"button",...r,ref:t,onClick:ge(e.onClick,()=>s.onOpenChange(!1))})});PJ.displayName=MJ;function LR(e){return e?"open":"closed"}var DJ="DialogTitleWarning",[yNe,RJ]=ffe(DJ,{contentName:Fd,titleName:IR,docsSlug:"dialog"}),xNe=({titleId:e})=>{const t=RJ(DJ),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},vNe="DialogDescriptionWarning",bNe=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${RJ(vNe).contentName}}.`;return v.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},$R=wJ,BR=NJ,FR=jJ,t0=_J,n0=EJ,r0=TJ,s0=OJ,jj=PJ;const IJ=$R,LJ=BR,wNe=FR,$J=v.forwardRef(({className:e,...t},n)=>a.jsx(t0,{className:me("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));$J.displayName=t0.displayName;const SNe=Fv("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),zR=v.forwardRef(({side:e="right",className:t,children:n,...r},s)=>a.jsxs(wNe,{children:[a.jsx($J,{}),a.jsxs(n0,{ref:s,className:me(SNe({side:e}),t),...r,children:[n,a.jsxs(jj,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[a.jsx(zo,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));zR.displayName=n0.displayName;const UR=({className:e,...t})=>a.jsx("div",{className:me("flex flex-col space-y-2 text-center sm:text-left",e),...t});UR.displayName="SheetHeader";const HR=v.forwardRef(({className:e,...t},n)=>a.jsx(r0,{ref:n,className:me("text-lg font-semibold text-foreground",e),...t}));HR.displayName=r0.displayName;const WR=v.forwardRef(({className:e,...t},n)=>a.jsx(s0,{ref:n,className:me("text-sm text-muted-foreground",e),...t}));WR.displayName=s0.displayName;var NNe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],kNe=NNe.reduce((e,t)=>{const n=Yv(`Primitive.${t}`),r=v.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),jNe="Separator",K5="horizontal",_Ne=["horizontal","vertical"],BJ=v.forwardRef((e,t)=>{const{decorative:n,orientation:r=K5,...s}=e,i=ENe(r)?r:K5,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return a.jsx(kNe.div,{"data-orientation":i,...l,...s,ref:t})});BJ.displayName=jNe;function ENe(e){return _Ne.includes(e)}var FJ=BJ;const kn=v.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},s)=>a.jsx(FJ,{ref:s,decorative:n,orientation:t,className:me("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));kn.displayName=FJ.displayName;const oo={TODO_COMPLETE:10,TODO_COMPLETE_HIGH_PRIORITY:20,TODO_COMPLETE_EARLY:25,HABIT_COMPLETE:15,GOAL_MILESTONE_COMPLETE:25,GOAL_COMPLETE:100,EXPENSE_ADD:3,BUDGET_CREATE:15,SAVINGS_GOAL_REACH:50,JOURNAL_ENTRY:10,IDEA_CREATE:5},DO=e=>e<100?1:e<300?2:e<600?3:e<1e3?4:e<1500?5:e<2100?6:e<2800?7:e<3600?8:e<4500?9:e<5500?10:Math.floor((e-5500)/1e3)+11,CNe=e=>{const t=[100,300,600,1e3,1500,2100,2800,3600,4500,5500];return e<=t.length?t[e-1]:5500+(e-10)*1e3},TNe=e=>{if(e===1)return 0;const t=[0,100,300,600,1e3,1500,2100,2800,3600,4500,5500];return e<=t.length?t[e-1]:5500+(e-11)*1e3},ANe=e=>{const t=DO(e),n=t+1,r=TNe(t),s=CNe(t),i=s-e,o=(e-r)/(s-r)*100;return{currentLevel:t,nextLevel:n,currentLevelXP:r,nextLevelXP:s,xpToNextLevel:i,progressPercentage:Math.min(100,Math.max(0,o))}},e1=[{id:"first-task",name:"Getting Started",description:"Complete your first task",icon:"",xpReward:10},{id:"task-warrior-10",name:"Task Warrior",description:"Complete 10 tasks",icon:"",xpReward:50},{id:"task-master-50",name:"Task Master",description:"Complete 50 tasks",icon:"",xpReward:150},{id:"task-centurion",name:"Centurion",description:"Complete 100 tasks",icon:"",xpReward:300},{id:"first-habit",name:"First Steps",description:"Complete your first habit",icon:"",xpReward:10},{id:"habit-builder-50",name:"Habit Builder",description:"Complete 50 habits",icon:"",xpReward:150},{id:"streak-master",name:"Streak Master",description:"Maintain a 30-day streak",icon:"",xpReward:200},{id:"goal-setter",name:"Goal Setter",description:"Create your first goal",icon:"",xpReward:15},{id:"goal-achiever",name:"Goal Achiever",description:"Complete your first major goal",icon:"",xpReward:100},{id:"budget-master",name:"Budget Master",description:"Stay under budget for 3 consecutive months",icon:"",xpReward:100},{id:"savings-starter",name:"Savings Starter",description:"Reach your first savings goal",icon:"",xpReward:75},{id:"level-5",name:"Rising Star",description:"Reach Level 5",icon:"",xpReward:50},{id:"level-10",name:"Productivity Pro",description:"Reach Level 10",icon:"",xpReward:100},{id:"level-25",name:"Legendary",description:"Reach Level 25",icon:"",xpReward:500}],ONe=(e,t)=>{if(t.badges.includes(e.id))return!0;const{stats:n}=t;switch(e.id){case"first-task":return n.tasksCompleted>=1;case"task-warrior-10":return n.tasksCompleted>=10;case"task-master-50":return n.tasksCompleted>=50;case"task-centurion":return n.tasksCompleted>=100;case"first-habit":return n.habitsCompleted>=1;case"habit-builder-50":return n.habitsCompleted>=50;case"streak-master":return n.habitStreak>=30||n.todoStreak>=30;case"goal-setter":return n.goalsCompleted>=0;case"goal-achiever":return n.goalsCompleted>=1;case"budget-master":return n.budgetsCreated>=3;case"savings-starter":return n.savingsGoalsReached>=1;case"level-5":return t.level>=5;case"level-10":return t.level>=10;case"level-25":return t.level>=25;default:return!1}},Y5="daily-haven-gamification",MNe={totalXP:0,level:1,badges:[],achievements:[],stats:{tasksCompleted:0,todoStreak:0,habitsCompleted:0,habitStreak:0,goalsCompleted:0,milestonesReached:0,expensesTracked:0,budgetsCreated:0,savingsGoalsReached:0,journalEntriesWritten:0,ideasCreated:0},createdAt:new Date,updatedAt:new Date},zJ=()=>{const[e,t]=v.useState(MNe),[n,r]=v.useState(!1);v.useEffect(()=>{try{const b=localStorage.getItem(Y5);if(b){const w=JSON.parse(b);t({...w,createdAt:new Date(w.createdAt),updatedAt:new Date(w.updatedAt),achievements:w.achievements.map(N=>({...N,unlockedAt:N.unlockedAt?new Date(N.unlockedAt):void 0}))})}}catch(b){console.error("Error loading gamification profile:",b)}finally{r(!0)}},[]);const s=v.useCallback(b=>{try{localStorage.setItem(Y5,JSON.stringify(b)),t(b)}catch(w){console.error("Error saving gamification profile:",w)}},[]),i=v.useCallback((b,w)=>{const N=e.level,S=e.totalXP+b,k=DO(S),j={...e,totalXP:S,level:k,updatedAt:new Date};s(j),w&&J.success(`+${b} XP - ${w}`,{description:`Total XP: ${S}`}),k>N&&(J.success(` Level Up! You're now Level ${k}!`,{description:"You've reached a new level of productivity!",duration:5e3}),l(j))},[e,s]),o=v.useCallback(b=>{const w={...e,stats:{...e.stats,...b},updatedAt:new Date};s(w),l(w)},[e,s]),l=v.useCallback(b=>{const w=[],N=[...b.badges];if(e1.forEach(S=>{b.badges.includes(S.id)||ONe(S,b)&&(w.push({...S,unlockedAt:new Date}),N.push(S.id),J.success(` Achievement Unlocked: ${S.name}`,{description:`${S.description} (+${S.xpReward} XP)`,duration:5e3}),b.totalXP+=S.xpReward)}),w.length>0){const S={...b,badges:N,achievements:[...b.achievements,...w],level:DO(b.totalXP),updatedAt:new Date};s(S)}},[s]),c=v.useCallback((b=!1,w=!1,N=!1)=>{let S=oo.TODO_COMPLETE;b&&(S=oo.TODO_COMPLETE_HIGH_PRIORITY),w&&(S+=5),N&&(S=oo.TODO_COMPLETE_EARLY),i(S,"Task completed"),o({tasksCompleted:e.stats.tasksCompleted+1})},[i,o,e.stats.tasksCompleted]),u=v.useCallback((b=0)=>{let w=oo.HABIT_COMPLETE;b>0&&(w+=b),i(w,"Habit completed"),o({habitsCompleted:e.stats.habitsCompleted+1})},[i,o,e.stats.habitsCompleted]),d=v.useCallback(()=>{i(oo.GOAL_COMPLETE,"Goal completed"),o({goalsCompleted:e.stats.goalsCompleted+1})},[i,o,e.stats.goalsCompleted]),h=v.useCallback(()=>{i(oo.GOAL_MILESTONE_COMPLETE,"Milestone reached"),o({milestonesReached:e.stats.milestonesReached+1})},[i,o,e.stats.milestonesReached]),f=v.useCallback(()=>{i(oo.EXPENSE_ADD,"Expense tracked"),o({expensesTracked:e.stats.expensesTracked+1})},[i,o,e.stats.expensesTracked]),p=v.useCallback(()=>{i(oo.BUDGET_CREATE,"Budget created"),o({budgetsCreated:e.stats.budgetsCreated+1})},[i,o,e.stats.budgetsCreated]),m=v.useCallback(()=>{i(oo.SAVINGS_GOAL_REACH,"Savings goal reached"),o({savingsGoalsReached:e.stats.savingsGoalsReached+1})},[i,o,e.stats.savingsGoalsReached]),g=v.useCallback(()=>{i(oo.JOURNAL_ENTRY,"Journal entry written"),o({journalEntriesWritten:e.stats.journalEntriesWritten+1})},[i,o,e.stats.journalEntriesWritten]),y=v.useCallback(()=>{i(oo.IDEA_CREATE,"Idea created"),o({ideasCreated:e.stats.ideasCreated+1})},[i,o,e.stats.ideasCreated]),x=ANe(e.totalXP);return{profile:e,isLoaded:n,addXP:i,updateStats:o,levelProgress:x,recordTaskComplete:c,recordHabitComplete:u,recordGoalComplete:d,recordMilestoneComplete:h,recordExpenseAdded:f,recordBudgetCreated:p,recordSavingsGoalReached:m,recordJournalEntry:g,recordIdeaCreated:y}},Dn=({title:e})=>{const t=Ct(),{profile:n,levelProgress:r}=zJ();return a.jsx("header",{className:"sticky top-0 z-10 bg-background/80 backdrop-blur-lg border-b border-border",children:a.jsx("div",{className:"container mx-auto px-4 py-3",children:a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>t("/apps"),className:"hover:bg-primary/10 hover:text-primary flex-shrink-0",children:a.jsx(Jn,{className:"h-5 w-5"})}),a.jsx("h1",{className:"text-xl sm:text-2xl font-semibold text-foreground truncate",children:e})]}),a.jsxs(IJ,{children:[a.jsx(LJ,{asChild:!0,children:a.jsxs(U,{variant:"outline",className:"flex items-center gap-2 px-2 sm:px-4 hover:bg-primary/10 hover:border-primary/50 transition-all",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"hidden sm:flex items-center gap-1",children:a.jsx(Sn,{className:"h-4 w-4 text-primary"})}),a.jsxs(ve,{variant:"secondary",className:"text-xs sm:text-sm font-bold bg-gradient-to-r from-primary/20 to-primary/10",children:[a.jsx(wq,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 text-primary"}),"Lv ",n.level]})]}),a.jsxs("div",{className:"hidden sm:flex items-center gap-1",children:[a.jsx("span",{className:"text-sm font-semibold text-primary",children:n.totalXP}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"XP"})]})]})}),a.jsxs(zR,{className:"w-full sm:max-w-md overflow-y-auto",children:[a.jsxs(UR,{className:"space-y-3",children:[a.jsxs(HR,{className:"flex items-center gap-2",children:[a.jsx(us,{className:"h-5 w-5 text-primary"}),"Your Progress"]}),a.jsx(WR,{children:"Track your productivity journey across all apps"})]}),a.jsxs("div",{className:"mt-6 space-y-6",children:[a.jsx(te,{className:"p-4 bg-gradient-to-br from-primary/5 to-primary/10 border-primary/20",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Level"}),a.jsx("div",{className:"flex items-center gap-2 mt-1",children:a.jsxs(ve,{variant:"default",className:"text-lg font-bold px-3 py-1",children:["Level ",r.currentLevel]})})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total XP"}),a.jsx("p",{className:"text-2xl font-bold text-primary mt-1",children:n.totalXP})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsxs("span",{className:"text-muted-foreground",children:["Progress to Level ",r.nextLevel]}),a.jsxs("span",{className:"font-semibold",children:[Math.round(r.progressPercentage),"%"]})]}),a.jsx(Sr,{value:r.progressPercentage,className:"h-3"}),a.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:[r.xpToNextLevel," XP until next level"]})]})]})}),a.jsx(kn,{}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[a.jsx(Xt,{className:"h-4 w-4"}),"Your Statistics"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs(te,{className:"p-3 bg-secondary/50",children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Tasks Completed"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:n.stats.tasksCompleted})]}),a.jsxs(te,{className:"p-3 bg-secondary/50",children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Habits Done"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:n.stats.habitsCompleted})]}),a.jsxs(te,{className:"p-3 bg-secondary/50",children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Goals Achieved"}),a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:n.stats.goalsCompleted})]}),a.jsxs(te,{className:"p-3 bg-secondary/50",children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Journal Entries"}),a.jsx("p",{className:"text-2xl font-bold text-amber-600",children:n.stats.journalEntriesWritten})]}),n.stats.expensesTracked>0&&a.jsxs(te,{className:"p-3 bg-secondary/50",children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Expenses Tracked"}),a.jsx("p",{className:"text-2xl font-bold text-red-600",children:n.stats.expensesTracked})]}),n.stats.budgetsCreated>0&&a.jsxs(te,{className:"p-3 bg-secondary/50",children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Budgets Created"}),a.jsx("p",{className:"text-2xl font-bold text-teal-600",children:n.stats.budgetsCreated})]}),n.stats.ideasCreated>0&&a.jsxs(te,{className:"p-3 bg-secondary/50",children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Ideas Created"}),a.jsx("p",{className:"text-2xl font-bold text-pink-600",children:n.stats.ideasCreated})]}),n.stats.milestonesReached>0&&a.jsxs(te,{className:"p-3 bg-secondary/50",children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Milestones"}),a.jsx("p",{className:"text-2xl font-bold text-orange-600",children:n.stats.milestonesReached})]})]})]}),a.jsx(kn,{}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("h3",{className:"text-sm font-semibold flex items-center gap-2",children:[a.jsx(Na,{className:"h-4 w-4 text-amber-500"}),"Achievements"]}),a.jsxs(ve,{variant:"outline",className:"text-xs",children:[n.badges.length," / ",e1.length]})]}),n.achievements.length>0?a.jsx("div",{className:"space-y-2",children:n.achievements.map(s=>a.jsx(te,{className:"p-3 bg-gradient-to-r from-amber-50/50 to-transparent dark:from-amber-950/20 border-amber-200/50 dark:border-amber-800/30",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"text-2xl",children:s.icon}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-semibold text-sm",children:s.name}),a.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:s.description}),a.jsxs(ve,{variant:"outline",className:"mt-2 text-xs",children:["+",s.xpReward," XP"]})]})]})},s.id))}):a.jsxs(te,{className:"p-6 text-center bg-secondary/30",children:[a.jsx(us,{className:"h-12 w-12 mx-auto mb-3 text-muted-foreground/50"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Start completing tasks to unlock achievements!"})]}),n.badges.length<e1.length&&a.jsxs("div",{className:"mt-4",children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Upcoming Achievements:"}),a.jsx("div",{className:"space-y-2",children:e1.filter(s=>!n.badges.includes(s.id)).slice(0,3).map(s=>a.jsx(te,{className:"p-2 bg-secondary/30 opacity-60",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"text-lg opacity-50",children:s.icon}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-xs",children:s.name}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",children:s.description})]}),a.jsxs(ve,{variant:"outline",className:"text-xs flex-shrink-0",children:[" +",s.xpReward," XP"]})]})},s.id))})]})]}),a.jsxs(te,{className:"p-4 bg-blue-50 dark:bg-blue-950/30 border-blue-200 dark:border-blue-800/30",children:[a.jsx("h4",{className:"text-sm font-semibold mb-2 text-blue-900 dark:text-blue-100",children:" How to Earn XP"}),a.jsxs("div",{className:"space-y-1 text-xs text-blue-700 dark:text-blue-300",children:[a.jsx("p",{children:" Complete tasks: 5-25 XP"}),a.jsx("p",{children:" Finish habits: 15 XP + streak bonuses"}),a.jsx("p",{children:" Reach milestones: 25 XP"}),a.jsx("p",{children:" Complete goals: 100 XP"}),a.jsx("p",{children:" Track expenses: 3 XP each"}),a.jsx("p",{children:" Create budgets: 15 XP"}),a.jsx("p",{children:" Write journal entries: 10 XP"}),a.jsx("p",{children:" Create ideas: 5 XP"})]})]})]})]})]})]})})})},PNe=()=>{const e=qv();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(Dn,{title:"Page Not Found"}),a.jsx("div",{className:"flex min-h-[calc(100vh-64px)] items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),a.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),a.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/80",children:"Return to Home"})]})})]})},ft=v.forwardRef(({className:e,...t},n)=>a.jsx("textarea",{className:me("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));ft.displayName="Textarea";function gx(e,[t,n]){return Math.min(n,Math.max(t,e))}function DNe(e){const t=RNe(e),n=v.forwardRef((r,s)=>{const{children:i,...o}=r,l=v.Children.toArray(i),c=l.find(LNe);if(c){const u=c.props.children,d=l.map(h=>h===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:h);return a.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}function RNe(e){const t=v.forwardRef((n,r)=>{const{children:s,...i}=n;if(v.isValidElement(s)){const o=BNe(s),l=$Ne(i,s.props);return s.type!==v.Fragment&&(l.ref=r?Aa(r,o):o),v.cloneElement(s,l)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var INe=Symbol("radix.slottable");function LNe(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===INe}function $Ne(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function BNe(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var FNe=[" ","Enter","ArrowUp","ArrowDown"],zNe=[" ","Enter"],zd="Select",[_j,Ej,UNe]=$v(zd),[Nm]=fs(zd,[UNe,uu]),Cj=uu(),[HNe,mu]=Nm(zd),[WNe,VNe]=Nm(zd),UJ=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:f,required:p,form:m}=e,g=Cj(t),[y,x]=v.useState(null),[b,w]=v.useState(null),[N,S]=v.useState(!1),k=Sm(u),[j,_]=Ji({prop:r,defaultProp:s??!1,onChange:i,caller:zd}),[C,A]=Ji({prop:o,defaultProp:l,onChange:c,caller:zd}),O=v.useRef(null),M=y?m||!!y.closest("form"):!0,[P,E]=v.useState(new Set),I=Array.from(P).map(T=>T.props.value).join(";");return a.jsx(tj,{...g,children:a.jsxs(HNe,{required:p,scope:t,trigger:y,onTriggerChange:x,valueNode:b,onValueNodeChange:w,valueNodeHasChildren:N,onValueNodeHasChildrenChange:S,contentId:Hi(),value:C,onValueChange:A,open:j,onOpenChange:_,dir:k,triggerPointerDownPosRef:O,disabled:f,children:[a.jsx(_j.Provider,{scope:t,children:a.jsx(WNe,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(T=>{E(R=>new Set(R).add(T))},[]),onNativeOptionRemove:v.useCallback(T=>{E(R=>{const L=new Set(R);return L.delete(T),L})},[]),children:n})}),M?a.jsxs(hQ,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:h,value:C,onChange:T=>A(T.target.value),disabled:f,form:m,children:[C===void 0?a.jsx("option",{value:""}):null,Array.from(P)]},I):null]})})};UJ.displayName=zd;var HJ="SelectTrigger",WJ=v.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,i=Cj(n),o=mu(HJ,n),l=o.disabled||r,c=Ke(t,o.onTriggerChange),u=Ej(n),d=v.useRef("touch"),[h,f,p]=pQ(g=>{const y=u().filter(w=>!w.disabled),x=y.find(w=>w.value===o.value),b=mQ(y,g,x);b!==void 0&&o.onValueChange(b.value)}),m=g=>{l||(o.onOpenChange(!0),p()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return a.jsx(Wv,{asChild:!0,...i,children:a.jsx($e.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":fQ(o.value)?"":void 0,...s,ref:c,onClick:ge(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&m(g)}),onPointerDown:ge(s.onPointerDown,g=>{d.current=g.pointerType;const y=g.target;y.hasPointerCapture(g.pointerId)&&y.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(m(g),g.preventDefault())}),onKeyDown:ge(s.onKeyDown,g=>{const y=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&f(g.key),!(y&&g.key===" ")&&FNe.includes(g.key)&&(m(),g.preventDefault())})})})});WJ.displayName=HJ;var VJ="SelectValue",GJ=v.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...l}=e,c=mu(VJ,n),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,h=Ke(t,c.onValueNodeChange);return rr(()=>{u(d)},[u,d]),a.jsx($e.span,{...l,ref:h,style:{pointerEvents:"none"},children:fQ(c.value)?a.jsx(a.Fragment,{children:o}):i})});GJ.displayName=VJ;var GNe="SelectIcon",qJ=v.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return a.jsx($e.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});qJ.displayName=GNe;var qNe="SelectPortal",KJ=e=>a.jsx(mm,{asChild:!0,...e});KJ.displayName=qNe;var Ud="SelectContent",YJ=v.forwardRef((e,t)=>{const n=mu(Ud,e.__scopeSelect),[r,s]=v.useState();if(rr(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Ta.createPortal(a.jsx(XJ,{scope:e.__scopeSelect,children:a.jsx(_j.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),i):null}return a.jsx(JJ,{...e,ref:t})});YJ.displayName=Ud;var uo=10,[XJ,gu]=Nm(Ud),KNe="SelectContentImpl",YNe=DNe("SelectContent.RemoveScroll"),JJ=v.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:m,hideWhenDetached:g,avoidCollisions:y,...x}=e,b=mu(Ud,n),[w,N]=v.useState(null),[S,k]=v.useState(null),j=Ke(t,G=>N(G)),[_,C]=v.useState(null),[A,O]=v.useState(null),M=Ej(n),[P,E]=v.useState(!1),I=v.useRef(!1);v.useEffect(()=>{if(w)return mj(w)},[w]),fj();const T=v.useCallback(G=>{const[Z,...q]=M().map(X=>X.ref.current),[ee]=q.slice(-1),se=document.activeElement;for(const X of G)if(X===se||(X==null||X.scrollIntoView({block:"nearest"}),X===Z&&S&&(S.scrollTop=0),X===ee&&S&&(S.scrollTop=S.scrollHeight),X==null||X.focus(),document.activeElement!==se))return},[M,S]),R=v.useCallback(()=>T([_,w]),[T,_,w]);v.useEffect(()=>{P&&R()},[P,R]);const{onOpenChange:L,triggerPointerDownPosRef:D}=b;v.useEffect(()=>{if(w){let G={x:0,y:0};const Z=ee=>{var se,X;G={x:Math.abs(Math.round(ee.pageX)-(((se=D.current)==null?void 0:se.x)??0)),y:Math.abs(Math.round(ee.pageY)-(((X=D.current)==null?void 0:X.y)??0))}},q=ee=>{G.x<=10&&G.y<=10?ee.preventDefault():w.contains(ee.target)||L(!1),document.removeEventListener("pointermove",Z),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",Z),document.addEventListener("pointerup",q,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",q,{capture:!0})}}},[w,L,D]),v.useEffect(()=>{const G=()=>L(!1);return window.addEventListener("blur",G),window.addEventListener("resize",G),()=>{window.removeEventListener("blur",G),window.removeEventListener("resize",G)}},[L]);const[F,z]=pQ(G=>{const Z=M().filter(se=>!se.disabled),q=Z.find(se=>se.ref.current===document.activeElement),ee=mQ(Z,G,q);ee&&setTimeout(()=>ee.ref.current.focus())}),B=v.useCallback((G,Z,q)=>{const ee=!I.current&&!q;(b.value!==void 0&&b.value===Z||ee)&&(C(G),ee&&(I.current=!0))},[b.value]),$=v.useCallback(()=>w==null?void 0:w.focus(),[w]),W=v.useCallback((G,Z,q)=>{const ee=!I.current&&!q;(b.value!==void 0&&b.value===Z||ee)&&O(G)},[b.value]),V=r==="popper"?RO:QJ,Y=V===RO?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:m,hideWhenDetached:g,avoidCollisions:y}:{};return a.jsx(XJ,{scope:n,content:w,viewport:S,onViewportChange:k,itemRefCallback:B,selectedItem:_,onItemLeave:$,itemTextRefCallback:W,focusSelectedItem:R,selectedItemText:A,position:r,isPositioned:P,searchRef:F,children:a.jsx(Qv,{as:YNe,allowPinchZoom:!0,children:a.jsx(Xv,{asChild:!0,trapped:b.open,onMountAutoFocus:G=>{G.preventDefault()},onUnmountAutoFocus:ge(s,G=>{var Z;(Z=b.trigger)==null||Z.focus({preventScroll:!0}),G.preventDefault()}),children:a.jsx(lh,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:G=>G.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:a.jsx(V,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:G=>G.preventDefault(),...x,...Y,onPlaced:()=>E(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:ge(x.onKeyDown,G=>{const Z=G.ctrlKey||G.altKey||G.metaKey;if(G.key==="Tab"&&G.preventDefault(),!Z&&G.key.length===1&&z(G.key),["ArrowUp","ArrowDown","Home","End"].includes(G.key)){let ee=M().filter(se=>!se.disabled).map(se=>se.ref.current);if(["ArrowUp","End"].includes(G.key)&&(ee=ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(G.key)){const se=G.target,X=ee.indexOf(se);ee=ee.slice(X+1)}setTimeout(()=>T(ee)),G.preventDefault()}})})})})})})});JJ.displayName=KNe;var XNe="SelectItemAlignedPosition",QJ=v.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,i=mu(Ud,n),o=gu(Ud,n),[l,c]=v.useState(null),[u,d]=v.useState(null),h=Ke(t,j=>d(j)),f=Ej(n),p=v.useRef(!1),m=v.useRef(!0),{viewport:g,selectedItem:y,selectedItemText:x,focusSelectedItem:b}=o,w=v.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&g&&y&&x){const j=i.trigger.getBoundingClientRect(),_=u.getBoundingClientRect(),C=i.valueNode.getBoundingClientRect(),A=x.getBoundingClientRect();if(i.dir!=="rtl"){const se=A.left-_.left,X=C.left-se,de=j.left-X,pe=j.width+de,Se=Math.max(pe,_.width),be=window.innerWidth-uo,Ae=gx(X,[uo,Math.max(uo,be-Se)]);l.style.minWidth=pe+"px",l.style.left=Ae+"px"}else{const se=_.right-A.right,X=window.innerWidth-C.right-se,de=window.innerWidth-j.right-X,pe=j.width+de,Se=Math.max(pe,_.width),be=window.innerWidth-uo,Ae=gx(X,[uo,Math.max(uo,be-Se)]);l.style.minWidth=pe+"px",l.style.right=Ae+"px"}const O=f(),M=window.innerHeight-uo*2,P=g.scrollHeight,E=window.getComputedStyle(u),I=parseInt(E.borderTopWidth,10),T=parseInt(E.paddingTop,10),R=parseInt(E.borderBottomWidth,10),L=parseInt(E.paddingBottom,10),D=I+T+P+L+R,F=Math.min(y.offsetHeight*5,D),z=window.getComputedStyle(g),B=parseInt(z.paddingTop,10),$=parseInt(z.paddingBottom,10),W=j.top+j.height/2-uo,V=M-W,Y=y.offsetHeight/2,G=y.offsetTop+Y,Z=I+T+G,q=D-Z;if(Z<=W){const se=O.length>0&&y===O[O.length-1].ref.current;l.style.bottom="0px";const X=u.clientHeight-g.offsetTop-g.offsetHeight,de=Math.max(V,Y+(se?$:0)+X+R),pe=Z+de;l.style.height=pe+"px"}else{const se=O.length>0&&y===O[0].ref.current;l.style.top="0px";const de=Math.max(W,I+g.offsetTop+(se?B:0)+Y)+q;l.style.height=de+"px",g.scrollTop=Z-W+g.offsetTop}l.style.margin=`${uo}px 0`,l.style.minHeight=F+"px",l.style.maxHeight=M+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[f,i.trigger,i.valueNode,l,u,g,y,x,i.dir,r]);rr(()=>w(),[w]);const[N,S]=v.useState();rr(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const k=v.useCallback(j=>{j&&m.current===!0&&(w(),b==null||b(),m.current=!1)},[w,b]);return a.jsx(QNe,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:k,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:a.jsx($e.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});QJ.displayName=XNe;var JNe="SelectPopperPosition",RO=v.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=uo,...i}=e,o=Cj(n);return a.jsx(nj,{...o,...i,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});RO.displayName=JNe;var[QNe,VR]=Nm(Ud,{}),IO="SelectViewport",ZJ=v.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,i=gu(IO,n),o=VR(IO,n),l=Ke(t,i.onViewportChange),c=v.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(_j.Slot,{scope:n,children:a.jsx($e.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ge(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const p=Math.abs(c.current-d.scrollTop);if(p>0){const m=window.innerHeight-uo*2,g=parseFloat(h.style.minHeight),y=parseFloat(h.style.height),x=Math.max(g,y);if(x<m){const b=x+p,w=Math.min(m,b),N=b-w;h.style.height=w+"px",h.style.bottom==="0px"&&(d.scrollTop=N>0?N:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});ZJ.displayName=IO;var eQ="SelectGroup",[ZNe,eke]=Nm(eQ),tke=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Hi();return a.jsx(ZNe,{scope:n,id:s,children:a.jsx($e.div,{role:"group","aria-labelledby":s,...r,ref:t})})});tke.displayName=eQ;var tQ="SelectLabel",nQ=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=eke(tQ,n);return a.jsx($e.div,{id:s.id,...r,ref:t})});nQ.displayName=tQ;var aS="SelectItem",[nke,rQ]=Nm(aS),sQ=v.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=e,l=mu(aS,n),c=gu(aS,n),u=l.value===r,[d,h]=v.useState(i??""),[f,p]=v.useState(!1),m=Ke(t,b=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,b,r,s)}),g=Hi(),y=v.useRef("touch"),x=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(nke,{scope:n,value:r,disabled:s,textId:g,isSelected:u,onItemTextChange:v.useCallback(b=>{h(w=>w||((b==null?void 0:b.textContent)??"").trim())},[]),children:a.jsx(_j.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:a.jsx($e.div,{role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:m,onFocus:ge(o.onFocus,()=>p(!0)),onBlur:ge(o.onBlur,()=>p(!1)),onClick:ge(o.onClick,()=>{y.current!=="mouse"&&x()}),onPointerUp:ge(o.onPointerUp,()=>{y.current==="mouse"&&x()}),onPointerDown:ge(o.onPointerDown,b=>{y.current=b.pointerType}),onPointerMove:ge(o.onPointerMove,b=>{var w;y.current=b.pointerType,s?(w=c.onItemLeave)==null||w.call(c):y.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ge(o.onPointerLeave,b=>{var w;b.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:ge(o.onKeyDown,b=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&b.key===" "||(zNe.includes(b.key)&&x(),b.key===" "&&b.preventDefault())})})})})});sQ.displayName=aS;var Bg="SelectItemText",iQ=v.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...i}=e,o=mu(Bg,n),l=gu(Bg,n),c=rQ(Bg,n),u=VNe(Bg,n),[d,h]=v.useState(null),f=Ke(t,x=>h(x),c.onItemTextChange,x=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,x,c.value,c.disabled)}),p=d==null?void 0:d.textContent,m=v.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:y}=u;return rr(()=>(g(m),()=>y(m)),[g,y,m]),a.jsxs(a.Fragment,{children:[a.jsx($e.span,{id:c.textId,...i,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ta.createPortal(i.children,o.valueNode):null]})});iQ.displayName=Bg;var oQ="SelectItemIndicator",aQ=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return rQ(oQ,n).isSelected?a.jsx($e.span,{"aria-hidden":!0,...r,ref:t}):null});aQ.displayName=oQ;var LO="SelectScrollUpButton",lQ=v.forwardRef((e,t)=>{const n=gu(LO,e.__scopeSelect),r=VR(LO,e.__scopeSelect),[s,i]=v.useState(!1),o=Ke(t,r.onScrollButtonChange);return rr(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(uQ,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});lQ.displayName=LO;var $O="SelectScrollDownButton",cQ=v.forwardRef((e,t)=>{const n=gu($O,e.__scopeSelect),r=VR($O,e.__scopeSelect),[s,i]=v.useState(!1),o=Ke(t,r.onScrollButtonChange);return rr(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(uQ,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});cQ.displayName=$O;var uQ=v.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,i=gu("SelectScrollButton",n),o=v.useRef(null),l=Ej(n),c=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>c(),[c]),rr(()=>{var d;const u=l().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx($e.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:ge(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ge(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ge(s.onPointerLeave,()=>{c()})})}),rke="SelectSeparator",dQ=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return a.jsx($e.div,{"aria-hidden":!0,...r,ref:t})});dQ.displayName=rke;var BO="SelectArrow",ske=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Cj(n),i=mu(BO,n),o=gu(BO,n);return i.open&&o.position==="popper"?a.jsx(rj,{...s,...r,ref:t}):null});ske.displayName=BO;var ike="SelectBubbleInput",hQ=v.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=v.useRef(null),i=Ke(r,s),o=Sj(t);return v.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const h=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(h)}},[o,t]),a.jsx($e.select,{...n,style:{...T7,...n.style},ref:i,defaultValue:t})});hQ.displayName=ike;function fQ(e){return e===""||e===void 0}function pQ(e){const t=Kn(e),n=v.useRef(""),r=v.useRef(0),s=v.useCallback(o=>{const l=n.current+o;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=v.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function mQ(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=oke(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function oke(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var ake=UJ,gQ=WJ,lke=GJ,cke=qJ,uke=KJ,yQ=YJ,dke=ZJ,xQ=nQ,vQ=sQ,hke=iQ,fke=aQ,bQ=lQ,wQ=cQ,SQ=dQ;const Ee=ake,Ce=lke,je=v.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(gQ,{ref:r,className:me("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,a.jsx(cke,{asChild:!0,children:a.jsx(Vk,{className:"h-4 w-4 opacity-50"})})]}));je.displayName=gQ.displayName;const NQ=v.forwardRef(({className:e,...t},n)=>a.jsx(bQ,{ref:n,className:me("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(RD,{className:"h-4 w-4"})}));NQ.displayName=bQ.displayName;const kQ=v.forwardRef(({className:e,...t},n)=>a.jsx(wQ,{ref:n,className:me("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Vk,{className:"h-4 w-4"})}));kQ.displayName=wQ.displayName;const _e=v.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>a.jsx(uke,{children:a.jsxs(yQ,{ref:s,className:me("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[a.jsx(NQ,{}),a.jsx(dke,{className:me("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(kQ,{})]})}));_e.displayName=yQ.displayName;const pke=v.forwardRef(({className:e,...t},n)=>a.jsx(xQ,{ref:n,className:me("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));pke.displayName=xQ.displayName;const Q=v.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(vQ,{ref:r,className:me("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(fke,{children:a.jsx(Wk,{className:"h-4 w-4"})})}),a.jsx(hke,{children:t})]}));Q.displayName=vQ.displayName;const mke=v.forwardRef(({className:e,...t},n)=>a.jsx(SQ,{ref:n,className:me("-mx-1 my-1 h-px bg-muted",e),...t}));mke.displayName=SQ.displayName;const ot=$R,js=BR,gke=FR,jQ=v.forwardRef(({className:e,...t},n)=>a.jsx(t0,{ref:n,className:me("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));jQ.displayName=t0.displayName;const nt=v.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(gke,{children:[a.jsx(jQ,{}),a.jsxs(n0,{ref:r,className:me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,a.jsxs(jj,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[a.jsx(zo,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));nt.displayName=n0.displayName;const rt=({className:e,...t})=>a.jsx("div",{className:me("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});rt.displayName="DialogHeader";const Wt=({className:e,...t})=>a.jsx("div",{className:me("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Wt.displayName="DialogFooter";const st=v.forwardRef(({className:e,...t},n)=>a.jsx(r0,{ref:n,className:me("text-lg font-semibold leading-none tracking-tight",e),...t}));st.displayName=r0.displayName;const dt=v.forwardRef(({className:e,...t},n)=>a.jsx(s0,{ref:n,className:me("text-sm text-muted-foreground",e),...t}));dt.displayName=s0.displayName;const X5={work:"#3b82f6",school:"#8b5cf6",home:"#10b981",hobby:"#f59e0b",leisure:"#ec4899",rest:"#6366f1",productivity:"#14b8a6",health:"#ef4444",finance:"#059669",social:"#f97316",other:"#6b7280"},yy={work:"Work",school:"School",home:"Home",hobby:"Hobby",leisure:"Leisure",rest:"Rest",productivity:"Productivity",health:"Health",finance:"Finance",social:"Social",other:"Other"},ui=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),Sf=[{id:"first-task",name:"Getting Started",description:"Complete your first task",icon:"",requirement:1},{id:"task-warrior-10",name:"Task Warrior",description:"Complete 10 tasks",icon:"",requirement:10},{id:"task-master-50",name:"Task Master",description:"Complete 50 tasks",icon:"",requirement:50},{id:"centurion",name:"Centurion",description:"Complete 100 tasks",icon:"",requirement:100},{id:"streak-3",name:"On a Roll",description:"Maintain a 3-day streak",icon:"",requirement:3},{id:"streak-7",name:"Week Warrior",description:"Maintain a 7-day streak",icon:"",requirement:7},{id:"streak-30",name:"Monthly Master",description:"Maintain a 30-day streak",icon:"",requirement:30},{id:"early-bird",name:"Early Bird",description:"Complete a task before its due date",icon:"",requirement:1},{id:"perfectionist",name:"Perfectionist",description:"Complete all subtasks in 10 tasks",icon:"",requirement:10},{id:"time-tracker",name:"Time Tracker",description:"Use the timer on 20 tasks",icon:"",requirement:20}],_Q=e=>{let t=10;e.priority==="high"?t+=15:e.priority==="medium"?t+=10:t+=5;const n=e.subtasks.filter(r=>r.completed).length;return t+=n*5,e.dueDate&&e.completedAt&&new Date(e.completedAt)<new Date(e.dueDate)&&(t+=20),e.timeSpent&&e.timeSpent>0&&(t+=10),e.streak&&e.streak.currentStreak>0&&(t+=e.streak.currentStreak*2),t},FO=e=>e<100?1:e<300?2:e<600?3:e<1e3?4:e<1500?5:e<2100?6:e<2800?7:e<3600?8:e<4500?9:Math.floor(e/500)+1,yke=e=>{const t=[100,300,600,1e3,1500,2100,2800,3600,4500];return e<t.length?t[e]:e*500},zO=(e,t,n)=>{switch(e.id){case"first-task":case"task-warrior-10":case"task-master-50":case"centurion":return t.tasksCompleted>=e.requirement;case"streak-3":case"streak-7":case"streak-30":return t.currentStreak>=e.requirement;case"early-bird":return n.some(i=>i.status==="completed"&&i.dueDate&&i.completedAt&&new Date(i.completedAt)<new Date(i.dueDate));case"perfectionist":return n.filter(i=>i.status==="completed"&&i.subtasks.length>0&&i.subtasks.every(o=>o.completed)).length>=e.requirement;case"time-tracker":return n.filter(i=>i.status==="completed"&&i.timeSpent&&i.timeSpent>0).length>=e.requirement;default:return!1}},xke=e=>{const t=new Date;if(t.setHours(0,0,0,0),!e.streak)return e.streak={currentStreak:1,longestStreak:1,completionDates:[t],lastCompletedDate:t},e;const n=e.streak.lastCompletedDate?new Date(e.streak.lastCompletedDate):null;if(n){n.setHours(0,0,0,0);const r=Math.floor((t.getTime()-n.getTime())/(1e3*60*60*24));if(r===0)return e;r===1?(e.streak.currentStreak++,e.streak.longestStreak=Math.max(e.streak.longestStreak,e.streak.currentStreak)):e.streak.currentStreak=1}return e.streak.completionDates.push(t),e.streak.lastCompletedDate=t,e},EQ=(e,t,n)=>{const r=n?new Date(n):new Date,s=new Date(r);switch(e){case"daily":s.setDate(s.getDate()+1);break;case"weekly":s.setDate(s.getDate()+7);break;case"monthly":s.setMonth(s.getMonth()+1);break;case"custom":s.setDate(s.getDate()+(t||1));break}return s};var Tj="Switch",[vke]=fs(Tj),[bke,wke]=vke(Tj),CQ=v.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=e,[f,p]=v.useState(null),m=Ke(t,w=>p(w)),g=v.useRef(!1),y=f?d||!!f.closest("form"):!0,[x,b]=Ji({prop:s,defaultProp:i??!1,onChange:u,caller:Tj});return a.jsxs(bke,{scope:n,checked:x,disabled:l,children:[a.jsx($e.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":MQ(x),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:m,onClick:ge(e.onClick,w=>{b(N=>!N),y&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),y&&a.jsx(OQ,{control:f,bubbles:!g.current,name:r,value:c,checked:x,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});CQ.displayName=Tj;var TQ="SwitchThumb",AQ=v.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=wke(TQ,n);return a.jsx($e.span,{"data-state":MQ(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});AQ.displayName=TQ;var Ske="SwitchBubbleInput",OQ=v.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...s},i)=>{const o=v.useRef(null),l=Ke(o,i),c=Sj(n),u=ej(t);return v.useEffect(()=>{const d=o.current;if(!d)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==n&&p){const m=new Event("click",{bubbles:r});p.call(d,n),d.dispatchEvent(m)}},[c,n,r]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});OQ.displayName=Ske;function MQ(e){return e?"checked":"unchecked"}var PQ=CQ,Nke=AQ;const Us=v.forwardRef(({className:e,...t},n)=>a.jsx(PQ,{className:me("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:n,children:a.jsx(Nke,{className:me("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Us.displayName=PQ.displayName;const kke=({onAdd:e})=>{const[t,n]=v.useState(!1),[r,s]=v.useState(""),[i,o]=v.useState(""),[l,c]=v.useState("other"),[u,d]=v.useState("medium"),[h,f]=v.useState(""),[p,m]=v.useState(""),[g,y]=v.useState(!1),[x,b]=v.useState("daily"),[w,N]=v.useState("7"),S=k=>{if(k.preventDefault(),!r.trim())return;const j={id:ui(),title:r.trim(),description:i.trim()||void 0,category:l,priority:u,status:"pending",estimatedTime:h?parseInt(h):void 0,dueDate:p?new Date(p):void 0,timeSpent:0,subtasks:[],createdAt:new Date,tags:[],recurring:g?{enabled:!0,interval:x,customDays:x==="custom"?parseInt(w):void 0,nextDue:EQ(x,parseInt(w))}:void 0};e(j),s(""),o(""),c("other"),d("medium"),f(""),m(""),y(!1),b("daily"),N("7"),n(!1)};return a.jsxs(ot,{open:t,onOpenChange:n,children:[a.jsx(js,{asChild:!0,children:a.jsxs(U,{size:"lg",className:"gap-2",variant:"outline",children:[a.jsx(We,{className:"h-5 w-5"}),"Add New Task (Advanced)"]})}),a.jsxs(nt,{className:"sm:max-w-[525px]",children:[a.jsxs(rt,{children:[a.jsx(st,{children:"Add New Task"}),a.jsx(dt,{children:"Create a new task with details and categorization."})]}),a.jsxs("form",{onSubmit:S,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"title",children:"Task Title *"}),a.jsx(re,{id:"title",placeholder:"Enter task title...",value:r,onChange:k=>s(k.target.value),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"description",children:"Description"}),a.jsx(ft,{id:"description",placeholder:"Add more details about this task...",value:i,onChange:k=>o(k.target.value),rows:3})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"category",children:"Category"}),a.jsxs(Ee,{value:l,onValueChange:k=>c(k),children:[a.jsx(je,{id:"category",children:a.jsx(Ce,{placeholder:"Select category"})}),a.jsx(_e,{children:Object.entries(yy).map(([k,j])=>a.jsx(Q,{value:k,children:j},k))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"priority",children:"Priority"}),a.jsxs(Ee,{value:u,onValueChange:k=>d(k),children:[a.jsx(je,{id:"priority",children:a.jsx(Ce,{placeholder:"Select priority"})}),a.jsxs(_e,{children:[a.jsx(Q,{value:"low",children:"Low"}),a.jsx(Q,{value:"medium",children:"Medium"}),a.jsx(Q,{value:"high",children:"High"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"estimatedTime",children:"Estimated Time (minutes)"}),a.jsx(re,{id:"estimatedTime",type:"number",min:"1",placeholder:"e.g., 30",value:h,onChange:k=>f(k.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"dueDate",children:"Due Date"}),a.jsx(re,{id:"dueDate",type:"date",value:p,onChange:k=>m(k.target.value)})]})]}),a.jsxs("div",{className:"space-y-3 border-t pt-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(K,{htmlFor:"recurring",children:"Recurring Task"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Make this task repeat automatically"})]}),a.jsx(Us,{id:"recurring",checked:g,onCheckedChange:y})]}),g&&a.jsxs("div",{className:"space-y-3 pl-4 border-l-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"interval",children:"Repeat Interval"}),a.jsxs(Ee,{value:x,onValueChange:k=>b(k),children:[a.jsx(je,{id:"interval",children:a.jsx(Ce,{})}),a.jsxs(_e,{children:[a.jsx(Q,{value:"daily",children:"Daily"}),a.jsx(Q,{value:"weekly",children:"Weekly"}),a.jsx(Q,{value:"monthly",children:"Monthly"}),a.jsx(Q,{value:"custom",children:"Custom"})]})]})]}),x==="custom"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"customDays",children:"Every X days"}),a.jsx(re,{id:"customDays",type:"number",min:"1",value:w,onChange:k=>N(k.target.value)})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx(U,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Cancel"}),a.jsx(U,{type:"submit",children:"Add Task"})]})]})]})]})},jke=({onAdd:e})=>{const[t,n]=v.useState(""),r=s=>{if(s.preventDefault(),!t.trim())return;const i={id:ui(),title:t.trim(),category:"other",priority:"medium",status:"pending",timeSpent:0,subtasks:[],createdAt:new Date,tags:[]};e(i),n("")};return a.jsxs("form",{onSubmit:r,className:"relative",children:[a.jsx(re,{placeholder:"Quick add: Type a task and press Enter...",value:t,onChange:s=>n(s.target.value),className:"pr-10 h-12 text-base"}),a.jsx("button",{type:"submit",className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 hover:bg-accent rounded-md transition-colors",disabled:!t.trim(),children:a.jsx(We,{className:"h-5 w-5 text-muted-foreground"})})]})},_ke=(e,t=0,n=!1,r)=>{const[s,i]=v.useState(t),[o,l]=v.useState(0),[c,u]=v.useState(n);v.useEffect(()=>{let m=null;return c?m=setInterval(()=>{l(g=>{const y=g+1;return y>=60?(i(x=>{const b=x+1;return r&&r(e,b),b}),0):y})},1e3):m&&clearInterval(m),()=>{m&&clearInterval(m)}},[c,e,r]);const d=v.useCallback(()=>{u(!0)},[]),h=v.useCallback(()=>{u(!1)},[]),f=v.useCallback(()=>{u(!1),i(0),l(0),r&&r(e,0)},[e,r]),p=(m,g)=>{const y=Math.floor(m/60),x=m%60;return y>0?`${y}h ${x}m ${g}s`:x>0?`${x}m ${g}s`:`${g}s`};return{timeSpent:s,isActive:c,start:d,pause:h,reset:f,formatTime:()=>p(s,o)}},Eke=({recurring:e})=>{if(!e.enabled)return null;const t=()=>{switch(e.interval){case"daily":return"Daily";case"weekly":return"Weekly";case"monthly":return"Monthly";case"custom":return`Every ${e.customDays} days`;default:return"Recurring"}};return a.jsxs(et,{children:[a.jsx(tt,{asChild:!0,children:a.jsxs(ve,{variant:"secondary",className:"gap-1",children:[a.jsx(pq,{className:"h-3 w-3"}),t()]})}),a.jsxs(Ze,{children:[a.jsxs("p",{children:["This task repeats ",t().toLowerCase()]}),e.nextDue&&a.jsxs("p",{className:"text-xs",children:["Next due: ",new Date(e.nextDue).toLocaleDateString()]})]})]})};var Cke=Symbol("radix.slottable");function Tke(e){const t=({children:n})=>a.jsx(a.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=Cke,t}var DQ="AlertDialog",[Ake]=fs(DQ,[bJ]),Pl=bJ(),RQ=e=>{const{__scopeAlertDialog:t,...n}=e,r=Pl(t);return a.jsx($R,{...r,...n,modal:!0})};RQ.displayName=DQ;var Oke="AlertDialogTrigger",IQ=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Pl(n);return a.jsx(BR,{...s,...r,ref:t})});IQ.displayName=Oke;var Mke="AlertDialogPortal",LQ=e=>{const{__scopeAlertDialog:t,...n}=e,r=Pl(t);return a.jsx(FR,{...r,...n})};LQ.displayName=Mke;var Pke="AlertDialogOverlay",$Q=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Pl(n);return a.jsx(t0,{...s,...r,ref:t})});$Q.displayName=Pke;var Bf="AlertDialogContent",[Dke,Rke]=Ake(Bf),Ike=Tke("AlertDialogContent"),BQ=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,i=Pl(n),o=v.useRef(null),l=Ke(t,o),c=v.useRef(null);return a.jsx(yNe,{contentName:Bf,titleName:FQ,docsSlug:"alert-dialog",children:a.jsx(Dke,{scope:n,cancelRef:c,children:a.jsxs(n0,{role:"alertdialog",...i,...s,ref:l,onOpenAutoFocus:ge(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[a.jsx(Ike,{children:r}),a.jsx($ke,{contentRef:o})]})})})});BQ.displayName=Bf;var FQ="AlertDialogTitle",zQ=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Pl(n);return a.jsx(r0,{...s,...r,ref:t})});zQ.displayName=FQ;var UQ="AlertDialogDescription",HQ=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Pl(n);return a.jsx(s0,{...s,...r,ref:t})});HQ.displayName=UQ;var Lke="AlertDialogAction",WQ=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Pl(n);return a.jsx(jj,{...s,...r,ref:t})});WQ.displayName=Lke;var VQ="AlertDialogCancel",GQ=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=Rke(VQ,n),i=Pl(n),o=Ke(t,s);return a.jsx(jj,{...i,...r,ref:o})});GQ.displayName=VQ;var $ke=({contentRef:e})=>{const t=`\`${Bf}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Bf}\` by passing a \`${UQ}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Bf}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return v.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Bke=RQ,Fke=IQ,zke=LQ,qQ=$Q,KQ=BQ,YQ=WQ,XQ=GQ,JQ=zQ,QQ=HQ;const Aj=Bke,Uke=Fke,Hke=zke,ZQ=v.forwardRef(({className:e,...t},n)=>a.jsx(qQ,{className:me("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));ZQ.displayName=qQ.displayName;const i0=v.forwardRef(({className:e,...t},n)=>a.jsxs(Hke,{children:[a.jsx(ZQ,{}),a.jsx(KQ,{ref:n,className:me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));i0.displayName=KQ.displayName;const o0=({className:e,...t})=>a.jsx("div",{className:me("flex flex-col space-y-2 text-center sm:text-left",e),...t});o0.displayName="AlertDialogHeader";const a0=({className:e,...t})=>a.jsx("div",{className:me("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});a0.displayName="AlertDialogFooter";const l0=v.forwardRef(({className:e,...t},n)=>a.jsx(JQ,{ref:n,className:me("text-lg font-semibold",e),...t}));l0.displayName=JQ.displayName;const c0=v.forwardRef(({className:e,...t},n)=>a.jsx(QQ,{ref:n,className:me("text-sm text-muted-foreground",e),...t}));c0.displayName=QQ.displayName;const u0=v.forwardRef(({className:e,...t},n)=>a.jsx(YQ,{ref:n,className:me(bR(),e),...t}));u0.displayName=YQ.displayName;const d0=v.forwardRef(({className:e,...t},n)=>a.jsx(XQ,{ref:n,className:me(bR({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));d0.displayName=XQ.displayName;function Wke(e){const t=Vke(e),n=v.forwardRef((r,s)=>{const{children:i,...o}=r,l=v.Children.toArray(i),c=l.find(qke);if(c){const u=c.props.children,d=l.map(h=>h===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:h);return a.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}function Vke(e){const t=v.forwardRef((n,r)=>{const{children:s,...i}=n;if(v.isValidElement(s)){const o=Yke(s),l=Kke(i,s.props);return s.type!==v.Fragment&&(l.ref=r?Aa(r,o):o),v.cloneElement(s,l)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Gke=Symbol("radix.slottable");function qke(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Gke}function Kke(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function Yke(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Oj="Popover",[eZ]=fs(Oj,[uu]),h0=uu(),[Xke,yu]=eZ(Oj),tZ=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!1}=e,l=h0(t),c=v.useRef(null),[u,d]=v.useState(!1),[h,f]=Ji({prop:r,defaultProp:s??!1,onChange:i,caller:Oj});return a.jsx(tj,{...l,children:a.jsx(Xke,{scope:t,contentId:Hi(),triggerRef:c,open:h,onOpenChange:f,onOpenToggle:v.useCallback(()=>f(p=>!p),[f]),hasCustomAnchor:u,onCustomAnchorAdd:v.useCallback(()=>d(!0),[]),onCustomAnchorRemove:v.useCallback(()=>d(!1),[]),modal:o,children:n})})};tZ.displayName=Oj;var nZ="PopoverAnchor",Jke=v.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=yu(nZ,n),i=h0(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=s;return v.useEffect(()=>(o(),()=>l()),[o,l]),a.jsx(Wv,{...i,...r,ref:t})});Jke.displayName=nZ;var rZ="PopoverTrigger",sZ=v.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=yu(rZ,n),i=h0(n),o=Ke(t,s.triggerRef),l=a.jsx($e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":cZ(s.open),...r,ref:o,onClick:ge(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:a.jsx(Wv,{asChild:!0,...i,children:l})});sZ.displayName=rZ;var GR="PopoverPortal",[Qke,Zke]=eZ(GR,{forceMount:void 0}),iZ=e=>{const{__scopePopover:t,forceMount:n,children:r,container:s}=e,i=yu(GR,t);return a.jsx(Qke,{scope:t,forceMount:n,children:a.jsx(Dr,{present:n||i.open,children:a.jsx(mm,{asChild:!0,container:s,children:r})})})};iZ.displayName=GR;var Cp="PopoverContent",oZ=v.forwardRef((e,t)=>{const n=Zke(Cp,e.__scopePopover),{forceMount:r=n.forceMount,...s}=e,i=yu(Cp,e.__scopePopover);return a.jsx(Dr,{present:r||i.open,children:i.modal?a.jsx(tje,{...s,ref:t}):a.jsx(nje,{...s,ref:t})})});oZ.displayName=Cp;var eje=Wke("PopoverContent.RemoveScroll"),tje=v.forwardRef((e,t)=>{const n=yu(Cp,e.__scopePopover),r=v.useRef(null),s=Ke(t,r),i=v.useRef(!1);return v.useEffect(()=>{const o=r.current;if(o)return mj(o)},[]),a.jsx(Qv,{as:eje,allowPinchZoom:!0,children:a.jsx(aZ,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ge(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ge(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:ge(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),nje=v.forwardRef((e,t)=>{const n=yu(Cp,e.__scopePopover),r=v.useRef(!1),s=v.useRef(!1);return a.jsx(aZ,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),aZ=v.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...h}=e,f=yu(Cp,n),p=h0(n);return fj(),a.jsx(Xv,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(lh,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>f.onOpenChange(!1),children:a.jsx(nj,{"data-state":cZ(f.open),role:"dialog",id:f.contentId,...p,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),lZ="PopoverClose",rje=v.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=yu(lZ,n);return a.jsx($e.button,{type:"button",...r,ref:t,onClick:ge(e.onClick,()=>s.onOpenChange(!1))})});rje.displayName=lZ;var sje="PopoverArrow",ije=v.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=h0(n);return a.jsx(rj,{...s,...r,ref:t})});ije.displayName=sje;function cZ(e){return e?"open":"closed"}var oje=tZ,aje=sZ,lje=iZ,uZ=oZ;const Ff=oje,zf=aje,vd=v.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},s)=>a.jsx(lje,{children:a.jsx(uZ,{ref:s,align:t,sideOffset:n,className:me("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));vd.displayName=uZ.displayName;const J5=["#ef4444","#f97316","#f59e0b","#eab308","#84cc16","#22c55e","#10b981","#14b8a6","#06b6d4","#0ea5e9","#3b82f6","#6366f1","#8b5cf6","#a855f7","#d946ef","#ec4899","#f43f5e"],cje=({task:e,onUpdate:t,onDelete:n,showTimer:r=!0,showEstimatedTime:s=!0,onDragStart:i,onDragEnd:o,onDrop:l})=>{var Ne;const[c,u]=v.useState(!0),[d,h]=v.useState(""),[f,p]=v.useState(!1),[m,g]=v.useState(!1),[y,x]=v.useState(!1),[b,w]=v.useState(!1),[N,S]=v.useState(e.title),[k,j]=v.useState(null),[_,C]=v.useState(""),[A,O]=v.useState(null),M=(ae,Oe)=>{t(ae,{timeSpent:Oe})},{timeSpent:P,isActive:E,start:I,pause:T,reset:R,formatTime:L}=_ke(e.id,e.timeSpent||0,e.timerRunning,M),D=()=>{e.status==="completed"?t(e.id,{status:"pending",completedAt:void 0}):(t(e.id,{status:"completed",completedAt:new Date,timerRunning:!1}),E&&T())},F=()=>{E?(T(),t(e.id,{timerRunning:!1})):(I(),t(e.id,{timerRunning:!0,timerStartedAt:new Date,status:e.status==="pending"?"in-progress":e.status}))},z=()=>{R(),t(e.id,{timeSpent:0,timerRunning:!1,timerStartedAt:void 0})},B=()=>{if(!d.trim())return;const ae={id:ui(),title:d.trim(),completed:!1};t(e.id,{subtasks:[...e.subtasks,ae]}),h("")},$=ae=>{const Oe=e.subtasks.map(at=>at.id===ae?{...at,completed:!at.completed}:at);t(e.id,{subtasks:Oe})},W=ae=>{const Oe=e.subtasks.filter(at=>at.id!==ae);t(e.id,{subtasks:Oe})},V=(ae,Oe)=>{j(ae),C(Oe)},Y=ae=>{C(ae.target.value)},G=()=>{if(k&&_.trim()){const ae=e.subtasks.map(Oe=>Oe.id===k?{...Oe,title:_.trim()}:Oe);t(e.id,{subtasks:ae})}j(null),C("")},Z=ae=>{ae.key==="Enter"?G():ae.key==="Escape"&&(j(null),C(""))},q=(ae,Oe)=>{O(Oe),ae.dataTransfer.effectAllowed="move"},ee=ae=>{ae.preventDefault(),ae.dataTransfer.dropEffect="move"},se=(ae,Oe)=>{if(ae.preventDefault(),!A||A===Oe){O(null);return}const at=e.subtasks.findIndex(Tn=>Tn.id===A),yt=e.subtasks.findIndex(Tn=>Tn.id===Oe);if(at===-1||yt===-1){O(null);return}const ln=[...e.subtasks],[Tt]=ln.splice(at,1);ln.splice(yt,0,Tt),t(e.id,{subtasks:ln}),O(null)},X=()=>{O(null)},de=ae=>{t(e.id,{color:ae}),p(!1)},pe=ae=>{t(e.id,{tags:[...(e.tags||[]).filter(Oe=>!Oe.startsWith("bg:")),`bg:${ae}`]}),g(!1)},Se=ae=>{t(e.id,{category:ae}),x(!1)},be=()=>{e.status!=="completed"&&(w(!0),S(e.title))},Ae=ae=>{S(ae.target.value)},ne=()=>{N.trim()&&N!==e.title?t(e.id,{title:N.trim()}):S(e.title),w(!1)},Je=ae=>{ae.key==="Enter"?ne():ae.key==="Escape"&&(S(e.title),w(!1))},qe=e.color||X5[e.category],De=(Ne=e.tags)==null?void 0:Ne.find(ae=>ae.startsWith("bg:")),gt=De?De.replace("bg:",""):void 0,St=e.subtasks.filter(ae=>ae.completed).length,qt=e.subtasks.length,In={low:"bg-blue-500/10 text-blue-700 dark:text-blue-400",medium:"bg-yellow-500/10 text-yellow-700 dark:text-yellow-400",high:"bg-red-500/10 text-red-700 dark:text-red-400"},fe=v.useMemo(()=>e.status==="completed"?null:_Q({...e,completedAt:new Date}),[e]);return a.jsx(te,{className:me("p-4 transition-all duration-200 hover:shadow-md",e.status==="completed"&&"opacity-60"),style:{borderLeft:`4px solid ${qe}`,backgroundColor:gt||void 0},onDragOver:ae=>ae.preventDefault(),onDrop:l,children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex items-center pt-1 cursor-grab active:cursor-grabbing select-none",draggable:!0,onDragStart:ae=>{ae.stopPropagation(),i&&i(ae)},onDragEnd:o,children:a.jsx(Ld,{className:"h-5 w-5 text-muted-foreground"})}),a.jsx(ks,{checked:e.status==="completed",onCheckedChange:D,className:"mt-1"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"flex-1",children:[b?a.jsx(re,{value:N,onChange:Ae,onBlur:ne,onKeyDown:Je,className:"font-medium text-lg h-auto p-1 -ml-1",autoFocus:!0}):a.jsx("h3",{className:me("font-medium text-lg cursor-pointer hover:bg-accent/50 rounded px-1 -ml-1 transition-colors",e.status==="completed"&&"line-through text-muted-foreground"),onClick:be,title:"Click to edit",children:e.title}),e.description&&a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:e.description})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Ff,{open:m,onOpenChange:g,children:[a.jsx(zf,{asChild:!0,children:a.jsx(U,{variant:"ghost",size:"icon",className:"h-8 w-8",title:"Change background color",children:a.jsx("div",{className:"h-4 w-4 rounded border-2 border-foreground",style:{backgroundColor:gt||"transparent"}})})}),a.jsx(vd,{className:"w-auto p-3",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-xs font-medium",children:"Background Color"}),a.jsxs("div",{className:"grid grid-cols-6 gap-2",children:[a.jsx("button",{className:"h-8 w-8 rounded border-2 border-foreground hover:scale-110 transition-transform bg-transparent",onClick:()=>pe("transparent"),title:"No background",children:a.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs",children:""})}),J5.map(ae=>a.jsx("button",{className:"h-8 w-8 rounded border-2 border-background hover:scale-110 transition-transform",style:{backgroundColor:`${ae}20`},onClick:()=>pe(`${ae}20`)},ae))]})]})})]}),a.jsxs(Ff,{open:f,onOpenChange:p,children:[a.jsx(zf,{asChild:!0,children:a.jsx(U,{variant:"ghost",size:"icon",className:"h-8 w-8",title:"Change border color",children:a.jsx(dq,{className:"h-4 w-4"})})}),a.jsx(vd,{className:"w-auto p-3",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-xs font-medium",children:"Border Color"}),a.jsx("div",{className:"grid grid-cols-6 gap-2",children:J5.map(ae=>a.jsx("button",{className:"h-8 w-8 rounded-full border-2 border-background hover:scale-110 transition-transform",style:{backgroundColor:ae},onClick:()=>de(ae)},ae))})]})})]}),a.jsxs(Aj,{children:[a.jsx(Uke,{asChild:!0,children:a.jsx(U,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive",children:a.jsx(Jt,{className:"h-4 w-4"})})}),a.jsxs(i0,{children:[a.jsxs(o0,{children:[a.jsx(l0,{children:"Delete Task"}),a.jsx(c0,{children:"Are you sure you want to delete this task? This action cannot be undone."})]}),a.jsxs(a0,{children:[a.jsx(d0,{children:"Cancel"}),a.jsx(u0,{onClick:()=>n(e.id),children:"Delete"})]})]})]}),a.jsx(U,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>u(!c),children:c?a.jsx(RD,{className:"h-4 w-4"}):a.jsx(Vk,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-3",children:[a.jsx(ve,{variant:"outline",className:In[e.priority],children:e.priority}),a.jsxs(Ff,{open:y,onOpenChange:x,children:[a.jsx(zf,{asChild:!0,children:a.jsxs(U,{variant:"outline",size:"sm",className:"h-auto py-0.5 px-2.5 text-xs font-semibold",title:"Click to change category",children:[a.jsx(ya,{className:"h-3 w-3 mr-1"}),yy[e.category]]})}),a.jsx(vd,{className:"w-52 p-3",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-xs font-medium",children:"Change Category"}),a.jsxs(Ee,{value:e.category,onValueChange:Se,children:[a.jsx(je,{children:a.jsx(Ce,{})}),a.jsx(_e,{children:Object.keys(yy).map(ae=>a.jsx(Q,{value:ae,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:X5[ae]}}),yy[ae]]})},ae))})]})]})})]}),s&&e.estimatedTime&&a.jsxs(ve,{variant:"secondary",className:"gap-1",children:[a.jsx(kl,{className:"h-3 w-3"}),e.estimatedTime,"m estimated"]}),r&&a.jsxs(ve,{variant:"secondary",className:"gap-1",children:[a.jsx(kl,{className:"h-3 w-3"}),L()," spent"]}),qt>0&&a.jsxs(ve,{variant:"secondary",children:[St,"/",qt," subtasks"]}),e.dueDate&&a.jsxs(ve,{variant:"outline",className:me("gap-1",new Date(e.dueDate)<new Date&&e.status!=="completed"?"bg-red-500/10 text-red-700 dark:text-red-400 border-red-500":""),children:[a.jsx(qr,{className:"h-3 w-3"}),"Due: ",new Date(e.dueDate).toLocaleDateString()]}),e.recurring&&a.jsx(Eke,{recurring:e.recurring}),e.streak&&e.streak.currentStreak>0&&a.jsxs(ve,{variant:"secondary",className:"gap-1 bg-orange-100 dark:bg-orange-900/30 border-orange-300 dark:border-orange-700",children:[a.jsx(jl,{className:"h-3 w-3 text-orange-500"}),e.streak.currentStreak," day streak"]}),e.status==="completed"&&e.points&&e.points>0&&a.jsxs(ve,{variant:"secondary",className:"gap-1 bg-yellow-100 dark:bg-yellow-900/30 border-yellow-300 dark:border-yellow-700",children:[a.jsx(Na,{className:"h-3 w-3 text-yellow-500"}),e.points," XP"]}),e.status!=="completed"&&fe&&fe>0&&a.jsxs(ve,{variant:"outline",className:"gap-1 bg-green-50 dark:bg-green-900/20 border-green-300 dark:border-green-700 text-green-700 dark:text-green-400",children:[a.jsx(Na,{className:"h-3 w-3"}),"+",fe," XP"]})]}),r&&e.status!=="completed"&&a.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[a.jsx(U,{variant:"outline",size:"sm",onClick:F,className:"gap-2",children:E?a.jsxs(a.Fragment,{children:[a.jsx(LD,{className:"h-4 w-4"}),"Pause Timer"]}):a.jsxs(a.Fragment,{children:[a.jsx(hq,{className:"h-4 w-4"}),"Start Timer"]})}),(P>0||E)&&a.jsxs(U,{variant:"ghost",size:"sm",onClick:z,className:"gap-2",children:[a.jsx(Hpe,{className:"h-4 w-4"}),"Reset"]})]}),c&&a.jsx("div",{className:"mt-4 space-y-3 border-t pt-3",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"font-medium text-sm",children:"Subtasks"}),e.subtasks.map(ae=>a.jsxs("div",{draggable:!0,onDragStart:Oe=>q(Oe,ae.id),onDragOver:ee,onDrop:Oe=>se(Oe,ae.id),onDragEnd:X,className:me("flex items-center gap-2 ml-2 transition-opacity",A===ae.id&&"opacity-50"),children:[a.jsx("div",{className:"cursor-grab active:cursor-grabbing",children:a.jsx(Ld,{className:"h-4 w-4 text-muted-foreground"})}),a.jsx(ks,{checked:ae.completed,onCheckedChange:()=>$(ae.id)}),k===ae.id?a.jsx(re,{value:_,onChange:Y,onBlur:G,onKeyDown:Z,className:"h-7 text-sm flex-1",autoFocus:!0}):a.jsx("span",{className:me("flex-1 text-sm cursor-pointer hover:bg-accent/50 rounded px-1 -ml-1 transition-colors",ae.completed&&"line-through text-muted-foreground"),onClick:()=>V(ae.id,ae.title),title:"Click to edit",children:ae.title}),a.jsx(U,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>W(ae.id),children:a.jsx(Jt,{className:"h-3 w-3"})})]},ae.id)),a.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[a.jsx(re,{placeholder:"Add subtask...",value:d,onChange:ae=>h(ae.target.value),onKeyDown:ae=>ae.key==="Enter"&&B(),className:"h-8 text-sm"}),a.jsx(U,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:B,children:a.jsx(We,{className:"h-4 w-4"})})]})]})})]})]})})},uje=({filter:e,onFilterChange:t,taskCounts:n})=>{const r=e.category||e.priority||e.status||e.searchQuery,s=()=>{t({})},i=(o,l)=>{t({...e,[o]:l||void 0})};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(re,{placeholder:"Search tasks...",value:e.searchQuery||"",onChange:o=>i("searchQuery",o.target.value),className:"pl-9"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Ee,{value:e.category||"all",onValueChange:o=>i("category",o==="all"?void 0:o),children:[a.jsx(je,{className:"w-[150px]",children:a.jsx(Ce,{placeholder:"Category"})}),a.jsxs(_e,{children:[a.jsx(Q,{value:"all",children:"All Categories"}),Object.entries(yy).map(([o,l])=>a.jsx(Q,{value:o,children:l},o))]})]}),a.jsxs(Ee,{value:e.priority||"all",onValueChange:o=>i("priority",o==="all"?void 0:o),children:[a.jsx(je,{className:"w-[130px]",children:a.jsx(Ce,{placeholder:"Priority"})}),a.jsxs(_e,{children:[a.jsx(Q,{value:"all",children:"All Priorities"}),a.jsx(Q,{value:"low",children:"Low"}),a.jsx(Q,{value:"medium",children:"Medium"}),a.jsx(Q,{value:"high",children:"High"})]})]}),a.jsxs(Ee,{value:e.status||"all",onValueChange:o=>i("status",o==="all"?void 0:o),children:[a.jsx(je,{className:"w-[130px]",children:a.jsx(Ce,{placeholder:"Status"})}),a.jsxs(_e,{children:[a.jsx(Q,{value:"all",children:"All Status"}),a.jsx(Q,{value:"pending",children:"Pending"}),a.jsx(Q,{value:"in-progress",children:"In Progress"}),a.jsx(Q,{value:"completed",children:"Completed"})]})]}),r&&a.jsx(U,{variant:"ghost",size:"icon",onClick:s,children:a.jsx(zo,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(ve,{variant:"secondary",className:"text-sm",children:["Total: ",n.total]}),a.jsxs(ve,{variant:"outline",className:"text-sm bg-yellow-500/10 text-yellow-700 dark:text-yellow-400",children:["Pending: ",n.pending]}),a.jsxs(ve,{variant:"outline",className:"text-sm bg-blue-500/10 text-blue-700 dark:text-blue-400",children:["In Progress: ",n.inProgress]}),a.jsxs(ve,{variant:"outline",className:"text-sm bg-green-500/10 text-green-700 dark:text-green-400",children:["Completed: ",n.completed]})]})]})},dje=[{value:"default",label:"Default"},{value:"gradient-blue",label:"Ocean Blue"},{value:"gradient-purple",label:"Purple Dream"},{value:"gradient-green",label:"Forest Green"},{value:"gradient-orange",label:"Sunset Orange"},{value:"gradient-pink",label:"Cherry Blossom"}],hje=({settings:e,onSettingsChange:t})=>{const n=r=>{var o;const s=(o=r.target.files)==null?void 0:o[0];if(!s)return;if(!s.type.startsWith("image/")){alert("Please select an image file");return}const i=new FileReader;i.onload=l=>{var u;const c=(u=l.target)==null?void 0:u.result;t({backgroundImage:c})},i.readAsDataURL(s),r.target.value=""};return a.jsxs(IJ,{children:[a.jsx(LJ,{asChild:!0,children:a.jsx(U,{variant:"outline",size:"icon",children:a.jsx(wp,{className:"h-5 w-5"})})}),a.jsxs(zR,{className:"w-[400px] sm:w-[540px] overflow-y-auto",children:[a.jsxs(UR,{children:[a.jsx(HR,{children:"Settings"}),a.jsx(WR,{children:"Customize your to-do app experience"})]}),a.jsxs("div",{className:"space-y-6 py-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Bpe,{className:"h-5 w-5"}),a.jsx("h3",{className:"font-semibold",children:"Background"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"background-type",children:"Background Type"}),a.jsxs(Ee,{value:e.backgroundType,onValueChange:r=>t({backgroundType:r}),children:[a.jsx(je,{id:"background-type",children:a.jsx(Ce,{})}),a.jsxs(_e,{children:[a.jsx(Q,{value:"theme",children:"Theme"}),a.jsx(Q,{value:"image",children:"Image"}),a.jsx(Q,{value:"custom",children:"Custom Color"})]})]})]}),e.backgroundType==="theme"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"background-theme",children:"Theme"}),a.jsxs(Ee,{value:e.backgroundTheme,onValueChange:r=>t({backgroundTheme:r}),children:[a.jsx(je,{id:"background-theme",children:a.jsx(Ce,{})}),a.jsx(_e,{children:dje.map(r=>a.jsx(Q,{value:r.value,children:r.label},r.value))})]})]}),e.backgroundType==="image"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"background-image",children:"Image URL"}),a.jsx("input",{id:"background-image",type:"text",placeholder:"Enter image URL...",value:e.backgroundImage||"",onChange:r=>t({backgroundImage:r.target.value}),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter a URL to a background image"})]}),a.jsx("div",{className:"relative",children:a.jsxs("div",{className:"flex items-center justify-center gap-2 my-2",children:[a.jsx("div",{className:"flex-1 h-px bg-border"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"OR"}),a.jsx("div",{className:"flex-1 h-px bg-border"})]})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"upload-image",children:"Upload Image"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{id:"upload-image",type:"file",accept:"image/*",onChange:n,className:"hidden"}),a.jsxs(U,{type:"button",variant:"outline",className:"w-full",onClick:()=>{var r;return(r=document.getElementById("upload-image"))==null?void 0:r.click()},children:[a.jsx(FD,{className:"w-4 h-4 mr-2"}),"Upload from Computer"]})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload an image from your device"})]}),e.backgroundImage&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{children:"Preview"}),a.jsx("div",{className:"w-full h-24 rounded-md bg-cover bg-center border",style:{backgroundImage:`url(${e.backgroundImage})`}}),a.jsx(U,{type:"button",variant:"outline",size:"sm",onClick:()=>t({backgroundImage:""}),className:"w-full",children:"Clear Image"})]})]}),e.backgroundType==="custom"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"background-color",children:"Custom Color"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{id:"background-color",type:"color",value:e.backgroundColor||"#ffffff",onChange:r=>t({backgroundColor:r.target.value}),className:"h-10 w-20 rounded-md border border-input cursor-pointer"}),a.jsx("input",{type:"text",placeholder:"#ffffff",value:e.backgroundColor||"#ffffff",onChange:r=>t({backgroundColor:r.target.value}),className:"flex h-10 flex-1 rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Choose a custom background color"})]})]})]}),a.jsx(kn,{}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(kl,{className:"h-5 w-5"}),a.jsx("h3",{className:"font-semibold",children:"Display Options"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(K,{htmlFor:"show-timer",children:"Show Timer"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Display time tracking for tasks"})]}),a.jsx(Us,{id:"show-timer",checked:e.showTimer,onCheckedChange:r=>t({showTimer:r})})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(K,{htmlFor:"show-estimated-time",children:"Show Estimated Time"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Display time estimates for tasks"})]}),a.jsx(Us,{id:"show-estimated-time",checked:e.showEstimatedTime,onCheckedChange:r=>t({showEstimatedTime:r})})]})]})]}),a.jsx(kn,{}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(mi,{className:"h-5 w-5"}),a.jsx("h3",{className:"font-semibold",children:"AI Features"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(K,{htmlFor:"ai-suggestions",children:"AI Suggestions"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Get AI-powered task recommendations"})]}),a.jsx(Us,{id:"ai-suggestions",checked:e.enableAISuggestions,onCheckedChange:r=>t({enableAISuggestions:r})})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Note: AI features are currently in development"})]}),a.jsx(kn,{}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold",children:"Color Scheme"}),a.jsxs(Ee,{value:e.colorScheme,onValueChange:r=>t({colorScheme:r}),children:[a.jsx(je,{children:a.jsx(Ce,{})}),a.jsxs(_e,{children:[a.jsx(Q,{value:"light",children:"Light"}),a.jsx(Q,{value:"dark",children:"Dark"}),a.jsx(Q,{value:"system",children:"System"})]})]})]})]})]})]})},fje=({tasks:e,onImport:t})=>{const n=()=>{try{const s=JSON.stringify(e,null,2),i=new Blob([s],{type:"application/json"}),o=URL.createObjectURL(i),l=document.createElement("a");l.href=o,l.download=`todo-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(o),J.success(`Exported ${e.length} tasks successfully!`)}catch(s){console.error("Export error:",s),J.error("Failed to export tasks")}},r=s=>{var l;const i=(l=s.target.files)==null?void 0:l[0];if(!i)return;const o=new FileReader;o.onload=c=>{var u;try{const d=(u=c.target)==null?void 0:u.result,f=JSON.parse(d).map(p=>({...p,createdAt:new Date(p.createdAt),completedAt:p.completedAt?new Date(p.completedAt):void 0,dueDate:p.dueDate?new Date(p.dueDate):void 0,timerStartedAt:p.timerStartedAt?new Date(p.timerStartedAt):void 0}));t(f),J.success(`Imported ${f.length} tasks successfully!`)}catch(d){console.error("Import error:",d),J.error("Failed to import tasks. Please check the file format.")}},o.readAsText(i),s.target.value=""};return a.jsxs(hh,{children:[a.jsx(fh,{asChild:!0,children:a.jsx(U,{variant:"outline",size:"icon",children:a.jsx(V1,{className:"h-5 w-5"})})}),a.jsxs(pu,{align:"end",children:[a.jsxs(_n,{onClick:n,className:"gap-2",children:[a.jsx(V1,{className:"h-4 w-4"}),"Export Tasks"]}),a.jsx(_n,{asChild:!0,children:a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx(FD,{className:"h-4 w-4"}),"Import Tasks",a.jsx("input",{type:"file",accept:".json",onChange:r,className:"hidden"})]})})]})]})},xC=e=>({id:e.id,title:e.title,description:e.description,category:e.category,priority:e.priority,status:e.status,color:e.color,estimatedTime:e.estimated_time,timeSpent:e.time_spent,subtasks:e.subtasks||[],createdAt:new Date(e.created_at),completedAt:e.completed_at?new Date(e.completed_at):void 0,dueDate:e.due_date?new Date(e.due_date):void 0,tags:e.tags,timerRunning:e.timer_running,timerStartedAt:e.timer_started_at?new Date(e.timer_started_at):void 0,recurring:e.recurring,streak:e.streak,points:e.points}),pje=(e,t)=>{var n,r,s;return{user_id:t,title:e.title,description:e.description,category:e.category,priority:e.priority,status:e.status,color:e.color,estimated_time:e.estimatedTime,time_spent:e.timeSpent,subtasks:e.subtasks,completed_at:(n=e.completedAt)==null?void 0:n.toISOString(),due_date:(r=e.dueDate)==null?void 0:r.toISOString(),tags:e.tags,timer_running:e.timerRunning,timer_started_at:(s=e.timerStartedAt)==null?void 0:s.toISOString(),recurring:e.recurring,streak:e.streak,points:e.points}},mje=e=>e?{backgroundType:e.background_type,backgroundTheme:e.background_theme,backgroundImage:e.background_image,colorScheme:e.color_scheme,showEstimatedTime:e.show_estimated_time,showTimer:e.show_timer,enableAISuggestions:e.enable_ai_suggestions,enableGamification:e.enable_gamification,userStats:e.user_stats}:{backgroundType:"theme",backgroundTheme:"default",colorScheme:"system",showEstimatedTime:!0,showTimer:!0,enableAISuggestions:!1,enableGamification:!0},Q5=(e,t)=>({user_id:t,background_type:e.backgroundType,background_theme:e.backgroundTheme,background_image:e.backgroundImage,color_scheme:e.colorScheme,show_estimated_time:e.showEstimatedTime,show_timer:e.showTimer,enable_ai_suggestions:e.enableAISuggestions,enable_gamification:e.enableGamification,user_stats:e.userStats}),gje=()=>{const[e,t]=v.useState([]),[n,r]=v.useState({backgroundType:"theme",backgroundTheme:"default",colorScheme:"system",showEstimatedTime:!0,showTimer:!0,enableAISuggestions:!1,enableGamification:!0}),[s,i]=v.useState(!1),[o,l]=v.useState(null);return v.useEffect(()=>{(async()=>{const{data:{session:m}}=await Le.auth.getSession();m!=null&&m.user&&l(m.user.id)})()},[]),v.useEffect(()=>{if(!o)return;(async()=>{try{const{data:m,error:g}=await Le.from("todos").select("*").eq("user_id",o).order("created_at",{ascending:!1});if(g)throw g;const y=(m||[]).map(xC);t(y);const{data:x,error:b}=await Le.from("todo_settings").select("*").eq("user_id",o).single();if(b&&b.code!=="PGRST116")throw b;r(mje(x)),i(!0)}catch(m){console.error("Error fetching todo data:",m),J.error("Failed to load tasks"),i(!0)}})()},[o]),{tasks:e,settings:n,isLoaded:s,addTask:async p=>{if(o)try{const{data:m,error:g}=await Le.from("todos").insert(pje(p,o)).select().single();if(g)throw g;const y=xC(m);t(x=>[y,...x]),J.success("Task added!")}catch(m){console.error("Error adding task:",m),J.error("Failed to add task")}},updateTask:async(p,m)=>{var g,y,x;if(o)try{const b={};m.title!==void 0&&(b.title=m.title),m.description!==void 0&&(b.description=m.description),m.category!==void 0&&(b.category=m.category),m.priority!==void 0&&(b.priority=m.priority),m.status!==void 0&&(b.status=m.status),m.color!==void 0&&(b.color=m.color),m.estimatedTime!==void 0&&(b.estimated_time=m.estimatedTime),m.timeSpent!==void 0&&(b.time_spent=m.timeSpent),m.subtasks!==void 0&&(b.subtasks=m.subtasks),m.completedAt!==void 0&&(b.completed_at=(g=m.completedAt)==null?void 0:g.toISOString()),m.dueDate!==void 0&&(b.due_date=(y=m.dueDate)==null?void 0:y.toISOString()),m.tags!==void 0&&(b.tags=m.tags),m.timerRunning!==void 0&&(b.timer_running=m.timerRunning),m.timerStartedAt!==void 0&&(b.timer_started_at=(x=m.timerStartedAt)==null?void 0:x.toISOString()),m.recurring!==void 0&&(b.recurring=m.recurring),m.streak!==void 0&&(b.streak=m.streak),m.points!==void 0&&(b.points=m.points);const{data:w,error:N}=await Le.from("todos").update(b).eq("id",p).eq("user_id",o).select().single();if(N)throw N;const S=xC(w);t(k=>k.map(j=>j.id===p?S:j))}catch(b){console.error("Error updating task:",b),J.error("Failed to update task")}},deleteTask:async p=>{if(o)try{const{error:m}=await Le.from("todos").delete().eq("id",p).eq("user_id",o);if(m)throw m;t(g=>g.filter(y=>y.id!==p)),J.success("Task deleted!")}catch(m){console.error("Error deleting task:",m),J.error("Failed to delete task")}},reorderTasks:async p=>{t(p)},updateSettings:async p=>{if(o)try{const m={...n,...p},{data:g}=await Le.from("todo_settings").select("id").eq("user_id",o).single();if(g){const{error:y}=await Le.from("todo_settings").update(Q5(m,o)).eq("user_id",o);if(y)throw y}else{const{error:y}=await Le.from("todo_settings").insert(Q5(m,o));if(y)throw y}r(m)}catch(m){console.error("Error updating settings:",m),J.error("Failed to update settings")}}}},yje={default:"","gradient-blue":"bg-gradient-to-br from-blue-50 via-cyan-50 to-blue-100 dark:from-blue-950 dark:via-cyan-950 dark:to-blue-900","gradient-purple":"bg-gradient-to-br from-purple-50 via-pink-50 to-purple-100 dark:from-purple-950 dark:via-pink-950 dark:to-purple-900","gradient-green":"bg-gradient-to-br from-green-50 via-emerald-50 to-green-100 dark:from-green-950 dark:via-emerald-950 dark:to-green-900","gradient-orange":"bg-gradient-to-br from-orange-50 via-amber-50 to-orange-100 dark:from-orange-950 dark:via-amber-950 dark:to-orange-900","gradient-pink":"bg-gradient-to-br from-pink-50 via-rose-50 to-pink-100 dark:from-pink-950 dark:via-rose-950 dark:to-pink-900"},xje=()=>{const e=Ct(),{tasks:t,settings:n,isLoaded:r,addTask:s,updateTask:i,deleteTask:o,reorderTasks:l,updateSettings:c}=gje(),[u,d]=v.useState({}),[h,f]=v.useState(null);v.useEffect(()=>{r&&!n.userStats&&c({enableGamification:!0,userStats:{totalPoints:0,level:1,badges:Sf.map(C=>({...C})),tasksCompleted:0,currentStreak:0,longestStreak:0}})},[r,n.userStats,c]);const p=v.useMemo(()=>{if(!n.userStats)return{totalPoints:0,level:1,badges:Sf.map(T=>({...T})),tasksCompleted:0,currentStreak:0,longestStreak:0};const C=t.filter(T=>T.status==="completed"),A=C.reduce((T,R)=>T+(R.points||0),0),O=FO(A);new Date().setHours(0,0,0,0);let P=0,E=0;t.forEach(T=>{T.streak&&(P=Math.max(P,T.streak.currentStreak),E=Math.max(E,T.streak.longestStreak))});const I=Sf.map(T=>{const R=zO(T,{...n.userStats,tasksCompleted:C.length,currentStreak:P},t);return{...T,earnedAt:R?T.earnedAt||new Date:void 0,progress:T.id.includes("task")?C.length:T.id.includes("streak")?P:void 0}});return{totalPoints:A,level:O,badges:I,tasksCompleted:C.length,currentStreak:P,longestStreak:E}},[t,n.userStats]),m=v.useMemo(()=>{let C=[...t];if(u.category&&(C=C.filter(A=>A.category===u.category)),u.priority&&(C=C.filter(A=>A.priority===u.priority)),u.status&&(C=C.filter(A=>A.status===u.status)),u.searchQuery){const A=u.searchQuery.toLowerCase();C=C.filter(O=>{var M;return O.title.toLowerCase().includes(A)||((M=O.description)==null?void 0:M.toLowerCase().includes(A))})}return C.sort((A,O)=>{const M={pending:0,"in-progress":1,completed:2};return M[A.status]-M[O.status]}),C},[t,u]),g=v.useMemo(()=>({total:t.length,pending:t.filter(C=>C.status==="pending").length,inProgress:t.filter(C=>C.status==="in-progress").length,completed:t.filter(C=>C.status==="completed").length}),[t]),y=C=>{s(C),J.success("Task added successfully!")},x=C=>{o(C),J.success("Task deleted")},b=(C,A)=>{var P;const O=t.find(E=>E.id===C);if(!O)return;let M={...O,...A};if(A.status==="completed"&&O.status!=="completed"){M.completedAt=new Date,M.points=_Q(M),M=xke(M);const E=Sf.filter(T=>{var D,F;const R=(F=(D=n.userStats)==null?void 0:D.badges.find(z=>z.id===T.id))==null?void 0:F.earnedAt,L=zO(T,{...p,tasksCompleted:p.tasksCompleted+1,totalPoints:p.totalPoints+(M.points||0)},[...t.filter(z=>z.id!==C),M]);return!R&&L});M.points&&J.success(`Task completed! +${M.points} XP`),E.forEach(T=>{J.success(` Badge Unlocked: ${T.name}!`)});const I=FO(p.totalPoints+(M.points||0));if(I>p.level&&J.success(` Level Up! You're now Level ${I}!`),(P=M.recurring)!=null&&P.enabled){const T=EQ(M.recurring.interval,M.recurring.customDays,new Date),R={...M,id:ui(),status:"pending",completedAt:void 0,timerRunning:!1,timerStartedAt:void 0,timeSpent:0,createdAt:new Date,dueDate:T,recurring:{...M.recurring,lastCompleted:new Date,nextDue:T}};s(R),J.success(` Recurring task renewed for ${T.toLocaleDateString()}`)}}i(C,M)},w=C=>{l(C)},N=(C,A)=>{f(A),C.dataTransfer.effectAllowed="move"},S=(C,A)=>{if(C.preventDefault(),!h||h===A){f(null);return}const O=m.findIndex(L=>L.id===h),M=m.findIndex(L=>L.id===A);if(O===-1||M===-1){f(null);return}const P=m.slice(),[E]=P.splice(O,1);P.splice(M,0,E);const I=new Set(m.map(L=>L.id)),T=[];let R=0;for(const L of t)I.has(L.id)?R<P.length&&(T.push(P[R]),R++):T.push(L);l(T),f(null)},k=()=>{f(null)},j=n.backgroundType==="theme"&&yje[n.backgroundTheme]||"",_=n.backgroundType==="image"&&n.backgroundImage?{backgroundImage:`url(${n.backgroundImage})`,backgroundSize:"cover",backgroundPosition:"center"}:n.backgroundType==="custom"&&n.backgroundColor?{backgroundColor:n.backgroundColor}:{};return r?a.jsxs("div",{className:`min-h-screen transition-all duration-300 ${j}`,style:_,children:[a.jsx(Dn,{title:"Ultimate To-Do App"}),a.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"My Tasks"}),n.enableGamification&&n.userStats&&a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-gradient-to-r from-purple-500 to-blue-500 text-white rounded-full text-sm font-semibold",children:[a.jsx("span",{className:"text-lg",children:""}),a.jsxs("span",{children:["Level ",p.level]})]})]}),a.jsx("p",{className:"text-muted-foreground",children:"Organize your tasks, track your progress, and boost productivity"})]}),a.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[n.enableGamification&&a.jsxs(U,{variant:"outline",onClick:()=>e("/todo/stats"),className:"flex items-center gap-2",children:[a.jsx(Sn,{className:"h-4 w-4"}),"View Stats"]}),a.jsx(fje,{tasks:t,onImport:w}),a.jsx(hje,{settings:n,onSettingsChange:c}),a.jsx(kke,{onAdd:y})]})]}),a.jsx("div",{className:"mb-6",children:a.jsx(jke,{onAdd:y})}),a.jsx("div",{className:"mb-6",children:a.jsx(uje,{filter:u,onFilterChange:d,taskCounts:g})}),a.jsx("div",{className:"space-y-4",children:m.length===0?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-muted-foreground text-lg",children:t.length===0?"No tasks yet. Add your first task to get started!":`No tasks match your filters. (${t.length} total tasks)`})}):a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",m.length," of ",t.length," tasks"]}),a.jsx("div",{className:"space-y-4",children:m.map(C=>a.jsx("div",{className:`transition-all duration-200 ${h===C.id?"opacity-40 scale-95":h?"opacity-100":""}`,children:a.jsx(cje,{task:C,onUpdate:b,onDelete:x,showTimer:n.showTimer,showEstimatedTime:n.showEstimatedTime,onDragStart:A=>N(A,C.id),onDragEnd:k,onDrop:A=>S(A,C.id)})},C.id))})]})}),t.length>0&&a.jsxs("div",{className:"mt-8 p-4 bg-card rounded-lg border",children:[a.jsx("h3",{className:"font-semibold mb-2",children:"Quick Stats"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Total Tasks"}),a.jsx("p",{className:"text-2xl font-bold",children:g.total})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Pending"}),a.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:g.pending})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"In Progress"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:g.inProgress})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Completed"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:g.completed})]})]})]})]})]}):a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsx("p",{className:"text-muted-foreground",children:"Loading..."})})},vje=({stats:e})=>{const t=yke(e.level),n=e.totalPoints/t*100,r=e.badges.filter(i=>i.earnedAt),s=e.badges.filter(i=>!i.earnedAt);return a.jsxs(te,{className:"p-6 bg-gradient-to-br from-purple-50 to-blue-50 dark:from-purple-950/20 dark:to-blue-950/20",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-16 w-16 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white text-2xl font-bold",children:e.level}),a.jsxs("div",{children:[a.jsxs("h3",{className:"font-bold text-xl",children:["Level ",e.level]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.totalPoints," / ",t," XP"]})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs(et,{children:[a.jsx(tt,{children:a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"flex items-center gap-1 text-orange-500",children:[a.jsx(jl,{className:"h-5 w-5"}),a.jsx("span",{className:"font-bold text-lg",children:e.currentStreak})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Day Streak"})]})}),a.jsxs(Ze,{children:[a.jsxs("p",{children:["Current streak: ",e.currentStreak," days"]}),a.jsxs("p",{children:["Longest streak: ",e.longestStreak," days"]})]})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"flex items-center gap-1 text-blue-500",children:[a.jsx(us,{className:"h-5 w-5"}),a.jsx("span",{className:"font-bold text-lg",children:r.length})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Badges"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"flex items-center gap-1 text-green-500",children:[a.jsx(Na,{className:"h-5 w-5"}),a.jsx("span",{className:"font-bold text-lg",children:e.tasksCompleted})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Completed"})]})]})]}),a.jsxs("div",{className:"space-y-2 mb-6",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{children:["Progress to Level ",e.level+1]}),a.jsxs("span",{className:"font-medium",children:[Math.round(n),"%"]})]}),a.jsx(Sr,{value:n,className:"h-3"})]}),r.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("h4",{className:"font-semibold text-sm flex items-center gap-2",children:[a.jsx(Hk,{className:"h-4 w-4"}),"Recent Badges"]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:r.slice(-6).map(i=>a.jsxs(et,{children:[a.jsx(tt,{children:a.jsx(ve,{variant:"secondary",className:"text-lg px-3 py-1 bg-yellow-100 dark:bg-yellow-900/30 border-yellow-300 dark:border-yellow-700",children:i.icon})}),a.jsxs(Ze,{children:[a.jsx("p",{className:"font-semibold",children:i.name}),a.jsx("p",{className:"text-sm",children:i.description}),i.earnedAt&&a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Earned: ",new Date(i.earnedAt).toLocaleDateString()]})]})]},i.id))})]}),s.length>0&&a.jsxs("div",{className:"space-y-3 mt-4",children:[a.jsxs("h4",{className:"font-semibold text-sm flex items-center gap-2",children:[a.jsx(Sn,{className:"h-4 w-4"}),"Available Badges"]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:s.slice(0,6).map(i=>a.jsxs(et,{children:[a.jsx(tt,{children:a.jsx(ve,{variant:"outline",className:"text-lg px-3 py-1 opacity-50 hover:opacity-100 transition-opacity",children:i.icon})}),a.jsxs(Ze,{children:[a.jsx("p",{className:"font-semibold",children:i.name}),a.jsx("p",{className:"text-sm",children:i.description}),i.progress!==void 0&&a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Progress: ",i.progress,"/",i.requirement]})]})]},i.id))})]})]})};var bje=Array.isArray,Xs=bje,wje=typeof B0=="object"&&B0&&B0.Object===Object&&B0,dZ=wje,Sje=dZ,Nje=typeof self=="object"&&self&&self.Object===Object&&self,kje=Sje||Nje||Function("return this")(),Ma=kje,jje=Ma,_je=jje.Symbol,f0=_je,Z5=f0,hZ=Object.prototype,Eje=hZ.hasOwnProperty,Cje=hZ.toString,rg=Z5?Z5.toStringTag:void 0;function Tje(e){var t=Eje.call(e,rg),n=e[rg];try{e[rg]=void 0;var r=!0}catch{}var s=Cje.call(e);return r&&(t?e[rg]=n:delete e[rg]),s}var Aje=Tje,Oje=Object.prototype,Mje=Oje.toString;function Pje(e){return Mje.call(e)}var Dje=Pje,eB=f0,Rje=Aje,Ije=Dje,Lje="[object Null]",$je="[object Undefined]",tB=eB?eB.toStringTag:void 0;function Bje(e){return e==null?e===void 0?$je:Lje:tB&&tB in Object(e)?Rje(e):Ije(e)}var Dl=Bje;function Fje(e){return e!=null&&typeof e=="object"}var Rl=Fje,zje=Dl,Uje=Rl,Hje="[object Symbol]";function Wje(e){return typeof e=="symbol"||Uje(e)&&zje(e)==Hje}var km=Wje,Vje=Xs,Gje=km,qje=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Kje=/^\w*$/;function Yje(e,t){if(Vje(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Gje(e)?!0:Kje.test(e)||!qje.test(e)||t!=null&&e in Object(t)}var qR=Yje;function Xje(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var xu=Xje;const jm=Dt(xu);var Jje=Dl,Qje=xu,Zje="[object AsyncFunction]",e_e="[object Function]",t_e="[object GeneratorFunction]",n_e="[object Proxy]";function r_e(e){if(!Qje(e))return!1;var t=Jje(e);return t==e_e||t==t_e||t==Zje||t==n_e}var KR=r_e;const ht=Dt(KR);var s_e=Ma,i_e=s_e["__core-js_shared__"],o_e=i_e,vC=o_e,nB=function(){var e=/[^.]+$/.exec(vC&&vC.keys&&vC.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function a_e(e){return!!nB&&nB in e}var l_e=a_e,c_e=Function.prototype,u_e=c_e.toString;function d_e(e){if(e!=null){try{return u_e.call(e)}catch{}try{return e+""}catch{}}return""}var fZ=d_e,h_e=KR,f_e=l_e,p_e=xu,m_e=fZ,g_e=/[\\^$.*+?()[\]{}|]/g,y_e=/^\[object .+?Constructor\]$/,x_e=Function.prototype,v_e=Object.prototype,b_e=x_e.toString,w_e=v_e.hasOwnProperty,S_e=RegExp("^"+b_e.call(w_e).replace(g_e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function N_e(e){if(!p_e(e)||f_e(e))return!1;var t=h_e(e)?S_e:y_e;return t.test(m_e(e))}var k_e=N_e;function j_e(e,t){return e==null?void 0:e[t]}var __e=j_e,E_e=k_e,C_e=__e;function T_e(e,t){var n=C_e(e,t);return E_e(n)?n:void 0}var ph=T_e,A_e=ph,O_e=A_e(Object,"create"),Mj=O_e,rB=Mj;function M_e(){this.__data__=rB?rB(null):{},this.size=0}var P_e=M_e;function D_e(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var R_e=D_e,I_e=Mj,L_e="__lodash_hash_undefined__",$_e=Object.prototype,B_e=$_e.hasOwnProperty;function F_e(e){var t=this.__data__;if(I_e){var n=t[e];return n===L_e?void 0:n}return B_e.call(t,e)?t[e]:void 0}var z_e=F_e,U_e=Mj,H_e=Object.prototype,W_e=H_e.hasOwnProperty;function V_e(e){var t=this.__data__;return U_e?t[e]!==void 0:W_e.call(t,e)}var G_e=V_e,q_e=Mj,K_e="__lodash_hash_undefined__";function Y_e(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=q_e&&t===void 0?K_e:t,this}var X_e=Y_e,J_e=P_e,Q_e=R_e,Z_e=z_e,eEe=G_e,tEe=X_e;function _m(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}_m.prototype.clear=J_e;_m.prototype.delete=Q_e;_m.prototype.get=Z_e;_m.prototype.has=eEe;_m.prototype.set=tEe;var nEe=_m;function rEe(){this.__data__=[],this.size=0}var sEe=rEe;function iEe(e,t){return e===t||e!==e&&t!==t}var YR=iEe,oEe=YR;function aEe(e,t){for(var n=e.length;n--;)if(oEe(e[n][0],t))return n;return-1}var Pj=aEe,lEe=Pj,cEe=Array.prototype,uEe=cEe.splice;function dEe(e){var t=this.__data__,n=lEe(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():uEe.call(t,n,1),--this.size,!0}var hEe=dEe,fEe=Pj;function pEe(e){var t=this.__data__,n=fEe(t,e);return n<0?void 0:t[n][1]}var mEe=pEe,gEe=Pj;function yEe(e){return gEe(this.__data__,e)>-1}var xEe=yEe,vEe=Pj;function bEe(e,t){var n=this.__data__,r=vEe(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var wEe=bEe,SEe=sEe,NEe=hEe,kEe=mEe,jEe=xEe,_Ee=wEe;function Em(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Em.prototype.clear=SEe;Em.prototype.delete=NEe;Em.prototype.get=kEe;Em.prototype.has=jEe;Em.prototype.set=_Ee;var Dj=Em,EEe=ph,CEe=Ma,TEe=EEe(CEe,"Map"),XR=TEe,sB=nEe,AEe=Dj,OEe=XR;function MEe(){this.size=0,this.__data__={hash:new sB,map:new(OEe||AEe),string:new sB}}var PEe=MEe;function DEe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var REe=DEe,IEe=REe;function LEe(e,t){var n=e.__data__;return IEe(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Rj=LEe,$Ee=Rj;function BEe(e){var t=$Ee(this,e).delete(e);return this.size-=t?1:0,t}var FEe=BEe,zEe=Rj;function UEe(e){return zEe(this,e).get(e)}var HEe=UEe,WEe=Rj;function VEe(e){return WEe(this,e).has(e)}var GEe=VEe,qEe=Rj;function KEe(e,t){var n=qEe(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var YEe=KEe,XEe=PEe,JEe=FEe,QEe=HEe,ZEe=GEe,eCe=YEe;function Cm(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Cm.prototype.clear=XEe;Cm.prototype.delete=JEe;Cm.prototype.get=QEe;Cm.prototype.has=ZEe;Cm.prototype.set=eCe;var JR=Cm,pZ=JR,tCe="Expected a function";function QR(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(tCe);var n=function(){var r=arguments,s=t?t.apply(this,r):r[0],i=n.cache;if(i.has(s))return i.get(s);var o=e.apply(this,r);return n.cache=i.set(s,o)||i,o};return n.cache=new(QR.Cache||pZ),n}QR.Cache=pZ;var mZ=QR;const nCe=Dt(mZ);var rCe=mZ,sCe=500;function iCe(e){var t=rCe(e,function(r){return n.size===sCe&&n.clear(),r}),n=t.cache;return t}var oCe=iCe,aCe=oCe,lCe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,cCe=/\\(\\)?/g,uCe=aCe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(lCe,function(n,r,s,i){t.push(s?i.replace(cCe,"$1"):r||n)}),t}),dCe=uCe;function hCe(e,t){for(var n=-1,r=e==null?0:e.length,s=Array(r);++n<r;)s[n]=t(e[n],n,e);return s}var ZR=hCe,iB=f0,fCe=ZR,pCe=Xs,mCe=km,oB=iB?iB.prototype:void 0,aB=oB?oB.toString:void 0;function gZ(e){if(typeof e=="string")return e;if(pCe(e))return fCe(e,gZ)+"";if(mCe(e))return aB?aB.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var gCe=gZ,yCe=gCe;function xCe(e){return e==null?"":yCe(e)}var yZ=xCe,vCe=Xs,bCe=qR,wCe=dCe,SCe=yZ;function NCe(e,t){return vCe(e)?e:bCe(e,t)?[e]:wCe(SCe(e))}var xZ=NCe,kCe=km;function jCe(e){if(typeof e=="string"||kCe(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Ij=jCe,_Ce=xZ,ECe=Ij;function CCe(e,t){t=_Ce(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[ECe(t[n++])];return n&&n==r?e:void 0}var eI=CCe,TCe=eI;function ACe(e,t,n){var r=e==null?void 0:TCe(e,t);return r===void 0?n:r}var vZ=ACe;const Vi=Dt(vZ);function OCe(e){return e==null}var MCe=OCe;const vt=Dt(MCe);var PCe=Dl,DCe=Xs,RCe=Rl,ICe="[object String]";function LCe(e){return typeof e=="string"||!DCe(e)&&RCe(e)&&PCe(e)==ICe}var $Ce=LCe;const Hd=Dt($Ce);var bZ={exports:{}},Gt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tI=Symbol.for("react.element"),nI=Symbol.for("react.portal"),Lj=Symbol.for("react.fragment"),$j=Symbol.for("react.strict_mode"),Bj=Symbol.for("react.profiler"),Fj=Symbol.for("react.provider"),zj=Symbol.for("react.context"),BCe=Symbol.for("react.server_context"),Uj=Symbol.for("react.forward_ref"),Hj=Symbol.for("react.suspense"),Wj=Symbol.for("react.suspense_list"),Vj=Symbol.for("react.memo"),Gj=Symbol.for("react.lazy"),FCe=Symbol.for("react.offscreen"),wZ;wZ=Symbol.for("react.module.reference");function to(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case tI:switch(e=e.type,e){case Lj:case Bj:case $j:case Hj:case Wj:return e;default:switch(e=e&&e.$$typeof,e){case BCe:case zj:case Uj:case Gj:case Vj:case Fj:return e;default:return t}}case nI:return t}}}Gt.ContextConsumer=zj;Gt.ContextProvider=Fj;Gt.Element=tI;Gt.ForwardRef=Uj;Gt.Fragment=Lj;Gt.Lazy=Gj;Gt.Memo=Vj;Gt.Portal=nI;Gt.Profiler=Bj;Gt.StrictMode=$j;Gt.Suspense=Hj;Gt.SuspenseList=Wj;Gt.isAsyncMode=function(){return!1};Gt.isConcurrentMode=function(){return!1};Gt.isContextConsumer=function(e){return to(e)===zj};Gt.isContextProvider=function(e){return to(e)===Fj};Gt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===tI};Gt.isForwardRef=function(e){return to(e)===Uj};Gt.isFragment=function(e){return to(e)===Lj};Gt.isLazy=function(e){return to(e)===Gj};Gt.isMemo=function(e){return to(e)===Vj};Gt.isPortal=function(e){return to(e)===nI};Gt.isProfiler=function(e){return to(e)===Bj};Gt.isStrictMode=function(e){return to(e)===$j};Gt.isSuspense=function(e){return to(e)===Hj};Gt.isSuspenseList=function(e){return to(e)===Wj};Gt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Lj||e===Bj||e===$j||e===Hj||e===Wj||e===FCe||typeof e=="object"&&e!==null&&(e.$$typeof===Gj||e.$$typeof===Vj||e.$$typeof===Fj||e.$$typeof===zj||e.$$typeof===Uj||e.$$typeof===wZ||e.getModuleId!==void 0)};Gt.typeOf=to;bZ.exports=Gt;var zCe=bZ.exports,UCe=Dl,HCe=Rl,WCe="[object Number]";function VCe(e){return typeof e=="number"||HCe(e)&&UCe(e)==WCe}var SZ=VCe;const GCe=Dt(SZ);var qCe=SZ;function KCe(e){return qCe(e)&&e!=+e}var YCe=KCe;const p0=Dt(YCe);var Ao=function(t){return t===0?0:t>0?1:-1},Zu=function(t){return Hd(t)&&t.indexOf("%")===t.length-1},ke=function(t){return GCe(t)&&!p0(t)},XCe=function(t){return vt(t)},vr=function(t){return ke(t)||Hd(t)},JCe=0,m0=function(t){var n=++JCe;return"".concat(t||"").concat(n)},Wd=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ke(t)&&!Hd(t))return r;var i;if(Zu(t)){var o=t.indexOf("%");i=n*parseFloat(t.slice(0,o))/100}else i=+t;return p0(i)&&(i=r),s&&i>n&&(i=n),i},ac=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},QCe=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},s=0;s<n;s++)if(!r[t[s]])r[t[s]]=!0;else return!0;return!1},jo=function(t,n){return ke(t)&&ke(n)?function(r){return t+r*(n-t)}:function(){return n}};function lS(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):Vi(r,t))===n})}var ZCe=function(t,n){return ke(t)&&ke(n)?t-n:Hd(t)&&Hd(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function Uf(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function UO(e){"@babel/helpers - typeof";return UO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},UO(e)}var eTe=["viewBox","children"],tTe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],lB=["points","pathLength"],bC={svg:eTe,polygon:lB,polyline:lB},rI=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],cS=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(v.isValidElement(t)&&(r=t.props),!jm(r))return null;var s={};return Object.keys(r).forEach(function(i){rI.includes(i)&&(s[i]=n||function(o){return r[i](r,o)})}),s},nTe=function(t,n,r){return function(s){return t(n,r,s),null}},uS=function(t,n,r){if(!jm(t)||UO(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var o=t[i];rI.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=nTe(o,n,r))}),s},rTe=["children"],sTe=["children"];function cB(e,t){if(e==null)return{};var n=iTe(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function iTe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function HO(e){"@babel/helpers - typeof";return HO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},HO(e)}var uB={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},fl=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},dB=null,wC=null,sI=function e(t){if(t===dB&&Array.isArray(wC))return wC;var n=[];return v.Children.forEach(t,function(r){vt(r)||(zCe.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),wC=n,dB=t,n};function Gi(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(s){return fl(s)}):r=[fl(t)],sI(e).forEach(function(s){var i=Vi(s,"type.displayName")||Vi(s,"type.name");r.indexOf(i)!==-1&&n.push(s)}),n}function ni(e,t){var n=Gi(e,t);return n&&n[0]}var hB=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,s=n.height;return!(!ke(r)||r<=0||!ke(s)||s<=0)},oTe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],aTe=function(t){return t&&t.type&&Hd(t.type)&&oTe.indexOf(t.type)>=0},lTe=function(t){return t&&HO(t)==="object"&&"clipDot"in t},cTe=function(t,n,r,s){var i,o=(i=bC==null?void 0:bC[s])!==null&&i!==void 0?i:[];return n.startsWith("data-")||!ht(t)&&(s&&o.includes(n)||tTe.includes(n))||r&&rI.includes(n)},_t=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(v.isValidElement(t)&&(s=t.props),!jm(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;cTe((l=s)===null||l===void 0?void 0:l[o],o,n,r)&&(i[o]=s[o])}),i},WO=function e(t,n){if(t===n)return!0;var r=v.Children.count(t);if(r!==v.Children.count(n))return!1;if(r===0)return!0;if(r===1)return fB(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var s=0;s<r;s++){var i=t[s],o=n[s];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!fB(i,o))return!1}return!0},fB=function(t,n){if(vt(t)&&vt(n))return!0;if(!vt(t)&&!vt(n)){var r=t.props||{},s=r.children,i=cB(r,rTe),o=n.props||{},l=o.children,c=cB(o,sTe);return s&&l?Uf(i,c)&&WO(s,l):!s&&!l?Uf(i,c):!1}return!1},pB=function(t,n){var r=[],s={};return sI(t).forEach(function(i,o){if(aTe(i))r.push(i);else if(i){var l=fl(i.type),c=n[l]||{},u=c.handler,d=c.once;if(u&&(!d||!s[l])){var h=u(i,l,o);r.push(h),s[l]=!0}}}),r},uTe=function(t){var n=t&&t.type;return n&&uB[n]?uB[n]:null},dTe=function(t,n){return sI(n).indexOf(t)},hTe=["children","width","height","viewBox","className","style","title","desc"];function VO(){return VO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VO.apply(this,arguments)}function fTe(e,t){if(e==null)return{};var n=pTe(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function pTe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function GO(e){var t=e.children,n=e.width,r=e.height,s=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=fTe(e,hTe),d=s||{width:n,height:r,x:0,y:0},h=Et("recharts-surface",i);return H.createElement("svg",VO({},_t(u,!0,"svg"),{className:h,width:n,height:r,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),H.createElement("title",null,l),H.createElement("desc",null,c),t)}var mTe=["children","className"];function qO(){return qO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qO.apply(this,arguments)}function gTe(e,t){if(e==null)return{};var n=yTe(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function yTe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var tr=H.forwardRef(function(e,t){var n=e.children,r=e.className,s=gTe(e,mTe),i=Et("recharts-layer",r);return H.createElement("g",qO({className:i},_t(s,!0),{ref:t}),n)}),pl=function(t,n){for(var r=arguments.length,s=new Array(r>2?r-2:0),i=2;i<r;i++)s[i-2]=arguments[i]};function xTe(e,t,n){var r=-1,s=e.length;t<0&&(t=-t>s?0:s+t),n=n>s?s:n,n<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(s);++r<s;)i[r]=e[r+t];return i}var vTe=xTe,bTe=vTe;function wTe(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:bTe(e,t,n)}var STe=wTe,NTe="\\ud800-\\udfff",kTe="\\u0300-\\u036f",jTe="\\ufe20-\\ufe2f",_Te="\\u20d0-\\u20ff",ETe=kTe+jTe+_Te,CTe="\\ufe0e\\ufe0f",TTe="\\u200d",ATe=RegExp("["+TTe+NTe+ETe+CTe+"]");function OTe(e){return ATe.test(e)}var NZ=OTe;function MTe(e){return e.split("")}var PTe=MTe,kZ="\\ud800-\\udfff",DTe="\\u0300-\\u036f",RTe="\\ufe20-\\ufe2f",ITe="\\u20d0-\\u20ff",LTe=DTe+RTe+ITe,$Te="\\ufe0e\\ufe0f",BTe="["+kZ+"]",KO="["+LTe+"]",YO="\\ud83c[\\udffb-\\udfff]",FTe="(?:"+KO+"|"+YO+")",jZ="[^"+kZ+"]",_Z="(?:\\ud83c[\\udde6-\\uddff]){2}",EZ="[\\ud800-\\udbff][\\udc00-\\udfff]",zTe="\\u200d",CZ=FTe+"?",TZ="["+$Te+"]?",UTe="(?:"+zTe+"(?:"+[jZ,_Z,EZ].join("|")+")"+TZ+CZ+")*",HTe=TZ+CZ+UTe,WTe="(?:"+[jZ+KO+"?",KO,_Z,EZ,BTe].join("|")+")",VTe=RegExp(YO+"(?="+YO+")|"+WTe+HTe,"g");function GTe(e){return e.match(VTe)||[]}var qTe=GTe,KTe=PTe,YTe=NZ,XTe=qTe;function JTe(e){return YTe(e)?XTe(e):KTe(e)}var QTe=JTe,ZTe=STe,eAe=NZ,tAe=QTe,nAe=yZ;function rAe(e){return function(t){t=nAe(t);var n=eAe(t)?tAe(t):void 0,r=n?n[0]:t.charAt(0),s=n?ZTe(n,1).join(""):t.slice(1);return r[e]()+s}}var sAe=rAe,iAe=sAe,oAe=iAe("toUpperCase"),aAe=oAe;const qj=Dt(aAe);function un(e){return function(){return e}}const AZ=Math.cos,dS=Math.sin,qo=Math.sqrt,hS=Math.PI,Kj=2*hS,XO=Math.PI,JO=2*XO,Lu=1e-6,lAe=JO-Lu;function OZ(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function cAe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return OZ;const n=10**t;return function(r){this._+=r[0];for(let s=1,i=r.length;s<i;++s)this._+=Math.round(arguments[s]*n)/n+r[s]}}class uAe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?OZ:cAe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,s){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+s}`}bezierCurveTo(t,n,r,s,i,o){this._append`C${+t},${+n},${+r},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,r,s,i){if(t=+t,n=+n,r=+r,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=r-t,u=s-n,d=o-t,h=l-n,f=d*d+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(f>Lu)if(!(Math.abs(h*c-u*d)>Lu)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-o,m=s-l,g=c*c+u*u,y=p*p+m*m,x=Math.sqrt(g),b=Math.sqrt(f),w=i*Math.tan((XO-Math.acos((g+f-y)/(2*x*b)))/2),N=w/b,S=w/x;Math.abs(N-1)>Lu&&this._append`L${t+N*d},${n+N*h}`,this._append`A${i},${i},0,0,${+(h*p>d*m)},${this._x1=t+S*c},${this._y1=n+S*u}`}}arc(t,n,r,s,i,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(s),c=r*Math.sin(s),u=t+l,d=n+c,h=1^o,f=o?s-i:i-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Lu||Math.abs(this._y1-d)>Lu)&&this._append`L${u},${d}`,r&&(f<0&&(f=f%JO+JO),f>lAe?this._append`A${r},${r},0,1,${h},${t-l},${n-c}A${r},${r},0,1,${h},${this._x1=u},${this._y1=d}`:f>Lu&&this._append`A${r},${r},0,${+(f>=XO)},${h},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+s}h${-r}Z`}toString(){return this._}}function iI(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new uAe(t)}function oI(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function MZ(e){this._context=e}MZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Yj(e){return new MZ(e)}function PZ(e){return e[0]}function DZ(e){return e[1]}function RZ(e,t){var n=un(!0),r=null,s=Yj,i=null,o=iI(l);e=typeof e=="function"?e:e===void 0?PZ:un(e),t=typeof t=="function"?t:t===void 0?DZ:un(t);function l(c){var u,d=(c=oI(c)).length,h,f=!1,p;for(r==null&&(i=s(p=o())),u=0;u<=d;++u)!(u<d&&n(h=c[u],u,c))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+e(h,u,c),+t(h,u,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:un(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:un(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:un(!!c),l):n},l.curve=function(c){return arguments.length?(s=c,r!=null&&(i=s(r)),l):s},l.context=function(c){return arguments.length?(c==null?r=i=null:i=s(r=c),l):r},l}function Nb(e,t,n){var r=null,s=un(!0),i=null,o=Yj,l=null,c=iI(u);e=typeof e=="function"?e:e===void 0?PZ:un(+e),t=typeof t=="function"?t:un(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?DZ:un(+n);function u(h){var f,p,m,g=(h=oI(h)).length,y,x=!1,b,w=new Array(g),N=new Array(g);for(i==null&&(l=o(b=c())),f=0;f<=g;++f){if(!(f<g&&s(y=h[f],f,h))===x)if(x=!x)p=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),m=f-1;m>=p;--m)l.point(w[m],N[m]);l.lineEnd(),l.areaEnd()}x&&(w[f]=+e(y,f,h),N[f]=+t(y,f,h),l.point(r?+r(y,f,h):w[f],n?+n(y,f,h):N[f]))}if(b)return l=null,b+""||null}function d(){return RZ().defined(s).curve(o).context(i)}return u.x=function(h){return arguments.length?(e=typeof h=="function"?h:un(+h),r=null,u):e},u.x0=function(h){return arguments.length?(e=typeof h=="function"?h:un(+h),u):e},u.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:un(+h),u):r},u.y=function(h){return arguments.length?(t=typeof h=="function"?h:un(+h),n=null,u):t},u.y0=function(h){return arguments.length?(t=typeof h=="function"?h:un(+h),u):t},u.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:un(+h),u):n},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(n)},u.lineX1=function(){return d().x(r).y(t)},u.defined=function(h){return arguments.length?(s=typeof h=="function"?h:un(!!h),u):s},u.curve=function(h){return arguments.length?(o=h,i!=null&&(l=o(i)),u):o},u.context=function(h){return arguments.length?(h==null?i=l=null:l=o(i=h),u):i},u}class IZ{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function dAe(e){return new IZ(e,!0)}function hAe(e){return new IZ(e,!1)}const aI={draw(e,t){const n=qo(t/hS);e.moveTo(n,0),e.arc(0,0,n,0,Kj)}},fAe={draw(e,t){const n=qo(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},LZ=qo(1/3),pAe=LZ*2,mAe={draw(e,t){const n=qo(t/pAe),r=n*LZ;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},gAe={draw(e,t){const n=qo(t),r=-n/2;e.rect(r,r,n,n)}},yAe=.8908130915292852,$Z=dS(hS/10)/dS(7*hS/10),xAe=dS(Kj/10)*$Z,vAe=-AZ(Kj/10)*$Z,bAe={draw(e,t){const n=qo(t*yAe),r=xAe*n,s=vAe*n;e.moveTo(0,-n),e.lineTo(r,s);for(let i=1;i<5;++i){const o=Kj*i/5,l=AZ(o),c=dS(o);e.lineTo(c*n,-l*n),e.lineTo(l*r-c*s,c*r+l*s)}e.closePath()}},SC=qo(3),wAe={draw(e,t){const n=-qo(t/(SC*3));e.moveTo(0,n*2),e.lineTo(-SC*n,-n),e.lineTo(SC*n,-n),e.closePath()}},Ni=-.5,ki=qo(3)/2,QO=1/qo(12),SAe=(QO/2+1)*3,NAe={draw(e,t){const n=qo(t/SAe),r=n/2,s=n*QO,i=r,o=n*QO+n,l=-i,c=o;e.moveTo(r,s),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Ni*r-ki*s,ki*r+Ni*s),e.lineTo(Ni*i-ki*o,ki*i+Ni*o),e.lineTo(Ni*l-ki*c,ki*l+Ni*c),e.lineTo(Ni*r+ki*s,Ni*s-ki*r),e.lineTo(Ni*i+ki*o,Ni*o-ki*i),e.lineTo(Ni*l+ki*c,Ni*c-ki*l),e.closePath()}};function kAe(e,t){let n=null,r=iI(s);e=typeof e=="function"?e:un(e||aI),t=typeof t=="function"?t:un(t===void 0?64:+t);function s(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:un(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:un(+i),s):t},s.context=function(i){return arguments.length?(n=i??null,s):n},s}function fS(){}function pS(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function BZ(e){this._context=e}BZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:pS(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:pS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function jAe(e){return new BZ(e)}function FZ(e){this._context=e}FZ.prototype={areaStart:fS,areaEnd:fS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:pS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _Ae(e){return new FZ(e)}function zZ(e){this._context=e}zZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:pS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function EAe(e){return new zZ(e)}function UZ(e){this._context=e}UZ.prototype={areaStart:fS,areaEnd:fS,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function CAe(e){return new UZ(e)}function mB(e){return e<0?-1:1}function gB(e,t,n){var r=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(r||s<0&&-0),o=(n-e._y1)/(s||r<0&&-0),l=(i*s+o*r)/(r+s);return(mB(i)+mB(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function yB(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function NC(e,t,n){var r=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-r)/3;e._context.bezierCurveTo(r+l,s+l*t,i-l,o-l*n,i,o)}function mS(e){this._context=e}mS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:NC(this,this._t0,yB(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,NC(this,yB(this,n=gB(this,e,t)),n);break;default:NC(this,this._t0,n=gB(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function HZ(e){this._context=new WZ(e)}(HZ.prototype=Object.create(mS.prototype)).point=function(e,t){mS.prototype.point.call(this,t,e)};function WZ(e){this._context=e}WZ.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,s,i){this._context.bezierCurveTo(t,e,r,n,i,s)}};function TAe(e){return new mS(e)}function AAe(e){return new HZ(e)}function VZ(e){this._context=e}VZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=xB(e),s=xB(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],s[0][i],r[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function xB(e){var t,n=e.length-1,r,s=new Array(n),i=new Array(n),o=new Array(n);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=s[t]/i[t-1],i[t]-=r,o[t]-=r*o[t-1];for(s[n-1]=o[n-1]/i[n-1],t=n-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[n-1]=(e[n]+s[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function OAe(e){return new VZ(e)}function Xj(e,t){this._context=e,this._t=t}Xj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function MAe(e){return new Xj(e,.5)}function PAe(e){return new Xj(e,0)}function DAe(e){return new Xj(e,1)}function Tp(e,t){if((o=e.length)>1)for(var n=1,r,s,i=e[t[0]],o,l=i.length;n<o;++n)for(s=i,i=e[t[n]],r=0;r<l;++r)i[r][1]+=i[r][0]=isNaN(s[r][1])?s[r][0]:s[r][1]}function ZO(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function RAe(e,t){return e[t]}function IAe(e){const t=[];return t.key=e,t}function LAe(){var e=un([]),t=ZO,n=Tp,r=RAe;function s(i){var o=Array.from(e.apply(this,arguments),IAe),l,c=o.length,u=-1,d;for(const h of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+r(h,o[l].key,u,i)]).data=h;for(l=0,d=oI(t(o));l<c;++l)o[d[l]].index=l;return n(o,d),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:un(Array.from(i)),s):e},s.value=function(i){return arguments.length?(r=typeof i=="function"?i:un(+i),s):r},s.order=function(i){return arguments.length?(t=i==null?ZO:typeof i=="function"?i:un(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(n=i??Tp,s):n},s}function $Ae(e,t){if((r=e.length)>0){for(var n,r,s=0,i=e[0].length,o;s<i;++s){for(o=n=0;n<r;++n)o+=e[n][s][1]||0;if(o)for(n=0;n<r;++n)e[n][s][1]/=o}Tp(e,t)}}function BAe(e,t){if((s=e.length)>0){for(var n=0,r=e[t[0]],s,i=r.length;n<i;++n){for(var o=0,l=0;o<s;++o)l+=e[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}Tp(e,t)}}function FAe(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var n=0,r=1,s,i,o;r<i;++r){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],h=d[r][1]||0,f=d[r-1][1]||0,p=(h-f)/2,m=0;m<l;++m){var g=e[t[m]],y=g[r][1]||0,x=g[r-1][1]||0;p+=y-x}c+=h,u+=p*h}s[r-1][1]+=s[r-1][0]=n,c&&(n-=u/c)}s[r-1][1]+=s[r-1][0]=n,Tp(e,t)}}function yx(e){"@babel/helpers - typeof";return yx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yx(e)}var zAe=["type","size","sizeType"];function e2(){return e2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e2.apply(this,arguments)}function vB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function bB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vB(Object(n),!0).forEach(function(r){UAe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UAe(e,t,n){return t=HAe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HAe(e){var t=WAe(e,"string");return yx(t)=="symbol"?t:t+""}function WAe(e,t){if(yx(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(yx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VAe(e,t){if(e==null)return{};var n=GAe(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function GAe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var GZ={symbolCircle:aI,symbolCross:fAe,symbolDiamond:mAe,symbolSquare:gAe,symbolStar:bAe,symbolTriangle:wAe,symbolWye:NAe},qAe=Math.PI/180,KAe=function(t){var n="symbol".concat(qj(t));return GZ[n]||aI},YAe=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*qAe;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},XAe=function(t,n){GZ["symbol".concat(qj(t))]=n},lI=function(t){var n=t.type,r=n===void 0?"circle":n,s=t.size,i=s===void 0?64:s,o=t.sizeType,l=o===void 0?"area":o,c=VAe(t,zAe),u=bB(bB({},c),{},{type:r,size:i,sizeType:l}),d=function(){var y=KAe(r),x=kAe().type(y).size(YAe(i,l,r));return x()},h=u.className,f=u.cx,p=u.cy,m=_t(u,!0);return f===+f&&p===+p&&i===+i?H.createElement("path",e2({},m,{className:Et("recharts-symbols",h),transform:"translate(".concat(f,", ").concat(p,")"),d:d()})):null};lI.registerSymbol=XAe;function Ap(e){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ap(e)}function t2(){return t2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t2.apply(this,arguments)}function wB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function JAe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wB(Object(n),!0).forEach(function(r){xx(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZAe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,KZ(r.key),r)}}function eOe(e,t,n){return t&&ZAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tOe(e,t,n){return t=gS(t),nOe(e,qZ()?Reflect.construct(t,n||[],gS(e).constructor):t.apply(e,n))}function nOe(e,t){if(t&&(Ap(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rOe(e)}function rOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qZ=function(){return!!e})()}function gS(e){return gS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gS(e)}function sOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n2(e,t)}function n2(e,t){return n2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},n2(e,t)}function xx(e,t,n){return t=KZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KZ(e){var t=iOe(e,"string");return Ap(t)=="symbol"?t:t+""}function iOe(e,t){if(Ap(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ap(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ji=32,cI=function(e){function t(){return QAe(this,t),tOe(this,t,arguments)}return sOe(t,e),eOe(t,[{key:"renderIcon",value:function(r){var s=this.props.inactiveColor,i=ji/2,o=ji/6,l=ji/3,c=r.inactive?s:r.color;if(r.type==="plainline")return H.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:i,x2:ji,y2:i,className:"recharts-legend-icon"});if(r.type==="line")return H.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(ji,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(r.type==="rect")return H.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ji/8,"h").concat(ji,"v").concat(ji*3/4,"h").concat(-ji,"z"),className:"recharts-legend-icon"});if(H.isValidElement(r.legendIcon)){var u=JAe({},r);return delete u.legendIcon,H.cloneElement(r.legendIcon,u)}return H.createElement(lI,{fill:c,cx:i,cy:i,size:ji,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,s=this.props,i=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,d={x:0,y:0,width:ji,height:ji},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,m){var g=p.formatter||c,y=Et(xx(xx({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var x=ht(p.value)?null:p.value;pl(!ht(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?u:p.color;return H.createElement("li",t2({className:y,style:h,key:"legend-item-".concat(m)},uS(r.props,p,m)),H.createElement(GO,{width:o,height:o,viewBox:d,style:f},r.renderIcon(p)),H.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},g?g(x,p,m):x))})}},{key:"render",value:function(){var r=this.props,s=r.payload,i=r.layout,o=r.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return H.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(v.PureComponent);xx(cI,"displayName","Legend");xx(cI,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var oOe=Dj;function aOe(){this.__data__=new oOe,this.size=0}var lOe=aOe;function cOe(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var uOe=cOe;function dOe(e){return this.__data__.get(e)}var hOe=dOe;function fOe(e){return this.__data__.has(e)}var pOe=fOe,mOe=Dj,gOe=XR,yOe=JR,xOe=200;function vOe(e,t){var n=this.__data__;if(n instanceof mOe){var r=n.__data__;if(!gOe||r.length<xOe-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new yOe(r)}return n.set(e,t),this.size=n.size,this}var bOe=vOe,wOe=Dj,SOe=lOe,NOe=uOe,kOe=hOe,jOe=pOe,_Oe=bOe;function Tm(e){var t=this.__data__=new wOe(e);this.size=t.size}Tm.prototype.clear=SOe;Tm.prototype.delete=NOe;Tm.prototype.get=kOe;Tm.prototype.has=jOe;Tm.prototype.set=_Oe;var YZ=Tm,EOe="__lodash_hash_undefined__";function COe(e){return this.__data__.set(e,EOe),this}var TOe=COe;function AOe(e){return this.__data__.has(e)}var OOe=AOe,MOe=JR,POe=TOe,DOe=OOe;function yS(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new MOe;++t<n;)this.add(e[t])}yS.prototype.add=yS.prototype.push=POe;yS.prototype.has=DOe;var XZ=yS;function ROe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var JZ=ROe;function IOe(e,t){return e.has(t)}var QZ=IOe,LOe=XZ,$Oe=JZ,BOe=QZ,FOe=1,zOe=2;function UOe(e,t,n,r,s,i){var o=n&FOe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var h=-1,f=!0,p=n&zOe?new LOe:void 0;for(i.set(e,t),i.set(t,e);++h<l;){var m=e[h],g=t[h];if(r)var y=o?r(g,m,h,t,e,i):r(m,g,h,e,t,i);if(y!==void 0){if(y)continue;f=!1;break}if(p){if(!$Oe(t,function(x,b){if(!BOe(p,b)&&(m===x||s(m,x,n,r,i)))return p.push(b)})){f=!1;break}}else if(!(m===g||s(m,g,n,r,i))){f=!1;break}}return i.delete(e),i.delete(t),f}var ZZ=UOe,HOe=Ma,WOe=HOe.Uint8Array,VOe=WOe;function GOe(e){var t=-1,n=Array(e.size);return e.forEach(function(r,s){n[++t]=[s,r]}),n}var qOe=GOe;function KOe(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var uI=KOe,SB=f0,NB=VOe,YOe=YR,XOe=ZZ,JOe=qOe,QOe=uI,ZOe=1,e2e=2,t2e="[object Boolean]",n2e="[object Date]",r2e="[object Error]",s2e="[object Map]",i2e="[object Number]",o2e="[object RegExp]",a2e="[object Set]",l2e="[object String]",c2e="[object Symbol]",u2e="[object ArrayBuffer]",d2e="[object DataView]",kB=SB?SB.prototype:void 0,kC=kB?kB.valueOf:void 0;function h2e(e,t,n,r,s,i,o){switch(n){case d2e:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case u2e:return!(e.byteLength!=t.byteLength||!i(new NB(e),new NB(t)));case t2e:case n2e:case i2e:return YOe(+e,+t);case r2e:return e.name==t.name&&e.message==t.message;case o2e:case l2e:return e==t+"";case s2e:var l=JOe;case a2e:var c=r&ZOe;if(l||(l=QOe),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;r|=e2e,o.set(e,t);var d=XOe(l(e),l(t),r,s,i,o);return o.delete(e),d;case c2e:if(kC)return kC.call(e)==kC.call(t)}return!1}var f2e=h2e;function p2e(e,t){for(var n=-1,r=t.length,s=e.length;++n<r;)e[s+n]=t[n];return e}var eee=p2e,m2e=eee,g2e=Xs;function y2e(e,t,n){var r=t(e);return g2e(e)?r:m2e(r,n(e))}var x2e=y2e;function v2e(e,t){for(var n=-1,r=e==null?0:e.length,s=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[s++]=o)}return i}var b2e=v2e;function w2e(){return[]}var S2e=w2e,N2e=b2e,k2e=S2e,j2e=Object.prototype,_2e=j2e.propertyIsEnumerable,jB=Object.getOwnPropertySymbols,E2e=jB?function(e){return e==null?[]:(e=Object(e),N2e(jB(e),function(t){return _2e.call(e,t)}))}:k2e,C2e=E2e;function T2e(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var A2e=T2e,O2e=Dl,M2e=Rl,P2e="[object Arguments]";function D2e(e){return M2e(e)&&O2e(e)==P2e}var R2e=D2e,_B=R2e,I2e=Rl,tee=Object.prototype,L2e=tee.hasOwnProperty,$2e=tee.propertyIsEnumerable,B2e=_B(function(){return arguments}())?_B:function(e){return I2e(e)&&L2e.call(e,"callee")&&!$2e.call(e,"callee")},dI=B2e,xS={exports:{}};function F2e(){return!1}var z2e=F2e;xS.exports;(function(e,t){var n=Ma,r=z2e,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||r;e.exports=u})(xS,xS.exports);var nee=xS.exports,U2e=9007199254740991,H2e=/^(?:0|[1-9]\d*)$/;function W2e(e,t){var n=typeof e;return t=t??U2e,!!t&&(n=="number"||n!="symbol"&&H2e.test(e))&&e>-1&&e%1==0&&e<t}var hI=W2e,V2e=9007199254740991;function G2e(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=V2e}var fI=G2e,q2e=Dl,K2e=fI,Y2e=Rl,X2e="[object Arguments]",J2e="[object Array]",Q2e="[object Boolean]",Z2e="[object Date]",eMe="[object Error]",tMe="[object Function]",nMe="[object Map]",rMe="[object Number]",sMe="[object Object]",iMe="[object RegExp]",oMe="[object Set]",aMe="[object String]",lMe="[object WeakMap]",cMe="[object ArrayBuffer]",uMe="[object DataView]",dMe="[object Float32Array]",hMe="[object Float64Array]",fMe="[object Int8Array]",pMe="[object Int16Array]",mMe="[object Int32Array]",gMe="[object Uint8Array]",yMe="[object Uint8ClampedArray]",xMe="[object Uint16Array]",vMe="[object Uint32Array]",gn={};gn[dMe]=gn[hMe]=gn[fMe]=gn[pMe]=gn[mMe]=gn[gMe]=gn[yMe]=gn[xMe]=gn[vMe]=!0;gn[X2e]=gn[J2e]=gn[cMe]=gn[Q2e]=gn[uMe]=gn[Z2e]=gn[eMe]=gn[tMe]=gn[nMe]=gn[rMe]=gn[sMe]=gn[iMe]=gn[oMe]=gn[aMe]=gn[lMe]=!1;function bMe(e){return Y2e(e)&&K2e(e.length)&&!!gn[q2e(e)]}var wMe=bMe;function SMe(e){return function(t){return e(t)}}var ree=SMe,vS={exports:{}};vS.exports;(function(e,t){var n=dZ,r=t&&!t.nodeType&&t,s=r&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===r,o=i&&n.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(vS,vS.exports);var NMe=vS.exports,kMe=wMe,jMe=ree,EB=NMe,CB=EB&&EB.isTypedArray,_Me=CB?jMe(CB):kMe,see=_Me,EMe=A2e,CMe=dI,TMe=Xs,AMe=nee,OMe=hI,MMe=see,PMe=Object.prototype,DMe=PMe.hasOwnProperty;function RMe(e,t){var n=TMe(e),r=!n&&CMe(e),s=!n&&!r&&AMe(e),i=!n&&!r&&!s&&MMe(e),o=n||r||s||i,l=o?EMe(e.length,String):[],c=l.length;for(var u in e)(t||DMe.call(e,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||OMe(u,c)))&&l.push(u);return l}var IMe=RMe,LMe=Object.prototype;function $Me(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||LMe;return e===n}var BMe=$Me;function FMe(e,t){return function(n){return e(t(n))}}var iee=FMe,zMe=iee,UMe=zMe(Object.keys,Object),HMe=UMe,WMe=BMe,VMe=HMe,GMe=Object.prototype,qMe=GMe.hasOwnProperty;function KMe(e){if(!WMe(e))return VMe(e);var t=[];for(var n in Object(e))qMe.call(e,n)&&n!="constructor"&&t.push(n);return t}var YMe=KMe,XMe=KR,JMe=fI;function QMe(e){return e!=null&&JMe(e.length)&&!XMe(e)}var g0=QMe,ZMe=IMe,ePe=YMe,tPe=g0;function nPe(e){return tPe(e)?ZMe(e):ePe(e)}var Jj=nPe,rPe=x2e,sPe=C2e,iPe=Jj;function oPe(e){return rPe(e,iPe,sPe)}var aPe=oPe,TB=aPe,lPe=1,cPe=Object.prototype,uPe=cPe.hasOwnProperty;function dPe(e,t,n,r,s,i){var o=n&lPe,l=TB(e),c=l.length,u=TB(t),d=u.length;if(c!=d&&!o)return!1;for(var h=c;h--;){var f=l[h];if(!(o?f in t:uPe.call(t,f)))return!1}var p=i.get(e),m=i.get(t);if(p&&m)return p==t&&m==e;var g=!0;i.set(e,t),i.set(t,e);for(var y=o;++h<c;){f=l[h];var x=e[f],b=t[f];if(r)var w=o?r(b,x,f,t,e,i):r(x,b,f,e,t,i);if(!(w===void 0?x===b||s(x,b,n,r,i):w)){g=!1;break}y||(y=f=="constructor")}if(g&&!y){var N=e.constructor,S=t.constructor;N!=S&&"constructor"in e&&"constructor"in t&&!(typeof N=="function"&&N instanceof N&&typeof S=="function"&&S instanceof S)&&(g=!1)}return i.delete(e),i.delete(t),g}var hPe=dPe,fPe=ph,pPe=Ma,mPe=fPe(pPe,"DataView"),gPe=mPe,yPe=ph,xPe=Ma,vPe=yPe(xPe,"Promise"),bPe=vPe,wPe=ph,SPe=Ma,NPe=wPe(SPe,"Set"),oee=NPe,kPe=ph,jPe=Ma,_Pe=kPe(jPe,"WeakMap"),EPe=_Pe,r2=gPe,s2=XR,i2=bPe,o2=oee,a2=EPe,aee=Dl,Am=fZ,AB="[object Map]",CPe="[object Object]",OB="[object Promise]",MB="[object Set]",PB="[object WeakMap]",DB="[object DataView]",TPe=Am(r2),APe=Am(s2),OPe=Am(i2),MPe=Am(o2),PPe=Am(a2),$u=aee;(r2&&$u(new r2(new ArrayBuffer(1)))!=DB||s2&&$u(new s2)!=AB||i2&&$u(i2.resolve())!=OB||o2&&$u(new o2)!=MB||a2&&$u(new a2)!=PB)&&($u=function(e){var t=aee(e),n=t==CPe?e.constructor:void 0,r=n?Am(n):"";if(r)switch(r){case TPe:return DB;case APe:return AB;case OPe:return OB;case MPe:return MB;case PPe:return PB}return t});var DPe=$u,jC=YZ,RPe=ZZ,IPe=f2e,LPe=hPe,RB=DPe,IB=Xs,LB=nee,$Pe=see,BPe=1,$B="[object Arguments]",BB="[object Array]",kb="[object Object]",FPe=Object.prototype,FB=FPe.hasOwnProperty;function zPe(e,t,n,r,s,i){var o=IB(e),l=IB(t),c=o?BB:RB(e),u=l?BB:RB(t);c=c==$B?kb:c,u=u==$B?kb:u;var d=c==kb,h=u==kb,f=c==u;if(f&&LB(e)){if(!LB(t))return!1;o=!0,d=!1}if(f&&!d)return i||(i=new jC),o||$Pe(e)?RPe(e,t,n,r,s,i):IPe(e,t,c,n,r,s,i);if(!(n&BPe)){var p=d&&FB.call(e,"__wrapped__"),m=h&&FB.call(t,"__wrapped__");if(p||m){var g=p?e.value():e,y=m?t.value():t;return i||(i=new jC),s(g,y,n,r,i)}}return f?(i||(i=new jC),LPe(e,t,n,r,s,i)):!1}var UPe=zPe,HPe=UPe,zB=Rl;function lee(e,t,n,r,s){return e===t?!0:e==null||t==null||!zB(e)&&!zB(t)?e!==e&&t!==t:HPe(e,t,n,r,lee,s)}var pI=lee,WPe=YZ,VPe=pI,GPe=1,qPe=2;function KPe(e,t,n,r){var s=n.length,i=s,o=!r;if(e==null)return!i;for(e=Object(e);s--;){var l=n[s];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<i;){l=n[s];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var h=new WPe;if(r)var f=r(u,d,c,e,t,h);if(!(f===void 0?VPe(d,u,GPe|qPe,r,h):f))return!1}}return!0}var YPe=KPe,XPe=xu;function JPe(e){return e===e&&!XPe(e)}var cee=JPe,QPe=cee,ZPe=Jj;function eDe(e){for(var t=ZPe(e),n=t.length;n--;){var r=t[n],s=e[r];t[n]=[r,s,QPe(s)]}return t}var tDe=eDe;function nDe(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var uee=nDe,rDe=YPe,sDe=tDe,iDe=uee;function oDe(e){var t=sDe(e);return t.length==1&&t[0][2]?iDe(t[0][0],t[0][1]):function(n){return n===e||rDe(n,e,t)}}var aDe=oDe;function lDe(e,t){return e!=null&&t in Object(e)}var cDe=lDe,uDe=xZ,dDe=dI,hDe=Xs,fDe=hI,pDe=fI,mDe=Ij;function gDe(e,t,n){t=uDe(t,e);for(var r=-1,s=t.length,i=!1;++r<s;){var o=mDe(t[r]);if(!(i=e!=null&&n(e,o)))break;e=e[o]}return i||++r!=s?i:(s=e==null?0:e.length,!!s&&pDe(s)&&fDe(o,s)&&(hDe(e)||dDe(e)))}var yDe=gDe,xDe=cDe,vDe=yDe;function bDe(e,t){return e!=null&&vDe(e,t,xDe)}var wDe=bDe,SDe=pI,NDe=vZ,kDe=wDe,jDe=qR,_De=cee,EDe=uee,CDe=Ij,TDe=1,ADe=2;function ODe(e,t){return jDe(e)&&_De(t)?EDe(CDe(e),t):function(n){var r=NDe(n,e);return r===void 0&&r===t?kDe(n,e):SDe(t,r,TDe|ADe)}}var MDe=ODe;function PDe(e){return e}var Om=PDe;function DDe(e){return function(t){return t==null?void 0:t[e]}}var RDe=DDe,IDe=eI;function LDe(e){return function(t){return IDe(t,e)}}var $De=LDe,BDe=RDe,FDe=$De,zDe=qR,UDe=Ij;function HDe(e){return zDe(e)?BDe(UDe(e)):FDe(e)}var WDe=HDe,VDe=aDe,GDe=MDe,qDe=Om,KDe=Xs,YDe=WDe;function XDe(e){return typeof e=="function"?e:e==null?qDe:typeof e=="object"?KDe(e)?GDe(e[0],e[1]):VDe(e):YDe(e)}var vu=XDe;function JDe(e,t,n,r){for(var s=e.length,i=n+(r?1:-1);r?i--:++i<s;)if(t(e[i],i,e))return i;return-1}var dee=JDe;function QDe(e){return e!==e}var ZDe=QDe;function eRe(e,t,n){for(var r=n-1,s=e.length;++r<s;)if(e[r]===t)return r;return-1}var tRe=eRe,nRe=dee,rRe=ZDe,sRe=tRe;function iRe(e,t,n){return t===t?sRe(e,t,n):nRe(e,rRe,n)}var oRe=iRe,aRe=oRe;function lRe(e,t){var n=e==null?0:e.length;return!!n&&aRe(e,t,0)>-1}var cRe=lRe;function uRe(e,t,n){for(var r=-1,s=e==null?0:e.length;++r<s;)if(n(t,e[r]))return!0;return!1}var dRe=uRe;function hRe(){}var fRe=hRe,_C=oee,pRe=fRe,mRe=uI,gRe=1/0,yRe=_C&&1/mRe(new _C([,-0]))[1]==gRe?function(e){return new _C(e)}:pRe,xRe=yRe,vRe=XZ,bRe=cRe,wRe=dRe,SRe=QZ,NRe=xRe,kRe=uI,jRe=200;function _Re(e,t,n){var r=-1,s=bRe,i=e.length,o=!0,l=[],c=l;if(n)o=!1,s=wRe;else if(i>=jRe){var u=t?null:NRe(e);if(u)return kRe(u);o=!1,s=SRe,c=new vRe}else c=t?[]:l;e:for(;++r<i;){var d=e[r],h=t?t(d):d;if(d=n||d!==0?d:0,o&&h===h){for(var f=c.length;f--;)if(c[f]===h)continue e;t&&c.push(h),l.push(d)}else s(c,h,n)||(c!==l&&c.push(h),l.push(d))}return l}var ERe=_Re,CRe=vu,TRe=ERe;function ARe(e,t){return e&&e.length?TRe(e,CRe(t)):[]}var ORe=ARe;const UB=Dt(ORe);function hee(e,t,n){return t===!0?UB(e,n):ht(t)?UB(e,t):e}function Op(e){"@babel/helpers - typeof";return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Op(e)}var MRe=["ref"];function HB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Ba(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HB(Object(n),!0).forEach(function(r){Qj(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pee(r.key),r)}}function DRe(e,t,n){return t&&WB(e.prototype,t),n&&WB(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function RRe(e,t,n){return t=bS(t),IRe(e,fee()?Reflect.construct(t,n||[],bS(e).constructor):t.apply(e,n))}function IRe(e,t){if(t&&(Op(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LRe(e)}function LRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fee(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fee=function(){return!!e})()}function bS(e){return bS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bS(e)}function $Re(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l2(e,t)}function l2(e,t){return l2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},l2(e,t)}function Qj(e,t,n){return t=pee(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pee(e){var t=BRe(e,"string");return Op(t)=="symbol"?t:t+""}function BRe(e,t){if(Op(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Op(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function FRe(e,t){if(e==null)return{};var n=zRe(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function zRe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function URe(e){return e.value}function HRe(e,t){if(H.isValidElement(e))return H.cloneElement(e,t);if(typeof e=="function")return H.createElement(e,t);t.ref;var n=FRe(t,MRe);return H.createElement(cI,n)}var VB=1,Hf=function(e){function t(){var n;PRe(this,t);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=RRe(this,t,[].concat(s)),Qj(n,"lastBoundingBox",{width:-1,height:-1}),n}return $Re(t,e),DRe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>VB||Math.abs(s.height-this.lastBoundingBox.height)>VB)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,r&&r(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ba({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var s=this.props,i=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,d=s.chartHeight,h,f;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();h={left:((u||0)-p.width)/2}}else h=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var m=this.getBBoxSnapshot();f={top:((d||0)-m.height)/2}}else f=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Ba(Ba({},h),f)}},{key:"render",value:function(){var r=this,s=this.props,i=s.content,o=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,d=s.payload,h=Ba(Ba({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return H.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(p){r.wrapperNode=p}},HRe(i,Ba(Ba({},this.props),{},{payload:hee(d,u,URe)})))}}],[{key:"getWithHeight",value:function(r,s){var i=Ba(Ba({},this.defaultProps),r.props),o=i.layout;return o==="vertical"&&ke(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||s}:null}}])}(v.PureComponent);Qj(Hf,"displayName","Legend");Qj(Hf,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var GB=f0,WRe=dI,VRe=Xs,qB=GB?GB.isConcatSpreadable:void 0;function GRe(e){return VRe(e)||WRe(e)||!!(qB&&e&&e[qB])}var qRe=GRe,KRe=eee,YRe=qRe;function mee(e,t,n,r,s){var i=-1,o=e.length;for(n||(n=YRe),s||(s=[]);++i<o;){var l=e[i];t>0&&n(l)?t>1?mee(l,t-1,n,r,s):KRe(s,l):r||(s[s.length]=l)}return s}var gee=mee;function XRe(e){return function(t,n,r){for(var s=-1,i=Object(t),o=r(t),l=o.length;l--;){var c=o[e?l:++s];if(n(i[c],c,i)===!1)break}return t}}var JRe=XRe,QRe=JRe,ZRe=QRe(),eIe=ZRe,tIe=eIe,nIe=Jj;function rIe(e,t){return e&&tIe(e,t,nIe)}var yee=rIe,sIe=g0;function iIe(e,t){return function(n,r){if(n==null)return n;if(!sIe(n))return e(n,r);for(var s=n.length,i=t?s:-1,o=Object(n);(t?i--:++i<s)&&r(o[i],i,o)!==!1;);return n}}var oIe=iIe,aIe=yee,lIe=oIe,cIe=lIe(aIe),mI=cIe,uIe=mI,dIe=g0;function hIe(e,t){var n=-1,r=dIe(e)?Array(e.length):[];return uIe(e,function(s,i,o){r[++n]=t(s,i,o)}),r}var xee=hIe;function fIe(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var pIe=fIe,KB=km;function mIe(e,t){if(e!==t){var n=e!==void 0,r=e===null,s=e===e,i=KB(e),o=t!==void 0,l=t===null,c=t===t,u=KB(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||r&&o&&c||!n&&c||!s)return 1;if(!r&&!i&&!u&&e<t||u&&n&&s&&!r&&!i||l&&n&&s||!o&&s||!c)return-1}return 0}var gIe=mIe,yIe=gIe;function xIe(e,t,n){for(var r=-1,s=e.criteria,i=t.criteria,o=s.length,l=n.length;++r<o;){var c=yIe(s[r],i[r]);if(c){if(r>=l)return c;var u=n[r];return c*(u=="desc"?-1:1)}}return e.index-t.index}var vIe=xIe,EC=ZR,bIe=eI,wIe=vu,SIe=xee,NIe=pIe,kIe=ree,jIe=vIe,_Ie=Om,EIe=Xs;function CIe(e,t,n){t.length?t=EC(t,function(i){return EIe(i)?function(o){return bIe(o,i.length===1?i[0]:i)}:i}):t=[_Ie];var r=-1;t=EC(t,kIe(wIe));var s=SIe(e,function(i,o,l){var c=EC(t,function(u){return u(i)});return{criteria:c,index:++r,value:i}});return NIe(s,function(i,o){return jIe(i,o,n)})}var TIe=CIe;function AIe(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var OIe=AIe,MIe=OIe,YB=Math.max;function PIe(e,t,n){return t=YB(t===void 0?e.length-1:t,0),function(){for(var r=arguments,s=-1,i=YB(r.length-t,0),o=Array(i);++s<i;)o[s]=r[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=r[s];return l[t]=n(o),MIe(e,this,l)}}var DIe=PIe;function RIe(e){return function(){return e}}var IIe=RIe,LIe=ph,$Ie=function(){try{var e=LIe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),vee=$Ie,BIe=IIe,XB=vee,FIe=Om,zIe=XB?function(e,t){return XB(e,"toString",{configurable:!0,enumerable:!1,value:BIe(t),writable:!0})}:FIe,UIe=zIe,HIe=800,WIe=16,VIe=Date.now;function GIe(e){var t=0,n=0;return function(){var r=VIe(),s=WIe-(r-n);if(n=r,s>0){if(++t>=HIe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var qIe=GIe,KIe=UIe,YIe=qIe,XIe=YIe(KIe),JIe=XIe,QIe=Om,ZIe=DIe,eLe=JIe;function tLe(e,t){return eLe(ZIe(e,t,QIe),e+"")}var nLe=tLe,rLe=YR,sLe=g0,iLe=hI,oLe=xu;function aLe(e,t,n){if(!oLe(n))return!1;var r=typeof t;return(r=="number"?sLe(n)&&iLe(t,n.length):r=="string"&&t in n)?rLe(n[t],e):!1}var Zj=aLe,lLe=gee,cLe=TIe,uLe=nLe,JB=Zj,dLe=uLe(function(e,t){if(e==null)return[];var n=t.length;return n>1&&JB(e,t[0],t[1])?t=[]:n>2&&JB(t[0],t[1],t[2])&&(t=[t[0]]),cLe(e,lLe(t,1),[])}),hLe=dLe;const gI=Dt(hLe);function vx(e){"@babel/helpers - typeof";return vx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vx(e)}function c2(){return c2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c2.apply(this,arguments)}function fLe(e,t){return yLe(e)||gLe(e,t)||mLe(e,t)||pLe()}function pLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mLe(e,t){if(e){if(typeof e=="string")return QB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QB(e,t)}}function QB(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gLe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function yLe(e){if(Array.isArray(e))return e}function ZB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function CC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZB(Object(n),!0).forEach(function(r){xLe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xLe(e,t,n){return t=vLe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vLe(e){var t=bLe(e,"string");return vx(t)=="symbol"?t:t+""}function bLe(e,t){if(vx(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(vx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wLe(e){return Array.isArray(e)&&vr(e[0])&&vr(e[1])?e.join(" ~ "):e}var SLe=function(t){var n=t.separator,r=n===void 0?" : ":n,s=t.contentStyle,i=s===void 0?{}:s,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,h=t.formatter,f=t.itemSorter,p=t.wrapperClassName,m=t.labelClassName,g=t.label,y=t.labelFormatter,x=t.accessibilityLayer,b=x===void 0?!1:x,w=function(){if(d&&d.length){var M={padding:0,margin:0},P=(f?gI(d,f):d).map(function(E,I){if(E.type==="none")return null;var T=CC({display:"block",paddingTop:4,paddingBottom:4,color:E.color||"#000"},l),R=E.formatter||h||wLe,L=E.value,D=E.name,F=L,z=D;if(R&&F!=null&&z!=null){var B=R(L,D,E,I,d);if(Array.isArray(B)){var $=fLe(B,2);F=$[0],z=$[1]}else F=B}return H.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:T},vr(z)?H.createElement("span",{className:"recharts-tooltip-item-name"},z):null,vr(z)?H.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,H.createElement("span",{className:"recharts-tooltip-item-value"},F),H.createElement("span",{className:"recharts-tooltip-item-unit"},E.unit||""))});return H.createElement("ul",{className:"recharts-tooltip-item-list",style:M},P)}return null},N=CC({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),S=CC({margin:0},u),k=!vt(g),j=k?g:"",_=Et("recharts-default-tooltip",p),C=Et("recharts-tooltip-label",m);k&&y&&d!==void 0&&d!==null&&(j=y(g,d));var A=b?{role:"status","aria-live":"assertive"}:{};return H.createElement("div",c2({className:_,style:N},A),H.createElement("p",{className:C,style:S},H.isValidElement(j)?j:"".concat(j)),w())};function bx(e){"@babel/helpers - typeof";return bx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bx(e)}function jb(e,t,n){return t=NLe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NLe(e){var t=kLe(e,"string");return bx(t)=="symbol"?t:t+""}function kLe(e,t){if(bx(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(bx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sg="recharts-tooltip-wrapper",jLe={visibility:"hidden"};function _Le(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return Et(sg,jb(jb(jb(jb({},"".concat(sg,"-right"),ke(n)&&t&&ke(t.x)&&n>=t.x),"".concat(sg,"-left"),ke(n)&&t&&ke(t.x)&&n<t.x),"".concat(sg,"-bottom"),ke(r)&&t&&ke(t.y)&&r>=t.y),"".concat(sg,"-top"),ke(r)&&t&&ke(t.y)&&r<t.y))}function eF(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,s=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&ke(i[r]))return i[r];var d=n[r]-l-s,h=n[r]+s;if(t[r])return o[r]?d:h;if(o[r]){var f=d,p=c[r];return f<p?Math.max(h,c[r]):Math.max(d,c[r])}var m=h+l,g=c[r]+u;return m>g?Math.max(d,c[r]):Math.max(h,c[r])}function ELe(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function CLe(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,s=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,h;return o.height>0&&o.width>0&&n?(d=eF({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=eF({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=ELe({translateX:d,translateY:h,useTranslate3d:l})):u=jLe,{cssProperties:u,cssClasses:_Le({translateX:d,translateY:h,coordinate:n})}}function Mp(e){"@babel/helpers - typeof";return Mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mp(e)}function tF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function nF(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tF(Object(n),!0).forEach(function(r){d2(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ALe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wee(r.key),r)}}function OLe(e,t,n){return t&&ALe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function MLe(e,t,n){return t=wS(t),PLe(e,bee()?Reflect.construct(t,n||[],wS(e).constructor):t.apply(e,n))}function PLe(e,t){if(t&&(Mp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DLe(e)}function DLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bee(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bee=function(){return!!e})()}function wS(e){return wS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wS(e)}function RLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u2(e,t)}function u2(e,t){return u2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},u2(e,t)}function d2(e,t,n){return t=wee(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wee(e){var t=ILe(e,"string");return Mp(t)=="symbol"?t:t+""}function ILe(e,t){if(Mp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Mp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var rF=1,LLe=function(e){function t(){var n;TLe(this,t);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=MLe(this,t,[].concat(s)),d2(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),d2(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return RLe(t,e),OLe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>rF||Math.abs(r.height-this.state.lastBoundingBox.height)>rF)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,d=s.coordinate,h=s.hasPayload,f=s.isAnimationActive,p=s.offset,m=s.position,g=s.reverseDirection,y=s.useTranslate3d,x=s.viewBox,b=s.wrapperStyle,w=CLe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:m,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:x}),N=w.cssClasses,S=w.cssProperties,k=nF(nF({transition:f&&i?"transform ".concat(l,"ms ").concat(c):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&h?"visible":"hidden",position:"absolute",top:0,left:0},b);return H.createElement("div",{tabIndex:-1,className:N,style:k,ref:function(_){r.wrapperNode=_}},u)}}])}(v.PureComponent),$Le=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Mm={isSsr:$Le()};function Pp(e){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pp(e)}function sF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function iF(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sF(Object(n),!0).forEach(function(r){yI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FLe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Nee(r.key),r)}}function zLe(e,t,n){return t&&FLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ULe(e,t,n){return t=SS(t),HLe(e,See()?Reflect.construct(t,n||[],SS(e).constructor):t.apply(e,n))}function HLe(e,t){if(t&&(Pp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WLe(e)}function WLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function See(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(See=function(){return!!e})()}function SS(e){return SS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},SS(e)}function VLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h2(e,t)}function h2(e,t){return h2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},h2(e,t)}function yI(e,t,n){return t=Nee(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nee(e){var t=GLe(e,"string");return Pp(t)=="symbol"?t:t+""}function GLe(e,t){if(Pp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Pp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function qLe(e){return e.dataKey}function KLe(e,t){return H.isValidElement(e)?H.cloneElement(e,t):typeof e=="function"?H.createElement(e,t):H.createElement(SLe,t)}var xo=function(e){function t(){return BLe(this,t),ULe(this,t,arguments)}return VLe(t,e),zLe(t,[{key:"render",value:function(){var r=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,d=s.coordinate,h=s.filterNull,f=s.isAnimationActive,p=s.offset,m=s.payload,g=s.payloadUniqBy,y=s.position,x=s.reverseDirection,b=s.useTranslate3d,w=s.viewBox,N=s.wrapperStyle,S=m??[];h&&S.length&&(S=hee(m.filter(function(j){return j.value!=null&&(j.hide!==!0||r.props.includeHidden)}),g,qLe));var k=S.length>0;return H.createElement(LLe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:f,active:i,coordinate:d,hasPayload:k,offset:p,position:y,reverseDirection:x,useTranslate3d:b,viewBox:w,wrapperStyle:N},KLe(u,iF(iF({},this.props),{},{payload:S})))}}])}(v.PureComponent);yI(xo,"displayName","Tooltip");yI(xo,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Mm.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var YLe=Ma,XLe=function(){return YLe.Date.now()},JLe=XLe,QLe=/\s/;function ZLe(e){for(var t=e.length;t--&&QLe.test(e.charAt(t)););return t}var e$e=ZLe,t$e=e$e,n$e=/^\s+/;function r$e(e){return e&&e.slice(0,t$e(e)+1).replace(n$e,"")}var s$e=r$e,i$e=s$e,oF=xu,o$e=km,aF=NaN,a$e=/^[-+]0x[0-9a-f]+$/i,l$e=/^0b[01]+$/i,c$e=/^0o[0-7]+$/i,u$e=parseInt;function d$e(e){if(typeof e=="number")return e;if(o$e(e))return aF;if(oF(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=oF(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=i$e(e);var n=l$e.test(e);return n||c$e.test(e)?u$e(e.slice(2),n?2:8):a$e.test(e)?aF:+e}var kee=d$e,h$e=xu,TC=JLe,lF=kee,f$e="Expected a function",p$e=Math.max,m$e=Math.min;function g$e(e,t,n){var r,s,i,o,l,c,u=0,d=!1,h=!1,f=!0;if(typeof e!="function")throw new TypeError(f$e);t=lF(t)||0,h$e(n)&&(d=!!n.leading,h="maxWait"in n,i=h?p$e(lF(n.maxWait)||0,t):i,f="trailing"in n?!!n.trailing:f);function p(k){var j=r,_=s;return r=s=void 0,u=k,o=e.apply(_,j),o}function m(k){return u=k,l=setTimeout(x,t),d?p(k):o}function g(k){var j=k-c,_=k-u,C=t-j;return h?m$e(C,i-_):C}function y(k){var j=k-c,_=k-u;return c===void 0||j>=t||j<0||h&&_>=i}function x(){var k=TC();if(y(k))return b(k);l=setTimeout(x,g(k))}function b(k){return l=void 0,f&&r?p(k):(r=s=void 0,o)}function w(){l!==void 0&&clearTimeout(l),u=0,r=c=s=l=void 0}function N(){return l===void 0?o:b(TC())}function S(){var k=TC(),j=y(k);if(r=arguments,s=this,c=k,j){if(l===void 0)return m(c);if(h)return clearTimeout(l),l=setTimeout(x,t),p(c)}return l===void 0&&(l=setTimeout(x,t)),o}return S.cancel=w,S.flush=N,S}var y$e=g$e,x$e=y$e,v$e=xu,b$e="Expected a function";function w$e(e,t,n){var r=!0,s=!0;if(typeof e!="function")throw new TypeError(b$e);return v$e(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),x$e(e,t,{leading:r,maxWait:t,trailing:s})}var S$e=w$e;const jee=Dt(S$e);function wx(e){"@babel/helpers - typeof";return wx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wx(e)}function cF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function _b(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cF(Object(n),!0).forEach(function(r){N$e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function N$e(e,t,n){return t=k$e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k$e(e){var t=j$e(e,"string");return wx(t)=="symbol"?t:t+""}function j$e(e,t){if(wx(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(wx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _$e(e,t){return A$e(e)||T$e(e,t)||C$e(e,t)||E$e()}function E$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C$e(e,t){if(e){if(typeof e=="string")return uF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uF(e,t)}}function uF(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T$e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function A$e(e){if(Array.isArray(e))return e}var dF=v.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,s=r===void 0?{width:-1,height:-1}:r,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,h=e.minHeight,f=e.maxHeight,p=e.children,m=e.debounce,g=m===void 0?0:m,y=e.id,x=e.className,b=e.onResize,w=e.style,N=w===void 0?{}:w,S=v.useRef(null),k=v.useRef();k.current=b,v.useImperativeHandle(t,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var j=v.useState({containerWidth:s.width,containerHeight:s.height}),_=_$e(j,2),C=_[0],A=_[1],O=v.useCallback(function(P,E){A(function(I){var T=Math.round(P),R=Math.round(E);return I.containerWidth===T&&I.containerHeight===R?I:{containerWidth:T,containerHeight:R}})},[]);v.useEffect(function(){var P=function(D){var F,z=D[0].contentRect,B=z.width,$=z.height;O(B,$),(F=k.current)===null||F===void 0||F.call(k,B,$)};g>0&&(P=jee(P,g,{trailing:!0,leading:!1}));var E=new ResizeObserver(P),I=S.current.getBoundingClientRect(),T=I.width,R=I.height;return O(T,R),E.observe(S.current),function(){E.disconnect()}},[O,g]);var M=v.useMemo(function(){var P=C.containerWidth,E=C.containerHeight;if(P<0||E<0)return null;pl(Zu(o)||Zu(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),pl(!n||n>0,"The aspect(%s) must be greater than zero.",n);var I=Zu(o)?P:o,T=Zu(c)?E:c;n&&n>0&&(I?T=I/n:T&&(I=T*n),f&&T>f&&(T=f)),pl(I>0||T>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,I,T,o,c,d,h,n);var R=!Array.isArray(p)&&fl(p.type).endsWith("Chart");return H.Children.map(p,function(L){return H.isValidElement(L)?v.cloneElement(L,_b({width:I,height:T},R?{style:_b({height:"100%",width:"100%",maxHeight:T,maxWidth:I},L.props.style)}:{})):L})},[n,p,c,f,h,d,C,o]);return H.createElement("div",{id:y?"".concat(y):void 0,className:Et("recharts-responsive-container",x),style:_b(_b({},N),{},{width:o,height:c,minWidth:d,minHeight:h,maxHeight:f}),ref:S},M)}),_ee=function(t){return null};_ee.displayName="Cell";function Sx(e){"@babel/helpers - typeof";return Sx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sx(e)}function hF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function f2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hF(Object(n),!0).forEach(function(r){O$e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function O$e(e,t,n){return t=M$e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M$e(e){var t=P$e(e,"string");return Sx(t)=="symbol"?t:t+""}function P$e(e,t){if(Sx(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Sx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rh={widthCache:{},cacheCount:0},D$e=2e3,R$e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},fF="recharts_measurement_span";function I$e(e){var t=f2({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var xy=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Mm.isSsr)return{width:0,height:0};var r=I$e(n),s=JSON.stringify({text:t,copyStyle:r});if(Rh.widthCache[s])return Rh.widthCache[s];try{var i=document.getElementById(fF);i||(i=document.createElement("span"),i.setAttribute("id",fF),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=f2(f2({},R$e),r);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Rh.widthCache[s]=c,++Rh.cacheCount>D$e&&(Rh.cacheCount=0,Rh.widthCache={}),c}catch{return{width:0,height:0}}},L$e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Nx(e){"@babel/helpers - typeof";return Nx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nx(e)}function NS(e,t){return z$e(e)||F$e(e,t)||B$e(e,t)||$$e()}function $$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B$e(e,t){if(e){if(typeof e=="string")return pF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pF(e,t)}}function pF(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F$e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function z$e(e){if(Array.isArray(e))return e}function U$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,W$e(r.key),r)}}function H$e(e,t,n){return t&&mF(e.prototype,t),n&&mF(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function W$e(e){var t=V$e(e,"string");return Nx(t)=="symbol"?t:t+""}function V$e(e,t){if(Nx(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Nx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,yF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,G$e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,q$e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Eee={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},K$e=Object.keys(Eee),Nf="NaN";function Y$e(e,t){return e*Eee[t]}var Eb=function(){function e(t,n){U$e(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!G$e.test(n)&&(this.num=NaN,this.unit=""),K$e.includes(n)&&(this.num=Y$e(t,n),this.unit="px")}return H$e(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,s=(r=q$e.exec(n))!==null&&r!==void 0?r:[],i=NS(s,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function Cee(e){if(e.includes(Nf))return Nf;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=gF.exec(t))!==null&&n!==void 0?n:[],s=NS(r,4),i=s[1],o=s[2],l=s[3],c=Eb.parse(i??""),u=Eb.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Nf;t=t.replace(gF,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,f=(h=yF.exec(t))!==null&&h!==void 0?h:[],p=NS(f,4),m=p[1],g=p[2],y=p[3],x=Eb.parse(m??""),b=Eb.parse(y??""),w=g==="+"?x.add(b):x.subtract(b);if(w.isNaN())return Nf;t=t.replace(yF,w.toString())}return t}var xF=/\(([^()]*)\)/;function X$e(e){for(var t=e;t.includes("(");){var n=xF.exec(t),r=NS(n,2),s=r[1];t=t.replace(xF,Cee(s))}return t}function J$e(e){var t=e.replace(/\s+/g,"");return t=X$e(t),t=Cee(t),t}function Q$e(e){try{return J$e(e)}catch{return Nf}}function AC(e){var t=Q$e(e.slice(5,-1));return t===Nf?"":t}var Z$e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],e3e=["dx","dy","angle","className","breakAll"];function p2(){return p2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p2.apply(this,arguments)}function vF(e,t){if(e==null)return{};var n=t3e(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function t3e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function bF(e,t){return i3e(e)||s3e(e,t)||r3e(e,t)||n3e()}function n3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r3e(e,t){if(e){if(typeof e=="string")return wF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wF(e,t)}}function wF(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s3e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function i3e(e){if(Array.isArray(e))return e}var Tee=/[ \f\n\r\t\v\u2028\u2029]+/,Aee=function(t){var n=t.children,r=t.breakAll,s=t.style;try{var i=[];vt(n)||(r?i=n.toString().split(""):i=n.toString().split(Tee));var o=i.map(function(c){return{word:c,width:xy(c,s).width}}),l=r?0:xy("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},o3e=function(t,n,r,s,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=ke(o),h=l,f=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return I.reduce(function(T,R){var L=R.word,D=R.width,F=T[T.length-1];if(F&&(s==null||i||F.width+D+r<Number(s)))F.words.push(L),F.width+=D+r;else{var z={words:[L],width:D};T.push(z)}return T},[])},p=f(n),m=function(I){return I.reduce(function(T,R){return T.width>R.width?T:R})};if(!d)return p;for(var g="",y=function(I){var T=h.slice(0,I),R=Aee({breakAll:u,style:c,children:T+g}).wordsWithComputedWidth,L=f(R),D=L.length>o||m(L).width>Number(s);return[D,L]},x=0,b=h.length-1,w=0,N;x<=b&&w<=h.length-1;){var S=Math.floor((x+b)/2),k=S-1,j=y(k),_=bF(j,2),C=_[0],A=_[1],O=y(S),M=bF(O,1),P=M[0];if(!C&&!P&&(x=S+1),C&&P&&(b=S-1),!C&&P){N=A;break}w++}return N||p},SF=function(t){var n=vt(t)?[]:t.toString().split(Tee);return[{words:n}]},a3e=function(t){var n=t.width,r=t.scaleToFit,s=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((n||r)&&!Mm.isSsr){var c,u,d=Aee({breakAll:o,children:s,style:i});if(d){var h=d.wordsWithComputedWidth,f=d.spaceWidth;c=h,u=f}else return SF(s);return o3e({breakAll:o,children:s,maxLines:l,style:i},c,u,n,r)}return SF(s)},NF="#808080",kS=function(t){var n=t.x,r=n===void 0?0:n,s=t.y,i=s===void 0?0:s,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,h=d===void 0?!1:d,f=t.textAnchor,p=f===void 0?"start":f,m=t.verticalAnchor,g=m===void 0?"end":m,y=t.fill,x=y===void 0?NF:y,b=vF(t,Z$e),w=v.useMemo(function(){return a3e({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:h,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,h,b.style,b.width]),N=b.dx,S=b.dy,k=b.angle,j=b.className,_=b.breakAll,C=vF(b,e3e);if(!vr(r)||!vr(i))return null;var A=r+(ke(N)?N:0),O=i+(ke(S)?S:0),M;switch(g){case"start":M=AC("calc(".concat(u,")"));break;case"middle":M=AC("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:M=AC("calc(".concat(w.length-1," * -").concat(l,")"));break}var P=[];if(h){var E=w[0].width,I=b.width;P.push("scale(".concat((ke(I)?I/E:1)/E,")"))}return k&&P.push("rotate(".concat(k,", ").concat(A,", ").concat(O,")")),P.length&&(C.transform=P.join(" ")),H.createElement("text",p2({},_t(C,!0),{x:A,y:O,className:Et("recharts-text",j),textAnchor:p,fill:x.includes("url")?NF:x}),w.map(function(T,R){var L=T.words.join(_?"":" ");return H.createElement("tspan",{x:A,dy:R===0?M:l,key:"".concat(L,"-").concat(R)},L)}))};function zc(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function l3e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function xI(e){let t,n,r;e.length!==2?(t=zc,n=(l,c)=>zc(e(l),c),r=(l,c)=>e(l)-c):(t=e===zc||e===l3e?e:c3e,n=e,r=e);function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const h=u+d>>>1;n(l[h],c)<0?u=h+1:d=h}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const h=u+d>>>1;n(l[h],c)<=0?u=h+1:d=h}while(u<d)}return u}function o(l,c,u=0,d=l.length){const h=s(l,c,u,d-1);return h>u&&r(l[h-1],c)>-r(l[h],c)?h-1:h}return{left:s,center:o,right:i}}function c3e(){return 0}function Oee(e){return e===null?NaN:+e}function*u3e(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const d3e=xI(zc),y0=d3e.right;xI(Oee).center;class kF extends Map{constructor(t,n=p3e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,s]of t)this.set(r,s)}get(t){return super.get(jF(this,t))}has(t){return super.has(jF(this,t))}set(t,n){return super.set(h3e(this,t),n)}delete(t){return super.delete(f3e(this,t))}}function jF({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function h3e({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function f3e({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function p3e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function m3e(e=zc){if(e===zc)return Mee;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function Mee(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const g3e=Math.sqrt(50),y3e=Math.sqrt(10),x3e=Math.sqrt(2);function jS(e,t,n){const r=(t-e)/Math.max(0,n),s=Math.floor(Math.log10(r)),i=r/Math.pow(10,s),o=i>=g3e?10:i>=y3e?5:i>=x3e?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=n&&n<2?jS(e,t,n*2):[l,c,u]}function m2(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[s,i,o]=r?jS(t,e,n):jS(e,t,n);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(r)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function g2(e,t,n){return t=+t,e=+e,n=+n,jS(e,t,n)[2]}function y2(e,t,n){t=+t,e=+e,n=+n;const r=t<e,s=r?g2(t,e,n):g2(e,t,n);return(r?-1:1)*(s<0?1/-s:s)}function _F(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function EF(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Pee(e,t,n=0,r=1/0,s){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(s=s===void 0?Mee:m3e(s);r>n;){if(r-n>600){const c=r-n+1,u=t-n+1,d=Math.log(c),h=.5*Math.exp(2*d/3),f=.5*Math.sqrt(d*h*(c-h)/c)*(u-c/2<0?-1:1),p=Math.max(n,Math.floor(t-u*h/c+f)),m=Math.min(r,Math.floor(t+(c-u)*h/c+f));Pee(e,t,p,m,s)}const i=e[t];let o=n,l=r;for(ig(e,n,t),s(e[r],i)>0&&ig(e,n,r);o<l;){for(ig(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[n],i)===0?ig(e,n,l):(++l,ig(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function ig(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function v3e(e,t,n){if(e=Float64Array.from(u3e(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return EF(e);if(t>=1)return _F(e);var r,s=(r-1)*t,i=Math.floor(s),o=_F(Pee(e,i).subarray(0,i+1)),l=EF(e.subarray(i+1));return o+(l-o)*(s-i)}}function b3e(e,t,n=Oee){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,s=(r-1)*t,i=Math.floor(s),o=+n(e[i],i,e),l=+n(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function w3e(e,t,n){e=+e,t=+t,n=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+n;for(var r=-1,s=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(s);++r<s;)i[r]=e+r*n;return i}function no(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Il(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const x2=Symbol("implicit");function vI(){var e=new kF,t=[],n=[],r=x2;function s(i){let o=e.get(i);if(o===void 0){if(r!==x2)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new kF;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(n=Array.from(i),s):n.slice()},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return vI(t,n).unknown(r)},no.apply(s,arguments),s}function kx(){var e=vI().unknown(void 0),t=e.domain,n=e.range,r=0,s=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function h(){var f=t().length,p=s<r,m=p?s:r,g=p?r:s;i=(g-m)/Math.max(1,f-c+u*2),l&&(i=Math.floor(i)),m+=(g-m-i*(f-c))*d,o=i*(1-c),l&&(m=Math.round(m),o=Math.round(o));var y=w3e(f).map(function(x){return m+i*x});return n(p?y.reverse():y)}return e.domain=function(f){return arguments.length?(t(f),h()):t()},e.range=function(f){return arguments.length?([r,s]=f,r=+r,s=+s,h()):[r,s]},e.rangeRound=function(f){return[r,s]=f,r=+r,s=+s,l=!0,h()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(f){return arguments.length?(l=!!f,h()):l},e.padding=function(f){return arguments.length?(c=Math.min(1,u=+f),h()):c},e.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),h()):c},e.paddingOuter=function(f){return arguments.length?(u=+f,h()):u},e.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),h()):d},e.copy=function(){return kx(t(),[r,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},no.apply(h(),arguments)}function Dee(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Dee(t())},e}function vy(){return Dee(kx.apply(null,arguments).paddingInner(1))}function bI(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Ree(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function x0(){}var jx=.7,_S=1/jx,Wf="\\s*([+-]?\\d+)\\s*",_x="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",va="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",S3e=/^#([0-9a-f]{3,8})$/,N3e=new RegExp(`^rgb\\(${Wf},${Wf},${Wf}\\)$`),k3e=new RegExp(`^rgb\\(${va},${va},${va}\\)$`),j3e=new RegExp(`^rgba\\(${Wf},${Wf},${Wf},${_x}\\)$`),_3e=new RegExp(`^rgba\\(${va},${va},${va},${_x}\\)$`),E3e=new RegExp(`^hsl\\(${_x},${va},${va}\\)$`),C3e=new RegExp(`^hsla\\(${_x},${va},${va},${_x}\\)$`),CF={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};bI(x0,Vd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:TF,formatHex:TF,formatHex8:T3e,formatHsl:A3e,formatRgb:AF,toString:AF});function TF(){return this.rgb().formatHex()}function T3e(){return this.rgb().formatHex8()}function A3e(){return Iee(this).formatHsl()}function AF(){return this.rgb().formatRgb()}function Vd(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=S3e.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?OF(t):n===3?new Hs(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Cb(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Cb(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=N3e.exec(e))?new Hs(t[1],t[2],t[3],1):(t=k3e.exec(e))?new Hs(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=j3e.exec(e))?Cb(t[1],t[2],t[3],t[4]):(t=_3e.exec(e))?Cb(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=E3e.exec(e))?DF(t[1],t[2]/100,t[3]/100,1):(t=C3e.exec(e))?DF(t[1],t[2]/100,t[3]/100,t[4]):CF.hasOwnProperty(e)?OF(CF[e]):e==="transparent"?new Hs(NaN,NaN,NaN,0):null}function OF(e){return new Hs(e>>16&255,e>>8&255,e&255,1)}function Cb(e,t,n,r){return r<=0&&(e=t=n=NaN),new Hs(e,t,n,r)}function O3e(e){return e instanceof x0||(e=Vd(e)),e?(e=e.rgb(),new Hs(e.r,e.g,e.b,e.opacity)):new Hs}function v2(e,t,n,r){return arguments.length===1?O3e(e):new Hs(e,t,n,r??1)}function Hs(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}bI(Hs,v2,Ree(x0,{brighter(e){return e=e==null?_S:Math.pow(_S,e),new Hs(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?jx:Math.pow(jx,e),new Hs(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Hs(bd(this.r),bd(this.g),bd(this.b),ES(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:MF,formatHex:MF,formatHex8:M3e,formatRgb:PF,toString:PF}));function MF(){return`#${ed(this.r)}${ed(this.g)}${ed(this.b)}`}function M3e(){return`#${ed(this.r)}${ed(this.g)}${ed(this.b)}${ed((isNaN(this.opacity)?1:this.opacity)*255)}`}function PF(){const e=ES(this.opacity);return`${e===1?"rgb(":"rgba("}${bd(this.r)}, ${bd(this.g)}, ${bd(this.b)}${e===1?")":`, ${e})`}`}function ES(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function bd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ed(e){return e=bd(e),(e<16?"0":"")+e.toString(16)}function DF(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Eo(e,t,n,r)}function Iee(e){if(e instanceof Eo)return new Eo(e.h,e.s,e.l,e.opacity);if(e instanceof x0||(e=Vd(e)),!e)return new Eo;if(e instanceof Eo)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,s=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,l=i-s,c=(i+s)/2;return l?(t===i?o=(n-r)/l+(n<r)*6:n===i?o=(r-t)/l+2:o=(t-n)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new Eo(o,l,c,e.opacity)}function P3e(e,t,n,r){return arguments.length===1?Iee(e):new Eo(e,t,n,r??1)}function Eo(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}bI(Eo,P3e,Ree(x0,{brighter(e){return e=e==null?_S:Math.pow(_S,e),new Eo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?jx:Math.pow(jx,e),new Eo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,s=2*n-r;return new Hs(OC(e>=240?e-240:e+120,s,r),OC(e,s,r),OC(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new Eo(RF(this.h),Tb(this.s),Tb(this.l),ES(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ES(this.opacity);return`${e===1?"hsl(":"hsla("}${RF(this.h)}, ${Tb(this.s)*100}%, ${Tb(this.l)*100}%${e===1?")":`, ${e})`}`}}));function RF(e){return e=(e||0)%360,e<0?e+360:e}function Tb(e){return Math.max(0,Math.min(1,e||0))}function OC(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const wI=e=>()=>e;function D3e(e,t){return function(n){return e+n*t}}function R3e(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function I3e(e){return(e=+e)==1?Lee:function(t,n){return n-t?R3e(t,n,e):wI(isNaN(t)?n:t)}}function Lee(e,t){var n=t-e;return n?D3e(e,n):wI(isNaN(e)?t:e)}const CS=function e(t){var n=I3e(t);function r(s,i){var o=n((s=v2(s)).r,(i=v2(i)).r),l=n(s.g,i.g),c=n(s.b,i.b),u=Lee(s.opacity,i.opacity);return function(d){return s.r=o(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return r.gamma=e,r}(1);function L3e(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),s;return function(i){for(s=0;s<n;++s)r[s]=e[s]*(1-i)+t[s]*i;return r}}function $3e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function B3e(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,s=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)s[o]=Pm(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(l){for(o=0;o<r;++o)i[o]=s[o](l);return i}}function F3e(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function _o(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function z3e(e,t){var n={},r={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=Pm(e[s],t[s]):r[s]=t[s];return function(i){for(s in n)r[s]=n[s](i);return r}}var b2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,MC=new RegExp(b2.source,"g");function U3e(e){return function(){return e}}function H3e(e){return function(t){return e(t)+""}}function $ee(e,t){var n=b2.lastIndex=MC.lastIndex=0,r,s,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(r=b2.exec(e))&&(s=MC.exec(t));)(i=s.index)>n&&(i=t.slice(n,i),l[o]?l[o]+=i:l[++o]=i),(r=r[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:_o(r,s)})),n=MC.lastIndex;return n<t.length&&(i=t.slice(n),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?H3e(c[0].x):U3e(t):(t=c.length,function(u){for(var d=0,h;d<t;++d)l[(h=c[d]).i]=h.x(u);return l.join("")})}function Pm(e,t){var n=typeof t,r;return t==null||n==="boolean"?wI(t):(n==="number"?_o:n==="string"?(r=Vd(t))?(t=r,CS):$ee:t instanceof Vd?CS:t instanceof Date?F3e:$3e(t)?L3e:Array.isArray(t)?B3e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?z3e:_o)(e,t)}function SI(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var IF=180/Math.PI,w2={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Bee(e,t,n,r,s,i){var o,l,c;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,c/=l),e*r<t*n&&(e=-e,t=-t,c=-c,o=-o),{translateX:s,translateY:i,rotate:Math.atan2(t,e)*IF,skewX:Math.atan(c)*IF,scaleX:o,scaleY:l}}var Ab;function W3e(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?w2:Bee(t.a,t.b,t.c,t.d,t.e,t.f)}function V3e(e){return e==null||(Ab||(Ab=document.createElementNS("http://www.w3.org/2000/svg","g")),Ab.setAttribute("transform",e),!(e=Ab.transform.baseVal.consolidate()))?w2:(e=e.matrix,Bee(e.a,e.b,e.c,e.d,e.e,e.f))}function Fee(e,t,n,r){function s(u){return u.length?u.pop()+" ":""}function i(u,d,h,f,p,m){if(u!==h||d!==f){var g=p.push("translate(",null,t,null,n);m.push({i:g-4,x:_o(u,h)},{i:g-2,x:_o(d,f)})}else(h||f)&&p.push("translate("+h+t+f+n)}function o(u,d,h,f){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),f.push({i:h.push(s(h)+"rotate(",null,r)-2,x:_o(u,d)})):d&&h.push(s(h)+"rotate("+d+r)}function l(u,d,h,f){u!==d?f.push({i:h.push(s(h)+"skewX(",null,r)-2,x:_o(u,d)}):d&&h.push(s(h)+"skewX("+d+r)}function c(u,d,h,f,p,m){if(u!==h||d!==f){var g=p.push(s(p)+"scale(",null,",",null,")");m.push({i:g-4,x:_o(u,h)},{i:g-2,x:_o(d,f)})}else(h!==1||f!==1)&&p.push(s(p)+"scale("+h+","+f+")")}return function(u,d){var h=[],f=[];return u=e(u),d=e(d),i(u.translateX,u.translateY,d.translateX,d.translateY,h,f),o(u.rotate,d.rotate,h,f),l(u.skewX,d.skewX,h,f),c(u.scaleX,u.scaleY,d.scaleX,d.scaleY,h,f),u=d=null,function(p){for(var m=-1,g=f.length,y;++m<g;)h[(y=f[m]).i]=y.x(p);return h.join("")}}}var G3e=Fee(W3e,"px, ","px)","deg)"),q3e=Fee(V3e,", ",")",")"),K3e=1e-12;function LF(e){return((e=Math.exp(e))+1/e)/2}function Y3e(e){return((e=Math.exp(e))-1/e)/2}function X3e(e){return((e=Math.exp(2*e))-1)/(e+1)}const J3e=function e(t,n,r){function s(i,o){var l=i[0],c=i[1],u=i[2],d=o[0],h=o[1],f=o[2],p=d-l,m=h-c,g=p*p+m*m,y,x;if(g<K3e)x=Math.log(f/u)/t,y=function(j){return[l+j*p,c+j*m,u*Math.exp(t*j*x)]};else{var b=Math.sqrt(g),w=(f*f-u*u+r*g)/(2*u*n*b),N=(f*f-u*u-r*g)/(2*f*n*b),S=Math.log(Math.sqrt(w*w+1)-w),k=Math.log(Math.sqrt(N*N+1)-N);x=(k-S)/t,y=function(j){var _=j*x,C=LF(S),A=u/(n*b)*(C*X3e(t*_+S)-Y3e(S));return[l+A*p,c+A*m,u*C/LF(t*_+S)]}}return y.duration=x*1e3*t/Math.SQRT2,y}return s.rho=function(i){var o=Math.max(.001,+i),l=o*o,c=l*l;return e(o,l,c)},s}(Math.SQRT2,2,4);function Q3e(e,t){t===void 0&&(t=e,e=Pm);for(var n=0,r=t.length-1,s=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(s,s=t[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return i[l](o-l)}}function Z3e(e){return function(){return e}}function TS(e){return+e}var $F=[0,1];function Ss(e){return e}function S2(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Z3e(isNaN(t)?NaN:.5)}function e4e(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function t4e(e,t,n){var r=e[0],s=e[1],i=t[0],o=t[1];return s<r?(r=S2(s,r),i=n(o,i)):(r=S2(r,s),i=n(i,o)),function(l){return i(r(l))}}function n4e(e,t,n){var r=Math.min(e.length,t.length)-1,s=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)s[o]=S2(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(l){var c=y0(e,l,1,r)-1;return i[c](s[c](l))}}function v0(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function e_(){var e=$F,t=$F,n=Pm,r,s,i,o=Ss,l,c,u;function d(){var f=Math.min(e.length,t.length);return o!==Ss&&(o=e4e(e[0],e[f-1])),l=f>2?n4e:t4e,c=u=null,h}function h(f){return f==null||isNaN(f=+f)?i:(c||(c=l(e.map(r),t,n)))(r(o(f)))}return h.invert=function(f){return o(s((u||(u=l(t,e.map(r),_o)))(f)))},h.domain=function(f){return arguments.length?(e=Array.from(f,TS),d()):e.slice()},h.range=function(f){return arguments.length?(t=Array.from(f),d()):t.slice()},h.rangeRound=function(f){return t=Array.from(f),n=SI,d()},h.clamp=function(f){return arguments.length?(o=f?!0:Ss,d()):o!==Ss},h.interpolate=function(f){return arguments.length?(n=f,d()):n},h.unknown=function(f){return arguments.length?(i=f,h):i},function(f,p){return r=f,s=p,d()}}function NI(){return e_()(Ss,Ss)}function r4e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function AS(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Dp(e){return e=AS(Math.abs(e)),e?e[1]:NaN}function s4e(e,t){return function(n,r){for(var s=n.length,i=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),i.push(n.substring(s-=l,s+l)),!((c+=l+1)>r));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function i4e(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var o4e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ex(e){if(!(t=o4e.exec(e)))throw new Error("invalid format: "+e);var t;return new kI({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ex.prototype=kI.prototype;function kI(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}kI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function a4e(e){e:for(var t=e.length,n=1,r=-1,s;n<t;++n)switch(e[n]){case".":r=s=n;break;case"0":r===0&&(r=n),s=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(s+1):e}var zee;function l4e(e,t){var n=AS(e,t);if(!n)return e+"";var r=n[0],s=n[1],i=s-(zee=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+AS(e,Math.max(0,t+i-1))[0]}function BF(e,t){var n=AS(e,t);if(!n)return e+"";var r=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+r:r.length>s+1?r.slice(0,s+1)+"."+r.slice(s+1):r+new Array(s-r.length+2).join("0")}const FF={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:r4e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>BF(e*100,t),r:BF,s:l4e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function zF(e){return e}var UF=Array.prototype.map,HF=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function c4e(e){var t=e.grouping===void 0||e.thousands===void 0?zF:s4e(UF.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?zF:i4e(UF.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(h){h=Ex(h);var f=h.fill,p=h.align,m=h.sign,g=h.symbol,y=h.zero,x=h.width,b=h.comma,w=h.precision,N=h.trim,S=h.type;S==="n"?(b=!0,S="g"):FF[S]||(w===void 0&&(w=12),N=!0,S="g"),(y||f==="0"&&p==="=")&&(y=!0,f="0",p="=");var k=g==="$"?n:g==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",j=g==="$"?r:/[%p]/.test(S)?o:"",_=FF[S],C=/[defgprs%]/.test(S);w=w===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function A(O){var M=k,P=j,E,I,T;if(S==="c")P=_(O)+P,O="";else{O=+O;var R=O<0||1/O<0;if(O=isNaN(O)?c:_(Math.abs(O),w),N&&(O=a4e(O)),R&&+O==0&&m!=="+"&&(R=!1),M=(R?m==="("?m:l:m==="-"||m==="("?"":m)+M,P=(S==="s"?HF[8+zee/3]:"")+P+(R&&m==="("?")":""),C){for(E=-1,I=O.length;++E<I;)if(T=O.charCodeAt(E),48>T||T>57){P=(T===46?s+O.slice(E+1):O.slice(E))+P,O=O.slice(0,E);break}}}b&&!y&&(O=t(O,1/0));var L=M.length+O.length+P.length,D=L<x?new Array(x-L+1).join(f):"";switch(b&&y&&(O=t(D+O,D.length?x-P.length:1/0),D=""),p){case"<":O=M+O+P+D;break;case"=":O=M+D+O+P;break;case"^":O=D.slice(0,L=D.length>>1)+M+O+P+D.slice(L);break;default:O=D+M+O+P;break}return i(O)}return A.toString=function(){return h+""},A}function d(h,f){var p=u((h=Ex(h),h.type="f",h)),m=Math.max(-8,Math.min(8,Math.floor(Dp(f)/3)))*3,g=Math.pow(10,-m),y=HF[8+m/3];return function(x){return p(g*x)+y}}return{format:u,formatPrefix:d}}var Ob,jI,Uee;u4e({thousands:",",grouping:[3],currency:["$",""]});function u4e(e){return Ob=c4e(e),jI=Ob.format,Uee=Ob.formatPrefix,Ob}function d4e(e){return Math.max(0,-Dp(Math.abs(e)))}function h4e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Dp(t)/3)))*3-Dp(Math.abs(e)))}function f4e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Dp(t)-Dp(e))+1}function Hee(e,t,n,r){var s=y2(e,t,n),i;switch(r=Ex(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=h4e(s,o))&&(r.precision=i),Uee(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=f4e(s,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=d4e(s))&&(r.precision=i-(r.type==="%")*2);break}}return jI(r)}function bu(e){var t=e.domain;return e.ticks=function(n){var r=t();return m2(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var s=t();return Hee(s[0],s[s.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),s=0,i=r.length-1,o=r[s],l=r[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=s,s=i,i=u);d-- >0;){if(u=g2(o,l,n),u===c)return r[s]=o,r[i]=l,t(r);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function OS(){var e=NI();return e.copy=function(){return v0(e,OS())},no.apply(e,arguments),bu(e)}function Wee(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,TS),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return Wee(e).unknown(t)},e=arguments.length?Array.from(e,TS):[0,1],bu(n)}function Vee(e,t){e=e.slice();var n=0,r=e.length-1,s=e[n],i=e[r],o;return i<s&&(o=n,n=r,r=o,o=s,s=i,i=o),e[n]=t.floor(s),e[r]=t.ceil(i),e}function WF(e){return Math.log(e)}function VF(e){return Math.exp(e)}function p4e(e){return-Math.log(-e)}function m4e(e){return-Math.exp(-e)}function g4e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function y4e(e){return e===10?g4e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function x4e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function GF(e){return(t,n)=>-e(-t,n)}function _I(e){const t=e(WF,VF),n=t.domain;let r=10,s,i;function o(){return s=x4e(r),i=y4e(r),n()[0]<0?(s=GF(s),i=GF(i),e(p4e,m4e)):e(WF,VF),t}return t.base=function(l){return arguments.length?(r=+l,o()):r},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const h=d<u;h&&([u,d]=[d,u]);let f=s(u),p=s(d),m,g;const y=l==null?10:+l;let x=[];if(!(r%1)&&p-f<y){if(f=Math.floor(f),p=Math.ceil(p),u>0){for(;f<=p;++f)for(m=1;m<r;++m)if(g=f<0?m/i(-f):m*i(f),!(g<u)){if(g>d)break;x.push(g)}}else for(;f<=p;++f)for(m=r-1;m>=1;--m)if(g=f>0?m/i(-f):m*i(f),!(g<u)){if(g>d)break;x.push(g)}x.length*2<y&&(x=m2(u,d,y))}else x=m2(f,p,Math.min(p-f,y)).map(i);return h?x.reverse():x},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Ex(c)).precision==null&&(c.trim=!0),c=jI(c)),l===1/0)return c;const u=Math.max(1,r*l/t.ticks().length);return d=>{let h=d/i(Math.round(s(d)));return h*r<r-.5&&(h*=r),h<=u?c(d):""}},t.nice=()=>n(Vee(n(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function Gee(){const e=_I(e_()).domain([1,10]);return e.copy=()=>v0(e,Gee()).base(e.base()),no.apply(e,arguments),e}function qF(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function KF(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function EI(e){var t=1,n=e(qF(t),KF(t));return n.constant=function(r){return arguments.length?e(qF(t=+r),KF(t)):t},bu(n)}function qee(){var e=EI(e_());return e.copy=function(){return v0(e,qee()).constant(e.constant())},no.apply(e,arguments)}function YF(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function v4e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function b4e(e){return e<0?-e*e:e*e}function CI(e){var t=e(Ss,Ss),n=1;function r(){return n===1?e(Ss,Ss):n===.5?e(v4e,b4e):e(YF(n),YF(1/n))}return t.exponent=function(s){return arguments.length?(n=+s,r()):n},bu(t)}function TI(){var e=CI(e_());return e.copy=function(){return v0(e,TI()).exponent(e.exponent())},no.apply(e,arguments),e}function w4e(){return TI.apply(null,arguments).exponent(.5)}function XF(e){return Math.sign(e)*e*e}function S4e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Kee(){var e=NI(),t=[0,1],n=!1,r;function s(i){var o=S4e(e(i));return isNaN(o)?r:n?Math.round(o):o}return s.invert=function(i){return e.invert(XF(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,TS)).map(XF)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(n=!!i,s):n},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return Kee(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},no.apply(s,arguments),bu(s)}function Yee(){var e=[],t=[],n=[],r;function s(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=b3e(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?r:t[y0(n,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(zc),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return Yee().domain(e).range(t).unknown(r)},no.apply(i,arguments)}function Xee(){var e=0,t=1,n=1,r=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[y0(r,c,0,n)]:i}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(n=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return Xee().domain([e,t]).range(s).unknown(i)},no.apply(bu(o),arguments)}function Jee(){var e=[.5],t=[0,1],n,r=1;function s(i){return i!=null&&i<=i?t[y0(e,i,0,r)]:n}return s.domain=function(i){return arguments.length?(e=Array.from(i),r=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),r=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return Jee().domain(e).range(t).unknown(n)},no.apply(s,arguments)}const PC=new Date,DC=new Date;function Nr(e,t,n,r){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},s.filter=i=>Nr(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),n&&(s.count=(i,o)=>(PC.setTime(+i),DC.setTime(+o),e(PC),e(DC),Math.floor(n(PC,DC))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(r?o=>r(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const MS=Nr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);MS.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Nr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):MS);MS.range;const il=1e3,$i=il*60,ol=$i*60,_l=ol*24,AI=_l*7,JF=_l*30,RC=_l*365,td=Nr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*il)},(e,t)=>(t-e)/il,e=>e.getUTCSeconds());td.range;const OI=Nr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*il)},(e,t)=>{e.setTime(+e+t*$i)},(e,t)=>(t-e)/$i,e=>e.getMinutes());OI.range;const MI=Nr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*$i)},(e,t)=>(t-e)/$i,e=>e.getUTCMinutes());MI.range;const PI=Nr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*il-e.getMinutes()*$i)},(e,t)=>{e.setTime(+e+t*ol)},(e,t)=>(t-e)/ol,e=>e.getHours());PI.range;const DI=Nr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ol)},(e,t)=>(t-e)/ol,e=>e.getUTCHours());DI.range;const b0=Nr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*$i)/_l,e=>e.getDate()-1);b0.range;const t_=Nr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/_l,e=>e.getUTCDate()-1);t_.range;const Qee=Nr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/_l,e=>Math.floor(e/_l));Qee.range;function mh(e){return Nr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*$i)/AI)}const n_=mh(0),PS=mh(1),N4e=mh(2),k4e=mh(3),Rp=mh(4),j4e=mh(5),_4e=mh(6);n_.range;PS.range;N4e.range;k4e.range;Rp.range;j4e.range;_4e.range;function gh(e){return Nr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/AI)}const r_=gh(0),DS=gh(1),E4e=gh(2),C4e=gh(3),Ip=gh(4),T4e=gh(5),A4e=gh(6);r_.range;DS.range;E4e.range;C4e.range;Ip.range;T4e.range;A4e.range;const RI=Nr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());RI.range;const II=Nr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());II.range;const El=Nr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());El.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Nr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});El.range;const Cl=Nr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Cl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Nr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Cl.range;function Zee(e,t,n,r,s,i){const o=[[td,1,il],[td,5,5*il],[td,15,15*il],[td,30,30*il],[i,1,$i],[i,5,5*$i],[i,15,15*$i],[i,30,30*$i],[s,1,ol],[s,3,3*ol],[s,6,6*ol],[s,12,12*ol],[r,1,_l],[r,2,2*_l],[n,1,AI],[t,1,JF],[t,3,3*JF],[e,1,RC]];function l(u,d,h){const f=d<u;f&&([u,d]=[d,u]);const p=h&&typeof h.range=="function"?h:c(u,d,h),m=p?p.range(u,+d+1):[];return f?m.reverse():m}function c(u,d,h){const f=Math.abs(d-u)/h,p=xI(([,,y])=>y).right(o,f);if(p===o.length)return e.every(y2(u/RC,d/RC,h));if(p===0)return MS.every(Math.max(y2(u,d,h),1));const[m,g]=o[f/o[p-1][2]<o[p][2]/f?p-1:p];return m.every(g)}return[l,c]}const[O4e,M4e]=Zee(Cl,II,r_,Qee,DI,MI),[P4e,D4e]=Zee(El,RI,n_,b0,PI,OI);function IC(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function LC(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function og(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function R4e(e){var t=e.dateTime,n=e.date,r=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=ag(s),d=lg(s),h=ag(i),f=lg(i),p=ag(o),m=lg(o),g=ag(l),y=lg(l),x=ag(c),b=lg(c),w={a:R,A:L,b:D,B:F,c:null,d:rz,e:rz,f:s5e,g:p5e,G:g5e,H:t5e,I:n5e,j:r5e,L:ete,m:i5e,M:o5e,p:z,q:B,Q:oz,s:az,S:a5e,u:l5e,U:c5e,V:u5e,w:d5e,W:h5e,x:null,X:null,y:f5e,Y:m5e,Z:y5e,"%":iz},N={a:$,A:W,b:V,B:Y,c:null,d:sz,e:sz,f:w5e,g:O5e,G:P5e,H:x5e,I:v5e,j:b5e,L:nte,m:S5e,M:N5e,p:G,q:Z,Q:oz,s:az,S:k5e,u:j5e,U:_5e,V:E5e,w:C5e,W:T5e,x:null,X:null,y:A5e,Y:M5e,Z:D5e,"%":iz},S={a:A,A:O,b:M,B:P,c:E,d:tz,e:tz,f:J4e,g:ez,G:ZF,H:nz,I:nz,j:q4e,L:X4e,m:G4e,M:K4e,p:C,q:V4e,Q:Z4e,s:e5e,S:Y4e,u:F4e,U:z4e,V:U4e,w:B4e,W:H4e,x:I,X:T,y:ez,Y:ZF,Z:W4e,"%":Q4e};w.x=k(n,w),w.X=k(r,w),w.c=k(t,w),N.x=k(n,N),N.X=k(r,N),N.c=k(t,N);function k(q,ee){return function(se){var X=[],de=-1,pe=0,Se=q.length,be,Ae,ne;for(se instanceof Date||(se=new Date(+se));++de<Se;)q.charCodeAt(de)===37&&(X.push(q.slice(pe,de)),(Ae=QF[be=q.charAt(++de)])!=null?be=q.charAt(++de):Ae=be==="e"?" ":"0",(ne=ee[be])&&(be=ne(se,Ae)),X.push(be),pe=de+1);return X.push(q.slice(pe,de)),X.join("")}}function j(q,ee){return function(se){var X=og(1900,void 0,1),de=_(X,q,se+="",0),pe,Se;if(de!=se.length)return null;if("Q"in X)return new Date(X.Q);if("s"in X)return new Date(X.s*1e3+("L"in X?X.L:0));if(ee&&!("Z"in X)&&(X.Z=0),"p"in X&&(X.H=X.H%12+X.p*12),X.m===void 0&&(X.m="q"in X?X.q:0),"V"in X){if(X.V<1||X.V>53)return null;"w"in X||(X.w=1),"Z"in X?(pe=LC(og(X.y,0,1)),Se=pe.getUTCDay(),pe=Se>4||Se===0?DS.ceil(pe):DS(pe),pe=t_.offset(pe,(X.V-1)*7),X.y=pe.getUTCFullYear(),X.m=pe.getUTCMonth(),X.d=pe.getUTCDate()+(X.w+6)%7):(pe=IC(og(X.y,0,1)),Se=pe.getDay(),pe=Se>4||Se===0?PS.ceil(pe):PS(pe),pe=b0.offset(pe,(X.V-1)*7),X.y=pe.getFullYear(),X.m=pe.getMonth(),X.d=pe.getDate()+(X.w+6)%7)}else("W"in X||"U"in X)&&("w"in X||(X.w="u"in X?X.u%7:"W"in X?1:0),Se="Z"in X?LC(og(X.y,0,1)).getUTCDay():IC(og(X.y,0,1)).getDay(),X.m=0,X.d="W"in X?(X.w+6)%7+X.W*7-(Se+5)%7:X.w+X.U*7-(Se+6)%7);return"Z"in X?(X.H+=X.Z/100|0,X.M+=X.Z%100,LC(X)):IC(X)}}function _(q,ee,se,X){for(var de=0,pe=ee.length,Se=se.length,be,Ae;de<pe;){if(X>=Se)return-1;if(be=ee.charCodeAt(de++),be===37){if(be=ee.charAt(de++),Ae=S[be in QF?ee.charAt(de++):be],!Ae||(X=Ae(q,se,X))<0)return-1}else if(be!=se.charCodeAt(X++))return-1}return X}function C(q,ee,se){var X=u.exec(ee.slice(se));return X?(q.p=d.get(X[0].toLowerCase()),se+X[0].length):-1}function A(q,ee,se){var X=p.exec(ee.slice(se));return X?(q.w=m.get(X[0].toLowerCase()),se+X[0].length):-1}function O(q,ee,se){var X=h.exec(ee.slice(se));return X?(q.w=f.get(X[0].toLowerCase()),se+X[0].length):-1}function M(q,ee,se){var X=x.exec(ee.slice(se));return X?(q.m=b.get(X[0].toLowerCase()),se+X[0].length):-1}function P(q,ee,se){var X=g.exec(ee.slice(se));return X?(q.m=y.get(X[0].toLowerCase()),se+X[0].length):-1}function E(q,ee,se){return _(q,t,ee,se)}function I(q,ee,se){return _(q,n,ee,se)}function T(q,ee,se){return _(q,r,ee,se)}function R(q){return o[q.getDay()]}function L(q){return i[q.getDay()]}function D(q){return c[q.getMonth()]}function F(q){return l[q.getMonth()]}function z(q){return s[+(q.getHours()>=12)]}function B(q){return 1+~~(q.getMonth()/3)}function $(q){return o[q.getUTCDay()]}function W(q){return i[q.getUTCDay()]}function V(q){return c[q.getUTCMonth()]}function Y(q){return l[q.getUTCMonth()]}function G(q){return s[+(q.getUTCHours()>=12)]}function Z(q){return 1+~~(q.getUTCMonth()/3)}return{format:function(q){var ee=k(q+="",w);return ee.toString=function(){return q},ee},parse:function(q){var ee=j(q+="",!1);return ee.toString=function(){return q},ee},utcFormat:function(q){var ee=k(q+="",N);return ee.toString=function(){return q},ee},utcParse:function(q){var ee=j(q+="",!0);return ee.toString=function(){return q},ee}}}var QF={"-":"",_:" ",0:"0"},Rr=/^\s*\d+/,I4e=/^%/,L4e=/[\\^$*+?|[\]().{}]/g;function Pt(e,t,n){var r=e<0?"-":"",s=(r?-e:e)+"",i=s.length;return r+(i<n?new Array(n-i+1).join(t)+s:s)}function $4e(e){return e.replace(L4e,"\\$&")}function ag(e){return new RegExp("^(?:"+e.map($4e).join("|")+")","i")}function lg(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function B4e(e,t,n){var r=Rr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function F4e(e,t,n){var r=Rr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function z4e(e,t,n){var r=Rr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function U4e(e,t,n){var r=Rr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function H4e(e,t,n){var r=Rr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function ZF(e,t,n){var r=Rr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function ez(e,t,n){var r=Rr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function W4e(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function V4e(e,t,n){var r=Rr.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function G4e(e,t,n){var r=Rr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function tz(e,t,n){var r=Rr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function q4e(e,t,n){var r=Rr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function nz(e,t,n){var r=Rr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function K4e(e,t,n){var r=Rr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Y4e(e,t,n){var r=Rr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function X4e(e,t,n){var r=Rr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function J4e(e,t,n){var r=Rr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Q4e(e,t,n){var r=I4e.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Z4e(e,t,n){var r=Rr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function e5e(e,t,n){var r=Rr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function rz(e,t){return Pt(e.getDate(),t,2)}function t5e(e,t){return Pt(e.getHours(),t,2)}function n5e(e,t){return Pt(e.getHours()%12||12,t,2)}function r5e(e,t){return Pt(1+b0.count(El(e),e),t,3)}function ete(e,t){return Pt(e.getMilliseconds(),t,3)}function s5e(e,t){return ete(e,t)+"000"}function i5e(e,t){return Pt(e.getMonth()+1,t,2)}function o5e(e,t){return Pt(e.getMinutes(),t,2)}function a5e(e,t){return Pt(e.getSeconds(),t,2)}function l5e(e){var t=e.getDay();return t===0?7:t}function c5e(e,t){return Pt(n_.count(El(e)-1,e),t,2)}function tte(e){var t=e.getDay();return t>=4||t===0?Rp(e):Rp.ceil(e)}function u5e(e,t){return e=tte(e),Pt(Rp.count(El(e),e)+(El(e).getDay()===4),t,2)}function d5e(e){return e.getDay()}function h5e(e,t){return Pt(PS.count(El(e)-1,e),t,2)}function f5e(e,t){return Pt(e.getFullYear()%100,t,2)}function p5e(e,t){return e=tte(e),Pt(e.getFullYear()%100,t,2)}function m5e(e,t){return Pt(e.getFullYear()%1e4,t,4)}function g5e(e,t){var n=e.getDay();return e=n>=4||n===0?Rp(e):Rp.ceil(e),Pt(e.getFullYear()%1e4,t,4)}function y5e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Pt(t/60|0,"0",2)+Pt(t%60,"0",2)}function sz(e,t){return Pt(e.getUTCDate(),t,2)}function x5e(e,t){return Pt(e.getUTCHours(),t,2)}function v5e(e,t){return Pt(e.getUTCHours()%12||12,t,2)}function b5e(e,t){return Pt(1+t_.count(Cl(e),e),t,3)}function nte(e,t){return Pt(e.getUTCMilliseconds(),t,3)}function w5e(e,t){return nte(e,t)+"000"}function S5e(e,t){return Pt(e.getUTCMonth()+1,t,2)}function N5e(e,t){return Pt(e.getUTCMinutes(),t,2)}function k5e(e,t){return Pt(e.getUTCSeconds(),t,2)}function j5e(e){var t=e.getUTCDay();return t===0?7:t}function _5e(e,t){return Pt(r_.count(Cl(e)-1,e),t,2)}function rte(e){var t=e.getUTCDay();return t>=4||t===0?Ip(e):Ip.ceil(e)}function E5e(e,t){return e=rte(e),Pt(Ip.count(Cl(e),e)+(Cl(e).getUTCDay()===4),t,2)}function C5e(e){return e.getUTCDay()}function T5e(e,t){return Pt(DS.count(Cl(e)-1,e),t,2)}function A5e(e,t){return Pt(e.getUTCFullYear()%100,t,2)}function O5e(e,t){return e=rte(e),Pt(e.getUTCFullYear()%100,t,2)}function M5e(e,t){return Pt(e.getUTCFullYear()%1e4,t,4)}function P5e(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Ip(e):Ip.ceil(e),Pt(e.getUTCFullYear()%1e4,t,4)}function D5e(){return"+0000"}function iz(){return"%"}function oz(e){return+e}function az(e){return Math.floor(+e/1e3)}var Ih,ste,ite;R5e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function R5e(e){return Ih=R4e(e),ste=Ih.format,Ih.parse,ite=Ih.utcFormat,Ih.utcParse,Ih}function I5e(e){return new Date(e)}function L5e(e){return e instanceof Date?+e:+new Date(+e)}function LI(e,t,n,r,s,i,o,l,c,u){var d=NI(),h=d.invert,f=d.domain,p=u(".%L"),m=u(":%S"),g=u("%I:%M"),y=u("%I %p"),x=u("%a %d"),b=u("%b %d"),w=u("%B"),N=u("%Y");function S(k){return(c(k)<k?p:l(k)<k?m:o(k)<k?g:i(k)<k?y:r(k)<k?s(k)<k?x:b:n(k)<k?w:N)(k)}return d.invert=function(k){return new Date(h(k))},d.domain=function(k){return arguments.length?f(Array.from(k,L5e)):f().map(I5e)},d.ticks=function(k){var j=f();return e(j[0],j[j.length-1],k??10)},d.tickFormat=function(k,j){return j==null?S:u(j)},d.nice=function(k){var j=f();return(!k||typeof k.range!="function")&&(k=t(j[0],j[j.length-1],k??10)),k?f(Vee(j,k)):d},d.copy=function(){return v0(d,LI(e,t,n,r,s,i,o,l,c,u))},d}function $5e(){return no.apply(LI(P4e,D4e,El,RI,n_,b0,PI,OI,td,ste).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function B5e(){return no.apply(LI(O4e,M4e,Cl,II,r_,t_,DI,MI,td,ite).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function s_(){var e=0,t=1,n,r,s,i,o=Ss,l=!1,c;function u(h){return h==null||isNaN(h=+h)?c:o(s===0?.5:(h=(i(h)-n)*s,l?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([e,t]=h,n=i(e=+e),r=i(t=+t),s=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(h){return arguments.length?(l=!!h,u):l},u.interpolator=function(h){return arguments.length?(o=h,u):o};function d(h){return function(f){var p,m;return arguments.length?([p,m]=f,o=h(p,m),u):[o(0),o(1)]}}return u.range=d(Pm),u.rangeRound=d(SI),u.unknown=function(h){return arguments.length?(c=h,u):c},function(h){return i=h,n=h(e),r=h(t),s=n===r?0:1/(r-n),u}}function wu(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function ote(){var e=bu(s_()(Ss));return e.copy=function(){return wu(e,ote())},Il.apply(e,arguments)}function ate(){var e=_I(s_()).domain([1,10]);return e.copy=function(){return wu(e,ate()).base(e.base())},Il.apply(e,arguments)}function lte(){var e=EI(s_());return e.copy=function(){return wu(e,lte()).constant(e.constant())},Il.apply(e,arguments)}function $I(){var e=CI(s_());return e.copy=function(){return wu(e,$I()).exponent(e.exponent())},Il.apply(e,arguments)}function F5e(){return $I.apply(null,arguments).exponent(.5)}function cte(){var e=[],t=Ss;function n(r){if(r!=null&&!isNaN(r=+r))return t((y0(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let s of r)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(zc),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,s)=>t(s/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(s,i)=>v3e(e,i/r))},n.copy=function(){return cte(t).domain(e)},Il.apply(n,arguments)}function i_(){var e=0,t=.5,n=1,r=1,s,i,o,l,c,u=Ss,d,h=!1,f;function p(g){return isNaN(g=+g)?f:(g=.5+((g=+d(g))-i)*(r*g<r*i?l:c),u(h?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([e,t,n]=g,s=d(e=+e),i=d(t=+t),o=d(n=+n),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),r=i<s?-1:1,p):[e,t,n]},p.clamp=function(g){return arguments.length?(h=!!g,p):h},p.interpolator=function(g){return arguments.length?(u=g,p):u};function m(g){return function(y){var x,b,w;return arguments.length?([x,b,w]=y,u=Q3e(g,[x,b,w]),p):[u(0),u(.5),u(1)]}}return p.range=m(Pm),p.rangeRound=m(SI),p.unknown=function(g){return arguments.length?(f=g,p):f},function(g){return d=g,s=g(e),i=g(t),o=g(n),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),r=i<s?-1:1,p}}function ute(){var e=bu(i_()(Ss));return e.copy=function(){return wu(e,ute())},Il.apply(e,arguments)}function dte(){var e=_I(i_()).domain([.1,1,10]);return e.copy=function(){return wu(e,dte()).base(e.base())},Il.apply(e,arguments)}function hte(){var e=EI(i_());return e.copy=function(){return wu(e,hte()).constant(e.constant())},Il.apply(e,arguments)}function BI(){var e=CI(i_());return e.copy=function(){return wu(e,BI()).exponent(e.exponent())},Il.apply(e,arguments)}function z5e(){return BI.apply(null,arguments).exponent(.5)}const lz=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:kx,scaleDiverging:ute,scaleDivergingLog:dte,scaleDivergingPow:BI,scaleDivergingSqrt:z5e,scaleDivergingSymlog:hte,scaleIdentity:Wee,scaleImplicit:x2,scaleLinear:OS,scaleLog:Gee,scaleOrdinal:vI,scalePoint:vy,scalePow:TI,scaleQuantile:Yee,scaleQuantize:Xee,scaleRadial:Kee,scaleSequential:ote,scaleSequentialLog:ate,scaleSequentialPow:$I,scaleSequentialQuantile:cte,scaleSequentialSqrt:F5e,scaleSequentialSymlog:lte,scaleSqrt:w4e,scaleSymlog:qee,scaleThreshold:Jee,scaleTime:$5e,scaleUtc:B5e,tickFormat:Hee},Symbol.toStringTag,{value:"Module"}));var U5e=km;function H5e(e,t,n){for(var r=-1,s=e.length;++r<s;){var i=e[r],o=t(i);if(o!=null&&(l===void 0?o===o&&!U5e(o):n(o,l)))var l=o,c=i}return c}var fte=H5e;function W5e(e,t){return e>t}var V5e=W5e,G5e=fte,q5e=V5e,K5e=Om;function Y5e(e){return e&&e.length?G5e(e,K5e,q5e):void 0}var X5e=Y5e;const o_=Dt(X5e);function J5e(e,t){return e<t}var Q5e=J5e,Z5e=fte,eBe=Q5e,tBe=Om;function nBe(e){return e&&e.length?Z5e(e,tBe,eBe):void 0}var rBe=nBe;const a_=Dt(rBe);var sBe=ZR,iBe=vu,oBe=xee,aBe=Xs;function lBe(e,t){var n=aBe(e)?sBe:oBe;return n(e,iBe(t))}var cBe=lBe,uBe=gee,dBe=cBe;function hBe(e,t){return uBe(dBe(e,t),1)}var fBe=hBe;const pBe=Dt(fBe);var mBe=pI;function gBe(e,t){return mBe(e,t)}var yBe=gBe;const l_=Dt(yBe);var Dm=1e9,xBe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},zI,En=!0,Qi="[DecimalError] ",wd=Qi+"Invalid argument: ",FI=Qi+"Exponent out of range: ",Rm=Math.floor,Bu=Math.pow,vBe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,oi,Er=1e7,vn=7,pte=9007199254740991,RS=Rm(pte/vn),Pe={};Pe.absoluteValue=Pe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Pe.comparedTo=Pe.cmp=function(e){var t,n,r,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(r=i.d.length,s=e.d.length,t=0,n=r<s?r:s;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===s?0:r>s^i.s<0?1:-1};Pe.decimalPlaces=Pe.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*vn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Pe.dividedBy=Pe.div=function(e){return ml(this,new this.constructor(e))};Pe.dividedToIntegerBy=Pe.idiv=function(e){var t=this,n=t.constructor;return tn(ml(t,new n(e),0,1),n.precision)};Pe.equals=Pe.eq=function(e){return!this.cmp(e)};Pe.exponent=function(){return ur(this)};Pe.greaterThan=Pe.gt=function(e){return this.cmp(e)>0};Pe.greaterThanOrEqualTo=Pe.gte=function(e){return this.cmp(e)>=0};Pe.isInteger=Pe.isint=function(){return this.e>this.d.length-2};Pe.isNegative=Pe.isneg=function(){return this.s<0};Pe.isPositive=Pe.ispos=function(){return this.s>0};Pe.isZero=function(){return this.s===0};Pe.lessThan=Pe.lt=function(e){return this.cmp(e)<0};Pe.lessThanOrEqualTo=Pe.lte=function(e){return this.cmp(e)<1};Pe.logarithm=Pe.log=function(e){var t,n=this,r=n.constructor,s=r.precision,i=s+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(oi))throw Error(Qi+"NaN");if(n.s<1)throw Error(Qi+(n.s?"NaN":"-Infinity"));return n.eq(oi)?new r(0):(En=!1,t=ml(Cx(n,i),Cx(e,i),i),En=!0,tn(t,s))};Pe.minus=Pe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?yte(t,e):mte(t,(e.s=-e.s,e))};Pe.modulo=Pe.mod=function(e){var t,n=this,r=n.constructor,s=r.precision;if(e=new r(e),!e.s)throw Error(Qi+"NaN");return n.s?(En=!1,t=ml(n,e,0,1).times(e),En=!0,n.minus(t)):tn(new r(n),s)};Pe.naturalExponential=Pe.exp=function(){return gte(this)};Pe.naturalLogarithm=Pe.ln=function(){return Cx(this)};Pe.negated=Pe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Pe.plus=Pe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?mte(t,e):yte(t,(e.s=-e.s,e))};Pe.precision=Pe.sd=function(e){var t,n,r,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(wd+e);if(t=ur(s)+1,r=s.d.length-1,n=r*vn+1,r=s.d[r],r){for(;r%10==0;r/=10)n--;for(r=s.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Pe.squareRoot=Pe.sqrt=function(){var e,t,n,r,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Qi+"NaN")}for(e=ur(l),En=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=pa(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Rm((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(s.toString()),n=c.precision,s=o=n+3;;)if(i=r,r=i.plus(ml(l,i,o+2)).times(.5),pa(i.d).slice(0,o)===(t=pa(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(tn(i,n+1,0),i.times(i).eq(l)){r=i;break}}else if(t!="9999")break;o+=4}return En=!0,tn(r,n)};Pe.times=Pe.mul=function(e){var t,n,r,s,i,o,l,c,u,d=this,h=d.constructor,f=d.d,p=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,n=d.e+e.e,c=f.length,u=p.length,c<u&&(i=f,f=p,p=i,o=c,c=u,u=o),i=[],o=c+u,r=o;r--;)i.push(0);for(r=u;--r>=0;){for(t=0,s=c+r;s>r;)l=i[s]+p[r]*f[s-r-1]+t,i[s--]=l%Er|0,t=l/Er|0;i[s]=(i[s]+t)%Er|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,En?tn(e,h.precision):e};Pe.toDecimalPlaces=Pe.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(ja(e,0,Dm),t===void 0?t=r.rounding:ja(t,0,8),tn(n,e+ur(n)+1,t))};Pe.toExponential=function(e,t){var n,r=this,s=r.constructor;return e===void 0?n=Gd(r,!0):(ja(e,0,Dm),t===void 0?t=s.rounding:ja(t,0,8),r=tn(new s(r),e+1,t),n=Gd(r,!0,e+1)),n};Pe.toFixed=function(e,t){var n,r,s=this,i=s.constructor;return e===void 0?Gd(s):(ja(e,0,Dm),t===void 0?t=i.rounding:ja(t,0,8),r=tn(new i(s),e+ur(s)+1,t),n=Gd(r.abs(),!1,e+ur(r)+1),s.isneg()&&!s.isZero()?"-"+n:n)};Pe.toInteger=Pe.toint=function(){var e=this,t=e.constructor;return tn(new t(e),ur(e)+1,t.rounding)};Pe.toNumber=function(){return+this};Pe.toPower=Pe.pow=function(e){var t,n,r,s,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(oi);if(l=new c(l),!l.s){if(e.s<1)throw Error(Qi+"Infinity");return l}if(l.eq(oi))return l;if(r=c.precision,e.eq(oi))return tn(l,r);if(t=e.e,n=e.d.length-1,o=t>=n,i=l.s,o){if((n=d<0?-d:d)<=pte){for(s=new c(oi),t=Math.ceil(r/vn+4),En=!1;n%2&&(s=s.times(l),uz(s.d,t)),n=Rm(n/2),n!==0;)l=l.times(l),uz(l.d,t);return En=!0,e.s<0?new c(oi).div(s):tn(s,r)}}else if(i<0)throw Error(Qi+"NaN");return i=i<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,En=!1,s=e.times(Cx(l,r+u)),En=!0,s=gte(s),s.s=i,s};Pe.toPrecision=function(e,t){var n,r,s=this,i=s.constructor;return e===void 0?(n=ur(s),r=Gd(s,n<=i.toExpNeg||n>=i.toExpPos)):(ja(e,1,Dm),t===void 0?t=i.rounding:ja(t,0,8),s=tn(new i(s),e,t),n=ur(s),r=Gd(s,e<=n||n<=i.toExpNeg,e)),r};Pe.toSignificantDigits=Pe.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(ja(e,1,Dm),t===void 0?t=r.rounding:ja(t,0,8)),tn(new r(n),e,t)};Pe.toString=Pe.valueOf=Pe.val=Pe.toJSON=Pe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ur(e),n=e.constructor;return Gd(e,t<=n.toExpNeg||t>=n.toExpPos)};function mte(e,t){var n,r,s,i,o,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),En?tn(t,h):t;if(c=e.d,u=t.d,o=e.e,s=t.e,c=c.slice(),i=o-s,i){for(i<0?(r=c,i=-i,l=u.length):(r=u,s=o,l=c.length),o=Math.ceil(h/vn),l=o>l?o+1:l+1,i>l&&(i=l,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,r=u,u=c,c=r),n=0;i;)n=(c[--i]=c[i]+u[i]+n)/Er|0,c[i]%=Er;for(n&&(c.unshift(n),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,En?tn(t,h):t}function ja(e,t,n){if(e!==~~e||e<t||e>n)throw Error(wd+e)}function pa(e){var t,n,r,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)r=e[t]+"",n=vn-r.length,n&&(i+=Zl(n)),i+=r;o=e[t],r=o+"",n=vn-r.length,n&&(i+=Zl(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var ml=function(){function e(r,s){var i,o=0,l=r.length;for(r=r.slice();l--;)i=r[l]*s+o,r[l]=i%Er|0,o=i/Er|0;return o&&r.unshift(o),r}function t(r,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(r[l]!=s[l]){c=r[l]>s[l]?1:-1;break}return c}function n(r,s,i){for(var o=0;i--;)r[i]-=o,o=r[i]<s[i]?1:0,r[i]=o*Er+r[i]-s[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,s,i,o){var l,c,u,d,h,f,p,m,g,y,x,b,w,N,S,k,j,_,C=r.constructor,A=r.s==s.s?1:-1,O=r.d,M=s.d;if(!r.s)return new C(r);if(!s.s)throw Error(Qi+"Division by zero");for(c=r.e-s.e,j=M.length,S=O.length,p=new C(A),m=p.d=[],u=0;M[u]==(O[u]||0);)++u;if(M[u]>(O[u]||0)&&--c,i==null?b=i=C.precision:o?b=i+(ur(r)-ur(s))+1:b=i,b<0)return new C(0);if(b=b/vn+2|0,u=0,j==1)for(d=0,M=M[0],b++;(u<S||d)&&b--;u++)w=d*Er+(O[u]||0),m[u]=w/M|0,d=w%M|0;else{for(d=Er/(M[0]+1)|0,d>1&&(M=e(M,d),O=e(O,d),j=M.length,S=O.length),N=j,g=O.slice(0,j),y=g.length;y<j;)g[y++]=0;_=M.slice(),_.unshift(0),k=M[0],M[1]>=Er/2&&++k;do d=0,l=t(M,g,j,y),l<0?(x=g[0],j!=y&&(x=x*Er+(g[1]||0)),d=x/k|0,d>1?(d>=Er&&(d=Er-1),h=e(M,d),f=h.length,y=g.length,l=t(h,g,f,y),l==1&&(d--,n(h,j<f?_:M,f))):(d==0&&(l=d=1),h=M.slice()),f=h.length,f<y&&h.unshift(0),n(g,h,y),l==-1&&(y=g.length,l=t(M,g,j,y),l<1&&(d++,n(g,j<y?_:M,y))),y=g.length):l===0&&(d++,g=[0]),m[u++]=d,l&&g[0]?g[y++]=O[N]||0:(g=[O[N]],y=1);while((N++<S||g[0]!==void 0)&&b--)}return m[0]||m.shift(),p.e=c,tn(p,o?i+ur(p)+1:i)}}();function gte(e,t){var n,r,s,i,o,l,c=0,u=0,d=e.constructor,h=d.precision;if(ur(e)>16)throw Error(FI+ur(e));if(!e.s)return new d(oi);for(En=!1,l=h,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(r=Math.log(Bu(2,u))/Math.LN10*2+5|0,l+=r,n=s=i=new d(oi),d.precision=l;;){if(s=tn(s.times(e),l),n=n.times(++c),o=i.plus(ml(s,n,l)),pa(o.d).slice(0,l)===pa(i.d).slice(0,l)){for(;u--;)i=tn(i.times(i),l);return d.precision=h,t==null?(En=!0,tn(i,h)):i}i=o}}function ur(e){for(var t=e.e*vn,n=e.d[0];n>=10;n/=10)t++;return t}function $C(e,t,n){if(t>e.LN10.sd())throw En=!0,n&&(e.precision=n),Error(Qi+"LN10 precision limit exceeded");return tn(new e(e.LN10),t)}function Zl(e){for(var t="";e--;)t+="0";return t}function Cx(e,t){var n,r,s,i,o,l,c,u,d,h=1,f=10,p=e,m=p.d,g=p.constructor,y=g.precision;if(p.s<1)throw Error(Qi+(p.s?"NaN":"-Infinity"));if(p.eq(oi))return new g(0);if(t==null?(En=!1,u=y):u=t,p.eq(10))return t==null&&(En=!0),$C(g,u);if(u+=f,g.precision=u,n=pa(m),r=n.charAt(0),i=ur(p),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(e),n=pa(p.d),r=n.charAt(0),h++;i=ur(p),r>1?(p=new g("0."+n),i++):p=new g(r+"."+n.slice(1))}else return c=$C(g,u+2,y).times(i+""),p=Cx(new g(r+"."+n.slice(1)),u-f).plus(c),g.precision=y,t==null?(En=!0,tn(p,y)):p;for(l=o=p=ml(p.minus(oi),p.plus(oi),u),d=tn(p.times(p),u),s=3;;){if(o=tn(o.times(d),u),c=l.plus(ml(o,new g(s),u)),pa(c.d).slice(0,u)===pa(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus($C(g,u+2,y).times(i+""))),l=ml(l,new g(h),u),g.precision=y,t==null?(En=!0,tn(l,y)):l;l=c,s+=2}}function cz(e,t){var n,r,s;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(r,s),t){if(s-=r,n=n-r-1,e.e=Rm(n/vn),e.d=[],r=(n+1)%vn,n<0&&(r+=vn),r<s){for(r&&e.d.push(+t.slice(0,r)),s-=vn;r<s;)e.d.push(+t.slice(r,r+=vn));t=t.slice(r),r=vn-t.length}else r-=s;for(;r--;)t+="0";if(e.d.push(+t),En&&(e.e>RS||e.e<-RS))throw Error(FI+n)}else e.s=0,e.e=0,e.d=[0];return e}function tn(e,t,n){var r,s,i,o,l,c,u,d,h=e.d;for(o=1,i=h[0];i>=10;i/=10)o++;if(r=t-o,r<0)r+=vn,s=t,u=h[d=0];else{if(d=Math.ceil((r+1)/vn),i=h.length,d>=i)return e;for(u=i=h[d],o=1;i>=10;i/=10)o++;r%=vn,s=r-vn+o}if(n!==void 0&&(i=Bu(10,o-s-1),l=u/i%10|0,c=t<0||h[d+1]!==void 0||u%i,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?s>0?u/Bu(10,o-s):0:h[d-1])%10&1||n==(e.s<0?8:7))),t<1||!h[0])return c?(i=ur(e),h.length=1,t=t-i-1,h[0]=Bu(10,(vn-t%vn)%vn),e.e=Rm(-t/vn)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(r==0?(h.length=d,i=1,d--):(h.length=d+1,i=Bu(10,vn-r),h[d]=s>0?(u/Bu(10,o-s)%Bu(10,s)|0)*i:0),c)for(;;)if(d==0){(h[0]+=i)==Er&&(h[0]=1,++e.e);break}else{if(h[d]+=i,h[d]!=Er)break;h[d--]=0,i=1}for(r=h.length;h[--r]===0;)h.pop();if(En&&(e.e>RS||e.e<-RS))throw Error(FI+ur(e));return e}function yte(e,t){var n,r,s,i,o,l,c,u,d,h,f=e.constructor,p=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),En?tn(t,p):t;if(c=e.d,h=t.d,r=t.e,u=e.e,c=c.slice(),o=u-r,o){for(d=o<0,d?(n=c,o=-o,l=h.length):(n=h,r=u,l=c.length),s=Math.max(Math.ceil(p/vn),l)+2,o>s&&(o=s,n.length=1),n.reverse(),s=o;s--;)n.push(0);n.reverse()}else{for(s=c.length,l=h.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=h[s]){d=c[s]<h[s];break}o=0}for(d&&(n=c,c=h,h=n,t.s=-t.s),l=c.length,s=h.length-l;s>0;--s)c[l++]=0;for(s=h.length;s>o;){if(c[--s]<h[s]){for(i=s;i&&c[--i]===0;)c[i]=Er-1;--c[i],c[s]+=Er}c[s]-=h[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,En?tn(t,p):t):new f(0)}function Gd(e,t,n){var r,s=ur(e),i=pa(e.d),o=i.length;return t?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+Zl(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Zl(-s-1)+i,n&&(r=n-o)>0&&(i+=Zl(r))):s>=o?(i+=Zl(s+1-o),n&&(r=n-s-1)>0&&(i=i+"."+Zl(r))):((r=s+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(s+1===o&&(i+="."),i+=Zl(r))),e.s<0?"-"+i:i}function uz(e,t){if(e.length>t)return e.length=t,!0}function xte(e){var t,n,r;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(wd+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return cz(o,i.toString())}else if(typeof i!="string")throw Error(wd+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,vBe.test(i))cz(o,i);else throw Error(wd+i)}if(s.prototype=Pe,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=xte,s.config=s.set=bBe,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return s.config(e),s}function bBe(e){if(!e||typeof e!="object")throw Error(Qi+"Object expected");var t,n,r,s=["precision",1,Dm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((r=e[n=s[t]])!==void 0)if(Rm(r)===r&&r>=s[t+1]&&r<=s[t+2])this[n]=r;else throw Error(wd+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(wd+n+": "+r);return this}var zI=xte(xBe);oi=new zI(1);const Yt=zI;function wBe(e){return jBe(e)||kBe(e)||NBe(e)||SBe()}function SBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NBe(e,t){if(e){if(typeof e=="string")return N2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N2(e,t)}}function kBe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function jBe(e){if(Array.isArray(e))return N2(e)}function N2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _Be=function(t){return t},vte={},bte=function(t){return t===vte},dz=function(t){return function n(){return arguments.length===0||arguments.length===1&&bte(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},EBe=function e(t,n){return t===1?n:dz(function(){for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==vte}).length;return o>=t?n.apply(void 0,s):e(t-o,dz(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=s.map(function(h){return bte(h)?c.shift():h});return n.apply(void 0,wBe(d).concat(c))}))})},c_=function(t){return EBe(t.length,t)},k2=function(t,n){for(var r=[],s=t;s<n;++s)r[s-t]=s;return r},CBe=c_(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),TBe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return _Be;var s=n.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},j2=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},wte=function(t){var n=null,r=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return n&&i.every(function(l,c){return l===n[c]})||(n=i,r=t.apply(void 0,i)),r}};function ABe(e){var t;return e===0?t=1:t=Math.floor(new Yt(e).abs().log(10).toNumber())+1,t}function OBe(e,t,n){for(var r=new Yt(e),s=0,i=[];r.lt(t)&&s<1e5;)i.push(r.toNumber()),r=r.add(n),s++;return i}var MBe=c_(function(e,t,n){var r=+e,s=+t;return r+n*(s-r)}),PBe=c_(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),DBe=c_(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const u_={rangeStep:OBe,getDigitCount:ABe,interpolateNumber:MBe,uninterpolateNumber:PBe,uninterpolateTruncation:DBe};function _2(e){return LBe(e)||IBe(e)||Ste(e)||RBe()}function RBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IBe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function LBe(e){if(Array.isArray(e))return E2(e)}function Tx(e,t){return FBe(e)||BBe(e,t)||Ste(e,t)||$Be()}function $Be(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ste(e,t){if(e){if(typeof e=="string")return E2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E2(e,t)}}function E2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function BBe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,s=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(n.push(l.value),!(t&&n.length===t));r=!0);}catch(c){s=!0,i=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(s)throw i}}return n}}function FBe(e){if(Array.isArray(e))return e}function Nte(e){var t=Tx(e,2),n=t[0],r=t[1],s=n,i=r;return n>r&&(s=r,i=n),[s,i]}function kte(e,t,n){if(e.lte(0))return new Yt(0);var r=u_.getDigitCount(e.toNumber()),s=new Yt(10).pow(r),i=e.div(s),o=r!==1?.05:.1,l=new Yt(Math.ceil(i.div(o).toNumber())).add(n).mul(o),c=l.mul(s);return t?c:new Yt(Math.ceil(c))}function zBe(e,t,n){var r=1,s=new Yt(e);if(!s.isint()&&n){var i=Math.abs(e);i<1?(r=new Yt(10).pow(u_.getDigitCount(e)-1),s=new Yt(Math.floor(s.div(r).toNumber())).mul(r)):i>1&&(s=new Yt(Math.floor(e)))}else e===0?s=new Yt(Math.floor((t-1)/2)):n||(s=new Yt(Math.floor(e)));var o=Math.floor((t-1)/2),l=TBe(CBe(function(c){return s.add(new Yt(c-o).mul(r)).toNumber()}),k2);return l(0,t)}function jte(e,t,n,r){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new Yt(0),tickMin:new Yt(0),tickMax:new Yt(0)};var i=kte(new Yt(t).sub(e).div(n-1),r,s),o;e<=0&&t>=0?o=new Yt(0):(o=new Yt(e).add(t).div(2),o=o.sub(new Yt(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Yt(t).sub(o).div(i).toNumber()),u=l+c+1;return u>n?jte(e,t,n,r,s+1):(u<n&&(c=t>0?c+(n-u):c,l=t>0?l:l+(n-u)),{step:i,tickMin:o.sub(new Yt(l).mul(i)),tickMax:o.add(new Yt(c).mul(i))})}function UBe(e){var t=Tx(e,2),n=t[0],r=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=Nte([n,r]),c=Tx(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var h=d===1/0?[u].concat(_2(k2(0,s-1).map(function(){return 1/0}))):[].concat(_2(k2(0,s-1).map(function(){return-1/0})),[d]);return n>r?j2(h):h}if(u===d)return zBe(u,s,i);var f=jte(u,d,o,i),p=f.step,m=f.tickMin,g=f.tickMax,y=u_.rangeStep(m,g.add(new Yt(.1).mul(p)),p);return n>r?j2(y):y}function HBe(e,t){var n=Tx(e,2),r=n[0],s=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Nte([r,s]),l=Tx(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[r,s];if(c===u)return[c];var d=Math.max(t,2),h=kte(new Yt(u).sub(c).div(d-1),i,0),f=[].concat(_2(u_.rangeStep(new Yt(c),new Yt(u).sub(new Yt(.99).mul(h)),h)),[u]);return r>s?j2(f):f}var WBe=wte(UBe),VBe=wte(HBe),GBe="Invariant failed";function qd(e,t){throw new Error(GBe)}var qBe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Lp(e){"@babel/helpers - typeof";return Lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lp(e)}function IS(){return IS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IS.apply(this,arguments)}function KBe(e,t){return QBe(e)||JBe(e,t)||XBe(e,t)||YBe()}function YBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XBe(e,t){if(e){if(typeof e=="string")return hz(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hz(e,t)}}function hz(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function JBe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function QBe(e){if(Array.isArray(e))return e}function ZBe(e,t){if(e==null)return{};var n=eFe(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function eFe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function tFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nFe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Cte(r.key),r)}}function rFe(e,t,n){return t&&nFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sFe(e,t,n){return t=LS(t),iFe(e,_te()?Reflect.construct(t,n||[],LS(e).constructor):t.apply(e,n))}function iFe(e,t){if(t&&(Lp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oFe(e)}function oFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _te(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_te=function(){return!!e})()}function LS(e){return LS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},LS(e)}function aFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C2(e,t)}function C2(e,t){return C2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},C2(e,t)}function Ete(e,t,n){return t=Cte(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cte(e){var t=lFe(e,"string");return Lp(t)=="symbol"?t:t+""}function lFe(e,t){if(Lp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Lp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var w0=function(e){function t(){return tFe(this,t),sFe(this,t,arguments)}return aFe(t,e),rFe(t,[{key:"render",value:function(){var r=this.props,s=r.offset,i=r.layout,o=r.width,l=r.dataKey,c=r.data,u=r.dataPointFormatter,d=r.xAxis,h=r.yAxis,f=ZBe(r,qBe),p=_t(f,!1);this.props.direction==="x"&&d.type!=="number"&&qd();var m=c.map(function(g){var y=u(g,l),x=y.x,b=y.y,w=y.value,N=y.errorVal;if(!N)return null;var S=[],k,j;if(Array.isArray(N)){var _=KBe(N,2);k=_[0],j=_[1]}else k=j=N;if(i==="vertical"){var C=d.scale,A=b+s,O=A+o,M=A-o,P=C(w-k),E=C(w+j);S.push({x1:E,y1:O,x2:E,y2:M}),S.push({x1:P,y1:A,x2:E,y2:A}),S.push({x1:P,y1:O,x2:P,y2:M})}else if(i==="horizontal"){var I=h.scale,T=x+s,R=T-o,L=T+o,D=I(w-k),F=I(w+j);S.push({x1:R,y1:F,x2:L,y2:F}),S.push({x1:T,y1:D,x2:T,y2:F}),S.push({x1:R,y1:D,x2:L,y2:D})}return H.createElement(tr,IS({className:"recharts-errorBar",key:"bar-".concat(S.map(function(z){return"".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))},p),S.map(function(z){return H.createElement("line",IS({},z,{key:"line-".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))}))});return H.createElement(tr,{className:"recharts-errorBars"},m)}}])}(H.Component);Ete(w0,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Ete(w0,"displayName","ErrorBar");function Ax(e){"@babel/helpers - typeof";return Ax=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ax(e)}function fz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Eu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fz(Object(n),!0).forEach(function(r){cFe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fz(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cFe(e,t,n){return t=uFe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uFe(e){var t=dFe(e,"string");return Ax(t)=="symbol"?t:t+""}function dFe(e,t){if(Ax(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ax(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tte=function(t){var n=t.children,r=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,o=ni(n,Hf);if(!o)return null;var l=Hf.defaultProps,c=l!==void 0?Eu(Eu({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(r||[]).reduce(function(d,h){var f=h.item,p=h.props,m=p.sectors||p.data||[];return d.concat(m.map(function(g){return{type:o.props.iconType||f.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(r||[]).map(function(d){var h=d.item,f=h.type.defaultProps,p=f!==void 0?Eu(Eu({},f),h.props):{},m=p.dataKey,g=p.name,y=p.legendType,x=p.hide;return{inactive:x,dataKey:m,type:c.iconType||y||"square",color:UI(h),value:g||m,payload:p}}),Eu(Eu(Eu({},c),Hf.getWithHeight(o,s)),{},{payload:u,item:o})};function Ox(e){"@babel/helpers - typeof";return Ox=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ox(e)}function pz(e){return mFe(e)||pFe(e)||fFe(e)||hFe()}function hFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fFe(e,t){if(e){if(typeof e=="string")return T2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T2(e,t)}}function pFe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mFe(e){if(Array.isArray(e))return T2(e)}function T2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Wn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mz(Object(n),!0).forEach(function(r){Vf(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mz(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vf(e,t,n){return t=gFe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gFe(e){var t=yFe(e,"string");return Ox(t)=="symbol"?t:t+""}function yFe(e,t){if(Ox(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ox(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xi(e,t,n){return vt(e)||vt(t)?n:vr(t)?Vi(e,t,n):ht(t)?t(e):n}function by(e,t,n,r){var s=pBe(e,function(l){return xi(l,t)});if(n==="number"){var i=s.filter(function(l){return ke(l)||parseFloat(l)});return i.length?[a_(i),o_(i)]:[1/0,-1/0]}var o=r?s.filter(function(l){return!vt(l)}):s;return o.map(function(l){return vr(l)||l instanceof Date?l:""})}var xFe=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?s[u-1].coordinate:s[l-1].coordinate,h=s[u].coordinate,f=u>=l-1?s[0].coordinate:s[u+1].coordinate,p=void 0;if(Ao(h-d)!==Ao(f-h)){var m=[];if(Ao(f-h)===Ao(c[1]-c[0])){p=f;var g=h+c[1]-c[0];m[0]=Math.min(g,(g+d)/2),m[1]=Math.max(g,(g+d)/2)}else{p=d;var y=f+c[1]-c[0];m[0]=Math.min(h,(y+h)/2),m[1]=Math.max(h,(y+h)/2)}var x=[Math.min(h,(p+h)/2),Math.max(h,(p+h)/2)];if(t>x[0]&&t<=x[1]||t>=m[0]&&t<=m[1]){o=s[u].index;break}}else{var b=Math.min(d,f),w=Math.max(d,f);if(t>(b+h)/2&&t<=(w+h)/2){o=s[u].index;break}}}else for(var N=0;N<l;N++)if(N===0&&t<=(r[N].coordinate+r[N+1].coordinate)/2||N>0&&N<l-1&&t>(r[N].coordinate+r[N-1].coordinate)/2&&t<=(r[N].coordinate+r[N+1].coordinate)/2||N===l-1&&t>(r[N].coordinate+r[N-1].coordinate)/2){o=r[N].index;break}return o},UI=function(t){var n,r=t,s=r.type.displayName,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Wn(Wn({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},vFe=function(t){var n=t.barSize,r=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,h=Object.keys(d),f=0,p=h.length;f<p;f++){var m=d[h[f]],g=m.items,y=m.cateAxisId,x=g.filter(function(j){return fl(j.type).indexOf("Bar")>=0});if(x&&x.length){var b=x[0].type.defaultProps,w=b!==void 0?Wn(Wn({},b),x[0].props):x[0].props,N=w.barSize,S=w[y];o[S]||(o[S]=[]);var k=vt(N)?n:N;o[S].push({item:x[0],stackList:x.slice(1),barSize:vt(k)?void 0:Wd(k,r,0)})}}return o},bFe=function(t){var n=t.barGap,r=t.barCategoryGap,s=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Wd(n,s,0,!0),d,h=[];if(o[0].barSize===+o[0].barSize){var f=!1,p=s/c,m=o.reduce(function(N,S){return N+S.barSize||0},0);m+=(c-1)*u,m>=s&&(m-=(c-1)*u,u=0),m>=s&&p>0&&(f=!0,p*=.9,m=c*p);var g=(s-m)/2>>0,y={offset:g-u,size:0};d=o.reduce(function(N,S){var k={item:S.item,position:{offset:y.offset+y.size+u,size:f?p:S.barSize}},j=[].concat(pz(N),[k]);return y=j[j.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(_){j.push({item:_,position:y})}),j},h)}else{var x=Wd(r,s,0,!0);s-2*x-(c-1)*u<=0&&(u=0);var b=(s-2*x-(c-1)*u)/c;b>1&&(b>>=0);var w=l===+l?Math.min(b,l):b;d=o.reduce(function(N,S,k){var j=[].concat(pz(N),[{item:S.item,position:{offset:x+(b+u)*k+(b-w)/2,size:w}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(_){j.push({item:_,position:j[j.length-1].position})}),j},h)}return d},wFe=function(t,n,r,s){var i=r.children,o=r.width,l=r.margin,c=o-(l.left||0)-(l.right||0),u=Tte({children:i,legendWidth:c});if(u){var d=s||{},h=d.width,f=d.height,p=u.align,m=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&m==="middle")&&p!=="center"&&ke(t[p]))return Wn(Wn({},t),{},Vf({},p,t[p]+(h||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&m!=="middle"&&ke(t[m]))return Wn(Wn({},t),{},Vf({},m,t[m]+(f||0)))}return t},SFe=function(t,n,r){return vt(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},Ate=function(t,n,r,s,i){var o=n.props.children,l=Gi(o,w0).filter(function(u){return SFe(s,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var h=xi(d,r);if(vt(h))return u;var f=Array.isArray(h)?[a_(h),o_(h)]:[h,h],p=c.reduce(function(m,g){var y=xi(d,g,0),x=f[0]-Math.abs(Array.isArray(y)?y[0]:y),b=f[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(x,m[0]),Math.max(b,m[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},NFe=function(t,n,r,s,i){var o=n.map(function(l){return Ate(t,l,r,i,s)}).filter(function(l){return!vt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},Ote=function(t,n,r,s,i){var o=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&Ate(t,c,u,s)||by(t,u,r,i)});if(r==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,h=u.length;d<h;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},Mte=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},Pte=function(t,n,r,s){if(s)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===n&&(i=!0),c.coordinate===r&&(o=!0),c.coordinate});return i||l.push(n),o||l.push(r),l},al=function(t,n,r){if(!t)return null;var s=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(n||r)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Ao(l[0]-l[1])*2*u:u,n&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(h){var f=i?i.indexOf(h):h;return{coordinate:s(f)+u,value:h,offset:u}});return d.filter(function(h){return!p0(h.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(h,f){return{coordinate:s(h)+u,value:h,index:f,offset:u}}):s.ticks&&!r?s.ticks(t.tickCount).map(function(h){return{coordinate:s(h)+u,value:h,offset:u}}):s.domain().map(function(h,f){return{coordinate:s(h)+u,value:i?i[h]:h,index:f,offset:u}})},BC=new WeakMap,Mb=function(t,n){if(typeof n!="function")return t;BC.has(t)||BC.set(t,new WeakMap);var r=BC.get(t);if(r.has(n))return r.get(n);var s=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,s),s},kFe=function(t,n,r){var s=t.scale,i=t.type,o=t.layout,l=t.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:kx(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:OS(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:vy(),realScaleType:"point"}:i==="category"?{scale:kx(),realScaleType:"band"}:{scale:OS(),realScaleType:"linear"};if(Hd(s)){var c="scale".concat(qj(s));return{scale:(lz[c]||vy)(),realScaleType:lz[c]?c:"point"}}return ht(s)?{scale:s}:{scale:vy(),realScaleType:"point"}},gz=1e-4,jFe=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,s=t.range(),i=Math.min(s[0],s[1])-gz,o=Math.max(s[0],s[1])+gz,l=t(n[0]),c=t(n[r-1]);(l<i||l>o||c<i||c>o)&&t.domain([n[0],n[r-1]])}},_Fe=function(t,n){if(!t)return null;for(var r=0,s=t.length;r<s;r++)if(t[r].item===n)return t[r].position;return null},EFe=function(t,n){if(!n||n.length!==2||!ke(n[0])||!ke(n[1]))return t;var r=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]),i=[t[0],t[1]];return(!ke(t[0])||t[0]<r)&&(i[0]=r),(!ke(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<r&&(i[1]=r),i},CFe=function(t){var n=t.length;if(!(n<=0))for(var r=0,s=t[0].length;r<s;++r)for(var i=0,o=0,l=0;l<n;++l){var c=p0(t[l][r][1])?t[l][r][0]:t[l][r][1];c>=0?(t[l][r][0]=i,t[l][r][1]=i+c,i=t[l][r][1]):(t[l][r][0]=o,t[l][r][1]=o+c,o=t[l][r][1])}},TFe=function(t){var n=t.length;if(!(n<=0))for(var r=0,s=t[0].length;r<s;++r)for(var i=0,o=0;o<n;++o){var l=p0(t[o][r][1])?t[o][r][0]:t[o][r][1];l>=0?(t[o][r][0]=i,t[o][r][1]=i+l,i=t[o][r][1]):(t[o][r][0]=0,t[o][r][1]=0)}},AFe={sign:CFe,expand:$Ae,none:Tp,silhouette:BAe,wiggle:FAe,positive:TFe},OFe=function(t,n,r){var s=n.map(function(l){return l.props.dataKey}),i=AFe[r],o=LAe().keys(s).value(function(l,c){return+xi(l,c,0)}).order(ZO).offset(i);return o(t)},MFe=function(t,n,r,s,i,o){if(!t)return null;var l=o?n.reverse():n,c={},u=l.reduce(function(h,f){var p,m=(p=f.type)!==null&&p!==void 0&&p.defaultProps?Wn(Wn({},f.type.defaultProps),f.props):f.props,g=m.stackId,y=m.hide;if(y)return h;var x=m[r],b=h[x]||{hasStack:!1,stackGroups:{}};if(vr(g)){var w=b.stackGroups[g]||{numericAxisId:r,cateAxisId:s,items:[]};w.items.push(f),b.hasStack=!0,b.stackGroups[g]=w}else b.stackGroups[m0("_stackId_")]={numericAxisId:r,cateAxisId:s,items:[f]};return Wn(Wn({},h),{},Vf({},x,b))},c),d={};return Object.keys(u).reduce(function(h,f){var p=u[f];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,y){var x=p.stackGroups[y];return Wn(Wn({},g),{},Vf({},y,{numericAxisId:r,cateAxisId:s,items:x.items,stackedData:OFe(t,x.items,i)}))},m)}return Wn(Wn({},h),{},Vf({},f,p))},d)},PFe=function(t,n){var r=n.realScaleType,s=n.type,i=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=WBe(u,i,l);return t.domain([a_(d),o_(d)]),{niceTicks:d}}if(i&&s==="number"){var h=t.domain(),f=VBe(h,i,l);return{niceTicks:f}}return null};function yz(e){var t=e.axis,n=e.ticks,r=e.bandSize,s=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!vt(s[t.dataKey])){var l=lS(n,"value",s[t.dataKey]);if(l)return l.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var c=xi(s,vt(o)?t.dataKey:o);return vt(c)?null:t.scale(c)}var xz=function(t){var n=t.axis,r=t.ticks,s=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(n.type==="category")return r[l]?r[l].coordinate+s:null;var c=xi(o,n.dataKey,n.domain[l]);return vt(c)?null:n.scale(c)-i/2+s},DFe=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var s=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return s<=0&&i>=0?0:i<0?i:s}return r[0]},RFe=function(t,n){var r,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Wn(Wn({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(vr(i)){var o=n[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},IFe=function(t){return t.reduce(function(n,r){return[a_(r.concat([n[0]]).filter(ke)),o_(r.concat([n[1]]).filter(ke))]},[1/0,-1/0])},Dte=function(t,n,r){return Object.keys(t).reduce(function(s,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var h=IFe(d.slice(n,r+1));return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},vz=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bz=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,A2=function(t,n,r){if(ht(t))return t(n,r);if(!Array.isArray(t))return n;var s=[];if(ke(t[0]))s[0]=r?t[0]:Math.min(t[0],n[0]);else if(vz.test(t[0])){var i=+vz.exec(t[0])[1];s[0]=n[0]-i}else ht(t[0])?s[0]=t[0](n[0]):s[0]=n[0];if(ke(t[1]))s[1]=r?t[1]:Math.max(t[1],n[1]);else if(bz.test(t[1])){var o=+bz.exec(t[1])[1];s[1]=n[1]+o}else ht(t[1])?s[1]=t[1](n[1]):s[1]=n[1];return s},$S=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!r||s>0)return s}if(t&&n&&n.length>=2){for(var i=gI(n,function(h){return h.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},wz=function(t,n,r){return!t||!t.length||l_(t,Vi(r,"type.defaultProps.domain"))?n:t},Rte=function(t,n){var r=t.type.defaultProps?Wn(Wn({},t.type.defaultProps),t.props):t.props,s=r.dataKey,i=r.name,o=r.unit,l=r.formatter,c=r.tooltipType,u=r.chartType,d=r.hide;return Wn(Wn({},_t(t,!1)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:UI(t),value:xi(n,s),type:c,payload:n,chartType:u,hide:d})};function Mx(e){"@babel/helpers - typeof";return Mx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mx(e)}function Sz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Nz(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Sz(Object(n),!0).forEach(function(r){LFe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sz(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LFe(e,t,n){return t=$Fe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $Fe(e){var t=BFe(e,"string");return Mx(t)=="symbol"?t:t+""}function BFe(e,t){if(Mx(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Mx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BS=Math.PI/180,FFe=function(t){return t*180/Math.PI},Wr=function(t,n,r,s){return{x:t+Math.cos(-BS*s)*r,y:n+Math.sin(-BS*s)*r}},zFe=function(t,n){var r=t.x,s=t.y,i=n.x,o=n.y;return Math.sqrt(Math.pow(r-i,2)+Math.pow(s-o,2))},UFe=function(t,n){var r=t.x,s=t.y,i=n.cx,o=n.cy,l=zFe({x:r,y:s},{x:i,y:o});if(l<=0)return{radius:l};var c=(r-i)/l,u=Math.acos(c);return s>o&&(u=2*Math.PI-u),{radius:l,angle:FFe(u),angleInRadian:u}},HFe=function(t){var n=t.startAngle,r=t.endAngle,s=Math.floor(n/360),i=Math.floor(r/360),o=Math.min(s,i);return{startAngle:n-o*360,endAngle:r-o*360}},WFe=function(t,n){var r=n.startAngle,s=n.endAngle,i=Math.floor(r/360),o=Math.floor(s/360),l=Math.min(i,o);return t+l*360},kz=function(t,n){var r=t.x,s=t.y,i=UFe({x:r,y:s},n),o=i.radius,l=i.angle,c=n.innerRadius,u=n.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=HFe(n),h=d.startAngle,f=d.endAngle,p=l,m;if(h<=f){for(;p>f;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=f}else{for(;p>h;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=h}return m?Nz(Nz({},n),{},{radius:o,angle:WFe(p,n)}):null};function Px(e){"@babel/helpers - typeof";return Px=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Px(e)}var VFe=["offset"];function GFe(e){return XFe(e)||YFe(e)||KFe(e)||qFe()}function qFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KFe(e,t){if(e){if(typeof e=="string")return O2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O2(e,t)}}function YFe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function XFe(e){if(Array.isArray(e))return O2(e)}function O2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function JFe(e,t){if(e==null)return{};var n=QFe(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function QFe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function jz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function pr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jz(Object(n),!0).forEach(function(r){ZFe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jz(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZFe(e,t,n){return t=eze(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eze(e){var t=tze(e,"string");return Px(t)=="symbol"?t:t+""}function tze(e,t){if(Px(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Px(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dx(){return Dx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dx.apply(this,arguments)}var nze=function(t){var n=t.value,r=t.formatter,s=vt(t.children)?n:t.children;return ht(r)?r(s):s},rze=function(t,n){var r=Ao(n-t),s=Math.min(Math.abs(n-t),360);return r*s},sze=function(t,n,r){var s=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,h=c.innerRadius,f=c.outerRadius,p=c.startAngle,m=c.endAngle,g=c.clockWise,y=(h+f)/2,x=rze(p,m),b=x>=0?1:-1,w,N;s==="insideStart"?(w=p+b*o,N=g):s==="insideEnd"?(w=m-b*o,N=!g):s==="end"&&(w=m+b*o,N=g),N=x<=0?N:!N;var S=Wr(u,d,y,w),k=Wr(u,d,y,w+(N?1:-1)*359),j="M".concat(S.x,",").concat(S.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(N?0:1,`,
    `).concat(k.x,",").concat(k.y),_=vt(t.id)?m0("recharts-radial-line-"):t.id;return H.createElement("text",Dx({},r,{dominantBaseline:"central",className:Et("recharts-radial-bar-label",l)}),H.createElement("defs",null,H.createElement("path",{id:_,d:j})),H.createElement("textPath",{xlinkHref:"#".concat(_)},n))},ize=function(t){var n=t.viewBox,r=t.offset,s=t.position,i=n,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,h=i.endAngle,f=(d+h)/2;if(s==="outside"){var p=Wr(o,l,u+r,f),m=p.x,g=p.y;return{x:m,y:g,textAnchor:m>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(c+u)/2,x=Wr(o,l,y,f),b=x.x,w=x.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},oze=function(t){var n=t.viewBox,r=t.parentViewBox,s=t.offset,i=t.position,o=n,l=o.x,c=o.y,u=o.width,d=o.height,h=d>=0?1:-1,f=h*s,p=h>0?"end":"start",m=h>0?"start":"end",g=u>=0?1:-1,y=g*s,x=g>0?"end":"start",b=g>0?"start":"end";if(i==="top"){var w={x:l+u/2,y:c-h*s,textAnchor:"middle",verticalAnchor:p};return pr(pr({},w),r?{height:Math.max(c-r.y,0),width:u}:{})}if(i==="bottom"){var N={x:l+u/2,y:c+d+f,textAnchor:"middle",verticalAnchor:m};return pr(pr({},N),r?{height:Math.max(r.y+r.height-(c+d),0),width:u}:{})}if(i==="left"){var S={x:l-y,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return pr(pr({},S),r?{width:Math.max(S.x-r.x,0),height:d}:{})}if(i==="right"){var k={x:l+u+y,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return pr(pr({},k),r?{width:Math.max(r.x+r.width-k.x,0),height:d}:{})}var j=r?{width:u,height:d}:{};return i==="insideLeft"?pr({x:l+y,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},j):i==="insideRight"?pr({x:l+u-y,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},j):i==="insideTop"?pr({x:l+u/2,y:c+f,textAnchor:"middle",verticalAnchor:m},j):i==="insideBottom"?pr({x:l+u/2,y:c+d-f,textAnchor:"middle",verticalAnchor:p},j):i==="insideTopLeft"?pr({x:l+y,y:c+f,textAnchor:b,verticalAnchor:m},j):i==="insideTopRight"?pr({x:l+u-y,y:c+f,textAnchor:x,verticalAnchor:m},j):i==="insideBottomLeft"?pr({x:l+y,y:c+d-f,textAnchor:b,verticalAnchor:p},j):i==="insideBottomRight"?pr({x:l+u-y,y:c+d-f,textAnchor:x,verticalAnchor:p},j):jm(i)&&(ke(i.x)||Zu(i.x))&&(ke(i.y)||Zu(i.y))?pr({x:l+Wd(i.x,u),y:c+Wd(i.y,d),textAnchor:"end",verticalAnchor:"end"},j):pr({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},j)},aze=function(t){return"cx"in t&&ke(t.cx)};function ss(e){var t=e.offset,n=t===void 0?5:t,r=JFe(e,VFe),s=pr({offset:n},r),i=s.viewBox,o=s.position,l=s.value,c=s.children,u=s.content,d=s.className,h=d===void 0?"":d,f=s.textBreakAll;if(!i||vt(l)&&vt(c)&&!v.isValidElement(u)&&!ht(u))return null;if(v.isValidElement(u))return v.cloneElement(u,s);var p;if(ht(u)){if(p=v.createElement(u,s),v.isValidElement(p))return p}else p=nze(s);var m=aze(i),g=_t(s,!0);if(m&&(o==="insideStart"||o==="insideEnd"||o==="end"))return sze(s,p,g);var y=m?ize(s):oze(s);return H.createElement(kS,Dx({className:Et("recharts-label",h)},g,y,{breakAll:f}),p)}ss.displayName="Label";var Ite=function(t){var n=t.cx,r=t.cy,s=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,h=t.x,f=t.y,p=t.top,m=t.left,g=t.width,y=t.height,x=t.clockWise,b=t.labelViewBox;if(b)return b;if(ke(g)&&ke(y)){if(ke(h)&&ke(f))return{x:h,y:f,width:g,height:y};if(ke(p)&&ke(m))return{x:p,y:m,width:g,height:y}}return ke(h)&&ke(f)?{x:h,y:f,width:0,height:0}:ke(n)&&ke(r)?{cx:n,cy:r,startAngle:i||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:x}:t.viewBox?t.viewBox:{}},lze=function(t,n){return t?t===!0?H.createElement(ss,{key:"label-implicit",viewBox:n}):vr(t)?H.createElement(ss,{key:"label-implicit",viewBox:n,value:t}):v.isValidElement(t)?t.type===ss?v.cloneElement(t,{key:"label-implicit",viewBox:n}):H.createElement(ss,{key:"label-implicit",content:t,viewBox:n}):ht(t)?H.createElement(ss,{key:"label-implicit",content:t,viewBox:n}):jm(t)?H.createElement(ss,Dx({viewBox:n},t,{key:"label-implicit"})):null:null},cze=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var s=t.children,i=Ite(t),o=Gi(s,ss).map(function(c,u){return v.cloneElement(c,{viewBox:n||i,key:"label-".concat(u)})});if(!r)return o;var l=lze(t.label,n||i);return[l].concat(GFe(o))};ss.parseViewBox=Ite;ss.renderCallByParent=cze;function uze(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var dze=uze;const hze=Dt(dze);function Rx(e){"@babel/helpers - typeof";return Rx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rx(e)}var fze=["valueAccessor"],pze=["data","dataKey","clockWise","id","textBreakAll"];function mze(e){return vze(e)||xze(e)||yze(e)||gze()}function gze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yze(e,t){if(e){if(typeof e=="string")return M2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M2(e,t)}}function xze(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vze(e){if(Array.isArray(e))return M2(e)}function M2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function FS(){return FS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FS.apply(this,arguments)}function _z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Ez(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_z(Object(n),!0).forEach(function(r){bze(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_z(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bze(e,t,n){return t=wze(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wze(e){var t=Sze(e,"string");return Rx(t)=="symbol"?t:t+""}function Sze(e,t){if(Rx(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Rx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cz(e,t){if(e==null)return{};var n=Nze(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Nze(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var kze=function(t){return Array.isArray(t.value)?hze(t.value):t.value};function Uc(e){var t=e.valueAccessor,n=t===void 0?kze:t,r=Cz(e,fze),s=r.data,i=r.dataKey,o=r.clockWise,l=r.id,c=r.textBreakAll,u=Cz(r,pze);return!s||!s.length?null:H.createElement(tr,{className:"recharts-label-list"},s.map(function(d,h){var f=vt(i)?n(d,h):xi(d&&d.payload,i),p=vt(l)?{}:{id:"".concat(l,"-").concat(h)};return H.createElement(ss,FS({},_t(d,!0),u,p,{parentViewBox:d.parentViewBox,value:f,textBreakAll:c,viewBox:ss.parseViewBox(vt(o)?d:Ez(Ez({},d),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}Uc.displayName="LabelList";function jze(e,t){return e?e===!0?H.createElement(Uc,{key:"labelList-implicit",data:t}):H.isValidElement(e)||ht(e)?H.createElement(Uc,{key:"labelList-implicit",data:t,content:e}):jm(e)?H.createElement(Uc,FS({data:t},e,{key:"labelList-implicit"})):null:null}function _ze(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,s=Gi(r,Uc).map(function(o,l){return v.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!n)return s;var i=jze(e.label,t);return[i].concat(mze(s))}Uc.renderCallByParent=_ze;function Ix(e){"@babel/helpers - typeof";return Ix=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ix(e)}function P2(){return P2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P2.apply(this,arguments)}function Tz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Az(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tz(Object(n),!0).forEach(function(r){Eze(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tz(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Eze(e,t,n){return t=Cze(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cze(e){var t=Tze(e,"string");return Ix(t)=="symbol"?t:t+""}function Tze(e,t){if(Ix(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ix(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Aze=function(t,n){var r=Ao(n-t),s=Math.min(Math.abs(n-t),359.999);return r*s},Pb=function(t){var n=t.cx,r=t.cy,s=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+s,h=Math.asin(c/d)/BS,f=u?i:i+o*h,p=Wr(n,r,d,f),m=Wr(n,r,s,f),g=u?i-o*h:i,y=Wr(n,r,d*Math.cos(h*BS),g);return{center:p,circleTangency:m,lineTangency:y,theta:h}},Lte=function(t){var n=t.cx,r=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=Aze(o,l),u=o+c,d=Wr(n,r,i,o),h=Wr(n,r,i,u),f="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(s>0){var p=Wr(n,r,s,o),m=Wr(n,r,s,u);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else f+="L ".concat(n,",").concat(r," Z");return f},Oze=function(t){var n=t.cx,r=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,h=Ao(d-u),f=Pb({cx:n,cy:r,radius:i,angle:u,sign:h,cornerRadius:o,cornerIsExternal:c}),p=f.circleTangency,m=f.lineTangency,g=f.theta,y=Pb({cx:n,cy:r,radius:i,angle:d,sign:-h,cornerRadius:o,cornerIsExternal:c}),x=y.circleTangency,b=y.lineTangency,w=y.theta,N=c?Math.abs(u-d):Math.abs(u-d)-g-w;if(N<0)return l?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Lte({cx:n,cy:r,innerRadius:s,outerRadius:i,startAngle:u,endAngle:d});var S="M ".concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(N>180),",").concat(+(h<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
  `);if(s>0){var k=Pb({cx:n,cy:r,radius:s,angle:u,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),j=k.circleTangency,_=k.lineTangency,C=k.theta,A=Pb({cx:n,cy:r,radius:s,angle:d,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),O=A.circleTangency,M=A.lineTangency,P=A.theta,E=c?Math.abs(u-d):Math.abs(u-d)-C-P;if(E<0&&o===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(M.x,",").concat(M.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(E>180),",").concat(+(h>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(_.x,",").concat(_.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},Mze={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},$te=function(t){var n=Az(Az({},Mze),t),r=n.cx,s=n.cy,i=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,h=n.endAngle,f=n.className;if(o<i||d===h)return null;var p=Et("recharts-sector",f),m=o-i,g=Wd(l,m,0,!0),y;return g>0&&Math.abs(d-h)<360?y=Oze({cx:r,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(g,m/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:h}):y=Lte({cx:r,cy:s,innerRadius:i,outerRadius:o,startAngle:d,endAngle:h}),H.createElement("path",P2({},_t(n,!0),{className:p,d:y,role:"img"}))};function Lx(e){"@babel/helpers - typeof";return Lx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lx(e)}function D2(){return D2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D2.apply(this,arguments)}function Oz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Mz(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Oz(Object(n),!0).forEach(function(r){Pze(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oz(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pze(e,t,n){return t=Dze(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dze(e){var t=Rze(e,"string");return Lx(t)=="symbol"?t:t+""}function Rze(e,t){if(Lx(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Lx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pz={curveBasisClosed:_Ae,curveBasisOpen:EAe,curveBasis:jAe,curveBumpX:dAe,curveBumpY:hAe,curveLinearClosed:CAe,curveLinear:Yj,curveMonotoneX:TAe,curveMonotoneY:AAe,curveNatural:OAe,curveStep:MAe,curveStepAfter:DAe,curveStepBefore:PAe},Db=function(t){return t.x===+t.x&&t.y===+t.y},cg=function(t){return t.x},ug=function(t){return t.y},Ize=function(t,n){if(ht(t))return t;var r="curve".concat(qj(t));return(r==="curveMonotone"||r==="curveBump")&&n?Pz["".concat(r).concat(n==="vertical"?"Y":"X")]:Pz[r]||Yj},Lze=function(t){var n=t.type,r=n===void 0?"linear":n,s=t.points,i=s===void 0?[]:s,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=Ize(r,l),h=u?i.filter(function(g){return Db(g)}):i,f;if(Array.isArray(o)){var p=u?o.filter(function(g){return Db(g)}):o,m=h.map(function(g,y){return Mz(Mz({},g),{},{base:p[y]})});return l==="vertical"?f=Nb().y(ug).x1(cg).x0(function(g){return g.base.x}):f=Nb().x(cg).y1(ug).y0(function(g){return g.base.y}),f.defined(Db).curve(d),f(m)}return l==="vertical"&&ke(o)?f=Nb().y(ug).x1(cg).x0(o):ke(o)?f=Nb().x(cg).y1(ug).y0(o):f=RZ().x(cg).y(ug),f.defined(Db).curve(d),f(h)},R2=function(t){var n=t.className,r=t.points,s=t.path,i=t.pathRef;if((!r||!r.length)&&!s)return null;var o=r&&r.length?Lze(t):s;return v.createElement("path",D2({},_t(t,!1),cS(t),{className:Et("recharts-curve",n),d:o,ref:i}))},Bte={exports:{}},$ze="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Bze=$ze,Fze=Bze;function Fte(){}function zte(){}zte.resetWarningCache=Fte;var zze=function(){function e(r,s,i,o,l,c){if(c!==Fze){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:zte,resetWarningCache:Fte};return n.PropTypes=n,n};Bte.exports=zze();var Uze=Bte.exports;const It=Dt(Uze);var Hze=Object.getOwnPropertyNames,Wze=Object.getOwnPropertySymbols,Vze=Object.prototype.hasOwnProperty;function Dz(e,t){return function(r,s,i){return e(r,s,i)&&t(r,s,i)}}function Rb(e){return function(n,r,s){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,s);var i=s.cache,o=i.get(n),l=i.get(r);if(o&&l)return o===r&&l===n;i.set(n,r),i.set(r,n);var c=e(n,r,s);return i.delete(n),i.delete(r),c}}function Gze(e){return e!=null?e[Symbol.toStringTag]:void 0}function Rz(e){return Hze(e).concat(Wze(e))}var qze=Object.hasOwn||function(e,t){return Vze.call(e,t)};function yh(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Kze="__v",Yze="__o",Xze="_owner",Iz=Object.getOwnPropertyDescriptor,Lz=Object.keys;function Jze(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function Qze(e,t){return yh(e.getTime(),t.getTime())}function Zze(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function e6e(e,t){return e===t}function $z(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var s=new Array(r),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var u=t.entries(),d=!1,h=0;(l=u.next())&&!l.done;){if(s[h]){h++;continue}var f=o.value,p=l.value;if(n.equals(f[0],p[0],c,h,e,t,n)&&n.equals(f[1],p[1],f[0],p[0],e,t,n)){d=s[h]=!0;break}h++}if(!d)return!1;c++}return!0}var t6e=yh;function n6e(e,t,n){var r=Lz(e),s=r.length;if(Lz(t).length!==s)return!1;for(;s-- >0;)if(!Ute(e,t,n,r[s]))return!1;return!0}function dg(e,t,n){var r=Rz(e),s=r.length;if(Rz(t).length!==s)return!1;for(var i,o,l;s-- >0;)if(i=r[s],!Ute(e,t,n,i)||(o=Iz(e,i),l=Iz(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function r6e(e,t){return yh(e.valueOf(),t.valueOf())}function s6e(e,t){return e.source===t.source&&e.flags===t.flags}function Bz(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var s=new Array(r),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!s[d]&&n.equals(o.value,l.value,o.value,l.value,e,t,n)){u=s[d]=!0;break}d++}if(!u)return!1}return!0}function i6e(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function o6e(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Ute(e,t,n,r){return(r===Xze||r===Yze||r===Kze)&&(e.$$typeof||t.$$typeof)?!0:qze(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var a6e="[object Arguments]",l6e="[object Boolean]",c6e="[object Date]",u6e="[object Error]",d6e="[object Map]",h6e="[object Number]",f6e="[object Object]",p6e="[object RegExp]",m6e="[object Set]",g6e="[object String]",y6e="[object URL]",x6e=Array.isArray,Fz=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,zz=Object.assign,v6e=Object.prototype.toString.call.bind(Object.prototype.toString);function b6e(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,s=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,h=e.areTypedArraysEqual,f=e.areUrlsEqual,p=e.unknownTagComparators;return function(g,y,x){if(g===y)return!0;if(g==null||y==null)return!1;var b=typeof g;if(b!==typeof y)return!1;if(b!=="object")return b==="number"?o(g,y,x):b==="function"?s(g,y,x):!1;var w=g.constructor;if(w!==y.constructor)return!1;if(w===Object)return l(g,y,x);if(x6e(g))return t(g,y,x);if(Fz!=null&&Fz(g))return h(g,y,x);if(w===Date)return n(g,y,x);if(w===RegExp)return u(g,y,x);if(w===Map)return i(g,y,x);if(w===Set)return d(g,y,x);var N=v6e(g);if(N===c6e)return n(g,y,x);if(N===p6e)return u(g,y,x);if(N===d6e)return i(g,y,x);if(N===m6e)return d(g,y,x);if(N===f6e)return typeof g.then!="function"&&typeof y.then!="function"&&l(g,y,x);if(N===y6e)return f(g,y,x);if(N===u6e)return r(g,y,x);if(N===a6e)return l(g,y,x);if(N===l6e||N===h6e||N===g6e)return c(g,y,x);if(p){var S=p[N];if(!S){var k=Gze(g);k&&(S=p[k])}if(S)return S(g,y,x)}return!1}}function w6e(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,s={areArraysEqual:r?dg:Jze,areDatesEqual:Qze,areErrorsEqual:Zze,areFunctionsEqual:e6e,areMapsEqual:r?Dz($z,dg):$z,areNumbersEqual:t6e,areObjectsEqual:r?dg:n6e,arePrimitiveWrappersEqual:r6e,areRegExpsEqual:s6e,areSetsEqual:r?Dz(Bz,dg):Bz,areTypedArraysEqual:r?dg:i6e,areUrlsEqual:o6e,unknownTagComparators:void 0};if(n&&(s=zz({},s,n(s))),t){var i=Rb(s.areArraysEqual),o=Rb(s.areMapsEqual),l=Rb(s.areObjectsEqual),c=Rb(s.areSetsEqual);s=zz({},s,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return s}function S6e(e){return function(t,n,r,s,i,o,l){return e(t,n,l)}}function N6e(e){var t=e.circular,n=e.comparator,r=e.createState,s=e.equals,i=e.strict;if(r)return function(c,u){var d=r(),h=d.cache,f=h===void 0?t?new WeakMap:void 0:h,p=d.meta;return n(c,u,{cache:f,equals:s,meta:p,strict:i})};if(t)return function(c,u){return n(c,u,{cache:new WeakMap,equals:s,meta:void 0,strict:i})};var o={cache:void 0,equals:s,meta:void 0,strict:i};return function(c,u){return n(c,u,o)}}var k6e=Su();Su({strict:!0});Su({circular:!0});Su({circular:!0,strict:!0});Su({createInternalComparator:function(){return yh}});Su({strict:!0,createInternalComparator:function(){return yh}});Su({circular:!0,createInternalComparator:function(){return yh}});Su({circular:!0,createInternalComparator:function(){return yh},strict:!0});function Su(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,s=e.createState,i=e.strict,o=i===void 0?!1:i,l=w6e(e),c=b6e(l),u=r?r(c):S6e(c);return N6e({circular:n,comparator:c,createState:s,equals:u,strict:o})}function j6e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function Uz(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function s(i){n<0&&(n=i),i-n>t?(e(i),n=-1):j6e(s)};requestAnimationFrame(r)}function I2(e){"@babel/helpers - typeof";return I2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I2(e)}function _6e(e){return A6e(e)||T6e(e)||C6e(e)||E6e()}function E6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C6e(e,t){if(e){if(typeof e=="string")return Hz(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hz(e,t)}}function Hz(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T6e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function A6e(e){if(Array.isArray(e))return e}function O6e(){var e={},t=function(){return null},n=!1,r=function s(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var o=i,l=_6e(o),c=l[0],u=l.slice(1);if(typeof c=="number"){Uz(s.bind(null,u),c);return}s(c),Uz(s.bind(null,u));return}I2(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,r(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function $x(e){"@babel/helpers - typeof";return $x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$x(e)}function Wz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Vz(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wz(Object(n),!0).forEach(function(r){Hte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wz(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hte(e,t,n){return t=M6e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M6e(e){var t=P6e(e,"string");return $x(t)==="symbol"?t:String(t)}function P6e(e,t){if($x(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if($x(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var D6e=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,s){return r.filter(function(i){return s.includes(i)})})},R6e=function(t){return t},I6e=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},wy=function(t,n){return Object.keys(n).reduce(function(r,s){return Vz(Vz({},r),{},Hte({},s,t(s,n[s])))},{})},Gz=function(t,n,r){return t.map(function(s){return"".concat(I6e(s)," ").concat(n,"ms ").concat(r)}).join(",")};function L6e(e,t){return F6e(e)||B6e(e,t)||Wte(e,t)||$6e()}function $6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B6e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function F6e(e){if(Array.isArray(e))return e}function z6e(e){return W6e(e)||H6e(e)||Wte(e)||U6e()}function U6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wte(e,t){if(e){if(typeof e=="string")return L2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L2(e,t)}}function H6e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function W6e(e){if(Array.isArray(e))return L2(e)}function L2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var zS=1e-4,Vte=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},Gte=function(t,n){return t.map(function(r,s){return r*Math.pow(n,s)}).reduce(function(r,s){return r+s})},qz=function(t,n){return function(r){var s=Vte(t,n);return Gte(s,r)}},V6e=function(t,n){return function(r){var s=Vte(t,n),i=[].concat(z6e(s.map(function(o,l){return o*l}).slice(1)),[0]);return Gte(i,r)}},Kz=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var s=n[0],i=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),d=L6e(u,4);s=d[0],i=d[1],o=d[2],l=d[3]}}}var h=qz(s,o),f=qz(i,l),p=V6e(s,o),m=function(x){return x>1?1:x<0?0:x},g=function(x){for(var b=x>1?1:x,w=b,N=0;N<8;++N){var S=h(w)-b,k=p(w);if(Math.abs(S-b)<zS||k<zS)return f(w);w=m(w-S/k)}return f(w)};return g.isStepper=!1,g},G6e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,s=t.damping,i=s===void 0?8:s,o=t.dt,l=o===void 0?17:o,c=function(d,h,f){var p=-(d-h)*r,m=f*i,g=f+(p-m)*l/1e3,y=f*l/1e3+d;return Math.abs(y-h)<zS&&Math.abs(g)<zS?[h,0]:[y,g]};return c.isStepper=!0,c.dt=l,c},q6e=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var s=n[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Kz(s);case"spring":return G6e();default:if(s.split("(")[0]==="cubic-bezier")return Kz(s)}return typeof s=="function"?s:null};function Bx(e){"@babel/helpers - typeof";return Bx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bx(e)}function Yz(e){return X6e(e)||Y6e(e)||qte(e)||K6e()}function K6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y6e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function X6e(e){if(Array.isArray(e))return B2(e)}function Xz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Br(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xz(Object(n),!0).forEach(function(r){$2(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xz(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $2(e,t,n){return t=J6e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J6e(e){var t=Q6e(e,"string");return Bx(t)==="symbol"?t:String(t)}function Q6e(e,t){if(Bx(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Bx(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z6e(e,t){return nUe(e)||tUe(e,t)||qte(e,t)||eUe()}function eUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qte(e,t){if(e){if(typeof e=="string")return B2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B2(e,t)}}function B2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tUe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function nUe(e){if(Array.isArray(e))return e}var US=function(t,n,r){return t+(n-t)*r},F2=function(t){var n=t.from,r=t.to;return n!==r},rUe=function e(t,n,r){var s=wy(function(i,o){if(F2(o)){var l=t(o.from,o.to,o.velocity),c=Z6e(l,2),u=c[0],d=c[1];return Br(Br({},o),{},{from:u,velocity:d})}return o},n);return r<1?wy(function(i,o){return F2(o)?Br(Br({},o),{},{velocity:US(o.velocity,s[i].velocity,r),from:US(o.from,s[i].from,r)}):o},n):e(t,s,r-1)};const sUe=function(e,t,n,r,s){var i=D6e(e,t),o=i.reduce(function(y,x){return Br(Br({},y),{},$2({},x,[e[x],t[x]]))},{}),l=i.reduce(function(y,x){return Br(Br({},y),{},$2({},x,{from:e[x],velocity:0,to:t[x]}))},{}),c=-1,u,d,h=function(){return null},f=function(){return wy(function(x,b){return b.from},l)},p=function(){return!Object.values(l).filter(F2).length},m=function(x){u||(u=x);var b=x-u,w=b/n.dt;l=rUe(n,l,w),s(Br(Br(Br({},e),t),f())),u=x,p()||(c=requestAnimationFrame(h))},g=function(x){d||(d=x);var b=(x-d)/r,w=wy(function(S,k){return US.apply(void 0,Yz(k).concat([n(b)]))},o);if(s(Br(Br(Br({},e),t),w)),b<1)c=requestAnimationFrame(h);else{var N=wy(function(S,k){return US.apply(void 0,Yz(k).concat([n(1)]))},o);s(Br(Br(Br({},e),t),N))}};return h=n.isStepper?m:g,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}};function $p(e){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$p(e)}var iUe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function oUe(e,t){if(e==null)return{};var n=aUe(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function aUe(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function FC(e){return dUe(e)||uUe(e)||cUe(e)||lUe()}function lUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cUe(e,t){if(e){if(typeof e=="string")return z2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z2(e,t)}}function uUe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dUe(e){if(Array.isArray(e))return z2(e)}function z2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ao(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jz(Object(n),!0).forEach(function(r){Fg(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jz(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fg(e,t,n){return t=Kte(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fUe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Kte(r.key),r)}}function pUe(e,t,n){return t&&fUe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kte(e){var t=mUe(e,"string");return $p(t)==="symbol"?t:String(t)}function mUe(e,t){if($p(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if($p(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gUe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U2(e,t)}function U2(e,t){return U2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},U2(e,t)}function yUe(e){var t=xUe();return function(){var r=HS(e),s;if(t){var i=HS(this).constructor;s=Reflect.construct(r,arguments,i)}else s=r.apply(this,arguments);return H2(this,s)}}function H2(e,t){if(t&&($p(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W2(e)}function W2(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xUe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function HS(e){return HS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},HS(e)}var Tl=function(e){gUe(n,e);var t=yUe(n);function n(r,s){var i;hUe(this,n),i=t.call(this,r,s);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,h=o.steps,f=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(W2(i)),i.changeStyle=i.changeStyle.bind(W2(i)),!l||p<=0)return i.state={style:{}},typeof f=="function"&&(i.state={style:d}),H2(i);if(h&&h.length)i.state={style:h[0].style};else if(u){if(typeof f=="function")return i.state={style:u},H2(i);i.state={style:c?Fg({},c,u):u}}else i.state={style:{}};return i}return pUe(n,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,h=i.from,f=this.state.style;if(l){if(!o){var p={style:c?Fg({},c,d):d};this.state&&f&&(c&&f[c]!==d||!c&&f!==d)&&this.setState(p);return}if(!(k6e(s.to,d)&&s.canBegin&&s.isActive)){var m=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||u?h:s.to;if(this.state&&f){var y={style:c?Fg({},c,g):g};(c&&f[c]!==g||!c&&f!==g)&&this.setState(y)}this.runAnimation(ao(ao({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,c=s.duration,u=s.easing,d=s.begin,h=s.onAnimationEnd,f=s.onAnimationStart,p=sUe(o,l,q6e(u),c,this.changeStyle),m=function(){i.stopJSAnimation=p()};this.manager.start([f,d,m,c,h])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,c=s.onAnimationStart,u=o[0],d=u.style,h=u.duration,f=h===void 0?0:h,p=function(g,y,x){if(x===0)return g;var b=y.duration,w=y.easing,N=w===void 0?"ease":w,S=y.style,k=y.properties,j=y.onAnimationEnd,_=x>0?o[x-1]:y,C=k||Object.keys(S);if(typeof N=="function"||N==="spring")return[].concat(FC(g),[i.runJSAnimation.bind(i,{from:_.style,to:S,duration:b,easing:N}),b]);var A=Gz(C,b,N),O=ao(ao(ao({},_.style),S),{},{transition:A});return[].concat(FC(g),[O,b,j]).filter(R6e)};return this.manager.start([c].concat(FC(o.reduce(p,[d,Math.max(f,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=O6e());var i=s.begin,o=s.duration,l=s.attributeName,c=s.to,u=s.easing,d=s.onAnimationStart,h=s.onAnimationEnd,f=s.steps,p=s.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(s);return}if(f.length>1){this.runStepAnimation(s);return}var g=l?Fg({},l,c):c,y=Gz(Object.keys(g),o,u);m.start([d,i,ao(ao({},g),{},{transition:y}),o,h])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=oUe(s,iUe),u=v.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var h=function(p){var m=p.props,g=m.style,y=g===void 0?{}:g,x=m.className,b=v.cloneElement(p,ao(ao({},c),{},{style:ao(ao({},y),d),className:x}));return b};return u===1?h(v.Children.only(i)):H.createElement("div",null,v.Children.map(i,function(f){return h(f)}))}}]),n}(v.PureComponent);Tl.displayName="Animate";Tl.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Tl.propTypes={from:It.oneOfType([It.object,It.string]),to:It.oneOfType([It.object,It.string]),attributeName:It.string,duration:It.number,begin:It.number,easing:It.oneOfType([It.string,It.func]),steps:It.arrayOf(It.shape({duration:It.number.isRequired,style:It.object.isRequired,easing:It.oneOfType([It.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),It.func]),properties:It.arrayOf("string"),onAnimationEnd:It.func})),children:It.oneOfType([It.node,It.func]),isActive:It.bool,canBegin:It.bool,onAnimationEnd:It.func,shouldReAnimate:It.bool,onAnimationStart:It.func,onAnimationReStart:It.func};function Fx(e){"@babel/helpers - typeof";return Fx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fx(e)}function WS(){return WS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WS.apply(this,arguments)}function vUe(e,t){return NUe(e)||SUe(e,t)||wUe(e,t)||bUe()}function bUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wUe(e,t){if(e){if(typeof e=="string")return Qz(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qz(e,t)}}function Qz(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function SUe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function NUe(e){if(Array.isArray(e))return e}function Zz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function e6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zz(Object(n),!0).forEach(function(r){kUe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zz(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kUe(e,t,n){return t=jUe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jUe(e){var t=_Ue(e,"string");return Fx(t)=="symbol"?t:t+""}function _Ue(e,t){if(Fx(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Fx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var t6=function(t,n,r,s,i){var o=Math.min(Math.abs(r)/2,Math.abs(s)/2),l=s>=0?1:-1,c=r>=0?1:-1,u=s>=0&&r>=0||s<0&&r<0?1:0,d;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],f=0,p=4;f<p;f++)h[f]=i[f]>o?o:i[f];d="M".concat(t,",").concat(n+l*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(t+c*h[0],",").concat(n)),d+="L ".concat(t+r-c*h[1],",").concat(n),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(t+r,",").concat(n+l*h[1])),d+="L ".concat(t+r,",").concat(n+s-l*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(t+r-c*h[2],",").concat(n+s)),d+="L ".concat(t+c*h[3],",").concat(n+s),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(n+s-l*h[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var m=Math.min(o,i);d="M ".concat(t,",").concat(n+l*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+c*m,",").concat(n,`
            L `).concat(t+r-c*m,",").concat(n,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+r,",").concat(n+l*m,`
            L `).concat(t+r,",").concat(n+s-l*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+r-c*m,",").concat(n+s,`
            L `).concat(t+c*m,",").concat(n+s,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t,",").concat(n+s-l*m," Z")}else d="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(s," h ").concat(-r," Z");return d},EUe=function(t,n){if(!t||!n)return!1;var r=t.x,s=t.y,i=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),h=Math.min(o,o+c),f=Math.max(o,o+c);return r>=u&&r<=d&&s>=h&&s<=f}return!1},CUe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},HI=function(t){var n=e6(e6({},CUe),t),r=v.useRef(),s=v.useState(-1),i=vUe(s,2),o=i[0],l=i[1];v.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var N=r.current.getTotalLength();N&&l(N)}catch{}},[]);var c=n.x,u=n.y,d=n.width,h=n.height,f=n.radius,p=n.className,m=n.animationEasing,g=n.animationDuration,y=n.animationBegin,x=n.isAnimationActive,b=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||h!==+h||d===0||h===0)return null;var w=Et("recharts-rectangle",p);return b?H.createElement(Tl,{canBegin:o>0,from:{width:d,height:h,x:c,y:u},to:{width:d,height:h,x:c,y:u},duration:g,animationEasing:m,isActive:b},function(N){var S=N.width,k=N.height,j=N.x,_=N.y;return H.createElement(Tl,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,isActive:x,easing:m},H.createElement("path",WS({},_t(n,!0),{className:w,d:t6(j,_,S,k,f),ref:r})))}):H.createElement("path",WS({},_t(n,!0),{className:w,d:t6(c,u,d,h,f)}))};function V2(){return V2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V2.apply(this,arguments)}var WI=function(t){var n=t.cx,r=t.cy,s=t.r,i=t.className,o=Et("recharts-dot",i);return n===+n&&r===+r&&s===+s?v.createElement("circle",V2({},_t(t,!1),cS(t),{className:o,cx:n,cy:r,r:s})):null};function zx(e){"@babel/helpers - typeof";return zx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zx(e)}var TUe=["x","y","top","left","width","height","className"];function G2(){return G2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G2.apply(this,arguments)}function n6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function AUe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n6(Object(n),!0).forEach(function(r){OUe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OUe(e,t,n){return t=MUe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MUe(e){var t=PUe(e,"string");return zx(t)=="symbol"?t:t+""}function PUe(e,t){if(zx(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(zx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DUe(e,t){if(e==null)return{};var n=RUe(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function RUe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var IUe=function(t,n,r,s,i,o){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(o,",").concat(n,"h").concat(r)},LUe=function(t){var n=t.x,r=n===void 0?0:n,s=t.y,i=s===void 0?0:s,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,h=d===void 0?0:d,f=t.height,p=f===void 0?0:f,m=t.className,g=DUe(t,TUe),y=AUe({x:r,y:i,top:l,left:u,width:h,height:p},g);return!ke(r)||!ke(i)||!ke(h)||!ke(p)||!ke(l)||!ke(u)?null:H.createElement("path",G2({},_t(y,!0),{className:Et("recharts-cross",m),d:IUe(r,i,h,p,l,u)}))},$Ue=iee,BUe=$Ue(Object.getPrototypeOf,Object),FUe=BUe,zUe=Dl,UUe=FUe,HUe=Rl,WUe="[object Object]",VUe=Function.prototype,GUe=Object.prototype,Yte=VUe.toString,qUe=GUe.hasOwnProperty,KUe=Yte.call(Object);function YUe(e){if(!HUe(e)||zUe(e)!=WUe)return!1;var t=UUe(e);if(t===null)return!0;var n=qUe.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Yte.call(n)==KUe}var XUe=YUe;const JUe=Dt(XUe);var QUe=Dl,ZUe=Rl,eHe="[object Boolean]";function tHe(e){return e===!0||e===!1||ZUe(e)&&QUe(e)==eHe}var nHe=tHe;const rHe=Dt(nHe);function Ux(e){"@babel/helpers - typeof";return Ux=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ux(e)}function VS(){return VS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VS.apply(this,arguments)}function sHe(e,t){return lHe(e)||aHe(e,t)||oHe(e,t)||iHe()}function iHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oHe(e,t){if(e){if(typeof e=="string")return r6(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r6(e,t)}}function r6(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aHe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function lHe(e){if(Array.isArray(e))return e}function s6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function i6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s6(Object(n),!0).forEach(function(r){cHe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cHe(e,t,n){return t=uHe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uHe(e){var t=dHe(e,"string");return Ux(t)=="symbol"?t:t+""}function dHe(e,t){if(Ux(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ux(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var o6=function(t,n,r,s,i){var o=r-s,l;return l="M ".concat(t,",").concat(n),l+="L ".concat(t+r,",").concat(n),l+="L ".concat(t+r-o/2,",").concat(n+i),l+="L ".concat(t+r-o/2-s,",").concat(n+i),l+="L ".concat(t,",").concat(n," Z"),l},hHe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},fHe=function(t){var n=i6(i6({},hHe),t),r=v.useRef(),s=v.useState(-1),i=sHe(s,2),o=i[0],l=i[1];v.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&l(w)}catch{}},[]);var c=n.x,u=n.y,d=n.upperWidth,h=n.lowerWidth,f=n.height,p=n.className,m=n.animationEasing,g=n.animationDuration,y=n.animationBegin,x=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||h!==+h||f!==+f||d===0&&h===0||f===0)return null;var b=Et("recharts-trapezoid",p);return x?H.createElement(Tl,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:f,x:c,y:u},to:{upperWidth:d,lowerWidth:h,height:f,x:c,y:u},duration:g,animationEasing:m,isActive:x},function(w){var N=w.upperWidth,S=w.lowerWidth,k=w.height,j=w.x,_=w.y;return H.createElement(Tl,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,easing:m},H.createElement("path",VS({},_t(n,!0),{className:b,d:o6(j,_,N,S,k),ref:r})))}):H.createElement("g",null,H.createElement("path",VS({},_t(n,!0),{className:b,d:o6(c,u,d,h,f)})))},pHe=["option","shapeType","propTransformer","activeClassName","isActive"];function Hx(e){"@babel/helpers - typeof";return Hx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hx(e)}function mHe(e,t){if(e==null)return{};var n=gHe(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function gHe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function a6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function GS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a6(Object(n),!0).forEach(function(r){yHe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yHe(e,t,n){return t=xHe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xHe(e){var t=vHe(e,"string");return Hx(t)=="symbol"?t:t+""}function vHe(e,t){if(Hx(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Hx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bHe(e,t){return GS(GS({},t),e)}function wHe(e,t){return e==="symbols"}function l6(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return H.createElement(HI,n);case"trapezoid":return H.createElement(fHe,n);case"sector":return H.createElement($te,n);case"symbols":if(wHe(t))return H.createElement(lI,n);break;default:return null}}function SHe(e){return v.isValidElement(e)?e.props:e}function NHe(e){var t=e.option,n=e.shapeType,r=e.propTransformer,s=r===void 0?bHe:r,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=mHe(e,pHe),u;if(v.isValidElement(t))u=v.cloneElement(t,GS(GS({},c),SHe(t)));else if(ht(t))u=t(c);else if(JUe(t)&&!rHe(t)){var d=s(t,c);u=H.createElement(l6,{shapeType:n,elementProps:d})}else{var h=c;u=H.createElement(l6,{shapeType:n,elementProps:h})}return l?H.createElement(tr,{className:o},u):u}function d_(e,t){return t!=null&&"trapezoids"in e.props}function h_(e,t){return t!=null&&"sectors"in e.props}function Wx(e,t){return t!=null&&"points"in e.props}function kHe(e,t){var n,r,s=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,i=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return s&&i}function jHe(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function _He(e,t){var n=e.x===t.x,r=e.y===t.y,s=e.z===t.z;return n&&r&&s}function EHe(e,t){var n;return d_(e,t)?n=kHe:h_(e,t)?n=jHe:Wx(e,t)&&(n=_He),n}function CHe(e,t){var n;return d_(e,t)?n="trapezoids":h_(e,t)?n="sectors":Wx(e,t)&&(n="points"),n}function THe(e,t){if(d_(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(h_(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Wx(e,t)?t.payload:{}}function AHe(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,s=CHe(n,t),i=THe(n,t),o=r.filter(function(c,u){var d=l_(i,c),h=n.props[s].filter(function(m){var g=EHe(n,t);return g(m,t)}),f=n.props[s].indexOf(h[h.length-1]),p=u===f;return d&&p}),l=r.indexOf(o[o.length-1]);return l}var OHe=Math.ceil,MHe=Math.max;function PHe(e,t,n,r){for(var s=-1,i=MHe(OHe((t-e)/(n||1)),0),o=Array(i);i--;)o[r?i:++s]=e,e+=n;return o}var DHe=PHe,RHe=kee,c6=1/0,IHe=17976931348623157e292;function LHe(e){if(!e)return e===0?e:0;if(e=RHe(e),e===c6||e===-c6){var t=e<0?-1:1;return t*IHe}return e===e?e:0}var Xte=LHe,$He=DHe,BHe=Zj,zC=Xte;function FHe(e){return function(t,n,r){return r&&typeof r!="number"&&BHe(t,n,r)&&(n=r=void 0),t=zC(t),n===void 0?(n=t,t=0):n=zC(n),r=r===void 0?t<n?1:-1:zC(r),$He(t,n,r,e)}}var zHe=FHe,UHe=zHe,HHe=UHe(),WHe=HHe;const qS=Dt(WHe);function Vx(e){"@babel/helpers - typeof";return Vx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vx(e)}function u6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function d6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?u6(Object(n),!0).forEach(function(r){Jte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jte(e,t,n){return t=VHe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VHe(e){var t=GHe(e,"string");return Vx(t)=="symbol"?t:t+""}function GHe(e,t){if(Vx(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Vx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qHe=["Webkit","Moz","O","ms"],KHe=function(t,n){var r=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=qHe.reduce(function(i,o){return d6(d6({},i),{},Jte({},o+r,n))},{});return s[t]=n,s};function Bp(e){"@babel/helpers - typeof";return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bp(e)}function KS(){return KS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KS.apply(this,arguments)}function h6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function UC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h6(Object(n),!0).forEach(function(r){ei(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f6(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Zte(r.key),r)}}function XHe(e,t,n){return t&&f6(e.prototype,t),n&&f6(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function JHe(e,t,n){return t=YS(t),QHe(e,Qte()?Reflect.construct(t,n||[],YS(e).constructor):t.apply(e,n))}function QHe(e,t){if(t&&(Bp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZHe(e)}function ZHe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qte=function(){return!!e})()}function YS(e){return YS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},YS(e)}function e8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q2(e,t)}function q2(e,t){return q2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},q2(e,t)}function ei(e,t,n){return t=Zte(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zte(e){var t=t8e(e,"string");return Bp(t)=="symbol"?t:t+""}function t8e(e,t){if(Bp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Bp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var n8e=function(t){var n=t.data,r=t.startIndex,s=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=vy().domain(qS(0,c)).range([i,i+o-l]),d=u.domain().map(function(h){return u(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(s),scale:u,scaleValues:d}},p6=function(t){return t.changedTouches&&!!t.changedTouches.length},Fp=function(e){function t(n){var r;return YHe(this,t),r=JHe(this,t,[n]),ei(r,"handleDrag",function(s){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(s):r.state.isSlideMoving&&r.handleSlideDrag(s)}),ei(r,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&r.handleDrag(s.changedTouches[0])}),ei(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=r.props,i=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:i,startIndex:l})}),r.detachDragEndListener()}),ei(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),ei(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),ei(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),ei(r,"handleSlideDragStart",function(s){var i=p6(s)?s.changedTouches[0]:s;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return e8e(t,e),XHe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var s=r.startX,i=r.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,h=Math.min(s,i),f=Math.max(s,i),p=t.getIndexInRange(o,h),m=t.getIndexInRange(o,f);return{startIndex:p-p%c,endIndex:m===d?d:m-m%c}}},{key:"getTextOfTick",value:function(r){var s=this.props,i=s.data,o=s.tickFormatter,l=s.dataKey,c=xi(i[r],l,r);return ht(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var s=this.state,i=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,u=c.x,d=c.width,h=c.travellerWidth,f=c.startIndex,p=c.endIndex,m=c.onChange,g=r.pageX-i;g>0?g=Math.min(g,u+d-h-l,u+d-h-o):g<0&&(g=Math.max(g,u-o,u-l));var y=this.getIndex({startX:o+g,endX:l+g});(y.startIndex!==f||y.endIndex!==p)&&m&&m(y),this.setState({startX:o+g,endX:l+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,s){var i=p6(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[o],d=this.props,h=d.x,f=d.width,p=d.travellerWidth,m=d.onChange,g=d.gap,y=d.data,x={startX:this.state.startX,endX:this.state.endX},b=r.pageX-i;b>0?b=Math.min(b,h+f-p-u):b<0&&(b=Math.max(b,h-u)),x[o]=u+b;var w=this.getIndex(x),N=w.startIndex,S=w.endIndex,k=function(){var _=y.length-1;return o==="startX"&&(l>c?N%g===0:S%g===0)||l<c&&S===_||o==="endX"&&(l>c?S%g===0:N%g===0)||l>c&&S===_};this.setState(ei(ei({},o,u+b),"brushMoveStartX",r.pageX),function(){m&&k()&&m(w)})}},{key:"handleTravellerMoveKeyboard",value:function(r,s){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[s],h=l.indexOf(d);if(h!==-1){var f=h+r;if(!(f===-1||f>=l.length)){var p=l[f];s==="startX"&&p>=u||s==="endX"&&p<=c||this.setState(ei({},s,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,s=r.x,i=r.y,o=r.width,l=r.height,c=r.fill,u=r.stroke;return H.createElement("rect",{stroke:u,fill:c,x:s,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,s=r.x,i=r.y,o=r.width,l=r.height,c=r.data,u=r.children,d=r.padding,h=v.Children.only(u);return h?H.cloneElement(h,{x:s,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,s){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,h=c.height,f=c.traveller,p=c.ariaLabel,m=c.data,g=c.startIndex,y=c.endIndex,x=Math.max(r,this.props.x),b=UC(UC({},_t(this.props,!1)),{},{x,y:u,width:d,height:h}),w=p||"Min value: ".concat((i=m[g])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=m[y])===null||o===void 0?void 0:o.name);return H.createElement(tr,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),l.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(f,b))}},{key:"renderSlide",value:function(r,s){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(r,s)+u,h=Math.max(Math.abs(s-r)-u,0);return H.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:h,height:l})}},{key:"renderText",value:function(){var r=this.props,s=r.startIndex,i=r.endIndex,o=r.y,l=r.height,c=r.travellerWidth,u=r.stroke,d=this.state,h=d.startX,f=d.endX,p=5,m={pointerEvents:"none",fill:u};return H.createElement(tr,{className:"recharts-brush-texts"},H.createElement(kS,KS({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,f)-p,y:o+l/2},m),this.getTextOfTick(s)),H.createElement(kS,KS({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,f)+c+p,y:o+l/2},m),this.getTextOfTick(i)))}},{key:"render",value:function(){var r=this.props,s=r.data,i=r.className,o=r.children,l=r.x,c=r.y,u=r.width,d=r.height,h=r.alwaysShowText,f=this.state,p=f.startX,m=f.endX,g=f.isTextActive,y=f.isSlideMoving,x=f.isTravellerMoving,b=f.isTravellerFocused;if(!s||!s.length||!ke(l)||!ke(c)||!ke(u)||!ke(d)||u<=0||d<=0)return null;var w=Et("recharts-brush",i),N=H.Children.count(o)===1,S=KHe("userSelect","none");return H.createElement(tr,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(g||y||x||b||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var s=r.x,i=r.y,o=r.width,l=r.height,c=r.stroke,u=Math.floor(i+l/2)-1;return H.createElement(H.Fragment,null,H.createElement("rect",{x:s,y:i,width:o,height:l,fill:c,stroke:"none"}),H.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),H.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,s){var i;return H.isValidElement(r)?i=H.cloneElement(r,s):ht(r)?i=r(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(r,s){var i=r.data,o=r.width,l=r.x,c=r.travellerWidth,u=r.updateId,d=r.startIndex,h=r.endIndex;if(i!==s.prevData||u!==s.prevUpdateId)return UC({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?n8e({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:h}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var f=s.scale.domain().map(function(p){return s.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:s.scale(r.startIndex),endX:s.scale(r.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(r,s){for(var i=r.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);r[c]>s?l=c:o=c}return s>=r[l]?l:o}}])}(v.PureComponent);ei(Fp,"displayName","Brush");ei(Fp,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var r8e=mI;function s8e(e,t){var n;return r8e(e,function(r,s,i){return n=t(r,s,i),!n}),!!n}var i8e=s8e,o8e=JZ,a8e=vu,l8e=i8e,c8e=Xs,u8e=Zj;function d8e(e,t,n){var r=c8e(e)?o8e:l8e;return n&&u8e(e,t,n)&&(t=void 0),r(e,a8e(t))}var h8e=d8e;const f8e=Dt(h8e);var ba=function(t,n){var r=t.alwaysShow,s=t.ifOverflow;return r&&(s="extendDomain"),s===n},m6=vee;function p8e(e,t,n){t=="__proto__"&&m6?m6(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var m8e=p8e,g8e=m8e,y8e=yee,x8e=vu;function v8e(e,t){var n={};return t=x8e(t),y8e(e,function(r,s,i){g8e(n,s,t(r,s,i))}),n}var b8e=v8e;const w8e=Dt(b8e);function S8e(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var N8e=S8e,k8e=mI;function j8e(e,t){var n=!0;return k8e(e,function(r,s,i){return n=!!t(r,s,i),n}),n}var _8e=j8e,E8e=N8e,C8e=_8e,T8e=vu,A8e=Xs,O8e=Zj;function M8e(e,t,n){var r=A8e(e)?E8e:C8e;return n&&O8e(e,t,n)&&(t=void 0),r(e,T8e(t))}var P8e=M8e;const ene=Dt(P8e);var D8e=["x","y"];function Gx(e){"@babel/helpers - typeof";return Gx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gx(e)}function K2(){return K2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K2.apply(this,arguments)}function g6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function hg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g6(Object(n),!0).forEach(function(r){R8e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function R8e(e,t,n){return t=I8e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I8e(e){var t=L8e(e,"string");return Gx(t)=="symbol"?t:t+""}function L8e(e,t){if(Gx(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Gx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $8e(e,t){if(e==null)return{};var n=B8e(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function B8e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function F8e(e,t){var n=e.x,r=e.y,s=$8e(e,D8e),i="".concat(n),o=parseInt(i,10),l="".concat(r),c=parseInt(l,10),u="".concat(t.height||s.height),d=parseInt(u,10),h="".concat(t.width||s.width),f=parseInt(h,10);return hg(hg(hg(hg(hg({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:f,name:t.name,radius:t.radius})}function y6(e){return H.createElement(NHe,K2({shapeType:"rectangle",propTransformer:F8e,activeClassName:"recharts-active-bar"},e))}var z8e=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,s){if(typeof t=="number")return t;var i=ke(r)||XCe(r);return i?t(r,s):(i||qd(),n)}},U8e=["value","background"],tne;function zp(e){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zp(e)}function H8e(e,t){if(e==null)return{};var n=W8e(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function W8e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function XS(){return XS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XS.apply(this,arguments)}function x6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ir(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x6(Object(n),!0).forEach(function(r){Sc(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function V8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v6(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rne(r.key),r)}}function G8e(e,t,n){return t&&v6(e.prototype,t),n&&v6(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function q8e(e,t,n){return t=JS(t),K8e(e,nne()?Reflect.construct(t,n||[],JS(e).constructor):t.apply(e,n))}function K8e(e,t){if(t&&(zp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y8e(e)}function Y8e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nne(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nne=function(){return!!e})()}function JS(e){return JS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},JS(e)}function X8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y2(e,t)}function Y2(e,t){return Y2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Y2(e,t)}function Sc(e,t,n){return t=rne(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rne(e){var t=J8e(e,"string");return zp(t)=="symbol"?t:t+""}function J8e(e,t){if(zp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(zp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xh=function(e){function t(){var n;V8e(this,t);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=q8e(this,t,[].concat(s)),Sc(n,"state",{isAnimationFinished:!1}),Sc(n,"id",m0("recharts-bar-")),Sc(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Sc(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return X8e(t,e),G8e(t,[{key:"renderRectanglesStatically",value:function(r){var s=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=_t(this.props,!1);return r&&r.map(function(h,f){var p=f===c,m=p?u:o,g=ir(ir(ir({},d),h),{},{isActive:p,option:m,index:f,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return H.createElement(tr,XS({className:"recharts-bar-rectangle"},uS(s.props,h,f),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(f)}),H.createElement(y6,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,s=this.props,i=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,d=s.animationEasing,h=s.animationId,f=this.state.prevData;return H.createElement(Tl,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,g=i.map(function(y,x){var b=f&&f[x];if(b){var w=jo(b.x,y.x),N=jo(b.y,y.y),S=jo(b.width,y.width),k=jo(b.height,y.height);return ir(ir({},y),{},{x:w(m),y:N(m),width:S(m),height:k(m)})}if(o==="horizontal"){var j=jo(0,y.height),_=j(m);return ir(ir({},y),{},{y:y.y+y.height-_,height:_})}var C=jo(0,y.width),A=C(m);return ir(ir({},y),{},{width:A})});return H.createElement(tr,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,s=r.data,i=r.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!l_(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var r=this,s=this.props,i=s.data,o=s.dataKey,l=s.activeIndex,c=_t(this.props.background,!1);return i.map(function(u,d){u.value;var h=u.background,f=H8e(u,U8e);if(!h)return null;var p=ir(ir(ir(ir(ir({},f),{},{fill:"#eee"},h),c),uS(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return H.createElement(y6,XS({key:"background-bar-".concat(d),option:r.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(r,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,h=Gi(d,w0);if(!h)return null;var f=u==="vertical"?o[0].height/2:o[0].width/2,p=function(y,x){var b=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:b,errorVal:xi(y,x)}},m={clipPath:r?"url(#clipPath-".concat(s,")"):null};return H.createElement(tr,m,h.map(function(g){return H.cloneElement(g,{key:"error-bar-".concat(s,"-").concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:f,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,s=r.hide,i=r.data,o=r.className,l=r.xAxis,c=r.yAxis,u=r.left,d=r.top,h=r.width,f=r.height,p=r.isAnimationActive,m=r.background,g=r.id;if(s||!i||!i.length)return null;var y=this.state.isAnimationFinished,x=Et("recharts-bar",o),b=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,N=b||w,S=vt(g)?this.id:g;return H.createElement(tr,{className:x},b||w?H.createElement("defs",null,H.createElement("clipPath",{id:"clipPath-".concat(S)},H.createElement("rect",{x:b?u:u-h/2,y:w?d:d-f/2,width:b?h:h*2,height:w?f:f*2}))):null,H.createElement(tr,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(S,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,S),(!p||y)&&Uc.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(r,s){return r.animationId!==s.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:s.curData}:r.data!==s.curData?{curData:r.data}:null}}])}(v.PureComponent);tne=xh;Sc(xh,"displayName","Bar");Sc(xh,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Mm.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Sc(xh,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,s=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,h=e.displayedData,f=e.offset,p=_Fe(r,n);if(!p)return null;var m=t.layout,g=n.type.defaultProps,y=g!==void 0?ir(ir({},g),n.props):n.props,x=y.dataKey,b=y.children,w=y.minPointSize,N=m==="horizontal"?o:i,S=u?N.scale.domain():null,k=DFe({numericAxis:N}),j=Gi(b,_ee),_=h.map(function(C,A){var O,M,P,E,I,T;u?O=EFe(u[d+A],S):(O=xi(C,x),Array.isArray(O)||(O=[k,O]));var R=z8e(w,tne.defaultProps.minPointSize)(O[1],A);if(m==="horizontal"){var L,D=[o.scale(O[0]),o.scale(O[1])],F=D[0],z=D[1];M=xz({axis:i,ticks:l,bandSize:s,offset:p.offset,entry:C,index:A}),P=(L=z??F)!==null&&L!==void 0?L:void 0,E=p.size;var B=F-z;if(I=Number.isNaN(B)?0:B,T={x:M,y:o.y,width:E,height:o.height},Math.abs(R)>0&&Math.abs(I)<Math.abs(R)){var $=Ao(I||R)*(Math.abs(R)-Math.abs(I));P-=$,I+=$}}else{var W=[i.scale(O[0]),i.scale(O[1])],V=W[0],Y=W[1];if(M=V,P=xz({axis:o,ticks:c,bandSize:s,offset:p.offset,entry:C,index:A}),E=Y-V,I=p.size,T={x:i.x,y:P,width:i.width,height:I},Math.abs(R)>0&&Math.abs(E)<Math.abs(R)){var G=Ao(E||R)*(Math.abs(R)-Math.abs(E));E+=G}}return ir(ir(ir({},C),{},{x:M,y:P,width:E,height:I,value:u?O:O[1],payload:C,background:T},j&&j[A]&&j[A].props),{},{tooltipPayload:[Rte(n,C)],tooltipPosition:{x:M+E/2,y:P+I/2}})});return ir({data:_,layout:m},f)});function qx(e){"@babel/helpers - typeof";return qx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qx(e)}function Q8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b6(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sne(r.key),r)}}function Z8e(e,t,n){return t&&b6(e.prototype,t),n&&b6(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function w6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function vo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w6(Object(n),!0).forEach(function(r){f_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function f_(e,t,n){return t=sne(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sne(e){var t=eWe(e,"string");return qx(t)=="symbol"?t:t+""}function eWe(e,t){if(qx(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(qx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ine=function(t,n,r,s,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(n),h={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},f=!!ni(u,xh);return d.reduce(function(p,m){var g=n[m],y=g.orientation,x=g.domain,b=g.padding,w=b===void 0?{}:b,N=g.mirror,S=g.reversed,k="".concat(y).concat(N?"Mirror":""),j,_,C,A,O;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var M=x[1]-x[0],P=1/0,E=g.categoricalDomain.sort(ZCe);if(E.forEach(function(W,V){V>0&&(P=Math.min((W||0)-(E[V-1]||0),P))}),Number.isFinite(P)){var I=P/M,T=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(j=I*T/2),g.padding==="no-gap"){var R=Wd(t.barCategoryGap,I*T),L=I*T/2;j=L-R-(L-R)/T*R}}}s==="xAxis"?_=[r.left+(w.left||0)+(j||0),r.left+r.width-(w.right||0)-(j||0)]:s==="yAxis"?_=c==="horizontal"?[r.top+r.height-(w.bottom||0),r.top+(w.top||0)]:[r.top+(w.top||0)+(j||0),r.top+r.height-(w.bottom||0)-(j||0)]:_=g.range,S&&(_=[_[1],_[0]]);var D=kFe(g,i,f),F=D.scale,z=D.realScaleType;F.domain(x).range(_),jFe(F);var B=PFe(F,vo(vo({},g),{},{realScaleType:z}));s==="xAxis"?(O=y==="top"&&!N||y==="bottom"&&N,C=r.left,A=h[k]-O*g.height):s==="yAxis"&&(O=y==="left"&&!N||y==="right"&&N,C=h[k]-O*g.width,A=r.top);var $=vo(vo(vo({},g),B),{},{realScaleType:z,x:C,y:A,scale:F,width:s==="xAxis"?r.width:g.width,height:s==="yAxis"?r.height:g.height});return $.bandSize=$S($,B),!g.hide&&s==="xAxis"?h[k]+=(O?-1:1)*$.height:g.hide||(h[k]+=(O?-1:1)*$.width),vo(vo({},p),{},f_({},m,$))},{})},one=function(t,n){var r=t.x,s=t.y,i=n.x,o=n.y;return{x:Math.min(r,i),y:Math.min(s,o),width:Math.abs(i-r),height:Math.abs(o-s)}},tWe=function(t){var n=t.x1,r=t.y1,s=t.x2,i=t.y2;return one({x:n,y:r},{x:s,y:i})},ane=function(){function e(t){Q8e(this,e),this.scale=t}return Z8e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.bandAware,i=r.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),s=r[0],i=r[r.length-1];return s<=i?n>=s&&n<=i:n>=i&&n<=s}}],[{key:"create",value:function(n){return new e(n)}}])}();f_(ane,"EPS",1e-4);var VI=function(t){var n=Object.keys(t).reduce(function(r,s){return vo(vo({},r),{},f_({},s,ane.create(t[s])))},{});return vo(vo({},n),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return w8e(s,function(c,u){return n[u].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return ene(s,function(i,o){return n[o].isInRange(i)})}})};function nWe(e){return(e%180+180)%180}var rWe=function(t){var n=t.width,r=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=nWe(s),o=i*Math.PI/180,l=Math.atan(r/n),c=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},sWe=vu,iWe=g0,oWe=Jj;function aWe(e){return function(t,n,r){var s=Object(t);if(!iWe(t)){var i=sWe(n);t=oWe(t),n=function(l){return i(s[l],l,s)}}var o=e(t,n,r);return o>-1?s[i?t[o]:o]:void 0}}var lWe=aWe,cWe=Xte;function uWe(e){var t=cWe(e),n=t%1;return t===t?n?t-n:t:0}var dWe=uWe,hWe=dee,fWe=vu,pWe=dWe,mWe=Math.max;function gWe(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var s=n==null?0:pWe(n);return s<0&&(s=mWe(r+s,0)),hWe(e,fWe(t),s)}var yWe=gWe,xWe=lWe,vWe=yWe,bWe=xWe(vWe),wWe=bWe;const SWe=Dt(wWe);var NWe=nCe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),GI=v.createContext(void 0),qI=v.createContext(void 0),lne=v.createContext(void 0),cne=v.createContext({}),une=v.createContext(void 0),dne=v.createContext(0),hne=v.createContext(0),S6=function(t){var n=t.state,r=n.xAxisMap,s=n.yAxisMap,i=n.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=NWe(i);return H.createElement(GI.Provider,{value:r},H.createElement(qI.Provider,{value:s},H.createElement(cne.Provider,{value:i},H.createElement(lne.Provider,{value:d},H.createElement(une.Provider,{value:o},H.createElement(dne.Provider,{value:u},H.createElement(hne.Provider,{value:c},l)))))))},kWe=function(){return v.useContext(une)},fne=function(t){var n=v.useContext(GI);n==null&&qd();var r=n[t];return r==null&&qd(),r},jWe=function(){var t=v.useContext(GI);return ac(t)},_We=function(){var t=v.useContext(qI),n=SWe(t,function(r){return ene(r.domain,Number.isFinite)});return n||ac(t)},pne=function(t){var n=v.useContext(qI);n==null&&qd();var r=n[t];return r==null&&qd(),r},EWe=function(){var t=v.useContext(lne);return t},CWe=function(){return v.useContext(cne)},KI=function(){return v.useContext(hne)},YI=function(){return v.useContext(dne)};function Up(e){"@babel/helpers - typeof";return Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Up(e)}function TWe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AWe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gne(r.key),r)}}function OWe(e,t,n){return t&&AWe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function MWe(e,t,n){return t=QS(t),PWe(e,mne()?Reflect.construct(t,n||[],QS(e).constructor):t.apply(e,n))}function PWe(e,t){if(t&&(Up(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DWe(e)}function DWe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mne(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mne=function(){return!!e})()}function QS(e){return QS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},QS(e)}function RWe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X2(e,t)}function X2(e,t){return X2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},X2(e,t)}function N6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function k6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N6(Object(n),!0).forEach(function(r){XI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XI(e,t,n){return t=gne(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gne(e){var t=IWe(e,"string");return Up(t)=="symbol"?t:t+""}function IWe(e,t){if(Up(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Up(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function LWe(e,t){return zWe(e)||FWe(e,t)||BWe(e,t)||$We()}function $We(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BWe(e,t){if(e){if(typeof e=="string")return j6(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j6(e,t)}}function j6(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function FWe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function zWe(e){if(Array.isArray(e))return e}function J2(){return J2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},J2.apply(this,arguments)}var UWe=function(t,n){var r;return H.isValidElement(t)?r=H.cloneElement(t,n):ht(t)?r=t(n):r=H.createElement("line",J2({},n,{className:"recharts-reference-line-line"})),r},HWe=function(t,n,r,s,i,o,l,c,u){var d=i.x,h=i.y,f=i.width,p=i.height;if(r){var m=u.y,g=t.y.apply(m,{position:o});if(ba(u,"discard")&&!t.y.isInRange(g))return null;var y=[{x:d+f,y:g},{x:d,y:g}];return c==="left"?y.reverse():y}if(n){var x=u.x,b=t.x.apply(x,{position:o});if(ba(u,"discard")&&!t.x.isInRange(b))return null;var w=[{x:b,y:h+p},{x:b,y:h}];return l==="top"?w.reverse():w}if(s){var N=u.segment,S=N.map(function(k){return t.apply(k,{position:o})});return ba(u,"discard")&&f8e(S,function(k){return!t.isInRange(k)})?null:S}return null};function WWe(e){var t=e.x,n=e.y,r=e.segment,s=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=kWe(),d=fne(s),h=pne(i),f=EWe();if(!u||!f)return null;pl(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=VI({x:d.scale,y:h.scale}),m=vr(t),g=vr(n),y=r&&r.length===2,x=HWe(p,m,g,y,f,e.position,d.orientation,h.orientation,e);if(!x)return null;var b=LWe(x,2),w=b[0],N=w.x,S=w.y,k=b[1],j=k.x,_=k.y,C=ba(e,"hidden")?"url(#".concat(u,")"):void 0,A=k6(k6({clipPath:C},_t(e,!0)),{},{x1:N,y1:S,x2:j,y2:_});return H.createElement(tr,{className:Et("recharts-reference-line",l)},UWe(o,A),ss.renderCallByParent(e,tWe({x1:N,y1:S,x2:j,y2:_})))}var JI=function(e){function t(){return TWe(this,t),MWe(this,t,arguments)}return RWe(t,e),OWe(t,[{key:"render",value:function(){return H.createElement(WWe,this.props)}}])}(H.Component);XI(JI,"displayName","ReferenceLine");XI(JI,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Q2(){return Q2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q2.apply(this,arguments)}function Hp(e){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hp(e)}function _6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function E6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_6(Object(n),!0).forEach(function(r){p_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VWe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GWe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xne(r.key),r)}}function qWe(e,t,n){return t&&GWe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function KWe(e,t,n){return t=ZS(t),YWe(e,yne()?Reflect.construct(t,n||[],ZS(e).constructor):t.apply(e,n))}function YWe(e,t){if(t&&(Hp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XWe(e)}function XWe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yne(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yne=function(){return!!e})()}function ZS(e){return ZS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ZS(e)}function JWe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z2(e,t)}function Z2(e,t){return Z2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Z2(e,t)}function p_(e,t,n){return t=xne(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xne(e){var t=QWe(e,"string");return Hp(t)=="symbol"?t:t+""}function QWe(e,t){if(Hp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Hp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ZWe=function(t){var n=t.x,r=t.y,s=t.xAxis,i=t.yAxis,o=VI({x:s.scale,y:i.scale}),l=o.apply({x:n,y:r},{bandAware:!0});return ba(t,"discard")&&!o.isInRange(l)?null:l},m_=function(e){function t(){return VWe(this,t),KWe(this,t,arguments)}return JWe(t,e),qWe(t,[{key:"render",value:function(){var r=this.props,s=r.x,i=r.y,o=r.r,l=r.alwaysShow,c=r.clipPathId,u=vr(s),d=vr(i);if(pl(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var h=ZWe(this.props);if(!h)return null;var f=h.x,p=h.y,m=this.props,g=m.shape,y=m.className,x=ba(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=E6(E6({clipPath:x},_t(this.props,!0)),{},{cx:f,cy:p});return H.createElement(tr,{className:Et("recharts-reference-dot",y)},t.renderDot(g,b),ss.renderCallByParent(this.props,{x:f-o,y:p-o,width:2*o,height:2*o}))}}])}(H.Component);p_(m_,"displayName","ReferenceDot");p_(m_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});p_(m_,"renderDot",function(e,t){var n;return H.isValidElement(e)?n=H.cloneElement(e,t):ht(e)?n=e(t):n=H.createElement(WI,Q2({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function eM(){return eM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eM.apply(this,arguments)}function Wp(e){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wp(e)}function C6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function T6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C6(Object(n),!0).forEach(function(r){g_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eVe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tVe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bne(r.key),r)}}function nVe(e,t,n){return t&&tVe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rVe(e,t,n){return t=eN(t),sVe(e,vne()?Reflect.construct(t,n||[],eN(e).constructor):t.apply(e,n))}function sVe(e,t){if(t&&(Wp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iVe(e)}function iVe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vne(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vne=function(){return!!e})()}function eN(e){return eN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},eN(e)}function oVe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tM(e,t)}function tM(e,t){return tM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},tM(e,t)}function g_(e,t,n){return t=bne(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bne(e){var t=aVe(e,"string");return Wp(t)=="symbol"?t:t+""}function aVe(e,t){if(Wp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Wp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var lVe=function(t,n,r,s,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,h=i.yAxis;if(!d||!h)return null;var f=VI({x:d.scale,y:h.scale}),p={x:t?f.x.apply(o,{position:"start"}):f.x.rangeMin,y:r?f.y.apply(c,{position:"start"}):f.y.rangeMin},m={x:n?f.x.apply(l,{position:"end"}):f.x.rangeMax,y:s?f.y.apply(u,{position:"end"}):f.y.rangeMax};return ba(i,"discard")&&(!f.isInRange(p)||!f.isInRange(m))?null:one(p,m)},y_=function(e){function t(){return eVe(this,t),rVe(this,t,arguments)}return oVe(t,e),nVe(t,[{key:"render",value:function(){var r=this.props,s=r.x1,i=r.x2,o=r.y1,l=r.y2,c=r.className,u=r.alwaysShow,d=r.clipPathId;pl(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=vr(s),f=vr(i),p=vr(o),m=vr(l),g=this.props.shape;if(!h&&!f&&!p&&!m&&!g)return null;var y=lVe(h,f,p,m,this.props);if(!y&&!g)return null;var x=ba(this.props,"hidden")?"url(#".concat(d,")"):void 0;return H.createElement(tr,{className:Et("recharts-reference-area",c)},t.renderRect(g,T6(T6({clipPath:x},_t(this.props,!0)),y)),ss.renderCallByParent(this.props,y))}}])}(H.Component);g_(y_,"displayName","ReferenceArea");g_(y_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});g_(y_,"renderRect",function(e,t){var n;return H.isValidElement(e)?n=H.cloneElement(e,t):ht(e)?n=e(t):n=H.createElement(HI,eM({},t,{className:"recharts-reference-area-rect"})),n});function wne(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],s=0;s<e.length;s+=t)r.push(e[s]);return r}function cVe(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return rWe(r,n)}function uVe(e,t,n){var r=n==="width",s=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:r?s:i,end:r?s+o:i+l}:{start:r?s+o:i+l,end:r?s:i}}function tN(e,t,n,r,s){if(e*t<e*r||e*t>e*s)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-s)<=0}function dVe(e,t){return wne(e,t+1)}function hVe(e,t,n,r,s){for(var i=(r||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,h=function(){var m=r==null?void 0:r[c];if(m===void 0)return{v:wne(r,u)};var g=c,y,x=function(){return y===void 0&&(y=n(m,g)),y},b=m.coordinate,w=c===0||tN(e,b,x,d,l);w||(c=0,d=o,u+=1),w&&(d=b+e*(x()/2+s),c+=u)},f;u<=i.length;)if(f=h(),f)return f.v;return[]}function Kx(e){"@babel/helpers - typeof";return Kx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kx(e)}function A6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Zr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A6(Object(n),!0).forEach(function(r){fVe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fVe(e,t,n){return t=pVe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pVe(e){var t=mVe(e,"string");return Kx(t)=="symbol"?t:t+""}function mVe(e,t){if(Kx(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Kx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gVe(e,t,n,r,s){for(var i=(r||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(f){var p=i[f],m,g=function(){return m===void 0&&(m=n(p,f)),m};if(f===o-1){var y=e*(p.coordinate+e*g()/2-c);i[f]=p=Zr(Zr({},p),{},{tickCoord:y>0?p.coordinate-y*e:p.coordinate})}else i[f]=p=Zr(Zr({},p),{},{tickCoord:p.coordinate});var x=tN(e,p.tickCoord,g,l,c);x&&(c=p.tickCoord-e*(g()/2+s),i[f]=Zr(Zr({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function yVe(e,t,n,r,s,i){var o=(r||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=r[l-1],h=n(d,l-1),f=e*(d.coordinate+e*h/2-u);o[l-1]=d=Zr(Zr({},d),{},{tickCoord:f>0?d.coordinate-f*e:d.coordinate});var p=tN(e,d.tickCoord,function(){return h},c,u);p&&(u=d.tickCoord-e*(h/2+s),o[l-1]=Zr(Zr({},d),{},{isShow:!0}))}for(var m=i?l-1:l,g=function(b){var w=o[b],N,S=function(){return N===void 0&&(N=n(w,b)),N};if(b===0){var k=e*(w.coordinate-e*S()/2-c);o[b]=w=Zr(Zr({},w),{},{tickCoord:k<0?w.coordinate-k*e:w.coordinate})}else o[b]=w=Zr(Zr({},w),{},{tickCoord:w.coordinate});var j=tN(e,w.tickCoord,S,c,u);j&&(c=w.tickCoord+e*(S()/2+s),o[b]=Zr(Zr({},w),{},{isShow:!0}))},y=0;y<m;y++)g(y);return o}function QI(e,t,n){var r=e.tick,s=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,h=e.angle;if(!s||!s.length||!r)return[];if(ke(c)||Mm.isSsr)return dVe(s,typeof c=="number"&&ke(c)?c:0);var f=[],p=l==="top"||l==="bottom"?"width":"height",m=d&&p==="width"?xy(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},g=function(w,N){var S=ht(u)?u(w.value,N):w.value;return p==="width"?cVe(xy(S,{fontSize:t,letterSpacing:n}),m,h):xy(S,{fontSize:t,letterSpacing:n})[p]},y=s.length>=2?Ao(s[1].coordinate-s[0].coordinate):1,x=uVe(i,y,p);return c==="equidistantPreserveStart"?hVe(y,x,g,s,o):(c==="preserveStart"||c==="preserveStartEnd"?f=yVe(y,x,g,s,o,c==="preserveStartEnd"):f=gVe(y,x,g,s,o),f.filter(function(b){return b.isShow}))}var xVe=["viewBox"],vVe=["viewBox"],bVe=["ticks"];function Vp(e){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vp(e)}function kf(){return kf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kf.apply(this,arguments)}function O6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function fr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O6(Object(n),!0).forEach(function(r){ZI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HC(e,t){if(e==null)return{};var n=wVe(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function wVe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function SVe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M6(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Nne(r.key),r)}}function NVe(e,t,n){return t&&M6(e.prototype,t),n&&M6(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function kVe(e,t,n){return t=nN(t),jVe(e,Sne()?Reflect.construct(t,n||[],nN(e).constructor):t.apply(e,n))}function jVe(e,t){if(t&&(Vp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Ve(e)}function _Ve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sne(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Sne=function(){return!!e})()}function nN(e){return nN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nN(e)}function EVe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nM(e,t)}function nM(e,t){return nM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},nM(e,t)}function ZI(e,t,n){return t=Nne(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nne(e){var t=CVe(e,"string");return Vp(t)=="symbol"?t:t+""}function CVe(e,t){if(Vp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Vp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Im=function(e){function t(n){var r;return SVe(this,t),r=kVe(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return EVe(t,e),NVe(t,[{key:"shouldComponentUpdate",value:function(r,s){var i=r.viewBox,o=HC(r,xVe),l=this.props,c=l.viewBox,u=HC(l,vVe);return!Uf(i,c)||!Uf(o,u)||!Uf(s,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var s=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var s=this.props,i=s.x,o=s.y,l=s.width,c=s.height,u=s.orientation,d=s.tickSize,h=s.mirror,f=s.tickMargin,p,m,g,y,x,b,w=h?-1:1,N=r.tickSize||d,S=ke(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=m=r.coordinate,y=o+ +!h*c,g=y-w*N,b=g-w*f,x=S;break;case"left":g=y=r.coordinate,m=i+ +!h*l,p=m-w*N,x=p-w*f,b=S;break;case"right":g=y=r.coordinate,m=i+ +h*l,p=m+w*N,x=p+w*f,b=S;break;default:p=m=r.coordinate,y=o+ +h*c,g=y+w*N,b=g+w*f,x=S;break}return{line:{x1:p,y1:g,x2:m,y2:y},tick:{x,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,s=r.orientation,i=r.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,s=r.orientation,i=r.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,s=r.x,i=r.y,o=r.width,l=r.height,c=r.orientation,u=r.mirror,d=r.axisLine,h=fr(fr(fr({},_t(this.props,!1)),_t(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var f=+(c==="top"&&!u||c==="bottom"&&u);h=fr(fr({},h),{},{x1:s,y1:i+f*l,x2:s+o,y2:i+f*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);h=fr(fr({},h),{},{x1:s+p*o,y1:i,x2:s+p*o,y2:i+l})}return H.createElement("line",kf({},h,{className:Et("recharts-cartesian-axis-line",Vi(d,"className"))}))}},{key:"renderTicks",value:function(r,s,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,h=l.tickFormatter,f=l.unit,p=QI(fr(fr({},this.props),{},{ticks:r}),s,i),m=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),y=_t(this.props,!1),x=_t(d,!1),b=fr(fr({},y),{},{fill:"none"},_t(c,!1)),w=p.map(function(N,S){var k=o.getTickLineCoord(N),j=k.line,_=k.tick,C=fr(fr(fr(fr({textAnchor:m,verticalAnchor:g},y),{},{stroke:"none",fill:u},x),_),{},{index:S,payload:N,visibleTicksCount:p.length,tickFormatter:h});return H.createElement(tr,kf({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},uS(o.props,N,S)),c&&H.createElement("line",kf({},b,j,{className:Et("recharts-cartesian-axis-tick-line",Vi(c,"className"))})),d&&t.renderTickItem(d,C,"".concat(ht(h)?h(N.value,S):N.value).concat(f||"")))});return H.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var r=this,s=this.props,i=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,u=s.className,d=s.hide;if(d)return null;var h=this.props,f=h.ticks,p=HC(h,bVe),m=f;return ht(c)&&(m=f&&f.length>0?c(this.props):c(p)),o<=0||l<=0||!m||!m.length?null:H.createElement(tr,{className:Et("recharts-cartesian-axis",u),ref:function(y){r.layerReference=y}},i&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),ss.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,s,i){var o,l=Et(s.className,"recharts-cartesian-axis-tick-value");return H.isValidElement(r)?o=H.cloneElement(r,fr(fr({},s),{},{className:l})):ht(r)?o=r(fr(fr({},s),{},{className:l})):o=H.createElement(kS,kf({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(v.Component);ZI(Im,"displayName","CartesianAxis");ZI(Im,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var TVe=["x1","y1","x2","y2","key"],AVe=["offset"];function Kd(e){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kd(e)}function P6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function is(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P6(Object(n),!0).forEach(function(r){OVe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OVe(e,t,n){return t=MVe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MVe(e){var t=PVe(e,"string");return Kd(t)=="symbol"?t:t+""}function PVe(e,t){if(Kd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Kd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nd(){return nd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nd.apply(this,arguments)}function D6(e,t){if(e==null)return{};var n=DVe(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function DVe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var RVe=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,s=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return H.createElement("rect",{x:s,y:i,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function kne(e,t){var n;if(H.isValidElement(e))n=H.cloneElement(e,t);else if(ht(e))n=e(t);else{var r=t.x1,s=t.y1,i=t.x2,o=t.y2,l=t.key,c=D6(t,TVe),u=_t(c,!1);u.offset;var d=D6(u,AVe);n=H.createElement("line",nd({},d,{x1:r,y1:s,x2:i,y2:o,fill:"none",key:l}))}return n}function IVe(e){var t=e.x,n=e.width,r=e.horizontal,s=r===void 0?!0:r,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=is(is({},e),{},{x1:t,y1:l,x2:t+n,y2:l,key:"line-".concat(c),index:c});return kne(s,u)});return H.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function LVe(e){var t=e.y,n=e.height,r=e.vertical,s=r===void 0?!0:r,i=e.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=is(is({},e),{},{x1:l,y1:t,x2:l,y2:t+n,key:"line-".concat(c),index:c});return kne(s,u)});return H.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function $Ve(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,s=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(f){return Math.round(f+s-s)}).sort(function(f,p){return f-p});s!==d[0]&&d.unshift(0);var h=d.map(function(f,p){var m=!d[p+1],g=m?s+o-f:d[p+1]-f;if(g<=0)return null;var y=p%t.length;return H.createElement("rect",{key:"react-".concat(p),y:f,x:r,height:g,width:i,stroke:"none",fill:t[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return H.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function BVe(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,s=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(f){return Math.round(f+i-i)}).sort(function(f,p){return f-p});i!==d[0]&&d.unshift(0);var h=d.map(function(f,p){var m=!d[p+1],g=m?i+l-f:d[p+1]-f;if(g<=0)return null;var y=p%r.length;return H.createElement("rect",{key:"react-".concat(p),x:f,y:o,width:g,height:c,stroke:"none",fill:r[y],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return H.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var FVe=function(t,n){var r=t.xAxis,s=t.width,i=t.height,o=t.offset;return Pte(QI(is(is(is({},Im.defaultProps),r),{},{ticks:al(r,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,n)},zVe=function(t,n){var r=t.yAxis,s=t.width,i=t.height,o=t.offset;return Pte(QI(is(is(is({},Im.defaultProps),r),{},{ticks:al(r,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,n)},Lh={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function rM(e){var t,n,r,s,i,o,l=KI(),c=YI(),u=CWe(),d=is(is({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Lh.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:Lh.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:Lh.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:Lh.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Lh.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Lh.verticalFill,x:ke(e.x)?e.x:u.left,y:ke(e.y)?e.y:u.top,width:ke(e.width)?e.width:u.width,height:ke(e.height)?e.height:u.height}),h=d.x,f=d.y,p=d.width,m=d.height,g=d.syncWithTicks,y=d.horizontalValues,x=d.verticalValues,b=jWe(),w=_We();if(!ke(p)||p<=0||!ke(m)||m<=0||!ke(h)||h!==+h||!ke(f)||f!==+f)return null;var N=d.verticalCoordinatesGenerator||FVe,S=d.horizontalCoordinatesGenerator||zVe,k=d.horizontalPoints,j=d.verticalPoints;if((!k||!k.length)&&ht(S)){var _=y&&y.length,C=S({yAxis:w?is(is({},w),{},{ticks:_?y:w.ticks}):void 0,width:l,height:c,offset:u},_?!0:g);pl(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Kd(C),"]")),Array.isArray(C)&&(k=C)}if((!j||!j.length)&&ht(N)){var A=x&&x.length,O=N({xAxis:b?is(is({},b),{},{ticks:A?x:b.ticks}):void 0,width:l,height:c,offset:u},A?!0:g);pl(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Kd(O),"]")),Array.isArray(O)&&(j=O)}return H.createElement("g",{className:"recharts-cartesian-grid"},H.createElement(RVe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),H.createElement(IVe,nd({},d,{offset:u,horizontalPoints:k,xAxis:b,yAxis:w})),H.createElement(LVe,nd({},d,{offset:u,verticalPoints:j,xAxis:b,yAxis:w})),H.createElement($Ve,nd({},d,{horizontalPoints:k})),H.createElement(BVe,nd({},d,{verticalPoints:j})))}rM.displayName="CartesianGrid";var UVe=["type","layout","connectNulls","ref"],HVe=["key"];function Gp(e){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gp(e)}function R6(e,t){if(e==null)return{};var n=WVe(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function WVe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Sy(){return Sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sy.apply(this,arguments)}function I6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Zs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I6(Object(n),!0).forEach(function(r){bo(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $h(e){return KVe(e)||qVe(e)||GVe(e)||VVe()}function VVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GVe(e,t){if(e){if(typeof e=="string")return sM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sM(e,t)}}function qVe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function KVe(e){if(Array.isArray(e))return sM(e)}function sM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function YVe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L6(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_ne(r.key),r)}}function XVe(e,t,n){return t&&L6(e.prototype,t),n&&L6(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function JVe(e,t,n){return t=rN(t),QVe(e,jne()?Reflect.construct(t,n||[],rN(e).constructor):t.apply(e,n))}function QVe(e,t){if(t&&(Gp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZVe(e)}function ZVe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jne(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jne=function(){return!!e})()}function rN(e){return rN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rN(e)}function e9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iM(e,t)}function iM(e,t){return iM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},iM(e,t)}function bo(e,t,n){return t=_ne(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _ne(e){var t=t9e(e,"string");return Gp(t)=="symbol"?t:t+""}function t9e(e,t){if(Gp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Gp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var S0=function(e){function t(){var n;YVe(this,t);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=JVe(this,t,[].concat(s)),bo(n,"state",{isAnimationFinished:!0,totalLength:0}),bo(n,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),bo(n,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(x,b){return x+b});if(!u)return n.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),h=o%u,f=l-o,p=[],m=0,g=0;m<c.length;g+=c[m],++m)if(g+c[m]>h){p=[].concat($h(c.slice(0,m)),[h-g]);break}var y=p.length%2===0?[0,f]:[f];return[].concat($h(t.repeat(c,d)),$h(p),y).map(function(x){return"".concat(x,"px")}).join(", ")}),bo(n,"id",m0("recharts-line-")),bo(n,"pathRef",function(o){n.mainCurve=o}),bo(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),bo(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return e9e(t,e),XVe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,h=Gi(d,w0);if(!h)return null;var f=function(g,y){return{x:g.x,y:g.y,value:g.value,errorVal:xi(g.payload,y)}},p={clipPath:r?"url(#clipPath-".concat(s,")"):null};return H.createElement(tr,p,h.map(function(m){return H.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:f})}))}},{key:"renderDots",value:function(r,s,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,h=_t(this.props,!1),f=_t(c,!0),p=u.map(function(g,y){var x=Zs(Zs(Zs({key:"dot-".concat(y),r:3},h),f),{},{index:y,cx:g.x,cy:g.y,value:g.value,dataKey:d,payload:g.payload,points:u});return t.renderDotItem(c,x)}),m={clipPath:r?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return H.createElement(tr,Sy({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(r,s,i,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var h=R6(l,UVe),f=Zs(Zs(Zs({},_t(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(i,")"):null,points:r},o),{},{type:c,layout:u,connectNulls:d});return H.createElement(R2,Sy({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,s){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,h=o.animationDuration,f=o.animationEasing,p=o.animationId,m=o.animateNewValues,g=o.width,y=o.height,x=this.state,b=x.prevPoints,w=x.totalLength;return H.createElement(Tl,{begin:d,duration:h,isActive:u,easing:f,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var S=N.t;if(b){var k=b.length/l.length,j=l.map(function(M,P){var E=Math.floor(P*k);if(b[E]){var I=b[E],T=jo(I.x,M.x),R=jo(I.y,M.y);return Zs(Zs({},M),{},{x:T(S),y:R(S)})}if(m){var L=jo(g*2,M.x),D=jo(y/2,M.y);return Zs(Zs({},M),{},{x:L(S),y:D(S)})}return Zs(Zs({},M),{},{x:M.x,y:M.y})});return i.renderCurveStatically(j,r,s)}var _=jo(0,w),C=_(S),A;if(c){var O="".concat(c).split(/[,\s]+/gim).map(function(M){return parseFloat(M)});A=i.getStrokeDasharray(C,w,O)}else A=i.generateSimpleStrokeDasharray(w,C);return i.renderCurveStatically(l,r,s,{strokeDasharray:A})})}},{key:"renderCurve",value:function(r,s){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!l_(u,o))?this.renderCurveWithAnimation(r,s):this.renderCurveStatically(o,r,s)}},{key:"render",value:function(){var r,s=this.props,i=s.hide,o=s.dot,l=s.points,c=s.className,u=s.xAxis,d=s.yAxis,h=s.top,f=s.left,p=s.width,m=s.height,g=s.isAnimationActive,y=s.id;if(i||!l||!l.length)return null;var x=this.state.isAnimationFinished,b=l.length===1,w=Et("recharts-line",c),N=u&&u.allowDataOverflow,S=d&&d.allowDataOverflow,k=N||S,j=vt(y)?this.id:y,_=(r=_t(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},C=_.r,A=C===void 0?3:C,O=_.strokeWidth,M=O===void 0?2:O,P=lTe(o)?o:{},E=P.clipDot,I=E===void 0?!0:E,T=A*2+M;return H.createElement(tr,{className:w},N||S?H.createElement("defs",null,H.createElement("clipPath",{id:"clipPath-".concat(j)},H.createElement("rect",{x:N?f:f-p/2,y:S?h:h-m/2,width:N?p:p*2,height:S?m:m*2})),!I&&H.createElement("clipPath",{id:"clipPath-dots-".concat(j)},H.createElement("rect",{x:f-T/2,y:h-T/2,width:p+T,height:m+T}))):null,!b&&this.renderCurve(k,j),this.renderErrorBar(k,j),(b||o)&&this.renderDots(k,I,j),(!g||x)&&Uc.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,s){return r.animationId!==s.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:s.curPoints}:r.points!==s.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,s){for(var i=r.length%2!==0?[].concat($h(r),[0]):r,o=[],l=0;l<s;++l)o=[].concat($h(o),$h(i));return o}},{key:"renderDotItem",value:function(r,s){var i;if(H.isValidElement(r))i=H.cloneElement(r,s);else if(ht(r))i=r(s);else{var o=s.key,l=R6(s,HVe),c=Et("recharts-line-dot",typeof r!="boolean"?r.className:"");i=H.createElement(WI,Sy({key:o},l,{className:c}))}return i}}])}(v.PureComponent);bo(S0,"displayName","Line");bo(S0,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Mm.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});bo(S0,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,s=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,h=c.map(function(f,p){var m=xi(f,o);return d==="horizontal"?{x:yz({axis:n,ticks:s,bandSize:l,entry:f,index:p}),y:vt(m)?null:r.scale(m),value:m,payload:f}:{x:vt(m)?null:n.scale(m),y:yz({axis:r,ticks:i,bandSize:l,entry:f,index:p}),value:m,payload:f}});return Zs({points:h,layout:d},u)});function qp(e){"@babel/helpers - typeof";return qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qp(e)}function n9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r9e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Tne(r.key),r)}}function s9e(e,t,n){return t&&r9e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function i9e(e,t,n){return t=sN(t),o9e(e,Ene()?Reflect.construct(t,n||[],sN(e).constructor):t.apply(e,n))}function o9e(e,t){if(t&&(qp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a9e(e)}function a9e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ene(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ene=function(){return!!e})()}function sN(e){return sN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sN(e)}function l9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oM(e,t)}function oM(e,t){return oM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},oM(e,t)}function Cne(e,t,n){return t=Tne(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tne(e){var t=c9e(e,"string");return qp(t)=="symbol"?t:t+""}function c9e(e,t){if(qp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(qp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function aM(){return aM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aM.apply(this,arguments)}function u9e(e){var t=e.xAxisId,n=KI(),r=YI(),s=fne(t);return s==null?null:v.createElement(Im,aM({},s,{className:Et("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return al(o,!0)}}))}var Kp=function(e){function t(){return n9e(this,t),i9e(this,t,arguments)}return l9e(t,e),s9e(t,[{key:"render",value:function(){return v.createElement(u9e,this.props)}}])}(v.Component);Cne(Kp,"displayName","XAxis");Cne(Kp,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Yp(e){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yp(e)}function d9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h9e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Mne(r.key),r)}}function f9e(e,t,n){return t&&h9e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function p9e(e,t,n){return t=iN(t),m9e(e,Ane()?Reflect.construct(t,n||[],iN(e).constructor):t.apply(e,n))}function m9e(e,t){if(t&&(Yp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g9e(e)}function g9e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ane(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ane=function(){return!!e})()}function iN(e){return iN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},iN(e)}function y9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lM(e,t)}function lM(e,t){return lM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},lM(e,t)}function One(e,t,n){return t=Mne(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mne(e){var t=x9e(e,"string");return Yp(t)=="symbol"?t:t+""}function x9e(e,t){if(Yp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Yp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function cM(){return cM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cM.apply(this,arguments)}var v9e=function(t){var n=t.yAxisId,r=KI(),s=YI(),i=pne(n);return i==null?null:v.createElement(Im,cM({},i,{className:Et("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:s},ticksGenerator:function(l){return al(l,!0)}}))},Xp=function(e){function t(){return d9e(this,t),p9e(this,t,arguments)}return y9e(t,e),f9e(t,[{key:"render",value:function(){return v.createElement(v9e,this.props)}}])}(v.Component);One(Xp,"displayName","YAxis");One(Xp,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function $6(e){return N9e(e)||S9e(e)||w9e(e)||b9e()}function b9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w9e(e,t){if(e){if(typeof e=="string")return uM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uM(e,t)}}function S9e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function N9e(e){if(Array.isArray(e))return uM(e)}function uM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var dM=function(t,n,r,s,i){var o=Gi(t,JI),l=Gi(t,m_),c=[].concat($6(o),$6(l)),u=Gi(t,y_),d="".concat(s,"Id"),h=s[0],f=n;if(c.length&&(f=c.reduce(function(g,y){if(y.props[d]===r&&ba(y.props,"extendDomain")&&ke(y.props[h])){var x=y.props[h];return[Math.min(g[0],x),Math.max(g[1],x)]}return g},f)),u.length){var p="".concat(h,"1"),m="".concat(h,"2");f=u.reduce(function(g,y){if(y.props[d]===r&&ba(y.props,"extendDomain")&&ke(y.props[p])&&ke(y.props[m])){var x=y.props[p],b=y.props[m];return[Math.min(g[0],x,b),Math.max(g[1],x,b)]}return g},f)}return i&&i.length&&(f=i.reduce(function(g,y){return ke(y)?[Math.min(g[0],y),Math.max(g[1],y)]:g},f)),f},Pne={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,h,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new s(d,h||c,f),m=n?n+u:u;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],p]:c._events[m].push(p):(c._events[m]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)t.call(d,h)&&u.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,p=h.length,m=new Array(p);f<p;f++)m[f]=h[f].fn;return m},l.prototype.listenerCount=function(u){var d=n?n+u:u,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,d,h,f,p,m){var g=n?n+u:u;if(!this._events[g])return!1;var y=this._events[g],x=arguments.length,b,w;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,h),!0;case 4:return y.fn.call(y.context,d,h,f),!0;case 5:return y.fn.call(y.context,d,h,f,p),!0;case 6:return y.fn.call(y.context,d,h,f,p,m),!0}for(w=1,b=new Array(x-1);w<x;w++)b[w-1]=arguments[w];y.fn.apply(y.context,b)}else{var N=y.length,S;for(w=0;w<N;w++)switch(y[w].once&&this.removeListener(u,y[w].fn,void 0,!0),x){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,d);break;case 3:y[w].fn.call(y[w].context,d,h);break;case 4:y[w].fn.call(y[w].context,d,h,f);break;default:if(!b)for(S=1,b=new Array(x-1);S<x;S++)b[S-1]=arguments[S];y[w].fn.apply(y[w].context,b)}}return!0},l.prototype.on=function(u,d,h){return i(this,u,d,h,!1)},l.prototype.once=function(u,d,h){return i(this,u,d,h,!0)},l.prototype.removeListener=function(u,d,h,f){var p=n?n+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===d&&(!f||m.once)&&(!h||m.context===h)&&o(this,p);else{for(var g=0,y=[],x=m.length;g<x;g++)(m[g].fn!==d||f&&!m[g].once||h&&m[g].context!==h)&&y.push(m[g]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(Pne);var k9e=Pne.exports;const j9e=Dt(k9e);var WC=new j9e,VC="recharts.syncMouseEvents";function Yx(e){"@babel/helpers - typeof";return Yx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yx(e)}function _9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E9e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Dne(r.key),r)}}function C9e(e,t,n){return t&&E9e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function GC(e,t,n){return t=Dne(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dne(e){var t=T9e(e,"string");return Yx(t)=="symbol"?t:t+""}function T9e(e,t){if(Yx(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Yx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var A9e=function(){function e(){_9e(this,e),GC(this,"activeIndex",0),GC(this,"coordinateList",[]),GC(this,"layout","horizontal")}return C9e(e,[{key:"setDetails",value:function(n){var r,s=n.coordinateList,i=s===void 0?null:s,o=n.container,l=o===void 0?null:o,c=n.layout,u=c===void 0?null:c,d=n.offset,h=d===void 0?null:d,f=n.mouseHandlerCallback,p=f===void 0?null:f;this.coordinateList=(r=i??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,h=i+c+u,f=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:h,pageY:f})}}}])}();function O9e(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],s=e==null?void 0:e[1];if(r&&s&&ke(r)&&ke(s))return!0}return!1}function M9e(e,t,n,r){var s=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-s,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function Rne(e){var t=e.cx,n=e.cy,r=e.radius,s=e.startAngle,i=e.endAngle,o=Wr(t,n,r,s),l=Wr(t,n,r,i);return{points:[o,l],cx:t,cy:n,radius:r,startAngle:s,endAngle:i}}function P9e(e,t,n){var r,s,i,o;if(e==="horizontal")r=t.x,i=r,s=n.top,o=n.top+n.height;else if(e==="vertical")s=t.y,o=s,r=n.left,i=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,h=t.angle,f=Wr(l,c,u,h),p=Wr(l,c,d,h);r=f.x,s=f.y,i=p.x,o=p.y}else return Rne(t);return[{x:r,y:s},{x:i,y:o}]}function Xx(e){"@babel/helpers - typeof";return Xx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xx(e)}function B6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Ib(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?B6(Object(n),!0).forEach(function(r){D9e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function D9e(e,t,n){return t=R9e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R9e(e){var t=I9e(e,"string");return Xx(t)=="symbol"?t:t+""}function I9e(e,t){if(Xx(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Xx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function L9e(e){var t,n,r=e.element,s=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,h=e.layout,f=e.chartName,p=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!i||!o||f!=="ScatterChart"&&s!=="axis")return null;var m,g=R2;if(f==="ScatterChart")m=o,g=LUe;else if(f==="BarChart")m=M9e(h,o,c,d),g=HI;else if(h==="radial"){var y=Rne(o),x=y.cx,b=y.cy,w=y.radius,N=y.startAngle,S=y.endAngle;m={cx:x,cy:b,startAngle:N,endAngle:S,innerRadius:w,outerRadius:w},g=$te}else m={points:P9e(h,o,c)},g=R2;var k=Ib(Ib(Ib(Ib({stroke:"#ccc",pointerEvents:"none"},c),m),_t(p,!1)),{},{payload:l,payloadIndex:u,className:Et("recharts-tooltip-cursor",p.className)});return v.isValidElement(p)?v.cloneElement(p,k):v.createElement(g,k)}var $9e=["item"],B9e=["children","className","width","height","style","compact","title","desc"];function Jp(e){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jp(e)}function jf(){return jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jf.apply(this,arguments)}function F6(e,t){return U9e(e)||z9e(e,t)||Lne(e,t)||F9e()}function F9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z9e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function U9e(e){if(Array.isArray(e))return e}function z6(e,t){if(e==null)return{};var n=H9e(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function H9e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function W9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V9e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$ne(r.key),r)}}function G9e(e,t,n){return t&&V9e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function q9e(e,t,n){return t=oN(t),K9e(e,Ine()?Reflect.construct(t,n||[],oN(e).constructor):t.apply(e,n))}function K9e(e,t){if(t&&(Jp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y9e(e)}function Y9e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ine(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ine=function(){return!!e})()}function oN(e){return oN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},oN(e)}function X9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hM(e,t)}function hM(e,t){return hM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},hM(e,t)}function Qp(e){return Z9e(e)||Q9e(e)||Lne(e)||J9e()}function J9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lne(e,t){if(e){if(typeof e=="string")return fM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fM(e,t)}}function Q9e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Z9e(e){if(Array.isArray(e))return fM(e)}function fM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?U6(Object(n),!0).forEach(function(r){Ye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ye(e,t,n){return t=$ne(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $ne(e){var t=eGe(e,"string");return Jp(t)=="symbol"?t:t+""}function eGe(e,t){if(Jp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tGe={xAxis:["bottom","top"],yAxis:["left","right"]},nGe={width:"100%",height:"100%"},Bne={x:0,y:0};function Lb(e){return e}var rGe=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},sGe=function(t,n,r,s){var i=n.find(function(d){return d&&d.index===r});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=s.radius;return le(le(le({},s),Wr(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=s.angle;return le(le(le({},s),Wr(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return Bne},x_=function(t,n){var r=n.graphicalItems,s=n.dataStartIndex,i=n.dataEndIndex,o=(r??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Qp(l),Qp(u)):l},[]);return o.length>0?o:t&&t.length&&ke(s)&&ke(i)?t.slice(s,i+1):[]};function Fne(e){return e==="number"?[0,"auto"]:void 0}var pM=function(t,n,r,s){var i=t.graphicalItems,o=t.tooltipAxis,l=x_(n,t);return r<0||!i||!i.length||r>=l.length?null:i.reduce(function(c,u){var d,h=(d=u.props.data)!==null&&d!==void 0?d:n;h&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(h=h.slice(t.dataStartIndex,t.dataEndIndex+1));var f;if(o.dataKey&&!o.allowDuplicatedCategory){var p=h===void 0?l:h;f=lS(p,o.dataKey,s)}else f=h&&h[r]||l[r];return f?[].concat(Qp(c),[Rte(u,f)]):c},[])},H6=function(t,n,r,s){var i=s||{x:t.chartX,y:t.chartY},o=rGe(i,r),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=xFe(o,l,u,c);if(d>=0&&u){var h=u[d]&&u[d].value,f=pM(t,n,d,h),p=sGe(r,l,d,i);return{activeTooltipIndex:d,activeLabel:h,activePayload:f,activeCoordinate:p}}return null},iGe=function(t,n){var r=n.axes,s=n.graphicalItems,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.layout,h=t.children,f=t.stackOffset,p=Mte(d,i);return r.reduce(function(m,g){var y,x=g.type.defaultProps!==void 0?le(le({},g.type.defaultProps),g.props):g.props,b=x.type,w=x.dataKey,N=x.allowDataOverflow,S=x.allowDuplicatedCategory,k=x.scale,j=x.ticks,_=x.includeHidden,C=x[o];if(m[C])return m;var A=x_(t.data,{graphicalItems:s.filter(function(B){var $,W=o in B.props?B.props[o]:($=B.type.defaultProps)===null||$===void 0?void 0:$[o];return W===C}),dataStartIndex:c,dataEndIndex:u}),O=A.length,M,P,E;O9e(x.domain,N,b)&&(M=A2(x.domain,null,N),p&&(b==="number"||k!=="auto")&&(E=by(A,w,"category")));var I=Fne(b);if(!M||M.length===0){var T,R=(T=x.domain)!==null&&T!==void 0?T:I;if(w){if(M=by(A,w,b),b==="category"&&p){var L=QCe(M);S&&L?(P=M,M=qS(0,O)):S||(M=wz(R,M,g).reduce(function(B,$){return B.indexOf($)>=0?B:[].concat(Qp(B),[$])},[]))}else if(b==="category")S?M=M.filter(function(B){return B!==""&&!vt(B)}):M=wz(R,M,g).reduce(function(B,$){return B.indexOf($)>=0||$===""||vt($)?B:[].concat(Qp(B),[$])},[]);else if(b==="number"){var D=NFe(A,s.filter(function(B){var $,W,V=o in B.props?B.props[o]:($=B.type.defaultProps)===null||$===void 0?void 0:$[o],Y="hide"in B.props?B.props.hide:(W=B.type.defaultProps)===null||W===void 0?void 0:W.hide;return V===C&&(_||!Y)}),w,i,d);D&&(M=D)}p&&(b==="number"||k!=="auto")&&(E=by(A,w,"category"))}else p?M=qS(0,O):l&&l[C]&&l[C].hasStack&&b==="number"?M=f==="expand"?[0,1]:Dte(l[C].stackGroups,c,u):M=Ote(A,s.filter(function(B){var $=o in B.props?B.props[o]:B.type.defaultProps[o],W="hide"in B.props?B.props.hide:B.type.defaultProps.hide;return $===C&&(_||!W)}),b,d,!0);if(b==="number")M=dM(h,M,C,i,j),R&&(M=A2(R,M,N));else if(b==="category"&&R){var F=R,z=M.every(function(B){return F.indexOf(B)>=0});z&&(M=F)}}return le(le({},m),{},Ye({},C,le(le({},x),{},{axisType:i,domain:M,categoricalDomain:E,duplicateDomain:P,originalDomain:(y=x.domain)!==null&&y!==void 0?y:I,isCategorical:p,layout:d})))},{})},oGe=function(t,n){var r=n.graphicalItems,s=n.Axis,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.layout,h=t.children,f=x_(t.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),p=f.length,m=Mte(d,i),g=-1;return r.reduce(function(y,x){var b=x.type.defaultProps!==void 0?le(le({},x.type.defaultProps),x.props):x.props,w=b[o],N=Fne("number");if(!y[w]){g++;var S;return m?S=qS(0,p):l&&l[w]&&l[w].hasStack?(S=Dte(l[w].stackGroups,c,u),S=dM(h,S,w,i)):(S=A2(N,Ote(f,r.filter(function(k){var j,_,C=o in k.props?k.props[o]:(j=k.type.defaultProps)===null||j===void 0?void 0:j[o],A="hide"in k.props?k.props.hide:(_=k.type.defaultProps)===null||_===void 0?void 0:_.hide;return C===w&&!A}),"number",d),s.defaultProps.allowDataOverflow),S=dM(h,S,w,i)),le(le({},y),{},Ye({},w,le(le({axisType:i},s.defaultProps),{},{hide:!0,orientation:Vi(tGe,"".concat(i,".").concat(g%2),null),domain:S,originalDomain:N,isCategorical:m,layout:d})))}return y},{})},aGe=function(t,n){var r=n.axisType,s=r===void 0?"xAxis":r,i=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.children,h="".concat(s,"Id"),f=Gi(d,i),p={};return f&&f.length?p=iGe(t,{axes:f,graphicalItems:o,axisType:s,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=oGe(t,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},lGe=function(t){var n=ac(t),r=al(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:gI(r,function(s){return s.coordinate}),tooltipAxis:n,tooltipAxisBandSize:$S(n,r)}},W6=function(t){var n=t.children,r=t.defaultShowTooltip,s=ni(n,Fp),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},cGe=function(t){return!t||!t.length?!1:t.some(function(n){var r=fl(n&&n.type);return r&&r.indexOf("Bar")>=0})},V6=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},uGe=function(t,n){var r=t.props,s=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=r.width,d=r.height,h=r.children,f=r.margin||{},p=ni(h,Fp),m=ni(h,Hf),g=Object.keys(c).reduce(function(S,k){var j=c[k],_=j.orientation;return!j.mirror&&!j.hide?le(le({},S),{},Ye({},_,S[_]+j.width)):S},{left:f.left||0,right:f.right||0}),y=Object.keys(o).reduce(function(S,k){var j=o[k],_=j.orientation;return!j.mirror&&!j.hide?le(le({},S),{},Ye({},_,Vi(S,"".concat(_))+j.height)):S},{top:f.top||0,bottom:f.bottom||0}),x=le(le({},y),g),b=x.bottom;p&&(x.bottom+=p.props.height||Fp.defaultProps.height),m&&n&&(x=wFe(x,s,r,n));var w=u-x.left-x.right,N=d-x.top-x.bottom;return le(le({brushBottom:b},x),{},{width:Math.max(w,0),height:Math.max(N,0)})},dGe=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},zne=function(t){var n=t.chartName,r=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,h=t.defaultProps,f=function(x,b){var w=b.graphicalItems,N=b.stackGroups,S=b.offset,k=b.updateId,j=b.dataStartIndex,_=b.dataEndIndex,C=x.barSize,A=x.layout,O=x.barGap,M=x.barCategoryGap,P=x.maxBarSize,E=V6(A),I=E.numericAxisName,T=E.cateAxisName,R=cGe(w),L=[];return w.forEach(function(D,F){var z=x_(x.data,{graphicalItems:[D],dataStartIndex:j,dataEndIndex:_}),B=D.type.defaultProps!==void 0?le(le({},D.type.defaultProps),D.props):D.props,$=B.dataKey,W=B.maxBarSize,V=B["".concat(I,"Id")],Y=B["".concat(T,"Id")],G={},Z=c.reduce(function(De,gt){var St=b["".concat(gt.axisType,"Map")],qt=B["".concat(gt.axisType,"Id")];St&&St[qt]||gt.axisType==="zAxis"||qd();var In=St[qt];return le(le({},De),{},Ye(Ye({},gt.axisType,In),"".concat(gt.axisType,"Ticks"),al(In)))},G),q=Z[T],ee=Z["".concat(T,"Ticks")],se=N&&N[V]&&N[V].hasStack&&RFe(D,N[V].stackGroups),X=fl(D.type).indexOf("Bar")>=0,de=$S(q,ee),pe=[],Se=R&&vFe({barSize:C,stackGroups:N,totalSize:dGe(Z,T)});if(X){var be,Ae,ne=vt(W)?P:W,Je=(be=(Ae=$S(q,ee,!0))!==null&&Ae!==void 0?Ae:ne)!==null&&be!==void 0?be:0;pe=bFe({barGap:O,barCategoryGap:M,bandSize:Je!==de?Je:de,sizeList:Se[Y],maxBarSize:ne}),Je!==de&&(pe=pe.map(function(De){return le(le({},De),{},{position:le(le({},De.position),{},{offset:De.position.offset-Je/2})})}))}var qe=D&&D.type&&D.type.getComposedData;qe&&L.push({props:le(le({},qe(le(le({},Z),{},{displayedData:z,props:x,dataKey:$,item:D,bandSize:de,barPosition:pe,offset:S,stackedData:se,layout:A,dataStartIndex:j,dataEndIndex:_}))),{},Ye(Ye(Ye({key:D.key||"item-".concat(F)},I,Z[I]),T,Z[T]),"animationId",k)),childIndex:dTe(D,x.children),item:D})}),L},p=function(x,b){var w=x.props,N=x.dataStartIndex,S=x.dataEndIndex,k=x.updateId;if(!hB({props:w}))return null;var j=w.children,_=w.layout,C=w.stackOffset,A=w.data,O=w.reverseStackOrder,M=V6(_),P=M.numericAxisName,E=M.cateAxisName,I=Gi(j,r),T=MFe(A,I,"".concat(P,"Id"),"".concat(E,"Id"),C,O),R=c.reduce(function(B,$){var W="".concat($.axisType,"Map");return le(le({},B),{},Ye({},W,aGe(w,le(le({},$),{},{graphicalItems:I,stackGroups:$.axisType===P&&T,dataStartIndex:N,dataEndIndex:S}))))},{}),L=uGe(le(le({},R),{},{props:w,graphicalItems:I}),b==null?void 0:b.legendBBox);Object.keys(R).forEach(function(B){R[B]=d(w,R[B],L,B.replace("Map",""),n)});var D=R["".concat(E,"Map")],F=lGe(D),z=f(w,le(le({},R),{},{dataStartIndex:N,dataEndIndex:S,updateId:k,graphicalItems:I,stackGroups:T,offset:L}));return le(le({formattedGraphicalItems:z,graphicalItems:I,offset:L,stackGroups:T},F),R)},m=function(y){function x(b){var w,N,S;return W9e(this,x),S=q9e(this,x,[b]),Ye(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ye(S,"accessibilityManager",new A9e),Ye(S,"handleLegendBBoxUpdate",function(k){if(k){var j=S.state,_=j.dataStartIndex,C=j.dataEndIndex,A=j.updateId;S.setState(le({legendBBox:k},p({props:S.props,dataStartIndex:_,dataEndIndex:C,updateId:A},le(le({},S.state),{},{legendBBox:k}))))}}),Ye(S,"handleReceiveSyncEvent",function(k,j,_){if(S.props.syncId===k){if(_===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(j)}}),Ye(S,"handleBrushChange",function(k){var j=k.startIndex,_=k.endIndex;if(j!==S.state.dataStartIndex||_!==S.state.dataEndIndex){var C=S.state.updateId;S.setState(function(){return le({dataStartIndex:j,dataEndIndex:_},p({props:S.props,dataStartIndex:j,dataEndIndex:_,updateId:C},S.state))}),S.triggerSyncEvent({dataStartIndex:j,dataEndIndex:_})}}),Ye(S,"handleMouseEnter",function(k){var j=S.getMouseInfo(k);if(j){var _=le(le({},j),{},{isTooltipActive:!0});S.setState(_),S.triggerSyncEvent(_);var C=S.props.onMouseEnter;ht(C)&&C(_,k)}}),Ye(S,"triggeredAfterMouseMove",function(k){var j=S.getMouseInfo(k),_=j?le(le({},j),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(_),S.triggerSyncEvent(_);var C=S.props.onMouseMove;ht(C)&&C(_,k)}),Ye(S,"handleItemMouseEnter",function(k){S.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),Ye(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),Ye(S,"handleMouseMove",function(k){k.persist(),S.throttleTriggeredAfterMouseMove(k)}),Ye(S,"handleMouseLeave",function(k){S.throttleTriggeredAfterMouseMove.cancel();var j={isTooltipActive:!1};S.setState(j),S.triggerSyncEvent(j);var _=S.props.onMouseLeave;ht(_)&&_(j,k)}),Ye(S,"handleOuterEvent",function(k){var j=uTe(k),_=Vi(S.props,"".concat(j));if(j&&ht(_)){var C,A;/.*touch.*/i.test(j)?A=S.getMouseInfo(k.changedTouches[0]):A=S.getMouseInfo(k),_((C=A)!==null&&C!==void 0?C:{},k)}}),Ye(S,"handleClick",function(k){var j=S.getMouseInfo(k);if(j){var _=le(le({},j),{},{isTooltipActive:!0});S.setState(_),S.triggerSyncEvent(_);var C=S.props.onClick;ht(C)&&C(_,k)}}),Ye(S,"handleMouseDown",function(k){var j=S.props.onMouseDown;if(ht(j)){var _=S.getMouseInfo(k);j(_,k)}}),Ye(S,"handleMouseUp",function(k){var j=S.props.onMouseUp;if(ht(j)){var _=S.getMouseInfo(k);j(_,k)}}),Ye(S,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),Ye(S,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.handleMouseDown(k.changedTouches[0])}),Ye(S,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.handleMouseUp(k.changedTouches[0])}),Ye(S,"handleDoubleClick",function(k){var j=S.props.onDoubleClick;if(ht(j)){var _=S.getMouseInfo(k);j(_,k)}}),Ye(S,"handleContextMenu",function(k){var j=S.props.onContextMenu;if(ht(j)){var _=S.getMouseInfo(k);j(_,k)}}),Ye(S,"triggerSyncEvent",function(k){S.props.syncId!==void 0&&WC.emit(VC,S.props.syncId,k,S.eventEmitterSymbol)}),Ye(S,"applySyncEvent",function(k){var j=S.props,_=j.layout,C=j.syncMethod,A=S.state.updateId,O=k.dataStartIndex,M=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)S.setState(le({dataStartIndex:O,dataEndIndex:M},p({props:S.props,dataStartIndex:O,dataEndIndex:M,updateId:A},S.state)));else if(k.activeTooltipIndex!==void 0){var P=k.chartX,E=k.chartY,I=k.activeTooltipIndex,T=S.state,R=T.offset,L=T.tooltipTicks;if(!R)return;if(typeof C=="function")I=C(L,k);else if(C==="value"){I=-1;for(var D=0;D<L.length;D++)if(L[D].value===k.activeLabel){I=D;break}}var F=le(le({},R),{},{x:R.left,y:R.top}),z=Math.min(P,F.x+F.width),B=Math.min(E,F.y+F.height),$=L[I]&&L[I].value,W=pM(S.state,S.props.data,I),V=L[I]?{x:_==="horizontal"?L[I].coordinate:z,y:_==="horizontal"?B:L[I].coordinate}:Bne;S.setState(le(le({},k),{},{activeLabel:$,activeCoordinate:V,activePayload:W,activeTooltipIndex:I}))}else S.setState(k)}),Ye(S,"renderCursor",function(k){var j,_=S.state,C=_.isTooltipActive,A=_.activeCoordinate,O=_.activePayload,M=_.offset,P=_.activeTooltipIndex,E=_.tooltipAxisBandSize,I=S.getTooltipEventType(),T=(j=k.props.active)!==null&&j!==void 0?j:C,R=S.props.layout,L=k.key||"_recharts-cursor";return H.createElement(L9e,{key:L,activeCoordinate:A,activePayload:O,activeTooltipIndex:P,chartName:n,element:k,isActive:T,layout:R,offset:M,tooltipAxisBandSize:E,tooltipEventType:I})}),Ye(S,"renderPolarAxis",function(k,j,_){var C=Vi(k,"type.axisType"),A=Vi(S.state,"".concat(C,"Map")),O=k.type.defaultProps,M=O!==void 0?le(le({},O),k.props):k.props,P=A&&A[M["".concat(C,"Id")]];return v.cloneElement(k,le(le({},P),{},{className:Et(C,P.className),key:k.key||"".concat(j,"-").concat(_),ticks:al(P,!0)}))}),Ye(S,"renderPolarGrid",function(k){var j=k.props,_=j.radialLines,C=j.polarAngles,A=j.polarRadius,O=S.state,M=O.radiusAxisMap,P=O.angleAxisMap,E=ac(M),I=ac(P),T=I.cx,R=I.cy,L=I.innerRadius,D=I.outerRadius;return v.cloneElement(k,{polarAngles:Array.isArray(C)?C:al(I,!0).map(function(F){return F.coordinate}),polarRadius:Array.isArray(A)?A:al(E,!0).map(function(F){return F.coordinate}),cx:T,cy:R,innerRadius:L,outerRadius:D,key:k.key||"polar-grid",radialLines:_})}),Ye(S,"renderLegend",function(){var k=S.state.formattedGraphicalItems,j=S.props,_=j.children,C=j.width,A=j.height,O=S.props.margin||{},M=C-(O.left||0)-(O.right||0),P=Tte({children:_,formattedGraphicalItems:k,legendWidth:M,legendContent:u});if(!P)return null;var E=P.item,I=z6(P,$9e);return v.cloneElement(E,le(le({},I),{},{chartWidth:C,chartHeight:A,margin:O,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),Ye(S,"renderTooltip",function(){var k,j=S.props,_=j.children,C=j.accessibilityLayer,A=ni(_,xo);if(!A)return null;var O=S.state,M=O.isTooltipActive,P=O.activeCoordinate,E=O.activePayload,I=O.activeLabel,T=O.offset,R=(k=A.props.active)!==null&&k!==void 0?k:M;return v.cloneElement(A,{viewBox:le(le({},T),{},{x:T.left,y:T.top}),active:R,label:I,payload:R?E:[],coordinate:P,accessibilityLayer:C})}),Ye(S,"renderBrush",function(k){var j=S.props,_=j.margin,C=j.data,A=S.state,O=A.offset,M=A.dataStartIndex,P=A.dataEndIndex,E=A.updateId;return v.cloneElement(k,{key:k.key||"_recharts-brush",onChange:Mb(S.handleBrushChange,k.props.onChange),data:C,x:ke(k.props.x)?k.props.x:O.left,y:ke(k.props.y)?k.props.y:O.top+O.height+O.brushBottom-(_.bottom||0),width:ke(k.props.width)?k.props.width:O.width,startIndex:M,endIndex:P,updateId:"brush-".concat(E)})}),Ye(S,"renderReferenceElement",function(k,j,_){if(!k)return null;var C=S,A=C.clipPathId,O=S.state,M=O.xAxisMap,P=O.yAxisMap,E=O.offset,I=k.type.defaultProps||{},T=k.props,R=T.xAxisId,L=R===void 0?I.xAxisId:R,D=T.yAxisId,F=D===void 0?I.yAxisId:D;return v.cloneElement(k,{key:k.key||"".concat(j,"-").concat(_),xAxis:M[L],yAxis:P[F],viewBox:{x:E.left,y:E.top,width:E.width,height:E.height},clipPathId:A})}),Ye(S,"renderActivePoints",function(k){var j=k.item,_=k.activePoint,C=k.basePoint,A=k.childIndex,O=k.isRange,M=[],P=j.props.key,E=j.item.type.defaultProps!==void 0?le(le({},j.item.type.defaultProps),j.item.props):j.item.props,I=E.activeDot,T=E.dataKey,R=le(le({index:A,dataKey:T,cx:_.x,cy:_.y,r:4,fill:UI(j.item),strokeWidth:2,stroke:"#fff",payload:_.payload,value:_.value},_t(I,!1)),cS(I));return M.push(x.renderActiveDot(I,R,"".concat(P,"-activePoint-").concat(A))),C?M.push(x.renderActiveDot(I,le(le({},R),{},{cx:C.x,cy:C.y}),"".concat(P,"-basePoint-").concat(A))):O&&M.push(null),M}),Ye(S,"renderGraphicChild",function(k,j,_){var C=S.filterFormatItem(k,j,_);if(!C)return null;var A=S.getTooltipEventType(),O=S.state,M=O.isTooltipActive,P=O.tooltipAxis,E=O.activeTooltipIndex,I=O.activeLabel,T=S.props.children,R=ni(T,xo),L=C.props,D=L.points,F=L.isRange,z=L.baseLine,B=C.item.type.defaultProps!==void 0?le(le({},C.item.type.defaultProps),C.item.props):C.item.props,$=B.activeDot,W=B.hide,V=B.activeBar,Y=B.activeShape,G=!!(!W&&M&&R&&($||V||Y)),Z={};A!=="axis"&&R&&R.props.trigger==="click"?Z={onClick:Mb(S.handleItemMouseEnter,k.props.onClick)}:A!=="axis"&&(Z={onMouseLeave:Mb(S.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:Mb(S.handleItemMouseEnter,k.props.onMouseEnter)});var q=v.cloneElement(k,le(le({},C.props),Z));function ee(gt){return typeof P.dataKey=="function"?P.dataKey(gt.payload):null}if(G)if(E>=0){var se,X;if(P.dataKey&&!P.allowDuplicatedCategory){var de=typeof P.dataKey=="function"?ee:"payload.".concat(P.dataKey.toString());se=lS(D,de,I),X=F&&z&&lS(z,de,I)}else se=D==null?void 0:D[E],X=F&&z&&z[E];if(Y||V){var pe=k.props.activeIndex!==void 0?k.props.activeIndex:E;return[v.cloneElement(k,le(le(le({},C.props),Z),{},{activeIndex:pe})),null,null]}if(!vt(se))return[q].concat(Qp(S.renderActivePoints({item:C,activePoint:se,basePoint:X,childIndex:E,isRange:F})))}else{var Se,be=(Se=S.getItemByXY(S.state.activeCoordinate))!==null&&Se!==void 0?Se:{graphicalItem:q},Ae=be.graphicalItem,ne=Ae.item,Je=ne===void 0?k:ne,qe=Ae.childIndex,De=le(le(le({},C.props),Z),{},{activeIndex:qe});return[v.cloneElement(Je,De),null,null]}return F?[q,null,null]:[q,null]}),Ye(S,"renderCustomized",function(k,j,_){return v.cloneElement(k,le(le({key:"recharts-customized-".concat(_)},S.props),S.state))}),Ye(S,"renderMap",{CartesianGrid:{handler:Lb,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:Lb},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:Lb},YAxis:{handler:Lb},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((w=b.id)!==null&&w!==void 0?w:m0("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=jee(S.triggeredAfterMouseMove,(N=b.throttleDelay)!==null&&N!==void 0?N:1e3/60),S.state={},S}return X9e(x,y),G9e(x,[{key:"componentDidMount",value:function(){var w,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,N=w.children,S=w.data,k=w.height,j=w.layout,_=ni(N,xo);if(_){var C=_.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,O=pM(this.state,S,C,A),M=this.state.tooltipTicks[C].coordinate,P=(this.state.offset.top+k)/2,E=j==="horizontal",I=E?{x:M,y:P}:{y:M,x:P},T=this.state.formattedGraphicalItems.find(function(L){var D=L.item;return D.type.name==="Scatter"});T&&(I=le(le({},I),T.props.points[C].tooltipPosition),O=T.props.points[C].tooltipPayload);var R={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:A,activePayload:O,activeCoordinate:I};this.setState(R),this.renderCursor(_),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var S,k;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(w){WO([ni(w.children,xo)],[ni(this.props.children,xo)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=ni(this.props.children,xo);if(w&&typeof w.props.shared=="boolean"){var N=w.props.shared?"axis":"item";return l.indexOf(N)>=0?N:i}return i}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var N=this.container,S=N.getBoundingClientRect(),k=L$e(S),j={chartX:Math.round(w.pageX-k.left),chartY:Math.round(w.pageY-k.top)},_=S.width/N.offsetWidth||1,C=this.inRange(j.chartX,j.chartY,_);if(!C)return null;var A=this.state,O=A.xAxisMap,M=A.yAxisMap,P=this.getTooltipEventType(),E=H6(this.state,this.props.data,this.props.layout,C);if(P!=="axis"&&O&&M){var I=ac(O).scale,T=ac(M).scale,R=I&&I.invert?I.invert(j.chartX):null,L=T&&T.invert?T.invert(j.chartY):null;return le(le({},j),{},{xValue:R,yValue:L},E)}return E?le(le({},j),E):null}},{key:"inRange",value:function(w,N){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,j=w/S,_=N/S;if(k==="horizontal"||k==="vertical"){var C=this.state.offset,A=j>=C.left&&j<=C.left+C.width&&_>=C.top&&_<=C.top+C.height;return A?{x:j,y:_}:null}var O=this.state,M=O.angleAxisMap,P=O.radiusAxisMap;if(M&&P){var E=ac(M);return kz({x:j,y:_},E)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,N=this.getTooltipEventType(),S=ni(w,xo),k={};S&&N==="axis"&&(S.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var j=cS(this.props,this.handleOuterEvent);return le(le({},j),k)}},{key:"addListener",value:function(){WC.on(VC,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){WC.removeListener(VC,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,N,S){for(var k=this.state.formattedGraphicalItems,j=0,_=k.length;j<_;j++){var C=k[j];if(C.item===w||C.props.key===w.key||N===fl(C.item.type)&&S===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,N=this.state.offset,S=N.left,k=N.top,j=N.height,_=N.width;return H.createElement("defs",null,H.createElement("clipPath",{id:w},H.createElement("rect",{x:S,y:k,height:j,width:_})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(N,S){var k=F6(S,2),j=k[0],_=k[1];return le(le({},N),{},Ye({},j,_.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(N,S){var k=F6(S,2),j=k[0],_=k[1];return le(le({},N),{},Ye({},j,_.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[w])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(w){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[w])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(w){var N=this.state,S=N.formattedGraphicalItems,k=N.activeItem;if(S&&S.length)for(var j=0,_=S.length;j<_;j++){var C=S[j],A=C.props,O=C.item,M=O.type.defaultProps!==void 0?le(le({},O.type.defaultProps),O.props):O.props,P=fl(O.type);if(P==="Bar"){var E=(A.data||[]).find(function(L){return EUe(w,L)});if(E)return{graphicalItem:C,payload:E}}else if(P==="RadialBar"){var I=(A.data||[]).find(function(L){return kz(w,L)});if(I)return{graphicalItem:C,payload:I}}else if(d_(C,k)||h_(C,k)||Wx(C,k)){var T=AHe({graphicalItem:C,activeTooltipItem:k,itemData:M.data}),R=M.activeIndex===void 0?T:M.activeIndex;return{graphicalItem:le(le({},C),{},{childIndex:R}),payload:Wx(C,k)?M.data[T]:C.props.data[T]}}}return null}},{key:"render",value:function(){var w=this;if(!hB(this))return null;var N=this.props,S=N.children,k=N.className,j=N.width,_=N.height,C=N.style,A=N.compact,O=N.title,M=N.desc,P=z6(N,B9e),E=_t(P,!1);if(A)return H.createElement(S6,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},H.createElement(GO,jf({},E,{width:j,height:_,title:O,desc:M}),this.renderClipPath(),pB(S,this.renderMap)));if(this.props.accessibilityLayer){var I,T;E.tabIndex=(I=this.props.tabIndex)!==null&&I!==void 0?I:0,E.role=(T=this.props.role)!==null&&T!==void 0?T:"application",E.onKeyDown=function(L){w.accessibilityManager.keyboardEvent(L)},E.onFocus=function(){w.accessibilityManager.focus()}}var R=this.parseEventsOfWrapper();return H.createElement(S6,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},H.createElement("div",jf({className:Et("recharts-wrapper",k),style:le({position:"relative",cursor:"default",width:j,height:_},C)},R,{ref:function(D){w.container=D}}),H.createElement(GO,jf({},E,{width:j,height:_,title:O,desc:M,style:nGe}),this.renderClipPath(),pB(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(v.Component);Ye(m,"displayName",n),Ye(m,"defaultProps",le({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Ye(m,"getDerivedStateFromProps",function(y,x){var b=y.dataKey,w=y.data,N=y.children,S=y.width,k=y.height,j=y.layout,_=y.stackOffset,C=y.margin,A=x.dataStartIndex,O=x.dataEndIndex;if(x.updateId===void 0){var M=W6(y);return le(le(le({},M),{},{updateId:0},p(le(le({props:y},M),{},{updateId:0}),x)),{},{prevDataKey:b,prevData:w,prevWidth:S,prevHeight:k,prevLayout:j,prevStackOffset:_,prevMargin:C,prevChildren:N})}if(b!==x.prevDataKey||w!==x.prevData||S!==x.prevWidth||k!==x.prevHeight||j!==x.prevLayout||_!==x.prevStackOffset||!Uf(C,x.prevMargin)){var P=W6(y),E={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},I=le(le({},H6(x,w,j)),{},{updateId:x.updateId+1}),T=le(le(le({},P),E),I);return le(le(le({},T),p(le({props:y},T),x)),{},{prevDataKey:b,prevData:w,prevWidth:S,prevHeight:k,prevLayout:j,prevStackOffset:_,prevMargin:C,prevChildren:N})}if(!WO(N,x.prevChildren)){var R,L,D,F,z=ni(N,Fp),B=z&&(R=(L=z.props)===null||L===void 0?void 0:L.startIndex)!==null&&R!==void 0?R:A,$=z&&(D=(F=z.props)===null||F===void 0?void 0:F.endIndex)!==null&&D!==void 0?D:O,W=B!==A||$!==O,V=!vt(w),Y=V&&!W?x.updateId:x.updateId+1;return le(le({updateId:Y},p(le(le({props:y},x),{},{updateId:Y,dataStartIndex:B,dataEndIndex:$}),x)),{},{prevChildren:N,dataStartIndex:B,dataEndIndex:$})}return null}),Ye(m,"renderActiveDot",function(y,x,b){var w;return v.isValidElement(y)?w=v.cloneElement(y,x):ht(y)?w=y(x):w=H.createElement(WI,x),H.createElement(tr,{className:"recharts-active-dot",key:b},w)});var g=v.forwardRef(function(x,b){return H.createElement(m,jf({},x,{ref:b}))});return g.displayName=m.displayName,g},hGe=zne({chartName:"LineChart",GraphicalChild:S0,axisComponents:[{axisType:"xAxis",AxisComp:Kp},{axisType:"yAxis",AxisComp:Xp}],formatAxisMap:ine}),fGe=zne({chartName:"BarChart",GraphicalChild:xh,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Kp},{axisType:"yAxis",AxisComp:Xp}],formatAxisMap:ine});function nn(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function _a(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function eL(e,t){const n=nn(e);return isNaN(t)?_a(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function Une(e,t){const n=nn(e);if(isNaN(t))return _a(e,NaN);if(!t)return n;const r=n.getDate(),s=_a(e,n.getTime());s.setMonth(n.getMonth()+t+1,0);const i=s.getDate();return r>=i?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}const Hne=6048e5,pGe=864e5;let mGe={};function N0(){return mGe}function Lo(e,t){var l,c,u,d;const n=N0(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=nn(e),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function aN(e){return Lo(e,{weekStartsOn:1})}function Wne(e){const t=nn(e),n=t.getFullYear(),r=_a(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=aN(r),i=_a(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=aN(i);return t.getTime()>=s.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function _s(e){const t=nn(e);return t.setHours(0,0,0,0),t}function G6(e){const t=nn(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Vne(e,t){const n=_s(e),r=_s(t),s=+n-G6(n),i=+r-G6(r);return Math.round((s-i)/pGe)}function gGe(e){const t=Wne(e),n=_a(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),aN(n)}function Gne(e,t){const n=t*7;return eL(e,n)}function Oo(e,t){const n=_s(e),r=_s(t);return+n==+r}function yGe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function xGe(e){if(!yGe(e)&&typeof e!="number")return!1;const t=nn(e);return!isNaN(Number(t))}function Zp(e,t){const n=nn(e),r=nn(t),s=q6(n,r),i=Math.abs(Vne(n,r));n.setDate(n.getDate()-s*i);const o=+(q6(n,r)===-s),l=s*(i-o);return l===0?0:l}function q6(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function vGe(e){const t=nn(e);return t.setHours(23,59,59,999),t}function tL(e){const t=nn(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Jx(e,t){const n=nn(e.start),r=nn(e.end);let s=+n>+r;const i=s?+n:+r,o=s?r:n;o.setHours(0,0,0,0);let l=1;const c=[];for(;+o<=i;)c.push(nn(o)),o.setDate(o.getDate()+l),o.setHours(0,0,0,0);return s?c.reverse():c}function nL(e){const t=nn(e);return t.setDate(1),t.setHours(0,0,0,0),t}function bGe(e){const t=nn(e),n=_a(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Gf(e,t){var l,c,u,d;const n=N0(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=nn(e),i=s.getDay(),o=(i<r?-7:0)+6-(i-r);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}const wGe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},SGe=(e,t,n)=>{let r;const s=wGe[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function qC(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const NGe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},kGe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},jGe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},_Ge={date:qC({formats:NGe,defaultWidth:"full"}),time:qC({formats:kGe,defaultWidth:"full"}),dateTime:qC({formats:jGe,defaultWidth:"full"})},EGe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},CGe=(e,t,n,r)=>EGe[e];function fg(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const TGe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},AGe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},OGe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},MGe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},PGe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},DGe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},RGe=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},IGe={ordinalNumber:RGe,era:fg({values:TGe,defaultWidth:"wide"}),quarter:fg({values:AGe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:fg({values:OGe,defaultWidth:"wide"}),day:fg({values:MGe,defaultWidth:"wide"}),dayPeriod:fg({values:PGe,defaultWidth:"wide",formattingValues:DGe,defaultFormattingWidth:"wide"})};function pg(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?$Ge(l,h=>h.test(o)):LGe(l,h=>h.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function LGe(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function $Ge(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function BGe(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const FGe=/^(\d+)(th|st|nd|rd)?/i,zGe=/\d+/i,UGe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},HGe={any:[/^b/i,/^(a|c)/i]},WGe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},VGe={any:[/1/i,/2/i,/3/i,/4/i]},GGe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},qGe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},KGe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},YGe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},XGe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},JGe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},QGe={ordinalNumber:BGe({matchPattern:FGe,parsePattern:zGe,valueCallback:e=>parseInt(e,10)}),era:pg({matchPatterns:UGe,defaultMatchWidth:"wide",parsePatterns:HGe,defaultParseWidth:"any"}),quarter:pg({matchPatterns:WGe,defaultMatchWidth:"wide",parsePatterns:VGe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:pg({matchPatterns:GGe,defaultMatchWidth:"wide",parsePatterns:qGe,defaultParseWidth:"any"}),day:pg({matchPatterns:KGe,defaultMatchWidth:"wide",parsePatterns:YGe,defaultParseWidth:"any"}),dayPeriod:pg({matchPatterns:XGe,defaultMatchWidth:"any",parsePatterns:JGe,defaultParseWidth:"any"})},ZGe={code:"en-US",formatDistance:SGe,formatLong:_Ge,formatRelative:CGe,localize:IGe,match:QGe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function e7e(e){const t=nn(e);return Vne(t,bGe(t))+1}function t7e(e){const t=nn(e),n=+aN(t)-+gGe(t);return Math.round(n/Hne)+1}function qne(e,t){var d,h,f,p;const n=nn(e),r=n.getFullYear(),s=N0(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(f=s.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,o=_a(e,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const l=Lo(o,t),c=_a(e,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const u=Lo(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function n7e(e,t){var l,c,u,d;const n=N0(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=qne(e,t),i=_a(e,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Lo(i,t)}function r7e(e,t){const n=nn(e),r=+Lo(n,t)-+n7e(n,t);return Math.round(r/Hne)+1}function zt(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Wl={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return zt(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):zt(n+1,2)},d(e,t){return zt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return zt(e.getHours()%12||12,t.length)},H(e,t){return zt(e.getHours(),t.length)},m(e,t){return zt(e.getMinutes(),t.length)},s(e,t){return zt(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return zt(s,t.length)}},Bh={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},K6={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Wl.y(e,t)},Y:function(e,t,n,r){const s=qne(e,r),i=s>0?s:1-s;if(t==="YY"){const o=i%100;return zt(o,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):zt(i,t.length)},R:function(e,t){const n=Wne(e);return zt(n,t.length)},u:function(e,t){const n=e.getFullYear();return zt(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return zt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return zt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Wl.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return zt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=r7e(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):zt(s,t.length)},I:function(e,t,n){const r=t7e(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):zt(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Wl.d(e,t)},D:function(e,t,n){const r=e7e(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):zt(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return zt(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return zt(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return zt(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=Bh.noon:r===0?s=Bh.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=Bh.evening:r>=12?s=Bh.afternoon:r>=4?s=Bh.morning:s=Bh.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Wl.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Wl.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):zt(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):zt(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Wl.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Wl.s(e,t)},S:function(e,t){return Wl.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return X6(r);case"XXXX":case"XX":return Fu(r);case"XXXXX":case"XXX":default:return Fu(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return X6(r);case"xxxx":case"xx":return Fu(r);case"xxxxx":case"xxx":default:return Fu(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Y6(r,":");case"OOOO":default:return"GMT"+Fu(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Y6(r,":");case"zzzz":default:return"GMT"+Fu(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return zt(r,t.length)},T:function(e,t,n){const r=e.getTime();return zt(r,t.length)}};function Y6(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+t+zt(i,2)}function X6(e,t){return e%60===0?(e>0?"-":"+")+zt(Math.abs(e)/60,2):Fu(e,t)}function Fu(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=zt(Math.trunc(r/60),2),i=zt(r%60,2);return n+s+t+i}const J6=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Kne=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},s7e=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return J6(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",J6(r,t)).replace("{{time}}",Kne(s,t))},i7e={p:Kne,P:s7e},o7e=/^D+$/,a7e=/^Y+$/,l7e=["D","DD","YY","YYYY"];function c7e(e){return o7e.test(e)}function u7e(e){return a7e.test(e)}function d7e(e,t,n){const r=h7e(e,t,n);if(console.warn(r),l7e.includes(e))throw new RangeError(r)}function h7e(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const f7e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,p7e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,m7e=/^'([^]*?)'?$/,g7e=/''/g,y7e=/[a-zA-Z]/;function $t(e,t,n){var d,h,f,p;const r=N0(),s=r.locale??ZGe,i=r.firstWeekContainsDate??((h=(d=r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,o=r.weekStartsOn??((p=(f=r.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,l=nn(e);if(!xGe(l))throw new RangeError("Invalid time value");let c=t.match(p7e).map(m=>{const g=m[0];if(g==="p"||g==="P"){const y=i7e[g];return y(m,s.formatLong)}return m}).join("").match(f7e).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const g=m[0];if(g==="'")return{isToken:!1,value:x7e(m)};if(K6[g])return{isToken:!0,value:m};if(g.match(y7e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:m}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(m=>{if(!m.isToken)return m.value;const g=m.value;(u7e(g)||c7e(g))&&d7e(g,t,String(e));const y=K6[g[0]];return y(l,g,s.localize,u)}).join("")}function x7e(e){const t=e.match(m7e);return t?t[1].replace(g7e,"'"):e}function v7e(e,t){const n=nn(e),r=nn(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function v_(e,t){const n=+nn(e),[r,s]=[+nn(t.start),+nn(t.end)].sort((i,o)=>i-o);return n>=r&&n<=s}function b7e(e,t){return eL(e,-1)}function w7e(e,t){return Une(e,-1)}function S7e(e,t){return Gne(e,-1)}const N7e=({tasks:e})=>{const t=new Date,n=Lo(t,{weekStartsOn:1}),r=Gf(t,{weekStartsOn:1}),i=Jx({start:n,end:r}).map(l=>{const c=new Date(l);c.setHours(0,0,0,0);const u=new Date(l);u.setHours(23,59,59,999);const d=e.filter(h=>h.status==="completed"&&h.completedAt&&v_(new Date(h.completedAt),{start:c,end:u})).length;return{day:$t(l,"EEE"),completed:d,date:$t(l,"MMM d")}}),o=Object.entries(e.filter(l=>l.status==="completed").reduce((l,c)=>(l[c.category]=(l[c.category]||0)+1,l),{})).map(([l,c])=>({category:l.charAt(0).toUpperCase()+l.slice(1),count:c}));return a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(te,{className:"p-6",children:[a.jsx("h3",{className:"font-semibold mb-4",children:"Weekly Completion Trend"}),a.jsx(dF,{width:"100%",height:250,children:a.jsxs(hGe,{data:i,children:[a.jsx(rM,{strokeDasharray:"3 3"}),a.jsx(Kp,{dataKey:"day"}),a.jsx(Xp,{}),a.jsx(xo,{content:({active:l,payload:c})=>l&&c&&c[0]?a.jsxs("div",{className:"bg-background border rounded-lg p-2 shadow-lg",children:[a.jsx("p",{className:"text-sm font-medium",children:c[0].payload.date}),a.jsxs("p",{className:"text-sm text-blue-600",children:[c[0].value," tasks completed"]})]}):null}),a.jsx(S0,{type:"monotone",dataKey:"completed",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6}})]})})]}),a.jsxs(te,{className:"p-6",children:[a.jsx("h3",{className:"font-semibold mb-4",children:"Tasks by Category"}),a.jsx(dF,{width:"100%",height:250,children:a.jsxs(fGe,{data:o,children:[a.jsx(rM,{strokeDasharray:"3 3"}),a.jsx(Kp,{dataKey:"category"}),a.jsx(Xp,{}),a.jsx(xo,{content:({active:l,payload:c})=>l&&c&&c[0]?a.jsxs("div",{className:"bg-background border rounded-lg p-2 shadow-lg",children:[a.jsx("p",{className:"text-sm font-medium",children:c[0].payload.category}),a.jsxs("p",{className:"text-sm text-green-600",children:[c[0].value," tasks"]})]}):null}),a.jsx(xh,{dataKey:"count",fill:"#10b981",radius:[8,8,0,0]})]})})]})]})},Q6="daily-haven-todo-tasks",Z6="daily-haven-todo-settings",k7e={backgroundType:"theme",backgroundTheme:"default",colorScheme:"system",showEstimatedTime:!0,showTimer:!0,enableAISuggestions:!1},j7e=()=>{const[e,t]=v.useState([]),[n,r]=v.useState(k7e),[s,i]=v.useState(!1);return v.useEffect(()=>{try{const h=localStorage.getItem(Q6),f=localStorage.getItem(Z6);if(h){const m=JSON.parse(h).map(g=>({...g,createdAt:new Date(g.createdAt),completedAt:g.completedAt?new Date(g.completedAt):void 0,dueDate:g.dueDate?new Date(g.dueDate):void 0,timerStartedAt:g.timerStartedAt?new Date(g.timerStartedAt):void 0}));t(m)}f&&r(JSON.parse(f))}catch(h){console.error("Error loading from localStorage:",h)}finally{i(!0)}},[]),v.useEffect(()=>{if(s)try{localStorage.setItem(Q6,JSON.stringify(e))}catch(h){console.error("Error saving tasks to localStorage:",h)}},[e,s]),v.useEffect(()=>{if(s)try{localStorage.setItem(Z6,JSON.stringify(n))}catch(h){console.error("Error saving settings to localStorage:",h)}},[n,s]),{tasks:e,settings:n,isLoaded:s,addTask:h=>{t(f=>[...f,h])},updateTask:(h,f)=>{t(p=>p.map(m=>m.id===h?{...m,...f}:m))},deleteTask:h=>{t(f=>f.filter(p=>p.id!==h))},reorderTasks:h=>{t(h)},updateSettings:h=>{r(f=>({...f,...h}))}}},_7e={default:"","gradient-blue":"bg-gradient-to-br from-blue-50 via-cyan-50 to-blue-100 dark:from-blue-950 dark:via-cyan-950 dark:to-blue-900","gradient-purple":"bg-gradient-to-br from-purple-50 via-pink-50 to-purple-100 dark:from-purple-950 dark:via-pink-950 dark:to-purple-900","gradient-green":"bg-gradient-to-br from-green-50 via-emerald-50 to-green-100 dark:from-green-950 dark:via-emerald-950 dark:to-green-900","gradient-orange":"bg-gradient-to-br from-orange-50 via-amber-50 to-orange-100 dark:from-orange-950 dark:via-amber-950 dark:to-orange-900","gradient-pink":"bg-gradient-to-br from-pink-50 via-rose-50 to-pink-100 dark:from-pink-950 dark:via-rose-950 dark:to-pink-900"},E7e=()=>{const e=Ct(),{tasks:t,settings:n,isLoaded:r}=j7e(),s=v.useMemo(()=>{if(!n.userStats)return{totalPoints:0,level:1,badges:Sf.map(m=>({...m})),tasksCompleted:0,currentStreak:0,longestStreak:0};const c=t.filter(m=>m.status==="completed"),u=c.reduce((m,g)=>m+(g.points||0),0),d=FO(u);let h=0,f=0;t.forEach(m=>{m.streak&&(h=Math.max(h,m.streak.currentStreak),f=Math.max(f,m.streak.longestStreak))});const p=Sf.map(m=>{const g=zO(m,{...n.userStats,tasksCompleted:c.length,currentStreak:h},t);return{...m,earnedAt:g?m.earnedAt||new Date:void 0,progress:m.id.includes("task")?c.length:m.id.includes("streak")?h:void 0}});return{totalPoints:u,level:d,badges:p,tasksCompleted:c.length,currentStreak:h,longestStreak:f}},[t,n.userStats]),i=v.useMemo(()=>{const c=t.filter(p=>p.status==="completed"),u=c.filter(p=>p.timeSpent&&p.timeSpent>0),d=t.reduce((p,m)=>p+(m.timeSpent||0),0),h=c.filter(p=>p.dueDate&&p.completedAt&&new Date(p.completedAt)<new Date(p.dueDate)).length,f=t.filter(p=>{var m;return(m=p.recurring)==null?void 0:m.enabled}).length;return{totalTasks:t.length,completed:c.length,pending:t.filter(p=>p.status==="pending").length,inProgress:t.filter(p=>p.status==="in-progress").length,completedWithTimer:u.length,totalTimeSpent:d,averageTimePerTask:u.length>0?Math.round(d/u.length):0,completedEarly:h,recurringTasks:f}},[t]),o=n.backgroundType==="theme"&&_7e[n.backgroundTheme]||"",l=n.backgroundType==="image"&&n.backgroundImage?{backgroundImage:`url(${n.backgroundImage})`,backgroundSize:"cover",backgroundPosition:"center"}:{};return r?a.jsxs("div",{className:`min-h-screen transition-all duration-300 ${o}`,style:l,children:[a.jsx(Dn,{title:"Ultimate To-Do App"}),a.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[a.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs(U,{variant:"ghost",onClick:()=>e("/todo"),className:"mb-4",children:[a.jsx(Jn,{className:"h-4 w-4 mr-2"}),"Back to Tasks"]}),a.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Statistics & Progress"}),a.jsx("p",{className:"text-muted-foreground",children:"Track your productivity, achievements, and progress over time"})]})}),n.enableGamification&&n.userStats&&a.jsx("div",{className:"mb-6",children:a.jsx(vje,{stats:s})}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[a.jsx(te,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:a.jsx(Xt,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Tasks"}),a.jsx("p",{className:"text-2xl font-bold",children:i.totalTasks})]})]})}),a.jsx(te,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:a.jsx(us,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Completed"}),a.jsx("p",{className:"text-2xl font-bold",children:i.completed})]})]})}),a.jsx(te,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:a.jsx(Sn,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Completion Rate"}),a.jsxs("p",{className:"text-2xl font-bold",children:[i.totalTasks>0?Math.round(i.completed/i.totalTasks*100):0,"%"]})]})]})}),a.jsx(te,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:a.jsx(qr,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Early Completion"}),a.jsx("p",{className:"text-2xl font-bold",children:i.completedEarly})]})]})})]}),t.length>0&&a.jsx("div",{className:"mb-6",children:a.jsx(N7e,{tasks:t})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsxs(te,{className:"p-6",children:[a.jsx("h3",{className:"font-semibold mb-4",children:"Time Statistics"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-muted-foreground",children:"Total Time Tracked"}),a.jsxs("span",{className:"font-medium",children:[Math.floor(i.totalTimeSpent/60),"h ",i.totalTimeSpent%60,"m"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-muted-foreground",children:"Tasks with Timer"}),a.jsx("span",{className:"font-medium",children:i.completedWithTimer})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-muted-foreground",children:"Avg Time per Task"}),a.jsxs("span",{className:"font-medium",children:[i.averageTimePerTask,"m"]})]})]})]}),a.jsxs(te,{className:"p-6",children:[a.jsx("h3",{className:"font-semibold mb-4",children:"Task Breakdown"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-muted-foreground",children:"Pending"}),a.jsx("span",{className:"font-medium text-yellow-600",children:i.pending})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-muted-foreground",children:"In Progress"}),a.jsx("span",{className:"font-medium text-blue-600",children:i.inProgress})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-muted-foreground",children:"Recurring Tasks"}),a.jsx("span",{className:"font-medium text-purple-600",children:i.recurringTasks})]})]})]})]})]})]}):a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsx("p",{className:"text-muted-foreground",children:"Loading..."})})},Yne={defaultView:"month",weekStartsOn:0,workingHours:{start:"09:00",end:"17:00"},showWeekends:!0,showTodoWidget:!0,showFinanceWidget:!1,showHabitsWidget:!0,showJournalWidget:!1,backgroundType:"theme",backgroundTheme:"default",colorScheme:"system",syncWithTodos:!0,syncWithHabits:!0,syncWithJournal:!1,showTodoDeadlines:!0,showHabitStreaks:!0,enableReminders:!0,defaultReminderMinutes:15},KC=e=>({id:e.id,title:e.title,description:e.description,category:e.category,startDate:new Date(e.start_date),endDate:new Date(e.end_date),allDay:e.all_day,color:e.color,location:e.location,recurring:e.recurring,linkedTodoId:e.linked_todo_id,linkedHabitId:e.linked_habit_id,linkedJournalId:e.linked_journal_id,reminders:e.reminders,attachments:e.attachments,attendees:e.attendees,createdAt:new Date(e.created_at),updatedAt:new Date(e.updated_at)}),C7e=(e,t)=>({user_id:t,title:e.title,description:e.description,category:e.category,start_date:e.startDate.toISOString(),end_date:e.endDate.toISOString(),all_day:e.allDay,color:e.color,location:e.location,recurring:e.recurring,linked_todo_id:e.linkedTodoId,linked_habit_id:e.linkedHabitId,linked_journal_id:e.linkedJournalId,reminders:e.reminders,attachments:e.attachments,attendees:e.attendees}),T7e=e=>e?{defaultView:e.default_view,weekStartsOn:e.week_starts_on,workingHours:{start:e.working_hours_start,end:e.working_hours_end},showWeekends:e.show_weekends,showTodoWidget:e.show_todo_widget,showFinanceWidget:e.show_finance_widget,showHabitsWidget:e.show_habits_widget,showJournalWidget:e.show_journal_widget,backgroundType:e.background_type,backgroundTheme:e.background_theme,backgroundImage:e.background_image,colorScheme:e.color_scheme,syncWithTodos:e.sync_with_todos,syncWithHabits:e.sync_with_habits,syncWithJournal:e.sync_with_journal,showTodoDeadlines:e.show_todo_deadlines,showHabitStreaks:e.show_habit_streaks,enableReminders:e.enable_reminders,defaultReminderMinutes:e.default_reminder_minutes,dayColors:e.day_colors}:Yne,eU=(e,t)=>({user_id:t,default_view:e.defaultView,week_starts_on:e.weekStartsOn,working_hours_start:e.workingHours.start,working_hours_end:e.workingHours.end,show_weekends:e.showWeekends,show_todo_widget:e.showTodoWidget,show_finance_widget:e.showFinanceWidget,show_habits_widget:e.showHabitsWidget,show_journal_widget:e.showJournalWidget,background_type:e.backgroundType,background_theme:e.backgroundTheme,background_image:e.backgroundImage,color_scheme:e.colorScheme,sync_with_todos:e.syncWithTodos,sync_with_habits:e.syncWithHabits,sync_with_journal:e.syncWithJournal,show_todo_deadlines:e.showTodoDeadlines,show_habit_streaks:e.showHabitStreaks,enable_reminders:e.enableReminders,default_reminder_minutes:e.defaultReminderMinutes,day_colors:e.dayColors}),A7e=()=>{const[e,t]=v.useState([]),[n,r]=v.useState(Yne),[s,i]=v.useState(!1),[o,l]=v.useState(null);return v.useEffect(()=>{(async()=>{const{data:{session:p}}=await Le.auth.getSession();p!=null&&p.user&&l(p.user.id)})()},[]),v.useEffect(()=>{if(!o)return;(async()=>{try{const{data:p,error:m}=await Le.from("calendar_events").select("*").eq("user_id",o).order("start_date",{ascending:!0});if(m)throw m;const g=(p||[]).map(KC);t(g);const{data:y,error:x}=await Le.from("calendar_settings").select("*").eq("user_id",o).single();if(x&&x.code!=="PGRST116")throw x;r(T7e(y)),i(!0)}catch(p){console.error("Error fetching calendar data:",p),J.error("Failed to load calendar"),i(!0)}})()},[o]),{events:e,settings:n,isLoaded:s,addEvent:async f=>{if(o)try{const{data:p,error:m}=await Le.from("calendar_events").insert(C7e(f,o)).select().single();if(m)throw m;const g=KC(p);t(y=>[...y,g]),J.success("Event added!")}catch(p){console.error("Error adding event:",p),J.error("Failed to add event")}},updateEvent:async(f,p)=>{if(o)try{const m={};p.title!==void 0&&(m.title=p.title),p.description!==void 0&&(m.description=p.description),p.category!==void 0&&(m.category=p.category),p.startDate!==void 0&&(m.start_date=p.startDate.toISOString()),p.endDate!==void 0&&(m.end_date=p.endDate.toISOString()),p.allDay!==void 0&&(m.all_day=p.allDay),p.color!==void 0&&(m.color=p.color),p.location!==void 0&&(m.location=p.location),p.recurring!==void 0&&(m.recurring=p.recurring),p.linkedTodoId!==void 0&&(m.linked_todo_id=p.linkedTodoId),p.linkedHabitId!==void 0&&(m.linked_habit_id=p.linkedHabitId),p.linkedJournalId!==void 0&&(m.linked_journal_id=p.linkedJournalId),p.reminders!==void 0&&(m.reminders=p.reminders),p.attachments!==void 0&&(m.attachments=p.attachments),p.attendees!==void 0&&(m.attendees=p.attendees);const{data:g,error:y}=await Le.from("calendar_events").update(m).eq("id",f).eq("user_id",o).select().single();if(y)throw y;const x=KC(g);t(b=>b.map(w=>w.id===f?x:w))}catch(m){console.error("Error updating event:",m),J.error("Failed to update event")}},deleteEvent:async f=>{if(o)try{const{error:p}=await Le.from("calendar_events").delete().eq("id",f).eq("user_id",o);if(p)throw p;t(m=>m.filter(g=>g.id!==f)),J.success("Event deleted!")}catch(p){console.error("Error deleting event:",p),J.error("Failed to delete event")}},updateSettings:async f=>{if(o)try{const p={...n,...f},{data:m}=await Le.from("calendar_settings").select("id").eq("user_id",o).single();if(m){const{error:g}=await Le.from("calendar_settings").update(eU(p,o)).eq("user_id",o);if(g)throw g}else{const{error:g}=await Le.from("calendar_settings").insert(eU(p,o));if(g)throw g}r(p)}catch(p){console.error("Error updating settings:",p),J.error("Failed to update settings")}}}},O7e={personal:"Personal",work:"Work",meeting:"Meeting",deadline:"Deadline",reminder:"Reminder",other:"Other"},tU={personal:"#3b82f6",work:"#8b5cf6",meeting:"#10b981",deadline:"#ef4444",reminder:"#f59e0b",other:"#6b7280"},M7e=({onAdd:e,defaultDate:t,open:n,onOpenChange:r,trigger:s})=>{const[i,o]=v.useState(!1),l=n!==void 0?n:i,c=r||o,[u,d]=v.useState(""),[h,f]=v.useState(""),[p,m]=v.useState("personal"),[g,y]=v.useState(t?t.toISOString().slice(0,16):new Date().toISOString().slice(0,16)),[x,b]=v.useState(t?new Date(t.getTime()+60*60*1e3).toISOString().slice(0,16):new Date(Date.now()+60*60*1e3).toISOString().slice(0,16)),[w,N]=v.useState(!1),[S,k]=v.useState(""),[j,_]=v.useState(!1),[C,A]=v.useState("none");v.useEffect(()=>{t&&(y(t.toISOString().slice(0,16)),b(new Date(t.getTime()+60*60*1e3).toISOString().slice(0,16)))},[t]);const O=P=>{if(P.preventDefault(),!u.trim())return;const E={id:ui(),title:u.trim(),description:h.trim()||void 0,category:p,startDate:new Date(g),endDate:new Date(x),allDay:w,location:S.trim()||void 0,color:tU[p],recurring:j?{type:C,interval:1}:void 0,createdAt:new Date,updatedAt:new Date};e(E),M(),c(!1)},M=()=>{d(""),f(""),m("personal"),y(new Date().toISOString().slice(0,16)),b(new Date(Date.now()+60*60*1e3).toISOString().slice(0,16)),N(!1),k(""),_(!1),A("none")};return a.jsxs(ot,{open:l,onOpenChange:c,children:[s!==void 0?a.jsx(js,{asChild:!0,children:s}):a.jsx(js,{asChild:!0,children:a.jsxs(U,{children:[a.jsx(We,{className:"h-4 w-4 mr-2"}),"New Event"]})}),a.jsxs(nt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(rt,{children:[a.jsx(st,{children:"Create New Event"}),a.jsx(dt,{children:"Add a new event to your calendar"})]}),a.jsxs("form",{onSubmit:O,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"title",children:"Event Title *"}),a.jsx(re,{id:"title",value:u,onChange:P=>d(P.target.value),placeholder:"Enter event title",required:!0})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"description",children:"Description"}),a.jsx(ft,{id:"description",value:h,onChange:P=>f(P.target.value),placeholder:"Add event description",rows:3})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"category",children:"Category"}),a.jsxs(Ee,{value:p,onValueChange:P=>m(P),children:[a.jsx(je,{id:"category",children:a.jsx(Ce,{})}),a.jsx(_e,{children:Object.entries(O7e).map(([P,E])=>a.jsx(Q,{value:P,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:tU[P]}}),E]})},P))})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"location",children:"Location"}),a.jsx(re,{id:"location",value:S,onChange:P=>k(P.target.value),placeholder:"Add location"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Us,{id:"all-day",checked:w,onCheckedChange:N}),a.jsx(K,{htmlFor:"all-day",children:"All day event"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"start-date",children:"Start Date & Time"}),a.jsx(re,{id:"start-date",type:w?"date":"datetime-local",value:g,onChange:P=>y(P.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"end-date",children:"End Date & Time"}),a.jsx(re,{id:"end-date",type:w?"date":"datetime-local",value:x,onChange:P=>b(P.target.value),required:!0})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Us,{id:"recurring",checked:j,onCheckedChange:_}),a.jsx(K,{htmlFor:"recurring",children:"Recurring event"})]}),j&&a.jsxs("div",{children:[a.jsx(K,{htmlFor:"recurring-type",children:"Repeat"}),a.jsxs(Ee,{value:C,onValueChange:P=>A(P),children:[a.jsx(je,{id:"recurring-type",children:a.jsx(Ce,{})}),a.jsxs(_e,{children:[a.jsx(Q,{value:"daily",children:"Daily"}),a.jsx(Q,{value:"weekly",children:"Weekly"}),a.jsx(Q,{value:"biweekly",children:"Biweekly (Every 2 weeks)"}),a.jsx(Q,{value:"monthly",children:"Monthly"}),a.jsx(Q,{value:"yearly",children:"Yearly"})]})]})]}),a.jsxs(Wt,{children:[a.jsx(U,{type:"button",variant:"outline",onClick:()=>c(!1),children:"Cancel"}),a.jsx(U,{type:"submit",children:"Create Event"})]})]})]})]})},P7e={default:"","gradient-blue":"bg-gradient-to-br from-blue-50 via-cyan-50 to-blue-100 dark:from-blue-950 dark:via-cyan-950 dark:to-blue-900","gradient-purple":"bg-gradient-to-br from-purple-50 via-pink-50 to-purple-100 dark:from-purple-950 dark:via-pink-950 dark:to-purple-900","gradient-green":"bg-gradient-to-br from-green-50 via-emerald-50 to-green-100 dark:from-green-950 dark:via-emerald-950 dark:to-green-900","gradient-orange":"bg-gradient-to-br from-orange-50 via-amber-50 to-orange-100 dark:from-orange-950 dark:via-amber-950 dark:to-orange-900","gradient-pink":"bg-gradient-to-br from-pink-50 via-rose-50 to-pink-100 dark:from-pink-950 dark:via-rose-950 dark:to-pink-900"},D7e=[{name:"None",color:"transparent"},{name:"Light Blue",color:"#dbeafe"},{name:"Light Purple",color:"#e9d5ff"},{name:"Light Green",color:"#d1fae5"},{name:"Light Yellow",color:"#fef3c7"},{name:"Light Pink",color:"#fce7f3"},{name:"Light Red",color:"#fee2e2"},{name:"Light Orange",color:"#fed7aa"},{name:"Light Gray",color:"#f3f4f6"}],R7e=()=>{const{events:e,settings:t,isLoaded:n,addEvent:r,updateSettings:s}=A7e(),[i,o]=v.useState(new Date),[l,c]=v.useState(t.defaultView),[u,d]=v.useState(null),[h,f]=v.useState(!1),p=_=>e.filter(C=>{const A=new Date(C.startDate),O=new Date(C.endDate);return C.allDay?Oo(A,_):Oo(A,_)||_>=A&&_<=O}),m=v.useMemo(()=>{const _=Lo(nL(i),{weekStartsOn:t.weekStartsOn}),C=Gf(tL(i),{weekStartsOn:t.weekStartsOn});return Jx({start:_,end:C})},[i,t.weekStartsOn]),g=v.useMemo(()=>{const _=Lo(i,{weekStartsOn:t.weekStartsOn}),C=Gf(i,{weekStartsOn:t.weekStartsOn});return Jx({start:_,end:C})},[i,t.weekStartsOn]),y=()=>{l==="month"?o(w7e(i)):l==="week"?o(S7e(i)):l==="day"&&o(b7e(i))},x=()=>{l==="month"?o(Une(i,1)):l==="week"?o(Gne(i,1)):l==="day"&&o(eL(i,1))},b=()=>{o(new Date)},w=(_,C)=>{const A=$t(_,"yyyy-MM-dd"),O={...t.dayColors||{}};C==="transparent"?delete O[A]:O[A]=C,s({dayColors:O}),J.success("Day color updated")},N=_=>{var A;const C=$t(_,"yyyy-MM-dd");return(A=t.dayColors)==null?void 0:A[C]},S=()=>{if(l==="month")return $t(i,"MMMM yyyy");if(l==="week"){const _=Lo(i,{weekStartsOn:t.weekStartsOn}),C=Gf(i,{weekStartsOn:t.weekStartsOn});return`${$t(_,"MMM d")} - ${$t(C,"MMM d, yyyy")}`}else if(l==="day")return $t(i,"EEEE, MMMM d, yyyy");return""},k=t.backgroundType==="theme"&&P7e[t.backgroundTheme]||"",j=t.backgroundType==="image"&&t.backgroundImage?{backgroundImage:`url(${t.backgroundImage})`,backgroundSize:"cover",backgroundPosition:"center"}:{};return n?a.jsxs("div",{className:`min-h-screen transition-all duration-300 ${k}`,style:j,children:[a.jsx(Dn,{title:"Daily Haven Suite"}),a.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Calendar"}),a.jsx("p",{className:"text-muted-foreground",children:"Plan your schedule and stay organized"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(U,{onClick:b,variant:"outline",children:[a.jsx(qr,{className:"h-4 w-4 mr-2"}),"Today"]}),a.jsx(M7e,{onAdd:_=>{r(_),J.success("Event created successfully!"),f(!1)},defaultDate:u||void 0,open:h,onOpenChange:f})]})]}),a.jsx(te,{className:"p-4 mb-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(U,{variant:"outline",size:"icon",onClick:y,children:a.jsx(nx,{className:"h-4 w-4"})}),a.jsx("h2",{className:"text-xl font-semibold min-w-[250px] text-center",children:S()}),a.jsx(U,{variant:"outline",size:"icon",onClick:x,children:a.jsx(vp,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(U,{variant:l==="month"?"default":"outline",size:"sm",onClick:()=>c("month"),children:"Month"}),a.jsx(U,{variant:l==="week"?"default":"outline",size:"sm",onClick:()=>c("week"),children:"Week"}),a.jsx(U,{variant:l==="day"?"default":"outline",size:"sm",onClick:()=>c("day"),children:"Day"})]})]})}),l==="month"&&a.jsxs(te,{className:"p-4",children:[a.jsx("div",{className:"grid grid-cols-7 gap-2 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((_,C)=>a.jsx("div",{className:me("text-center font-semibold text-sm py-2",!t.showWeekends&&(C===0||C===6)&&"hidden"),children:_},_))}),a.jsx("div",{className:"grid grid-cols-7 gap-2",children:m.map((_,C)=>{const A=p(_),O=Oo(_,new Date),M=v7e(_,i),P=_.getDay(),E=P===0||P===6;if(!t.showWeekends&&E)return null;const I=[...new Set(A.map(R=>R.color||"#3b82f6"))],T=N(_);return a.jsxs("div",{className:me("min-h-[100px] p-2 border rounded-lg cursor-pointer transition-colors hover:shadow-sm relative group",!M&&"opacity-40",O&&"border-2 border-primary"),style:{backgroundColor:T||(O?"rgb(var(--primary) / 0.05)":void 0)},onClick:()=>{d(_),f(!0)},children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("div",{className:me("text-sm font-medium",O&&"text-primary font-bold"),children:$t(_,"d")}),a.jsxs("div",{className:"flex items-center gap-1",children:[A.length>0&&a.jsx("div",{className:"flex gap-0.5",children:I.slice(0,3).map((R,L)=>a.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:R},title:`${A.filter(D=>(D.color||"#3b82f6")===R).length} event(s)`},L))}),a.jsxs(Ff,{children:[a.jsx(zf,{asChild:!0,children:a.jsx("button",{className:"opacity-0 group-hover:opacity-100 transition-opacity p-0.5 hover:bg-accent rounded",onClick:R=>R.stopPropagation(),children:a.jsx(dq,{className:"h-3 w-3"})})}),a.jsx(vd,{className:"w-auto p-2",onClick:R=>R.stopPropagation(),children:a.jsx("div",{className:"grid grid-cols-3 gap-2",children:D7e.map(R=>a.jsx("button",{className:"w-10 h-10 rounded border-2 hover:scale-110 transition-transform",style:{backgroundColor:R.color,borderColor:T===R.color?"#000":"#ccc"},onClick:()=>w(_,R.color),title:R.name},R.name))})})]})]})]}),a.jsxs("div",{className:"space-y-1",children:[A.slice(0,3).map(R=>a.jsx("div",{className:"text-xs p-1 rounded truncate",style:{backgroundColor:`${R.color||"#3b82f6"}20`,borderLeft:`3px solid ${R.color||"#3b82f6"}`},children:R.title},R.id)),A.length>3&&a.jsxs("div",{className:"text-xs text-muted-foreground",children:["+",A.length-3," more"]})]})]},_.toISOString())})})]}),l==="week"&&a.jsx(te,{className:"p-4",children:a.jsx("div",{className:"grid grid-cols-7 gap-2",children:g.map(_=>{const C=p(_),A=Oo(_,new Date);return a.jsxs("div",{className:me("min-h-[400px] p-3 border rounded-lg",A&&"border-2 border-primary bg-primary/5"),children:[a.jsxs("div",{className:me("text-center mb-3",A&&"text-primary font-bold"),children:[a.jsx("div",{className:"text-sm font-medium",children:$t(_,"EEE")}),a.jsx("div",{className:"text-2xl font-bold",children:$t(_,"d")})]}),a.jsx("div",{className:"space-y-2",children:C.map(O=>a.jsxs("div",{className:"text-xs p-2 rounded",style:{backgroundColor:`${O.color||"#3b82f6"}20`,borderLeft:`3px solid ${O.color||"#3b82f6"}`},children:[a.jsx("div",{className:"font-medium truncate",children:O.title}),!O.allDay&&a.jsx("div",{className:"text-muted-foreground",children:$t(new Date(O.startDate),"h:mm a")})]},O.id))})]},_.toISOString())})})}),l==="day"&&a.jsx(te,{className:"p-6",children:a.jsx("div",{className:"space-y-3",children:p(i).length===0?a.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"No events scheduled for this day"}):p(i).map(_=>a.jsx("div",{className:"p-4 rounded-lg border-l-4",style:{borderColor:_.color||"#3b82f6",backgroundColor:`${_.color||"#3b82f6"}10`},children:a.jsx("div",{className:"flex justify-between items-start",children:a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-lg",children:_.title}),_.description&&a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:_.description}),a.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm",children:[!_.allDay&&a.jsxs("span",{children:[$t(new Date(_.startDate),"h:mm a")," - ",$t(new Date(_.endDate),"h:mm a")]}),_.allDay&&a.jsx("span",{className:"text-muted-foreground",children:"All day"}),_.location&&a.jsxs("span",{className:"text-muted-foreground",children:[" ",_.location]})]})]})})},_.id))})})]})]}):a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsx("p",{className:"text-muted-foreground",children:"Loading calendar..."})})},nU="daily-haven-expenses",rU="daily-haven-budgets",sU="daily-haven-savings-goals",iU="daily-haven-expense-settings",oU={currency:"USD",currencySymbol:"$",defaultCategory:"other",defaultPaymentMethod:"cash",showReceiptUpload:!0,enableBudgetAlerts:!0,enableSavingsInsights:!0,backgroundType:"theme",backgroundTheme:"default",colorScheme:"system"},Xne=()=>{const[e,t]=v.useState([]),[n,r]=v.useState([]),[s,i]=v.useState([]),[o,l]=v.useState(oU),[c,u]=v.useState(!1);v.useEffect(()=>{try{const S=localStorage.getItem(nU),k=localStorage.getItem(rU),j=localStorage.getItem(sU),_=localStorage.getItem(iU);if(S){const C=JSON.parse(S,(A,O)=>A==="date"||A==="createdAt"||A==="updatedAt"||A==="startDate"||A==="endDate"||A==="deadline"?O&&new Date(O):O);t(C)}if(k){const C=JSON.parse(k,(A,O)=>A==="startDate"||A==="endDate"?O&&new Date(O):O);r(C)}if(j){const C=JSON.parse(j,(A,O)=>A==="createdAt"||A==="deadline"?O&&new Date(O):O);i(C)}_&&l({...oU,...JSON.parse(_)})}catch(S){console.error("Error loading expense data from localStorage:",S)}finally{u(!0)}},[]),v.useEffect(()=>{if(c)try{localStorage.setItem(nU,JSON.stringify(e))}catch(S){console.error("Error saving expenses to localStorage:",S)}},[e,c]),v.useEffect(()=>{if(c)try{localStorage.setItem(rU,JSON.stringify(n))}catch(S){console.error("Error saving budgets to localStorage:",S)}},[n,c]),v.useEffect(()=>{if(c)try{localStorage.setItem(sU,JSON.stringify(s))}catch(S){console.error("Error saving savings goals to localStorage:",S)}},[s,c]),v.useEffect(()=>{if(c)try{localStorage.setItem(iU,JSON.stringify(o))}catch(S){console.error("Error saving settings to localStorage:",S)}},[o,c]);const d=v.useCallback(S=>{t(k=>[S,...k])},[]),h=v.useCallback((S,k)=>{t(j=>j.map(_=>_.id===S?{..._,...k,updatedAt:new Date}:_))},[]),f=v.useCallback(S=>{t(k=>k.filter(j=>j.id!==S))},[]),p=v.useCallback(S=>{t(S)},[]),m=v.useCallback(S=>{r(k=>[...k,S])},[]),g=v.useCallback((S,k)=>{r(j=>j.map(_=>_.id===S?{..._,...k}:_))},[]),y=v.useCallback(S=>{r(k=>k.filter(j=>j.id!==S))},[]),x=v.useCallback(S=>{i(k=>[...k,S])},[]),b=v.useCallback((S,k)=>{i(j=>j.map(_=>_.id===S?{..._,...k}:_))},[]),w=v.useCallback(S=>{i(k=>k.filter(j=>j.id!==S))},[]),N=v.useCallback(S=>{l(k=>({...k,...S}))},[]);return{expenses:e,budgets:n,savingsGoals:s,settings:o,isLoaded:c,addExpense:d,updateExpense:h,deleteExpense:f,reorderExpenses:p,addBudget:m,updateBudget:g,deleteBudget:y,addSavingsGoal:x,updateSavingsGoal:b,deleteSavingsGoal:w,updateSettings:N}},I7e={currency:"USD",currencySymbol:"$",defaultPeriod:"monthly",defaultAlertThreshold:80,enableNotifications:!0},aU="daily-haven-budgets",lU="daily-haven-budget-settings",Lm=()=>{const[e,t]=v.useState([]),[n,r]=v.useState(I7e),[s,i]=v.useState(!1);return v.useEffect(()=>{try{const d=localStorage.getItem(aU),h=localStorage.getItem(lU);if(d){const p=JSON.parse(d).map(m=>({...m,startDate:new Date(m.startDate),endDate:m.endDate?new Date(m.endDate):void 0,createdAt:new Date(m.createdAt),updatedAt:m.updatedAt?new Date(m.updatedAt):void 0}));t(p)}h&&r(JSON.parse(h))}catch(d){console.error("Error loading budgets from localStorage:",d)}finally{i(!0)}},[]),v.useEffect(()=>{if(s)try{localStorage.setItem(aU,JSON.stringify(e))}catch(d){console.error("Error saving budgets to localStorage:",d)}},[e,s]),v.useEffect(()=>{if(s)try{localStorage.setItem(lU,JSON.stringify(n))}catch(d){console.error("Error saving budget settings to localStorage:",d)}},[n,s]),{budgets:e,settings:n,isLoaded:s,addBudget:d=>{t(h=>[d,...h])},updateBudget:(d,h)=>{t(f=>f.map(p=>p.id===d?{...p,...h,updatedAt:new Date}:p))},deleteBudget:d=>{t(h=>h.filter(f=>f.id!==d))},updateSettings:d=>{r(h=>({...h,...d}))}}},L7e={currency:"USD",currencySymbol:"$",defaultCategory:"general"},qf={emergency:"Emergency Fund",vacation:"Vacation",car:"Car/Vehicle",house:"House/Property",education:"Education",general:"General Savings"},Kf={emergency:"#ef4444",vacation:"#3b82f6",car:"#8b5cf6",house:"#10b981",education:"#f59e0b",general:"#6b7280"},cU="daily-haven-savings",uU="daily-haven-savings-contributions",dU="daily-haven-savings-settings",b_=()=>{const[e,t]=v.useState([]),[n,r]=v.useState([]),[s,i]=v.useState(L7e),[o,l]=v.useState(!1);return v.useEffect(()=>{try{const g=localStorage.getItem(cU),y=localStorage.getItem(uU),x=localStorage.getItem(dU);if(g){const w=JSON.parse(g).map(N=>({...N,goalDate:N.goalDate?new Date(N.goalDate):void 0,createdAt:new Date(N.createdAt),updatedAt:N.updatedAt?new Date(N.updatedAt):void 0}));t(w)}if(y){const w=JSON.parse(y).map(N=>({...N,date:new Date(N.date),createdAt:new Date(N.createdAt)}));r(w)}x&&i(JSON.parse(x))}catch(g){console.error("Error loading savings from localStorage:",g)}finally{l(!0)}},[]),v.useEffect(()=>{if(o)try{localStorage.setItem(cU,JSON.stringify(e))}catch(g){console.error("Error saving savings to localStorage:",g)}},[e,o]),v.useEffect(()=>{if(o)try{localStorage.setItem(uU,JSON.stringify(n))}catch(g){console.error("Error saving contributions to localStorage:",g)}},[n,o]),v.useEffect(()=>{if(o)try{localStorage.setItem(dU,JSON.stringify(s))}catch(g){console.error("Error saving savings settings to localStorage:",g)}},[s,o]),{savingsGoals:e,contributions:n,settings:s,isLoaded:o,addSavingsGoal:g=>{t(y=>[g,...y])},updateSavingsGoal:(g,y)=>{t(x=>x.map(b=>b.id===g?{...b,...y,updatedAt:new Date}:b))},deleteSavingsGoal:g=>{t(y=>y.filter(x=>x.id!==g)),r(y=>y.filter(x=>x.savingsId!==g))},addContribution:g=>{r(y=>[g,...y]),t(y=>y.map(x=>x.id===g.savingsId?{...x,currentAmount:x.currentAmount+g.amount,updatedAt:new Date}:x))},deleteContribution:g=>{const y=n.find(x=>x.id===g);y&&(r(x=>x.filter(b=>b.id!==g)),t(x=>x.map(b=>b.id===y.savingsId?{...b,currentAmount:b.currentAmount-y.amount,updatedAt:new Date}:b)))},getContributionsForSavings:g=>n.filter(y=>y.savingsId===g),updateSettings:g=>{i(y=>({...y,...g}))}}},$7e=()=>`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,Fe=(e,t="$")=>`${t}${e.toFixed(2)}`,rL=e=>{if(e.length===0)return 0;const t=[...e].sort((o,l)=>new Date(o.date).getTime()-new Date(l.date).getTime()),n=_s(new Date(t[0].date)),r=_s(new Date),s=Zp(r,n)+1;return e.reduce((o,l)=>o+l.amount,0)/s},B7e=e=>rL(e)*7,Jne=e=>rL(e)*30,F7e=e=>{if(e.length===0)return 0;let t=0;return e.forEach(n=>{if(n.isRecurring&&n.recurringFrequency)switch(n.recurringFrequency){case"daily":t+=n.amount*365;break;case"weekly":t+=n.amount*52;break;case"biweekly":t+=n.amount*26;break;case"monthly":t+=n.amount*12;break;case"yearly":t+=n.amount;break}}),t},z7e=e=>{if(e.length===0)return 0;let t=0;return e.forEach(n=>{if(n.isRecurring&&n.recurringFrequency)switch(n.recurringFrequency){case"daily":t+=n.amount*30;break;case"weekly":t+=n.amount*4.33;break;case"biweekly":t+=n.amount*2.17;break;case"monthly":t+=n.amount;break;case"yearly":t+=n.amount/12;break}}),t},U7e=e=>{if(!e.isRecurring||!e.recurringFrequency)return 0;switch(e.recurringFrequency){case"daily":return e.amount*365;case"weekly":return e.amount*52;case"biweekly":return e.amount*26;case"monthly":return e.amount*12;case"yearly":return e.amount;case"none":default:return 0}},Qne=e=>{const t=_s(new Date);return e.filter(n=>v_(new Date(n.date),{start:t,end:vGe(new Date)}))},Zne=e=>{const t=Lo(new Date,{weekStartsOn:1}),n=Gf(new Date,{weekStartsOn:1});return e.filter(r=>v_(new Date(r.date),{start:t,end:n}))},ere=e=>{const t=nL(new Date),n=tL(new Date);return e.filter(r=>v_(new Date(r.date),{start:t,end:n}))},tre=e=>{const t={};return e.forEach(n=>{t[n.category]||(t[n.category]=0),t[n.category]+=n.amount}),t},H7e=e=>{if(e.length===0)return null;const t=tre(e);let n=null,r=0;return Object.entries(t).forEach(([s,i])=>{i>r&&(r=i,n=s)}),n},W7e=e=>{const t=e.reduce((d,h)=>d+h.amount,0),n=rL(e),r=B7e(e),s=Jne(e),i=F7e(e),o=tre(e),l=H7e(e),c={};e.forEach(d=>{const h=d.paymentMethod||"other";c[h]||(c[h]=0),c[h]+=d.amount});const u=V7e(e,o);return{totalExpenses:t,dailyAverage:n,weeklyAverage:r,monthlyAverage:s,yearlyProjection:i,categoryBreakdown:o,paymentMethodBreakdown:c,topCategory:l,savingsOpportunities:u}},V7e=(e,t)=>{const n=Jne(e),r=[];return Object.entries(t).forEach(([s,i])=>{const o=i/e.length*30;if(o/n*100>15){const c=o*.1,u=c*12;r.push({category:s,currentMonthlySpend:o,suggestedReduction:c,potentialYearlySavings:u,description:`Reducing ${s} spending by 10% could save you ${Fe(u)} per year.`})}}),r.sort((s,i)=>i.potentialYearlySavings-s.potentialYearlySavings)},G7e=()=>`budget-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,Bi=(e,t)=>{if(!e.isRecurring||!e.recurringFrequency||e.recurringFrequency==="none")return e.amount;let n;switch(e.recurringFrequency){case"daily":n=e.amount;break;case"weekly":n=e.amount/7;break;case"biweekly":n=e.amount/14;break;case"monthly":n=e.amount/30;break;case"yearly":n=e.amount/365;break;default:n=e.amount}switch(t){case"daily":return n;case"weekly":return n*7;case"monthly":return n*30;case"yearly":return n*365;default:return e.amount}},q7e=(e,t,n="monthly")=>{let r=e;if(t&&(r=e.filter(d=>d.category===t)),r.length===0)return 0;const s=r.reduce((d,h)=>d+h.amount,0),i=[...r].sort((d,h)=>new Date(d.date).getTime()-new Date(h.date).getTime()),o=new Date(i[0].date),l=new Date(i[i.length-1].date),c=Math.max(1,Math.ceil((l.getTime()-o.getTime())/(1e3*60*60*24))+1),u=s/c;switch(n){case"daily":return u;case"weekly":return u*7;case"monthly":return u*30;case"yearly":return u*365;default:return u*30}},nre=(e,t)=>{try{const n=localStorage.getItem("daily-haven-savings");return n?JSON.parse(n).filter(i=>(i.linkedBudgetIds||[]).includes(e)&&i.recurringContributionAmount&&i.recurringContributionFrequency).reduce((i,o)=>{const l=o.recurringContributionAmount,c=o.recurringContributionFrequency;let u=0;switch(c){case"daily":u=l;break;case"weekly":u=l/7;break;case"biweekly":u=l/14;break;case"monthly":u=l/30;break;case"yearly":u=l/365;break}let d=0;switch(t){case"daily":d=u;break;case"weekly":d=u*7;break;case"monthly":d=u*30;break;case"yearly":d=u*365;break}return i+d},0):0}catch(n){return console.error("Error calculating savings allocations:",n),0}},K7e=()=>`savings-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,Y7e=()=>`contribution-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,sL=e=>!e.targetAmount||e.targetAmount===0?0:e.currentAmount/e.targetAmount*100,iL=e=>e.targetAmount?Math.max(0,e.targetAmount-e.currentAmount):0,lN=e=>e.targetAmount?e.currentAmount>=e.targetAmount:!1,w_=e=>{if(!e.goalDate)return null;const t=new Date;return Zp(e.goalDate,t)},X7e=(e,t="monthly")=>{const n=iL(e);if(n<=0)return 0;const r=w_(e);if(!r||r<=0){const o=n/365;return hU(o,t)}const s=n/r;return hU(s,t)},hU=(e,t)=>{switch(t){case"daily":return e;case"weekly":return e*7;case"monthly":return e*30;case"yearly":return e*365;default:return e*30}},J7e=e=>{const t=sL(e),n=w_(e);if(t>=100)return"green";if(!n)return"blue";const r=new Date,s=e.createdAt,i=Zp(e.goalDate,s),l=Zp(r,s)/i*100;return t>=l?"green":t>=l*.8?"yellow":"orange"},rre=e=>{if(!e.recurringContributionAmount||!e.recurringContributionFrequency||!e.goalDate)return e.currentAmount;const t=new Date,n=Zp(e.goalDate,t);if(n<=0)return e.currentAmount;let r=0;switch(e.recurringContributionFrequency){case"daily":r=e.recurringContributionAmount;break;case"weekly":r=e.recurringContributionAmount/7;break;case"biweekly":r=e.recurringContributionAmount/14;break;case"monthly":r=e.recurringContributionAmount/30;break;case"yearly":r=e.recurringContributionAmount/365;break}const s=r*n;return e.currentAmount+s},sre=e=>!!(e.recurringContributionAmount&&e.recurringContributionAmount>0&&e.recurringContributionFrequency);function Q7e(){const e=Ct(),{expenses:t,settings:n,isLoaded:r}=Xne(),{budgets:s,isLoaded:i}=Lm(),{savingsGoals:o,isLoaded:l}=b_(),[c,u]=v.useState(5e3),d=r&&i&&l,h=v.useMemo(()=>ere(t),[t]),f=h.reduce((O,M)=>O+M.amount,0);v.useMemo(()=>Qne(t),[t]).reduce((O,M)=>O+M.amount,0);const m=v.useMemo(()=>Zne(t),[t]),g=m.reduce((O,M)=>O+M.amount,0),y=c-f,x=c>0?y/c*100:0,b=s.filter(O=>!O.isArchived),w=b.map(O=>{const M=O.linkedExpenseIds||[],E=t.filter(T=>M.includes(T.id)).reduce((T,R)=>T+Bi(R,O.period),0);return Math.max(0,O.amount-E)/O.amount*100}),N=w.length>0?w.reduce((O,M)=>O+M,0)/w.length:100,S=o.reduce((O,M)=>O+M.currentAmount,0);o.reduce((O,M)=>O+(M.targetAmount||0),0);const k=o.filter(O=>lN(O)).length,j=b.filter(O=>{const M=O.linkedExpenseIds||[];return t.filter(I=>M.includes(I.id)).reduce((I,T)=>I+Bi(T,O.period),0)/O.amount>=.8}),_=h.reduce((O,M)=>(O[M.category]=(O[M.category]||0)+M.amount,O),{}),C=Object.entries(_).sort(([,O],[,M])=>M-O).slice(0,5),A=(n==null?void 0:n.currencySymbol)||"$";return d?a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b sticky top-0 z-10",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>e("/"),children:a.jsx(Jn,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[a.jsx(yd,{className:"w-6 h-6 text-blue-500"}),"Financial Dashboard"]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Your complete financial overview"})]})]})})})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6 space-y-6 pb-6",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs(te,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(zv,{className:"w-4 h-4 text-green-500"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"Monthly Income"})]}),a.jsx("div",{className:"text-2xl font-bold",children:Fe(c,A)}),a.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"This month"})]}),a.jsxs(te,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Yw,{className:"w-4 h-4 text-red-500"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"Expenses"})]}),a.jsx("div",{className:"text-2xl font-bold",children:Fe(f,A)}),a.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"This month"})]}),a.jsxs(te,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y>=0?a.jsx(Sn,{className:"w-4 h-4 text-green-500"}):a.jsx(py,{className:"w-4 h-4 text-red-500"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"Net Savings"})]}),a.jsx("div",{className:`text-2xl font-bold ${y>=0?"text-green-600":"text-red-600"}`,children:Fe(y,A)}),a.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[x.toFixed(1),"% savings rate"]})]}),a.jsxs(te,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(fa,{className:"w-4 h-4 text-purple-500"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Savings"})]}),a.jsx("div",{className:"text-2xl font-bold",children:Fe(S,A)}),a.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[k," goals reached"]})]})]}),a.jsxs(te,{className:"p-6",children:[a.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[a.jsx(We,{className:"w-5 h-5 text-blue-500"}),"Quick Actions"]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[a.jsxs(U,{variant:"outline",className:"h-auto flex-col gap-2 py-4",onClick:()=>e("/expenses"),children:[a.jsx(Yw,{className:"w-6 h-6 text-red-500"}),a.jsx("span",{className:"text-sm",children:"Add Expense"})]}),a.jsxs(U,{variant:"outline",className:"h-auto flex-col gap-2 py-4",onClick:()=>e("/budgets"),children:[a.jsx(Xt,{className:"w-6 h-6 text-blue-500"}),a.jsx("span",{className:"text-sm",children:"View Budgets"})]}),a.jsxs(U,{variant:"outline",className:"h-auto flex-col gap-2 py-4",onClick:()=>e("/savings"),children:[a.jsx(fa,{className:"w-6 h-6 text-purple-500"}),a.jsx("span",{className:"text-sm",children:"Savings Goals"})]}),a.jsxs(U,{variant:"outline",className:"h-auto flex-col gap-2 py-4",onClick:()=>e("/expenses"),children:[a.jsx(fy,{className:"w-6 h-6 text-green-500"}),a.jsx("span",{className:"text-sm",children:"View Analytics"})]})]})]}),j.length>0&&a.jsx(te,{className:"p-6 border-orange-200 dark:border-orange-900 bg-orange-50 dark:bg-orange-950/20",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(sO,{className:"w-5 h-5 text-orange-500 mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-orange-900 dark:text-orange-100 mb-2",children:"Budget Alerts"}),a.jsx("div",{className:"space-y-2",children:j.map(O=>{const M=O.linkedExpenseIds||[],E=t.filter(T=>M.includes(T.id)).reduce((T,R)=>T+Bi(R,O.period),0),I=E/O.amount*100;return a.jsxs("div",{className:"text-sm text-orange-800 dark:text-orange-200",children:[" ",a.jsx("span",{className:"font-medium",children:O.name})," is"," ",a.jsxs("span",{className:"font-bold",children:[I.toFixed(0),"%"]})," used (",Fe(E,A)," of"," ",Fe(O.amount,A),")"]},O.id)})})]})]})}),a.jsxs(te,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[a.jsx(Xt,{className:"w-5 h-5 text-blue-500"}),"Budget Status"]}),a.jsx(U,{variant:"ghost",size:"sm",onClick:()=>e("/budgets"),children:"View All"})]}),b.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(Xt,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),a.jsx("p",{className:"mb-4",children:"No active budgets"}),a.jsxs(U,{onClick:()=>e("/budgets/create"),children:[a.jsx(We,{className:"w-4 h-4 mr-2"}),"Create First Budget"]})]}):a.jsx("div",{className:"space-y-4",children:b.slice(0,5).map(O=>{const M=O.linkedExpenseIds||[],E=t.filter(R=>M.includes(R.id)).reduce((R,L)=>R+Bi(L,O.period),0);Math.max(0,O.amount-E);const I=E/O.amount*100,T=()=>I>=100?"text-red-500":I>=90?"text-orange-500":I>=70?"text-yellow-600":"text-green-500";return a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:O.name}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:[Fe(E,A)," of"," ",Fe(O.amount,A)]})]}),a.jsxs("div",{className:`text-sm font-semibold ${T()}`,children:[I.toFixed(0),"%"]})]}),a.jsx(Sr,{value:Math.min(100,I),className:"h-2"})]},O.id)})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(te,{className:"p-6",children:[a.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[a.jsx(fy,{className:"w-5 h-5 text-green-500"}),"Top Spending Categories"]}),C.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(fy,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),a.jsx("p",{children:"No expenses this month"})]}):a.jsx("div",{className:"space-y-4",children:C.map(([O,M])=>{const P=M/f*100;return a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium capitalize",children:O}),a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"font-semibold",children:Fe(M,A)}),a.jsxs("span",{className:"text-muted-foreground ml-2",children:[P.toFixed(0),"%"]})]})]}),a.jsx(Sr,{value:P,className:"h-2"})]},O)})})]}),a.jsxs(te,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[a.jsx(fa,{className:"w-5 h-5 text-purple-500"}),"Savings Goals"]}),a.jsx(U,{variant:"ghost",size:"sm",onClick:()=>e("/savings"),children:"View All"})]}),o.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(fa,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),a.jsx("p",{className:"mb-4",children:"No savings goals set"}),a.jsxs(U,{onClick:()=>e("/savings/create"),children:[a.jsx(We,{className:"w-4 h-4 mr-2"}),"Create First Goal"]})]}):a.jsx("div",{className:"space-y-4",children:o.slice(0,3).map(O=>{const M=O.targetAmount?O.currentAmount/O.targetAmount*100:0,P=lN(O);return a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"font-medium flex items-center gap-2",children:[O.name,P&&a.jsx(ve,{className:"bg-green-500",children:"Reached!"})]}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:[Fe(O.currentAmount,A),O.targetAmount&&` of ${Fe(O.targetAmount,A)}`]})]}),O.targetAmount&&a.jsxs("div",{className:"text-sm font-semibold text-purple-600",children:[Math.min(100,M).toFixed(0),"%"]})]}),O.targetAmount&&a.jsx(Sr,{value:Math.min(100,M),className:"h-2"})]},O.id)})})]})]}),a.jsxs(te,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[a.jsx(qr,{className:"w-5 h-5 text-blue-500"}),"Recent Expenses"]}),a.jsx(U,{variant:"ghost",size:"sm",onClick:()=>e("/expenses"),children:"View All"})]}),t.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(Yw,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),a.jsx("p",{className:"mb-4",children:"No expenses logged yet"}),a.jsxs(U,{onClick:()=>e("/expenses"),children:[a.jsx(We,{className:"w-4 h-4 mr-2"}),"Add First Expense"]})]}):a.jsx("div",{className:"space-y-3",children:t.slice(0,5).map(O=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-secondary rounded-lg hover:bg-secondary/80 transition-colors cursor-pointer",onClick:()=>e("/expenses"),children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium",children:O.title}),a.jsxs("div",{className:"text-sm text-muted-foreground capitalize",children:[O.category,"  ",new Date(O.date).toLocaleDateString()]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"font-semibold",children:Fe(O.amount,A)}),a.jsx("div",{className:"text-xs text-muted-foreground capitalize",children:O.paymentMethod})]})]},O.id))})]}),a.jsxs(te,{className:"p-6 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-950/20 dark:to-purple-950/20 border-blue-200 dark:border-blue-900",children:[a.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[a.jsx(Sn,{className:"w-5 h-5 text-blue-500"}),"Financial Insights"]}),a.jsxs("div",{className:"space-y-3",children:[y>0&&a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 mt-1.5"}),a.jsxs("p",{className:"text-sm",children:["You're saving ",a.jsxs("span",{className:"font-semibold",children:[x.toFixed(1),"%"]})," of your income this month - ",x>=20?"Great job!":"Keep it up!"]})]}),g>0&&a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500 mt-1.5"}),a.jsxs("p",{className:"text-sm",children:["This week you spent ",Fe(g,A)," across"," ",m.length," transactions"]})]}),C.length>0&&a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500 mt-1.5"}),a.jsxs("p",{className:"text-sm",children:["Your top spending category is"," ",a.jsx("span",{className:"font-semibold capitalize",children:C[0][0]})," (",Fe(C[0][1],A),")"]})]}),N<30&&b.length>0&&a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-500 mt-1.5"}),a.jsx("p",{className:"text-sm",children:"Your budgets are running low. Consider reviewing your spending or adjusting budget amounts."})]})]})]})]})]}):a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsx("p",{className:"text-muted-foreground",children:"Loading financial data..."})})}const fU="daily-haven-ideas-boards",pU="daily-haven-ideas-settings",mU="daily-haven-ideas-current-board",Z7e={defaultLayout:"freeform",defaultCardColor:"#fef3c7",enableVoting:!1,showGrid:!0,backgroundType:"theme",backgroundTheme:"default",colorScheme:"system"},eqe=()=>{const[e,t]=v.useState([]),[n,r]=v.useState(null),[s,i]=v.useState(Z7e),[o,l]=v.useState(!1),c=e.find(y=>y.id===n)||e[0];return v.useEffect(()=>{try{const y=localStorage.getItem(fU),x=localStorage.getItem(pU),b=localStorage.getItem(mU);if(y){const N=JSON.parse(y).map(S=>({...S,createdAt:new Date(S.createdAt),updatedAt:new Date(S.updatedAt),ideas:S.ideas.map(k=>({...k,createdAt:new Date(k.createdAt),updatedAt:new Date(k.updatedAt)}))}));t(N),b&&N.find(S=>S.id===b)?r(b):N.length>0&&r(N[0].id)}x&&i(JSON.parse(x))}catch(y){console.error("Error loading from localStorage:",y)}finally{l(!0)}},[]),v.useEffect(()=>{if(o)try{localStorage.setItem(fU,JSON.stringify(e))}catch(y){console.error("Error saving boards to localStorage:",y)}},[e,o]),v.useEffect(()=>{if(o&&n)try{localStorage.setItem(mU,n)}catch(y){console.error("Error saving current board ID:",y)}},[n,o]),v.useEffect(()=>{if(o)try{localStorage.setItem(pU,JSON.stringify(s))}catch(y){console.error("Error saving settings to localStorage:",y)}},[s,o]),{boards:e,currentBoard:c,currentBoardId:n,setCurrentBoardId:r,settings:s,isLoaded:o,addBoard:y=>{t(x=>[...x,y]),r(y.id)},updateBoard:(y,x)=>{t(b=>b.map(w=>w.id===y?{...w,...x,updatedAt:new Date}:w))},deleteBoard:y=>{t(x=>{const b=x.filter(w=>w.id!==y);return n===y&&b.length>0&&r(b[0].id),b})},addIdea:(y,x)=>{t(b=>b.map(w=>w.id===y?{...w,ideas:[...w.ideas,x],updatedAt:new Date}:w))},updateIdea:(y,x,b)=>{t(w=>w.map(N=>N.id===y?{...N,ideas:N.ideas.map(S=>S.id===x?{...S,...b,updatedAt:new Date}:S),updatedAt:new Date}:N))},deleteIdea:(y,x)=>{t(b=>b.map(w=>w.id===y?{...w,ideas:w.ideas.filter(N=>N.id!==x),updatedAt:new Date}:w))},updateSettings:y=>{i(x=>({...x,...y}))}}},YC=["#fef3c7","#dbeafe","#fce7f3","#d1fae5","#e9d5ff","#fed7aa","#fee2e2","#f3f4f6","#fbcfe8","#d1d5db"],tqe={draft:"Draft","in-progress":"In Progress",completed:"Completed",archived:"Archived"},nqe=({idea:e,onUpdate:t,onDelete:n,enableVoting:r,draggable:s,onConnectionStart:i,isConnectionMode:o})=>{var I,T;const[l,c]=v.useState(!1),[u,d]=v.useState(e.title),[h,f]=v.useState(e.description||""),[p,m]=v.useState(e.tags.join(", ")),[g,y]=v.useState(!1),[x,b]=v.useState(!1),[w,N]=v.useState(null),[S,k]=v.useState({x:0,y:0}),[j,_]=v.useState({x:0,y:0,width:0,height:0}),C=v.useRef(null),A=()=>{t(e.id,{title:u,description:h,tags:p.split(",").map(R=>R.trim()).filter(Boolean)}),c(!1)},O=()=>{t(e.id,{votes:(e.votes||0)+1})},M=R=>{var D,F;if(!s||x||R.button!==0)return;const L=R.target;L.closest("button")||L.closest('[role="button"]')||L.closest("input")||L.closest("textarea")||L.closest("select")||(R.preventDefault(),R.stopPropagation(),y(!0),k({x:R.clientX-(((D=e.position)==null?void 0:D.x)||0),y:R.clientY-(((F=e.position)==null?void 0:F.y)||0)}))},P=(R,L)=>{var z,B;if(!s)return;R.preventDefault(),R.stopPropagation(),b(!0),N(L);const D=((z=e.size)==null?void 0:z.width)||250,F=((B=e.size)==null?void 0:B.height)||200;_({x:R.clientX,y:R.clientY,width:D,height:F})};v.useEffect(()=>{if(!g)return;const R=D=>{const F=D.clientX-S.x,z=D.clientY-S.y;t(e.id,{position:{x:F,y:z}})},L=()=>{y(!1)};return window.addEventListener("mousemove",R),window.addEventListener("mouseup",L),()=>{window.removeEventListener("mousemove",R),window.removeEventListener("mouseup",L)}},[g,S.x,S.y,e.id,t]),v.useEffect(()=>{if(!x||!w)return;const R=D=>{var Y,G,Z,q,ee,se;const F=D.clientX-j.x,z=D.clientY-j.y;let B=j.width,$=j.height,W=((Y=e.position)==null?void 0:Y.x)||0,V=((G=e.position)==null?void 0:G.y)||0;switch(w){case"se":B=Math.max(200,j.width+F),$=Math.max(150,j.height+z);break;case"sw":B=Math.max(200,j.width-F),$=Math.max(150,j.height+z),W=(((Z=e.position)==null?void 0:Z.x)||0)+F;break;case"ne":B=Math.max(200,j.width+F),$=Math.max(150,j.height-z),V=(((q=e.position)==null?void 0:q.y)||0)+z;break;case"nw":B=Math.max(200,j.width-F),$=Math.max(150,j.height-z),W=(((ee=e.position)==null?void 0:ee.x)||0)+F,V=(((se=e.position)==null?void 0:se.y)||0)+z;break}t(e.id,{size:{width:B,height:$},position:{x:W,y:V}})},L=()=>{b(!1),N(null)};return window.addEventListener("mousemove",R),window.addEventListener("mouseup",L),()=>{window.removeEventListener("mousemove",R),window.removeEventListener("mouseup",L)}},[x,w,j,e.id,e.position,t]);const E={backgroundColor:e.color,...s&&e.position?{position:"absolute",left:`${e.position.x}px`,top:`${e.position.y}px`,width:`${((I=e.size)==null?void 0:I.width)||250}px`,height:`${((T=e.size)==null?void 0:T.height)||200}px`}:{}};return a.jsxs(a.Fragment,{children:[a.jsxs(te,{ref:C,"data-card":"true",className:me("p-4 transition-shadow duration-200 hover:shadow-md relative group overflow-auto",s&&!g&&"cursor-grab",g&&"cursor-grabbing shadow-2xl",x&&"cursor-nwse-resize"),style:{...E,zIndex:g?1e3:s?10:1},onMouseDown:M,children:[s&&a.jsx("div",{className:"absolute top-2 left-2 opacity-0 group-hover:opacity-100 transition-opacity cursor-grab",children:a.jsx(Ld,{className:"h-4 w-4 text-muted-foreground"})}),s&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"absolute top-0 left-0 w-3 h-3 cursor-nw-resize opacity-0 group-hover:opacity-100 hover:bg-primary/20 rounded-tl",onMouseDown:R=>P(R,"nw")}),a.jsx("div",{className:"absolute top-0 right-0 w-3 h-3 cursor-ne-resize opacity-0 group-hover:opacity-100 hover:bg-primary/20 rounded-tr",onMouseDown:R=>P(R,"ne")}),a.jsx("div",{className:"absolute bottom-0 left-0 w-3 h-3 cursor-sw-resize opacity-0 group-hover:opacity-100 hover:bg-primary/20 rounded-bl",onMouseDown:R=>P(R,"sw")}),a.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 cursor-se-resize opacity-0 group-hover:opacity-100 hover:bg-primary/20 rounded-br",onMouseDown:R=>P(R,"se")})]}),a.jsxs("div",{className:"flex justify-between items-start gap-2 mb-2",children:[a.jsx("h3",{className:"font-semibold text-base flex-1 break-words",children:e.title}),a.jsxs("div",{className:"flex gap-1",children:[s&&i&&a.jsx(U,{variant:"ghost",size:"icon",className:"h-8 w-8 flex-shrink-0",onClick:R=>{R.stopPropagation(),i(e.id)},title:"Create connection",children:a.jsx(Mpe,{className:"h-4 w-4"})}),a.jsxs(hh,{children:[a.jsx(fh,{asChild:!0,children:a.jsx(U,{variant:"ghost",size:"icon",className:"h-8 w-8 flex-shrink-0",children:a.jsx(Uv,{className:"h-4 w-4"})})}),a.jsxs(pu,{align:"end",children:[a.jsxs(_n,{onClick:()=>c(!0),children:[a.jsx(gi,{className:"h-4 w-4 mr-2"}),"Edit"]}),a.jsxs(_n,{onClick:()=>n(e.id),className:"text-destructive",children:[a.jsx(Jt,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]})]}),e.description&&a.jsx("p",{className:"text-sm text-muted-foreground mb-3 break-words overflow-auto",children:e.description}),a.jsx("div",{className:"flex flex-wrap gap-1.5 mb-2",children:e.tags.map(R=>a.jsxs(ve,{variant:"secondary",className:"text-xs",children:[a.jsx(ya,{className:"h-3 w-3 mr-1"}),R]},R))}),a.jsxs("div",{className:"flex items-center justify-between mt-3 pt-2 border-t",children:[a.jsx(ve,{variant:"outline",className:"text-xs",children:tqe[e.status]}),r&&a.jsxs(U,{variant:"ghost",size:"sm",onClick:O,className:"h-7 text-xs",children:[a.jsx(qpe,{className:"h-3 w-3 mr-1"}),e.votes||0]})]})]}),a.jsx(ot,{open:l,onOpenChange:c,children:a.jsxs(nt,{className:"sm:max-w-[500px]",children:[a.jsxs(rt,{children:[a.jsx(st,{children:"Edit Idea"}),a.jsx(dt,{children:"Make changes to your idea"})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"title",children:"Title"}),a.jsx(re,{id:"title",value:u,onChange:R=>d(R.target.value),placeholder:"Idea title"})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"description",children:"Description"}),a.jsx(ft,{id:"description",value:h,onChange:R=>f(R.target.value),placeholder:"Describe your idea...",rows:4})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"tags",children:"Tags (comma-separated)"}),a.jsx(re,{id:"tags",value:p,onChange:R=>m(R.target.value),placeholder:"tag1, tag2, tag3"})]})]}),a.jsxs(Wt,{children:[a.jsx(U,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),a.jsx(U,{onClick:A,children:"Save Changes"})]})]})})]})},gU=({onAdd:e,defaultColor:t})=>{const[n,r]=v.useState(!1),[s,i]=v.useState(""),[o,l]=v.useState(""),[c,u]=v.useState(""),[d,h]=v.useState(t||YC[0]),[f,p]=v.useState("draft"),m=y=>{if(y.preventDefault(),!s.trim())return;const x={id:ui(),title:s.trim(),description:o.trim()||void 0,color:d,tags:c.split(",").map(b=>b.trim()).filter(Boolean),status:f,createdAt:new Date,updatedAt:new Date,votes:0};e(x),g(),r(!1)},g=()=>{i(""),l(""),u(""),h(t||YC[0]),p("draft")};return a.jsxs(ot,{open:n,onOpenChange:r,children:[a.jsx(js,{asChild:!0,children:a.jsxs(U,{children:[a.jsx(We,{className:"h-4 w-4 mr-2"}),"New Idea"]})}),a.jsxs(nt,{className:"sm:max-w-[500px]",children:[a.jsxs(rt,{children:[a.jsx(st,{children:"Add New Idea"}),a.jsx(dt,{children:"Capture your creative thought or concept"})]}),a.jsxs("form",{onSubmit:m,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"title",children:"Title *"}),a.jsx(re,{id:"title",value:s,onChange:y=>i(y.target.value),placeholder:"Give your idea a catchy title",required:!0})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"description",children:"Description"}),a.jsx(ft,{id:"description",value:o,onChange:y=>l(y.target.value),placeholder:"Describe your idea in detail...",rows:4})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"tags",children:"Tags (comma-separated)"}),a.jsx(re,{id:"tags",value:c,onChange:y=>u(y.target.value),placeholder:"innovation, feature, design"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"status",children:"Status"}),a.jsxs(Ee,{value:f,onValueChange:y=>p(y),children:[a.jsx(je,{id:"status",children:a.jsx(Ce,{})}),a.jsxs(_e,{children:[a.jsx(Q,{value:"draft",children:"Draft"}),a.jsx(Q,{value:"in-progress",children:"In Progress"}),a.jsx(Q,{value:"completed",children:"Completed"}),a.jsx(Q,{value:"archived",children:"Archived"})]})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"color",children:"Card Color"}),a.jsxs(Ee,{value:d,onValueChange:h,children:[a.jsx(je,{id:"color",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded border",style:{backgroundColor:d}}),a.jsx("span",{children:"Color"})]})}),a.jsx(_e,{children:YC.map(y=>a.jsx(Q,{value:y,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded border",style:{backgroundColor:y}}),a.jsx("span",{className:"capitalize",children:y})]})},y))})]})]})]}),a.jsxs(Wt,{children:[a.jsx(U,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancel"}),a.jsx(U,{type:"submit",children:"Add Idea"})]})]})]})]})},rqe=["#000000","#ef4444","#3b82f6","#10b981","#f59e0b","#8b5cf6","#ec4899"],sqe=({strokes:e,arrows:t,onStrokesChange:n,onArrowsChange:r,width:s,height:i})=>{const o=v.useRef(null),[l,c]=v.useState(!1),[u,d]=v.useState(null),[h,f]=v.useState("pen"),[p,m]=v.useState("#000000"),[g,y]=v.useState(2),[x,b]=v.useState([e]),[w,N]=v.useState(0);v.useEffect(()=>{const M=o.current;if(!M||s===0||i===0)return;const P=M.getContext("2d");P&&(P.clearRect(0,0,s,i),e.forEach(E=>{if(!(E.points.length<2)){P.beginPath(),P.strokeStyle=E.color,P.lineWidth=E.width,P.lineCap="round",P.lineJoin="round",P.moveTo(E.points[0].x,E.points[0].y);for(let I=1;I<E.points.length;I++)P.lineTo(E.points[I].x,E.points[I].y);P.stroke()}}),t.forEach(E=>{P.strokeStyle=E.color,P.lineWidth=2,P.setLineDash([5,5]),P.stroke(),P.setLineDash([])}))},[e,t,s,i]);const S=M=>{const P=o.current;if(!P)return{x:0,y:0};const E=P.getBoundingClientRect();return{x:M.clientX-E.left,y:M.clientY-E.top}},k=M=>{if(h==="select")return;const P=S(M);c(!0);const E={id:ui(),tool:h,color:p,width:g,points:[P]};d(E)},j=M=>{if(!l||!u)return;const P=S(M),E={...u,points:[...u.points,P]};d(E);const I=o.current,T=I==null?void 0:I.getContext("2d");if(!T)return;T.strokeStyle=p,T.lineWidth=g,T.lineCap="round",T.lineJoin="round";const R=E.points;if(R.length>=2){const L=R[R.length-2],D=R[R.length-1];T.beginPath(),T.moveTo(L.x,L.y),T.lineTo(D.x,D.y),T.stroke()}},_=()=>{if(!l||!u)return;c(!1);const M=[...e,u];n(M);const P=x.slice(0,w+1);P.push(M),b(P),N(P.length-1),d(null)},C=()=>{w>0&&(N(w-1),n(x[w-1]))},A=()=>{w<x.length-1&&(N(w+1),n(x[w+1]))},O=()=>{n([]);const M=[...x,[]];b(M),N(M.length-1)};return a.jsxs("div",{className:"absolute inset-0 pointer-events-none z-40",children:[a.jsx("div",{className:"absolute bottom-4 right-4 pointer-events-auto z-50",children:a.jsx("div",{className:"bg-background/95 backdrop-blur-sm border rounded-lg shadow-lg p-2",children:a.jsxs("div",{className:"flex items-center gap-1 flex-wrap justify-center max-w-md",children:[a.jsx(U,{variant:h==="select"?"default":"ghost",size:"icon",onClick:()=>f("select"),title:"Select",children:a.jsx($pe,{className:"h-4 w-4"})}),a.jsx(U,{variant:h==="pen"?"default":"ghost",size:"icon",onClick:()=>f("pen"),title:"Pen",children:a.jsx(Fpe,{className:"h-4 w-4"})}),a.jsx(U,{variant:h==="eraser"?"default":"ghost",size:"icon",onClick:()=>f("eraser"),title:"Eraser",children:a.jsx(nq,{className:"h-4 w-4"})}),a.jsx(U,{variant:h==="line"?"default":"ghost",size:"icon",onClick:()=>f("line"),title:"Line",children:a.jsx(uq,{className:"h-4 w-4"})}),a.jsx(U,{variant:h==="arrow"?"default":"ghost",size:"icon",onClick:()=>f("arrow"),title:"Arrow",children:a.jsx(J7,{className:"h-4 w-4"})}),a.jsx(kn,{orientation:"vertical",className:"h-8 mx-1"}),rqe.map(M=>a.jsx("button",{className:me("w-6 h-6 rounded-full border-2 transition-transform hover:scale-110",p===M?"border-foreground scale-110":"border-muted"),style:{backgroundColor:M},onClick:()=>m(M),title:`Color ${M}`},M)),a.jsx(kn,{orientation:"vertical",className:"h-8 mx-1"}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(U,{variant:g===1?"default":"ghost",size:"sm",onClick:()=>y(1),className:"w-8 h-8",children:a.jsx("div",{className:"w-1 h-1 bg-current rounded-full"})}),a.jsx(U,{variant:g===2?"default":"ghost",size:"sm",onClick:()=>y(2),className:"w-8 h-8",children:a.jsx("div",{className:"w-2 h-2 bg-current rounded-full"})}),a.jsx(U,{variant:g===4?"default":"ghost",size:"sm",onClick:()=>y(4),className:"w-8 h-8",children:a.jsx("div",{className:"w-3 h-3 bg-current rounded-full"})})]}),a.jsx(kn,{orientation:"vertical",className:"h-8 mx-1"}),a.jsx(U,{variant:"ghost",size:"icon",onClick:C,disabled:w<=0,title:"Undo",children:a.jsx(Yk,{className:"h-4 w-4"})}),a.jsx(U,{variant:"ghost",size:"icon",onClick:A,disabled:w>=x.length-1,title:"Redo",children:a.jsx(Kk,{className:"h-4 w-4"})}),a.jsx(U,{variant:"ghost",size:"icon",onClick:O,title:"Clear All",children:a.jsx(Jt,{className:"h-4 w-4"})})]})})}),a.jsx("canvas",{ref:o,width:s,height:i,className:me("absolute inset-0 touch-none",h!=="select"&&"pointer-events-auto cursor-crosshair"),style:{width:`${s}px`,height:`${i}px`},onMouseDown:k,onMouseMove:j,onMouseUp:_,onMouseLeave:_}),s===0&&a.jsx("div",{className:"absolute top-20 left-1/2 -translate-x-1/2 bg-red-500/90 text-white px-4 py-2 rounded pointer-events-none",children:"Canvas loading..."})]})},iqe=({strokes:e,arrows:t,ideas:n,width:r,height:s})=>{const i=v.useRef(null),o=(l,c,u,d,h,f)=>{const p=Math.atan2(h-u,d-c),m=15,g=Math.PI/6;l.save(),l.fillStyle=f,l.beginPath(),l.moveTo(d,h),l.lineTo(d-m*Math.cos(p-g),h-m*Math.sin(p-g)),l.lineTo(d-m*Math.cos(p+g),h-m*Math.sin(p+g)),l.closePath(),l.fill(),l.restore()};return v.useEffect(()=>{const l=i.current;if(!l||r===0||s===0)return;const c=l.getContext("2d");c&&(c.clearRect(0,0,r,s),e.forEach(u=>{if(!(u.points.length<2)){c.beginPath(),c.strokeStyle=u.color,c.lineWidth=u.width,c.lineCap="round",c.lineJoin="round",c.moveTo(u.points[0].x,u.points[0].y);for(let d=1;d<u.points.length;d++)c.lineTo(u.points[d].x,u.points[d].y);c.stroke()}}),t.forEach(u=>{var N,S,k,j;const d=n.find(_=>_.id===u.fromCardId),h=n.find(_=>_.id===u.toCardId);if(!(d!=null&&d.position)||!(h!=null&&h.position))return;const f=((N=d.size)==null?void 0:N.width)||250,p=((S=d.size)==null?void 0:S.height)||200,m=((k=h.size)==null?void 0:k.width)||250,g=((j=h.size)==null?void 0:j.height)||200,y=d.position.x+f/2,x=d.position.y+p/2,b=h.position.x+m/2,w=h.position.y+g/2;if(c.beginPath(),c.strokeStyle=u.color,c.lineWidth=2,c.moveTo(y,x),c.lineTo(b,w),c.stroke(),o(c,y,x,b,w,u.color),u.label){const _=(y+b)/2,C=(x+w)/2;c.save(),c.fillStyle="white",c.strokeStyle=u.color,c.lineWidth=1;const M=c.measureText(u.label).width+4*2,P=16;c.fillRect(_-M/2,C-P/2,M,P),c.strokeRect(_-M/2,C-P/2,M,P),c.fillStyle=u.color,c.textAlign="center",c.textBaseline="middle",c.font="12px sans-serif",c.fillText(u.label,_,C),c.restore()}}))},[e,t,n,r,s]),r===0||s===0?null:a.jsx("canvas",{ref:i,width:r,height:s,className:"absolute inset-0 pointer-events-none z-10",style:{width:`${r}px`,height:`${s}px`}})},oqe=[{name:"White",value:"#ffffff"},{name:"Light Gray",value:"#f3f4f6"},{name:"Light Blue",value:"#dbeafe"},{name:"Light Green",value:"#d1fae5"},{name:"Light Purple",value:"#e9d5ff"},{name:"Light Pink",value:"#fce7f3"},{name:"Light Yellow",value:"#fef3c7"},{name:"Light Orange",value:"#fed7aa"}],aqe=({settings:e,onUpdate:t})=>{const[n,r]=v.useState(!1),[s,i]=v.useState(e.backgroundType),[o,l]=v.useState(e.backgroundTheme),[c,u]=v.useState(e.backgroundImage||"#ffffff"),[d,h]=v.useState(e.backgroundImage||""),f=()=>{const m={backgroundType:s,backgroundTheme:s==="theme"?o:e.backgroundTheme};s==="color"?m.backgroundImage=c:s==="image"&&(m.backgroundImage=d),t(m),r(!1),J.success("Settings updated!")},p=()=>{i(e.backgroundType),l(e.backgroundTheme),u(e.backgroundImage||"#ffffff"),h(e.backgroundImage||"")};return a.jsxs(ot,{open:n,onOpenChange:m=>{r(m),m||p()},children:[a.jsx(js,{asChild:!0,children:a.jsx(U,{variant:"outline",size:"icon",title:"Settings",children:a.jsx(wp,{className:"h-4 w-4"})})}),a.jsxs(nt,{className:"sm:max-w-[500px]",children:[a.jsxs(rt,{children:[a.jsx(st,{children:"Ideas Settings"}),a.jsx(dt,{children:"Customize your ideas board appearance"})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"bg-type",children:"Background Type"}),a.jsxs(Ee,{value:s,onValueChange:i,children:[a.jsx(je,{id:"bg-type",children:a.jsx(Ce,{})}),a.jsxs(_e,{children:[a.jsx(Q,{value:"theme",children:"Theme Gradient"}),a.jsx(Q,{value:"color",children:"Solid Color"}),a.jsx(Q,{value:"image",children:"Custom Image"})]})]})]}),s==="theme"&&a.jsxs("div",{children:[a.jsx(K,{htmlFor:"bg-theme",children:"Theme"}),a.jsxs(Ee,{value:o,onValueChange:l,children:[a.jsx(je,{id:"bg-theme",children:a.jsx(Ce,{})}),a.jsxs(_e,{children:[a.jsx(Q,{value:"default",children:"Default"}),a.jsx(Q,{value:"gradient-blue",children:"Blue Gradient"}),a.jsx(Q,{value:"gradient-purple",children:"Purple Gradient"}),a.jsx(Q,{value:"gradient-green",children:"Green Gradient"}),a.jsx(Q,{value:"gradient-orange",children:"Orange Gradient"})]})]})]}),s==="color"&&a.jsxs("div",{children:[a.jsx(K,{htmlFor:"bg-color",children:"Background Color"}),a.jsx("div",{className:"grid grid-cols-4 gap-2 mt-2",children:oqe.map(m=>a.jsx("button",{className:`w-full h-12 rounded border-2 hover:scale-105 transition-transform ${c===m.value?"border-primary ring-2 ring-primary":"border-gray-300"}`,style:{backgroundColor:m.value},onClick:()=>u(m.value),title:m.name,children:a.jsx("span",{className:"sr-only",children:m.name})},m.value))}),a.jsxs("div",{className:"mt-3",children:[a.jsx(K,{htmlFor:"custom-color",children:"Or enter custom color"}),a.jsxs("div",{className:"flex gap-2 mt-1",children:[a.jsx(re,{id:"custom-color",type:"text",value:c,onChange:m=>u(m.target.value),placeholder:"#ffffff"}),a.jsx(re,{type:"color",value:c,onChange:m=>u(m.target.value),className:"w-16"})]})]})]}),s==="image"&&a.jsxs("div",{children:[a.jsx(K,{htmlFor:"bg-image",children:"Image URL"}),a.jsx(re,{id:"bg-image",type:"url",value:d,onChange:m=>h(m.target.value),placeholder:"https://example.com/image.jpg"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Enter a URL to an image. For best results, use a high-resolution image."}),d&&a.jsxs("div",{className:"mt-3 rounded border p-2",children:[a.jsx("p",{className:"text-xs font-medium mb-2",children:"Preview:"}),a.jsx("img",{src:d,alt:"Background preview",className:"w-full h-32 object-cover rounded",onError:m=>{m.currentTarget.src="",m.currentTarget.alt="Failed to load image"}})]})]})]}),a.jsxs(Wt,{children:[a.jsx(U,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),a.jsx(U,{onClick:f,children:"Save Changes"})]})]})]})},lqe={default:"","gradient-blue":"bg-gradient-to-br from-blue-50 via-cyan-50 to-blue-100 dark:from-blue-950 dark:via-cyan-950 dark:to-blue-900","gradient-purple":"bg-gradient-to-br from-purple-50 via-pink-50 to-purple-100 dark:from-purple-950 dark:via-pink-950 dark:to-purple-900","gradient-green":"bg-gradient-to-br from-green-50 via-emerald-50 to-green-100 dark:from-green-950 dark:via-emerald-950 dark:to-green-900","gradient-orange":"bg-gradient-to-br from-orange-50 via-amber-50 to-orange-100 dark:from-orange-950 dark:via-amber-950 dark:to-orange-900"},cqe=()=>{const{boards:e,currentBoard:t,currentBoardId:n,setCurrentBoardId:r,settings:s,isLoaded:i,addBoard:o,updateBoard:l,addIdea:c,updateIdea:u,deleteIdea:d,updateSettings:h}=eqe(),[f,p]=v.useState(""),[m,g]=v.useState("all"),[y,x]=v.useState(!1),[b,w]=v.useState(""),[N,S]=v.useState("grid"),[k,j]=v.useState(!1),[_,C]=v.useState({width:0,height:0}),[A,O]=v.useState(null),[M,P]=v.useState(null),[E,I]=v.useState(""),T=v.useRef(null),R=v.useRef(null),L=v.useMemo(()=>t?t.ideas.filter(G=>{var ee;const Z=G.title.toLowerCase().includes(f.toLowerCase())||((ee=G.description)==null?void 0:ee.toLowerCase().includes(f.toLowerCase()))||G.tags.some(se=>se.toLowerCase().includes(f.toLowerCase())),q=m==="all"||G.status===m;return Z&&q}):[],[t,f,m]);v.useEffect(()=>{const G=()=>{if(T.current){const q=T.current.offsetWidth,ee=Math.max(T.current.offsetHeight,500);C({width:q,height:ee})}},Z=setTimeout(G,50);return window.addEventListener("resize",G),()=>{clearTimeout(Z),window.removeEventListener("resize",G)}},[k,L.length]);const D=()=>{const G={id:ui(),name:"My Ideas",layout:"grid",ideas:[],createdAt:new Date,updatedAt:new Date};o(G)},F=()=>{if(!b.trim())return;const G={id:ui(),name:b.trim(),layout:s.defaultLayout,ideas:[],createdAt:new Date,updatedAt:new Date};o(G),w(""),x(!1),J.success("Board created!")},z=G=>{if(A===null)O(G),J.info("Select another card to connect");else if(A===G)O(null),J.info("Connection cancelled");else{const Z={id:ui(),fromCardId:A,toCardId:G,color:"#3b82f6"},q=(t==null?void 0:t.arrows)||[];l(n,{arrows:[...q,Z]}),O(null),J.success("Connection created!")}},B=G=>{if((t==null?void 0:t.layout)!=="freeform"||k)return;const Z=G.target;if(Z.closest("[data-card]")||Z.closest("button")||Z.closest("input")||Z.closest("textarea")||Z.closest('[role="button"]'))return;const q=G.currentTarget.getBoundingClientRect(),ee=G.clientX-q.left,se=G.clientY-q.top;P({x:ee,y:se}),I("")};v.useEffect(()=>{M&&R.current&&R.current.focus()},[M]);const $=()=>{if(!E.trim()||!M)return;const G={id:ui(),title:E.trim(),color:s.defaultCardColor,tags:[],status:"draft",position:M,createdAt:new Date,updatedAt:new Date,votes:0};c(n,G),P(null),I(""),J.success("Note created!")},W=()=>{P(null),I("")},V=s.backgroundType==="theme"&&lqe[s.backgroundTheme]||"",Y=s.backgroundType==="image"&&s.backgroundImage?{backgroundImage:`url(${s.backgroundImage})`,backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed"}:s.backgroundType==="color"&&s.backgroundImage?{backgroundColor:s.backgroundImage}:{};return i?e.length===0?a.jsxs("div",{className:`min-h-screen ${V}`,style:Y,children:[a.jsx(Dn,{title:"Daily Haven Suite"}),a.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:a.jsxs("div",{className:"text-center py-12",children:[a.jsx(N4,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"No Idea Boards Yet"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Create your first board to start capturing brilliant ideas"}),a.jsxs(U,{onClick:D,size:"lg",children:[a.jsx(We,{className:"h-5 w-5 mr-2"}),"Create First Board"]})]})})]}):a.jsxs("div",{className:`min-h-screen ${V}`,style:Y,children:[a.jsx(Dn,{title:"Daily Haven Suite"}),a.jsxs("div",{className:"container mx-auto px-4 py-4 sm:py-8 max-w-7xl",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-2 truncate",children:"Ideas"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Capture and organize your creative thoughts"})]}),a.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[a.jsx(aqe,{settings:s,onUpdate:h}),a.jsxs(ot,{open:y,onOpenChange:x,children:[a.jsx(js,{asChild:!0,children:a.jsxs(U,{variant:"outline",className:"flex-1 sm:flex-initial",children:[a.jsx(N4,{className:"h-4 w-4 mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"New Board"}),a.jsx("span",{className:"sm:hidden",children:"Board"})]})}),a.jsxs(nt,{className:"sm:max-w-[425px]",children:[a.jsxs(rt,{children:[a.jsx(st,{children:"Create New Board"}),a.jsx(dt,{children:"Start a new idea collection board"})]}),a.jsxs("div",{className:"py-4",children:[a.jsx(K,{htmlFor:"board-name",children:"Board Name"}),a.jsx(re,{id:"board-name",value:b,onChange:G=>w(G.target.value),placeholder:"My Project Ideas",onKeyDown:G=>G.key==="Enter"&&F()})]}),a.jsxs(Wt,{children:[a.jsx(U,{variant:"outline",onClick:()=>x(!1),children:"Cancel"}),a.jsx(U,{onClick:F,children:"Create"})]})]})]}),t&&a.jsx(gU,{onAdd:G=>{c(n,G),J.success("Idea added!")},defaultColor:s.defaultCardColor})]})]}),a.jsx(te,{className:"p-4 mb-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(K,{htmlFor:"board-select",className:"text-xs mb-1.5 block",children:"Current Board"}),a.jsxs(Ee,{value:n||void 0,onValueChange:r,children:[a.jsx(je,{id:"board-select",children:a.jsx(Ce,{placeholder:"Select a board"})}),a.jsx(_e,{children:e.map(G=>a.jsxs(Q,{value:G.id,children:[G.name," (",G.ideas.length," ideas)"]},G.id))})]})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx(K,{htmlFor:"search",className:"text-xs mb-1.5 block",children:"Search Ideas"}),a.jsxs("div",{className:"relative",children:[a.jsx(Sa,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),a.jsx(re,{id:"search",placeholder:"Search...",value:f,onChange:G=>p(G.target.value),className:"pl-8"})]})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx(K,{htmlFor:"status-filter",className:"text-xs mb-1.5 block",children:"Filter by Status"}),a.jsxs(Ee,{value:m,onValueChange:g,children:[a.jsx(je,{id:"status-filter",children:a.jsx(Ce,{})}),a.jsxs(_e,{children:[a.jsx(Q,{value:"all",children:"All Status"}),a.jsx(Q,{value:"draft",children:"Draft"}),a.jsx(Q,{value:"in-progress",children:"In Progress"}),a.jsx(Q,{value:"completed",children:"Completed"}),a.jsx(Q,{value:"archived",children:"Archived"})]})]})]}),a.jsxs("div",{className:"flex gap-2 items-end",children:[a.jsx(U,{variant:N==="grid"?"default":"outline",size:"icon",onClick:()=>S("grid"),title:"Grid View",children:a.jsx(rx,{className:"h-4 w-4"})}),a.jsx(U,{variant:N==="list"?"default":"outline",size:"icon",onClick:()=>S("list"),title:"List View",children:a.jsx(qk,{className:"h-4 w-4"})}),a.jsx(U,{variant:k?"default":"outline",size:"icon",onClick:()=>j(!k),title:k?"Hide Drawing Tools":"Show Drawing Tools",children:a.jsx($D,{className:"h-4 w-4"})})]})]})}),t&&a.jsxs("div",{ref:T,className:"relative min-h-[500px]",onClick:B,children:[a.jsx(iqe,{strokes:t.drawingStrokes||[],arrows:t.arrows||[],ideas:t.ideas,width:_.width,height:_.height}),k&&a.jsx(sqe,{strokes:t.drawingStrokes||[],arrows:t.arrows||[],onStrokesChange:G=>l(n,{drawingStrokes:G}),onArrowsChange:G=>l(n,{arrows:G}),width:_.width,height:_.height}),M&&a.jsx("div",{className:"absolute z-[100] pointer-events-auto",style:{left:`${M.x}px`,top:`${M.y}px`},onClick:G=>G.stopPropagation(),children:a.jsxs(te,{className:"p-3 shadow-xl border-2 border-primary",children:[a.jsx(re,{ref:R,type:"text",value:E,onChange:G=>I(G.target.value),onKeyDown:G=>{G.key==="Enter"?$():G.key==="Escape"&&W()},placeholder:"Enter note title...",className:"mb-2"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(U,{size:"sm",onClick:$,children:"Create"}),a.jsx(U,{size:"sm",variant:"outline",onClick:W,children:"Cancel"})]})]})}),L.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ope,{className:"h-12 w-12 mx-auto text-muted-foreground mb-3"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:f||m!=="all"?"No ideas match your filters":"No ideas yet"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:f||m!=="all"?"Try adjusting your search or filters":"Start by adding your first idea to this board"}),!f&&m==="all"&&a.jsx(gU,{onAdd:G=>{c(n,G),J.success("Idea added!")},defaultColor:s.defaultCardColor})]}):a.jsx("div",{className:me(t.layout==="freeform"?"relative w-full h-full":N==="grid"?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4":"flex flex-col gap-4"),children:L.map((G,Z)=>{if(t.layout==="freeform"&&!G.position){const ee=50+Z%3*280,se=50+Math.floor(Z/3)*230;u(n,G.id,{position:{x:ee,y:se}})}return a.jsx(nqe,{idea:G,onUpdate:(ee,se)=>u(n,ee,se),onDelete:ee=>{d(n,ee),J.success("Idea deleted")},enableVoting:s.enableVoting,draggable:t.layout==="freeform",onConnectionStart:z,isConnectionMode:A!==null},G.id)})})]})]})]}):a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsx("p",{className:"text-muted-foreground",children:"Loading..."})})},yU="daily-haven-goals",S_=()=>{const[e,t]=v.useState([]),[n,r]=v.useState(!1);v.useEffect(()=>{try{const p=localStorage.getItem(yU);if(p){const g=JSON.parse(p).map(y=>({...y,createdAt:new Date(y.createdAt),updatedAt:y.updatedAt?new Date(y.updatedAt):void 0,startDate:y.startDate?new Date(y.startDate):void 0,targetDate:y.targetDate?new Date(y.targetDate):void 0,completedDate:y.completedDate?new Date(y.completedDate):void 0,subgoals:y.subgoals.map(x=>({...x,createdAt:new Date(x.createdAt),dueDate:x.dueDate?new Date(x.dueDate):void 0})),milestones:y.milestones.map(x=>({...x,targetDate:x.targetDate?new Date(x.targetDate):void 0,completedDate:x.completedDate?new Date(x.completedDate):void 0})),feedback:y.feedback.map(x=>({...x,date:new Date(x.date)}))}));t(g)}}catch(p){console.error("Error loading goals from localStorage:",p)}finally{r(!0)}},[]);const s=p=>{try{localStorage.setItem(yU,JSON.stringify(p)),t(p)}catch(m){console.error("Error saving goals to localStorage:",m)}};return{goals:e,isLoaded:n,addGoal:p=>{const m=[...e,p];s(m)},updateGoal:(p,m)=>{const g=e.map(y=>y.id===p?{...y,...m,updatedAt:new Date}:y);s(g)},deleteGoal:p=>{const m=e.filter(g=>g.id!==p);s(m)},toggleSubgoal:(p,m)=>{const g=e.map(y=>{if(y.id!==p)return y;const x=y.subgoals.map(b=>b.id===m?{...b,completed:!b.completed}:b);return{...y,subgoals:x,updatedAt:new Date}});s(g)},toggleRequirement:(p,m)=>{const g=e.map(y=>{if(y.id!==p)return y;const x=y.requirements.map(b=>b.id===m?{...b,completed:!b.completed}:b);return{...y,requirements:x,updatedAt:new Date}});s(g)},toggleMilestone:(p,m)=>{const g=e.map(y=>{if(y.id!==p)return y;const x=y.milestones.map(b=>b.id===m?{...b,completed:!b.completed,completedDate:b.completed?void 0:new Date}:b);return{...y,milestones:x,updatedAt:new Date}});s(g)},addFeedback:(p,m)=>{const g=e.map(y=>{if(y.id!==p)return y;const x={id:`feedback-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,content:m.content,author:m.author||"self",date:new Date,type:m.type||"note"};return{...y,feedback:[...y.feedback,x],updatedAt:new Date}});s(g)},updateProgress:(p,m)=>{const g=e.map(y=>y.id===p?{...y,progress:Math.min(100,Math.max(0,m)),updatedAt:new Date}:y);s(g)}}},uqe=()=>`goal-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,dqe=()=>`subgoal-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,hqe=()=>`requirement-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,fqe=()=>`cost-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,pqe=()=>`milestone-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,xU=e=>{if(e.status==="completed")return 100;if(e.status==="not-started"||e.status==="cancelled")return 0;let t=0,n=0;return e.subgoals.length>0&&(t+=e.subgoals.length,n+=e.subgoals.filter(r=>r.completed).length),e.milestones.length>0&&(t+=e.milestones.length,n+=e.milestones.filter(r=>r.completed).length),e.requirements.length>0&&(t+=e.requirements.length,n+=e.requirements.filter(r=>r.completed).length),t===0?e.progress:Math.round(n/t*100)},oL=e=>{if(!e.targetDate)return null;const t=new Date,r=new Date(e.targetDate).getTime()-t.getTime();return Math.ceil(r/(1e3*60*60*24))},mqe=e=>{if(!e.targetDate||e.status==="completed"||e.status==="cancelled")return!1;const t=new Date,n=new Date(e.targetDate);return t>n},gqe=e=>{const t=oL(e);return t===null||e.status==="completed"||e.status==="cancelled"?!1:t>0&&t<=7},yqe=e=>{if(e.requirements.length===0)return 100;const t=e.requirements.filter(n=>n.completed).length;return Math.round(t/e.requirements.length*100)},ire=e=>{if(e.subgoals.length===0)return 100;const t=e.subgoals.filter(n=>n.completed).length;return Math.round(t/e.subgoals.length*100)},xqe=e=>{if(e.milestones.length===0)return 100;const t=e.milestones.filter(n=>n.completed).length;return Math.round(t/e.milestones.length*100)},vqe=e=>{if(e===0)return"Today";if(e===1)return"1 day";if(e<7)return`${e} days`;if(e<30){const n=Math.floor(e/7);return n===1?"1 week":`${n} weeks`}if(e<365){const n=Math.floor(e/30);return n===1?"1 month":`${n} months`}const t=Math.floor(e/365);return t===1?"1 year":`${t} years`},bqe=e=>{const t={critical:4,high:3,medium:2,low:1},n={"in-progress":4,"not-started":3,"on-hold":2,completed:1,cancelled:0};return[...e].sort((r,s)=>{const i=n[s.status]-n[r.status];if(i!==0)return i;const o=t[s.priority]-t[r.priority];return o!==0?o:new Date(s.createdAt).getTime()-new Date(r.createdAt).getTime()})},wqe=(e,t)=>t==="all"?e:e.filter(n=>n.timeframe===t),Sqe=(e,t)=>t==="all"?e:e.filter(n=>n.status===t),Nqe=(e,t)=>{const n=t.toLowerCase();return e.filter(r=>{var s,i;return r.title.toLowerCase().includes(n)||((s=r.description)==null?void 0:s.toLowerCase().includes(n))||r.tags.some(o=>o.toLowerCase().includes(n))||((i=r.category)==null?void 0:i.toLowerCase().includes(n))})},aL={major:"Major Goal",minor:"Minor Goal"},lL={"short-term":"Short-term","long-term":"Long-term",dream:"Dream Goal"},cN={low:"Low",medium:"Medium",high:"High",critical:"Critical"},uN={"not-started":"Not Started","in-progress":"In Progress","on-hold":"On Hold",completed:"Completed",cancelled:"Cancelled"},vU={low:"#6b7280",medium:"#3b82f6",high:"#f59e0b",critical:"#ef4444"},bU={"not-started":"#6b7280","in-progress":"#3b82f6","on-hold":"#f59e0b",completed:"#10b981",cancelled:"#ef4444"},kqe=()=>{const e=Ct(),{goals:t,isLoaded:n,deleteGoal:r,updateGoal:s}=S_(),[i,o]=v.useState(""),[l,c]=v.useState("all"),[u,d]=v.useState("all"),[h,f]=v.useState(!1),[p,m]=v.useState(null);if(!n)return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(Dn,{title:"Goals & Roadmap"}),a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("p",{className:"text-muted-foreground",children:"Loading goals..."})})]});let g=t;i&&(g=Nqe(g,i)),l!=="all"&&(g=wqe(g,l)),u!=="all"&&(g=Sqe(g,u));const y=bqe(g),x=()=>{p&&(r(p),J.success("Goal deleted successfully"),m(null),f(!1))},b=(N,S)=>{s(N,{status:S,completedDate:S==="completed"?new Date:void 0}),J.success(`Goal status updated to ${uN[S]}`)},w=N=>{switch(N){case"completed":return a.jsx(Ro,{className:"h-5 w-5 text-green-600"});case"in-progress":return a.jsx(w4,{className:"h-5 w-5 text-blue-600"});case"on-hold":return a.jsx(b4,{className:"h-5 w-5 text-amber-600"});case"cancelled":return a.jsx(Z7,{className:"h-5 w-5 text-red-600"});default:return a.jsx(gm,{className:"h-5 w-5 text-gray-400"})}};return a.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[a.jsx(Dn,{title:"Goals & Roadmap"}),a.jsxs("div",{className:"container mx-auto px-4 py-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Your Goals"}),a.jsxs("p",{className:"text-muted-foreground text-sm",children:[t.length," ",t.length===1?"goal":"goals"," total"]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(U,{variant:"outline",onClick:()=>e("/goals/map"),size:"lg",children:[a.jsx(cq,{className:"h-5 w-5 mr-2"}),"Goal Map"]}),a.jsxs(U,{onClick:()=>e("/goals/create"),size:"lg",children:[a.jsx(We,{className:"h-5 w-5 mr-2"}),"New Goal"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(re,{placeholder:"Search goals...",value:i,onChange:N=>o(N.target.value),className:"pl-10"})]}),a.jsxs(Ee,{value:l,onValueChange:c,children:[a.jsx(je,{children:a.jsx(Ce,{placeholder:"Filter by timeframe"})}),a.jsxs(_e,{children:[a.jsx(Q,{value:"all",children:"All Timeframes"}),a.jsx(Q,{value:"short-term",children:"Short-term"}),a.jsx(Q,{value:"long-term",children:"Long-term"}),a.jsx(Q,{value:"dream",children:"Dream Goals"})]})]}),a.jsxs(Ee,{value:u,onValueChange:d,children:[a.jsx(je,{children:a.jsx(Ce,{placeholder:"Filter by status"})}),a.jsxs(_e,{children:[a.jsx(Q,{value:"all",children:"All Statuses"}),a.jsx(Q,{value:"not-started",children:"Not Started"}),a.jsx(Q,{value:"in-progress",children:"In Progress"}),a.jsx(Q,{value:"on-hold",children:"On Hold"}),a.jsx(Q,{value:"completed",children:"Completed"}),a.jsx(Q,{value:"cancelled",children:"Cancelled"})]})]})]}),y.length===0?a.jsxs(te,{className:"p-12 text-center",children:[a.jsx(Xt,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No goals yet"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:i||l!=="all"||u!=="all"?"No goals match your filters. Try adjusting your search.":"Start by creating your first goal to track your progress."}),a.jsxs(U,{onClick:()=>e("/goals/create"),children:[a.jsx(We,{className:"h-4 w-4 mr-2"}),"Create Your First Goal"]})]}):a.jsx("div",{className:"space-y-4",children:y.map(N=>{const S=oL(N),k=mqe(N),j=gqe(N);return ire(N),a.jsx(te,{className:"p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>e(`/goals/${N.id}/edit`),children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[w(N.status),a.jsx("h3",{className:"text-xl font-semibold",children:N.title})]}),N.description&&a.jsx("p",{className:"text-muted-foreground mb-3 line-clamp-2",children:N.description}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[a.jsx(ve,{variant:"outline",style:{borderColor:vU[N.priority],color:vU[N.priority]},children:cN[N.priority]}),a.jsx(ve,{variant:"outline",style:{borderColor:bU[N.status],color:bU[N.status]},children:uN[N.status]}),a.jsx(ve,{variant:"secondary",children:lL[N.timeframe]}),a.jsx(ve,{variant:"secondary",children:aL[N.type]}),N.tags.map(_=>a.jsx(ve,{variant:"outline",children:_},_))]}),a.jsxs("div",{className:"mb-3",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[a.jsx("span",{className:"text-muted-foreground",children:"Progress"}),a.jsxs("span",{className:"font-semibold",children:[N.progress,"%"]})]}),a.jsx(Sr,{value:N.progress,className:"h-2"})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-muted-foreground",children:[N.subgoals.length>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Ro,{className:"h-4 w-4"}),a.jsxs("span",{children:[N.subgoals.filter(_=>_.completed).length,"/",N.subgoals.length," subgoals"]})]}),N.targetDate&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(kl,{className:"h-4 w-4"}),a.jsx("span",{className:k?"text-red-600":j?"text-amber-600":"",children:k?`Overdue by ${Math.abs(S)} days`:S>0?`${S} days left`:"Due today"})]}),N.milestones.length>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Xt,{className:"h-4 w-4"}),a.jsxs("span",{children:[N.milestones.filter(_=>_.completed).length,"/",N.milestones.length," milestones"]})]})]})]}),a.jsxs(hh,{children:[a.jsx(fh,{asChild:!0,onClick:_=>_.stopPropagation(),children:a.jsx(U,{variant:"ghost",size:"icon",children:a.jsx(Uv,{className:"h-4 w-4"})})}),a.jsxs(pu,{align:"end",onClick:_=>_.stopPropagation(),children:[a.jsxs(_n,{onClick:()=>e(`/goals/${N.id}/edit`),children:[a.jsx(gi,{className:"h-4 w-4 mr-2"}),"Edit Goal"]}),a.jsx(tu,{}),a.jsxs(_n,{onClick:()=>b(N.id,"in-progress"),children:[a.jsx(w4,{className:"h-4 w-4 mr-2"}),"Mark In Progress"]}),a.jsxs(_n,{onClick:()=>b(N.id,"on-hold"),children:[a.jsx(b4,{className:"h-4 w-4 mr-2"}),"Put On Hold"]}),a.jsxs(_n,{onClick:()=>b(N.id,"completed"),children:[a.jsx(Ro,{className:"h-4 w-4 mr-2"}),"Mark Complete"]}),a.jsx(tu,{}),a.jsxs(_n,{className:"text-red-600",onClick:()=>{m(N.id),f(!0)},children:[a.jsx(Jt,{className:"h-4 w-4 mr-2"}),"Delete Goal"]})]})]})]})},N.id)})})]}),a.jsx(Aj,{open:h,onOpenChange:f,children:a.jsxs(i0,{children:[a.jsxs(o0,{children:[a.jsx(l0,{children:"Delete Goal?"}),a.jsx(c0,{children:"This action cannot be undone. This will permanently delete this goal and all its subgoals, milestones, and progress data."})]}),a.jsxs(a0,{children:[a.jsx(d0,{onClick:()=>m(null),children:"Cancel"}),a.jsx(u0,{onClick:x,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})},jqe=()=>{const e=Ct(),{addGoal:t}=S_(),[n,r]=v.useState(""),[s,i]=v.useState(""),[o,l]=v.useState("major"),[c,u]=v.useState("short-term"),[d,h]=v.useState("medium"),[f,p]=v.useState(""),[m,g]=v.useState(""),[y,x]=v.useState(""),b=()=>{if(!n.trim()){J.error("Please enter a goal title");return}const w={id:uqe(),title:n.trim(),description:s.trim()||void 0,type:o,timeframe:c,priority:d,status:"not-started",subgoals:[],requirements:[],costs:[],milestones:[],progress:0,feedback:[],tags:m.split(",").map(N=>N.trim()).filter(N=>N.length>0),category:y.trim()||void 0,isPrivate:!1,targetDate:f?new Date(f):void 0,createdAt:new Date};t(w),J.success(`Goal "${w.title}" created successfully!`),e(`/goals/${w.id}/edit`)};return a.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[a.jsx(Dn,{title:"Create New Goal"}),a.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-4xl",children:[a.jsxs(U,{variant:"ghost",onClick:()=>e("/goals"),className:"mb-6",children:[a.jsx(Jn,{className:"h-4 w-4 mr-2"}),"Back to Goals"]}),a.jsxs(te,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(Xt,{className:"h-6 w-6 text-primary"}),a.jsx("h2",{className:"text-2xl font-bold",children:"Create a New Goal"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(K,{htmlFor:"title",children:["Goal Title ",a.jsx("span",{className:"text-red-600",children:"*"})]}),a.jsx(re,{id:"title",placeholder:"Enter your goal...",value:n,onChange:w=>r(w.target.value),autoFocus:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"description",children:"Description"}),a.jsx(ft,{id:"description",placeholder:"Describe your goal in detail...",value:s,onChange:w=>i(w.target.value),rows:4})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"type",children:"Goal Type"}),a.jsxs(Ee,{value:o,onValueChange:w=>l(w),children:[a.jsx(je,{id:"type",children:a.jsx(Ce,{})}),a.jsx(_e,{children:Object.entries(aL).map(([w,N])=>a.jsx(Q,{value:w,children:N},w))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"timeframe",children:"Timeframe"}),a.jsxs(Ee,{value:c,onValueChange:w=>u(w),children:[a.jsx(je,{id:"timeframe",children:a.jsx(Ce,{})}),a.jsx(_e,{children:Object.entries(lL).map(([w,N])=>a.jsx(Q,{value:w,children:N},w))})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"priority",children:"Priority"}),a.jsxs(Ee,{value:d,onValueChange:w=>h(w),children:[a.jsx(je,{id:"priority",children:a.jsx(Ce,{})}),a.jsx(_e,{children:Object.entries(cN).map(([w,N])=>a.jsx(Q,{value:w,children:N},w))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"targetDate",children:"Target Date (Optional)"}),a.jsx(re,{id:"targetDate",type:"date",value:f,onChange:w=>p(w.target.value)})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"category",children:"Category (Optional)"}),a.jsx(re,{id:"category",placeholder:"e.g., Career, Health, Finance",value:y,onChange:w=>x(w.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"tags",children:"Tags (Optional)"}),a.jsx(re,{id:"tags",placeholder:"Separate with commas",value:m,onChange:w=>g(w.target.value)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"E.g., personal, work, urgent"})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx(U,{variant:"outline",onClick:()=>e("/goals"),className:"flex-1",children:"Cancel"}),a.jsx(U,{onClick:b,disabled:!n.trim(),className:"flex-1",children:"Create Goal & Add Details"})]})]})]}),a.jsx(te,{className:"p-4 mt-4 bg-blue-50 dark:bg-blue-950 border-blue-200 dark:border-blue-800",children:a.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"After creating your goal, you'll be able to add subgoals, milestones, requirements, costs, planning notes, and track your progress in detail."})})]})]})};var N_="Tabs",[_qe]=fs(N_,[pj]),ore=pj(),[Eqe,cL]=_qe(N_),are=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Sm(l),[h,f]=Ji({prop:r,onChange:s,defaultProp:i??"",caller:N_});return a.jsx(Eqe,{scope:n,baseId:Hi(),value:h,onValueChange:f,orientation:o,dir:d,activationMode:c,children:a.jsx($e.div,{dir:d,"data-orientation":o,...u,ref:t})})});are.displayName=N_;var lre="TabsList",cre=v.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,i=cL(lre,n),o=ore(n);return a.jsx(FY,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:a.jsx($e.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});cre.displayName=lre;var ure="TabsTrigger",dre=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=e,o=cL(ure,n),l=ore(n),c=pre(o.baseId,r),u=mre(o.baseId,r),d=r===o.value;return a.jsx(zY,{asChild:!0,...l,focusable:!s,active:d,children:a.jsx($e.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:ge(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:ge(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:ge(e.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!s&&h&&o.onValueChange(r)})})})});dre.displayName=ure;var hre="TabsContent",fre=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=e,l=cL(hre,n),c=pre(l.baseId,r),u=mre(l.baseId,r),d=r===l.value,h=v.useRef(d);return v.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),a.jsx(Dr,{present:s||d,children:({present:f})=>a.jsx($e.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});fre.displayName=hre;function pre(e,t){return`${e}-trigger-${t}`}function mre(e,t){return`${e}-content-${t}`}var Cqe=are,gre=cre,yre=dre,xre=fre;const Pa=Cqe,Ko=v.forwardRef(({className:e,...t},n)=>a.jsx(gre,{ref:n,className:me("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Ko.displayName=gre.displayName;const Mt=v.forwardRef(({className:e,...t},n)=>a.jsx(yre,{ref:n,className:me("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Mt.displayName=yre.displayName;const bn=v.forwardRef(({className:e,...t},n)=>a.jsx(xre,{ref:n,className:me("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));bn.displayName=xre.displayName;const Tqe=()=>{const e=Ct(),{goalId:t}=lR(),{goals:n,isLoaded:r,updateGoal:s,addFeedback:i}=S_(),{recordGoalComplete:o,recordMilestoneComplete:l,addXP:c}=zJ(),u=n.find(oe=>oe.id===t),[d,h]=v.useState(""),[f,p]=v.useState(""),[m,g]=v.useState("major"),[y,x]=v.useState("short-term"),[b,w]=v.useState("medium"),[N,S]=v.useState("not-started"),[k,j]=v.useState(""),[_,C]=v.useState(""),[A,O]=v.useState(""),[M,P]=v.useState(""),[E,I]=v.useState(""),[T,R]=v.useState(""),[L,D]=v.useState(""),[F,z]=v.useState(""),[B,$]=v.useState([]),[W,V]=v.useState(!1),[Y,G]=v.useState(""),[Z,q]=v.useState(""),[ee,se]=v.useState([]),[X,de]=v.useState(!1),[pe,Se]=v.useState(""),[be,Ae]=v.useState("resource"),[ne,Je]=v.useState([]),[qe,De]=v.useState(!1),[gt,St]=v.useState(""),[qt,In]=v.useState(""),[fe,Ne]=v.useState([]),[ae,Oe]=v.useState(!1),[at,yt]=v.useState("financial"),[ln,Tt]=v.useState(""),[Tn,ms]=v.useState(""),[Qn,sr]=v.useState(""),[Si,Ln]=v.useState(!1),[Ps,gs]=v.useState(""),[Js,$n]=v.useState("note"),[Ds,Ge]=v.useState([]),[xt,Rt]=v.useState("");if(v.useEffect(()=>{u&&(h(u.title),p(u.description||""),g(u.type),x(u.timeframe),w(u.priority),S(u.status),j(u.targetDate?new Date(u.targetDate).toISOString().split("T")[0]:""),C(u.startDate?new Date(u.startDate).toISOString().split("T")[0]:""),O(u.tags.join(", ")),P(u.category||""),I(u.planningNotes||""),R(u.scopeDescription||""),D(u.boundaries||""),z(u.impact||""),$(u.subgoals),se(u.requirements),Je(u.milestones),Ne(u.costs),Ge(u.toolsNeeded||[]))},[u]),!r)return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(Dn,{title:"Edit Goal"}),a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("p",{className:"text-muted-foreground",children:"Loading..."})})]});if(!u)return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(Dn,{title:"Edit Goal"}),a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsx("p",{className:"text-red-600",children:"Goal not found"}),a.jsxs(U,{onClick:()=>e("/goals"),className:"mt-4",children:[a.jsx(Jn,{className:"h-4 w-4 mr-2"}),"Back to Goals"]})]})]});const Lr=()=>{if(!t||!d.trim()){J.error("Please enter a goal title");return}const oe=(u==null?void 0:u.status)==="completed",Nt=N==="completed";s(t,{title:d.trim(),description:f.trim()||void 0,type:m,timeframe:y,priority:b,status:N,targetDate:k?new Date(k):void 0,startDate:_?new Date(_):void 0,tags:A.split(",").map(hr=>hr.trim()).filter(hr=>hr.length>0),category:M.trim()||void 0,planningNotes:E.trim()||void 0,scopeDescription:T.trim()||void 0,boundaries:L.trim()||void 0,impact:F.trim()||void 0,subgoals:B,requirements:ee,milestones:ne,costs:fe,toolsNeeded:Ds.length>0?Ds:void 0,progress:xU({...u,subgoals:B,requirements:ee,milestones:ne}),completedDate:N==="completed"?new Date:void 0}),!oe&&Nt&&o(),J.success("Goal updated successfully!"),e("/goals")},Qt=()=>{if(!Y.trim()){J.error("Please enter a subgoal title");return}const oe={id:dqe(),title:Y.trim(),description:Z.trim()||void 0,completed:!1,createdAt:new Date};$([...B,oe]),G(""),q(""),V(!1),J.success("Subgoal added")},jr=()=>{if(!pe.trim()){J.error("Please enter a requirement title");return}const oe={id:hqe(),title:pe.trim(),type:be,completed:!1};se([...ee,oe]),Se(""),de(!1),J.success("Requirement added")},hn=()=>{if(!gt.trim()){J.error("Please enter a milestone title");return}const oe={id:pqe(),title:gt.trim(),targetDate:qt?new Date(qt):void 0,completed:!1};Je([...ne,oe]),St(""),In(""),De(!1),J.success("Milestone added")},Bn=()=>{const oe=parseFloat(ln);if(isNaN(oe)||oe<=0){J.error("Please enter a valid cost amount");return}const Nt={id:fqe(),type:at,amount:oe,unit:Tn.trim()||void 0,description:Qn.trim()||void 0};Ne([...fe,Nt]),Tt(""),ms(""),sr(""),Oe(!1),J.success("Cost added")},Nn=()=>{if(!t||!Ps.trim()){J.error("Please enter feedback content");return}i(t,{content:Ps.trim(),type:Js}),gs(""),Ln(!1),J.success("Feedback added")},Jo=()=>{xt.trim()&&(Ge([...Ds,xt.trim()]),Rt(""),J.success("Tool added"))},An=xU({...u,subgoals:B,requirements:ee,milestones:ne}),Qo=oL({...u,targetDate:k?new Date(k):void 0});return a.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[a.jsx(Dn,{title:"Edit Goal"}),a.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-6xl",children:[a.jsxs(U,{variant:"ghost",onClick:()=>e("/goals"),className:"mb-6",children:[a.jsx(Jn,{className:"h-4 w-4 mr-2"}),"Back to Goals"]}),a.jsxs(te,{className:"p-6 mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold mb-1",children:d||"Untitled Goal"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ve,{variant:"outline",children:uN[N]}),a.jsx(ve,{variant:"secondary",children:cN[b]})]})]}),a.jsx(Xt,{className:"h-12 w-12 text-primary"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[a.jsx("span",{className:"text-muted-foreground",children:"Overall Progress"}),a.jsxs("span",{className:"font-semibold text-lg",children:[An,"%"]})]}),a.jsx(Sr,{value:An,className:"h-3"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Subgoals"}),a.jsxs("p",{className:"font-semibold",children:[ire({...u,subgoals:B}),"% complete"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Requirements"}),a.jsxs("p",{className:"font-semibold",children:[yqe({...u,requirements:ee}),"% complete"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Milestones"}),a.jsxs("p",{className:"font-semibold",children:[xqe({...u,milestones:ne}),"% complete"]})]})]}),Qo!==null&&a.jsx("p",{className:"text-sm text-muted-foreground mt-4",children:Qo>0?`${vqe(Qo)} remaining`:"Deadline passed"})]}),a.jsxs(Pa,{defaultValue:"basic",className:"space-y-4",children:[a.jsxs(Ko,{className:"grid w-full grid-cols-6",children:[a.jsx(Mt,{value:"basic",children:"Basic"}),a.jsx(Mt,{value:"planning",children:"Planning"}),a.jsx(Mt,{value:"subgoals",children:"Subgoals"}),a.jsx(Mt,{value:"milestones",children:"Milestones"}),a.jsx(Mt,{value:"resources",children:"Resources"}),a.jsx(Mt,{value:"feedback",children:"Feedback"})]}),a.jsx(bn,{value:"basic",children:a.jsxs(te,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Basic Information"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"title",children:"Title *"}),a.jsx(re,{id:"title",value:d,onChange:oe=>h(oe.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"description",children:"Description"}),a.jsx(ft,{id:"description",value:f,onChange:oe=>p(oe.target.value),rows:4})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{children:"Type"}),a.jsxs(Ee,{value:m,onValueChange:oe=>g(oe),children:[a.jsx(je,{children:a.jsx(Ce,{})}),a.jsx(_e,{children:Object.entries(aL).map(([oe,Nt])=>a.jsx(Q,{value:oe,children:Nt},oe))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{children:"Timeframe"}),a.jsxs(Ee,{value:y,onValueChange:oe=>x(oe),children:[a.jsx(je,{children:a.jsx(Ce,{})}),a.jsx(_e,{children:Object.entries(lL).map(([oe,Nt])=>a.jsx(Q,{value:oe,children:Nt},oe))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{children:"Priority"}),a.jsxs(Ee,{value:b,onValueChange:oe=>w(oe),children:[a.jsx(je,{children:a.jsx(Ce,{})}),a.jsx(_e,{children:Object.entries(cN).map(([oe,Nt])=>a.jsx(Q,{value:oe,children:Nt},oe))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{children:"Status"}),a.jsxs(Ee,{value:N,onValueChange:oe=>S(oe),children:[a.jsx(je,{children:a.jsx(Ce,{})}),a.jsx(_e,{children:Object.entries(uN).map(([oe,Nt])=>a.jsx(Q,{value:oe,children:Nt},oe))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{children:"Start Date"}),a.jsx(re,{type:"date",value:_,onChange:oe=>C(oe.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{children:"Target Date"}),a.jsx(re,{type:"date",value:k,onChange:oe=>j(oe.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{children:"Category"}),a.jsx(re,{value:M,onChange:oe=>P(oe.target.value),placeholder:"e.g., Career"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{children:"Tags"}),a.jsx(re,{value:A,onChange:oe=>O(oe.target.value),placeholder:"Separate with commas"})]})]})]})]})}),a.jsx(bn,{value:"planning",children:a.jsxs(te,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Planning & Scope"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{children:"Planning Notes"}),a.jsx(ft,{value:E,onChange:oe=>I(oe.target.value),placeholder:"Outline steps, strategies, and action plans...",rows:6})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{children:"Scope Description"}),a.jsx(ft,{value:T,onChange:oe=>R(oe.target.value),placeholder:"Define what this goal encompasses...",rows:3})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{children:"Boundaries"}),a.jsx(ft,{value:L,onChange:oe=>D(oe.target.value),placeholder:"What's included and excluded from this goal...",rows:3})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{children:"Expected Impact"}),a.jsx(ft,{value:F,onChange:oe=>z(oe.target.value),placeholder:"What will achieving this goal accomplish...",rows:3})]})]})]})}),a.jsx(bn,{value:"subgoals",children:a.jsxs(te,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-lg font-semibold",children:["Subgoals (",B.length,")"]}),a.jsxs(U,{onClick:()=>V(!0),size:"sm",children:[a.jsx(We,{className:"h-4 w-4 mr-2"}),"Add Subgoal"]})]}),B.length===0?a.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No subgoals yet. Break down your goal into smaller, actionable steps."}):a.jsx("div",{className:"space-y-3",children:B.map(oe=>a.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[a.jsx(ks,{checked:oe.completed,onCheckedChange:()=>{const Nt=oe.completed;$(B.map(hr=>hr.id===oe.id?{...hr,completed:!hr.completed}:hr)),Nt||c(10,"Subgoal completed")}}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:oe.completed?"line-through text-muted-foreground":"",children:oe.title}),oe.description&&a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:oe.description})]}),a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>$(B.filter(Nt=>Nt.id!==oe.id)),children:a.jsx(Jt,{className:"h-4 w-4 text-red-600"})})]},oe.id))})]})}),a.jsx(bn,{value:"milestones",children:a.jsxs(te,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-lg font-semibold",children:["Milestones (",ne.length,")"]}),a.jsxs(U,{onClick:()=>De(!0),size:"sm",children:[a.jsx(We,{className:"h-4 w-4 mr-2"}),"Add Milestone"]})]}),ne.length===0?a.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No milestones yet. Add key checkpoints to track progress."}):a.jsx("div",{className:"space-y-3",children:ne.map(oe=>a.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[a.jsx(ks,{checked:oe.completed,onCheckedChange:()=>{const Nt=oe.completed;Je(ne.map(hr=>hr.id===oe.id?{...hr,completed:!hr.completed,completedDate:hr.completed?void 0:new Date}:hr)),Nt||l()}}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:oe.completed?"line-through text-muted-foreground":"",children:oe.title}),oe.targetDate&&a.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Target: ",$t(oe.targetDate,"MMM d, yyyy")]})]}),a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>Je(ne.filter(Nt=>Nt.id!==oe.id)),children:a.jsx(Jt,{className:"h-4 w-4 text-red-600"})})]},oe.id))})]})}),a.jsx(bn,{value:"resources",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs(te,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-lg font-semibold",children:["Requirements (",ee.length,")"]}),a.jsxs(U,{onClick:()=>de(!0),size:"sm",children:[a.jsx(We,{className:"h-4 w-4 mr-2"}),"Add Requirement"]})]}),ee.length===0?a.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No requirements yet. List resources, skills, or tools needed."}):a.jsx("div",{className:"space-y-3",children:ee.map(oe=>a.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[a.jsx(ks,{checked:oe.completed,onCheckedChange:()=>{se(ee.map(Nt=>Nt.id===oe.id?{...Nt,completed:!Nt.completed}:Nt))}}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:oe.completed?"line-through text-muted-foreground":"",children:oe.title}),oe.type&&a.jsx(ve,{variant:"outline",className:"mt-1",children:oe.type})]}),a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>se(ee.filter(Nt=>Nt.id!==oe.id)),children:a.jsx(Jt,{className:"h-4 w-4 text-red-600"})})]},oe.id))})]}),a.jsxs(te,{className:"p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("h3",{className:"text-lg font-semibold",children:["Tools Needed (",Ds.length,")"]})}),a.jsxs("div",{className:"flex gap-2 mb-4",children:[a.jsx(re,{placeholder:"Enter tool name...",value:xt,onChange:oe=>Rt(oe.target.value),onKeyPress:oe=>oe.key==="Enter"&&Jo()}),a.jsx(U,{onClick:Jo,children:"Add"})]}),Ds.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2",children:Ds.map((oe,Nt)=>a.jsxs(ve,{variant:"secondary",className:"flex items-center gap-2",children:[oe,a.jsx("button",{onClick:()=>Ge(Ds.filter((hr,Nh)=>Nh!==Nt)),className:"hover:text-red-600",children:""})]},Nt))})]}),a.jsxs(te,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-lg font-semibold",children:["Costs (",fe.length,")"]}),a.jsxs(U,{onClick:()=>Oe(!0),size:"sm",children:[a.jsx(We,{className:"h-4 w-4 mr-2"}),"Add Cost"]})]}),fe.length===0?a.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No costs yet. Track financial, time, or resource costs."}):a.jsx("div",{className:"space-y-3",children:fe.map(oe=>a.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ve,{variant:"outline",children:oe.type}),a.jsxs("p",{className:"font-semibold",children:[oe.amount," ",oe.unit]})]}),oe.description&&a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:oe.description})]}),a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>Ne(fe.filter(Nt=>Nt.id!==oe.id)),children:a.jsx(Jt,{className:"h-4 w-4 text-red-600"})})]},oe.id))})]})]})}),a.jsx(bn,{value:"feedback",children:a.jsxs(te,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-lg font-semibold",children:["Feedback & Notes (",u.feedback.length,")"]}),a.jsxs(U,{onClick:()=>Ln(!0),size:"sm",children:[a.jsx(We,{className:"h-4 w-4 mr-2"}),"Add Note"]})]}),u.feedback.length===0?a.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No feedback yet. Add reflections, notes, or feedback."}):a.jsx("div",{className:"space-y-4",children:u.feedback.map(oe=>a.jsxs("div",{className:"p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(ve,{variant:"outline",children:oe.type}),a.jsx("span",{className:"text-sm text-muted-foreground",children:$t(oe.date,"MMM d, yyyy 'at' h:mm a")})]}),a.jsx("p",{children:oe.content})]},oe.id))})]})})]}),a.jsxs("div",{className:"flex gap-3 mt-6",children:[a.jsx(U,{variant:"outline",onClick:()=>e("/goals"),className:"flex-1",children:"Cancel"}),a.jsx(U,{onClick:Lr,className:"flex-1",children:"Save Changes"})]})]}),a.jsx(ot,{open:W,onOpenChange:V,children:a.jsxs(nt,{children:[a.jsx(rt,{children:a.jsx(st,{children:"Add Subgoal"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{children:"Title *"}),a.jsx(re,{value:Y,onChange:oe=>G(oe.target.value),placeholder:"Enter subgoal..."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{children:"Description (Optional)"}),a.jsx(ft,{value:Z,onChange:oe=>q(oe.target.value),rows:3})]})]}),a.jsxs(Wt,{children:[a.jsx(U,{variant:"outline",onClick:()=>V(!1),children:"Cancel"}),a.jsx(U,{onClick:Qt,children:"Add"})]})]})}),a.jsx(ot,{open:X,onOpenChange:de,children:a.jsxs(nt,{children:[a.jsx(rt,{children:a.jsx(st,{children:"Add Requirement"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{children:"Title *"}),a.jsx(re,{value:pe,onChange:oe=>Se(oe.target.value),placeholder:"Enter requirement..."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{children:"Type"}),a.jsxs(Ee,{value:be,onValueChange:oe=>Ae(oe),children:[a.jsx(je,{children:a.jsx(Ce,{})}),a.jsxs(_e,{children:[a.jsx(Q,{value:"resource",children:"Resource"}),a.jsx(Q,{value:"skill",children:"Skill"}),a.jsx(Q,{value:"milestone",children:"Milestone"}),a.jsx(Q,{value:"tool",children:"Tool"})]})]})]})]}),a.jsxs(Wt,{children:[a.jsx(U,{variant:"outline",onClick:()=>de(!1),children:"Cancel"}),a.jsx(U,{onClick:jr,children:"Add"})]})]})}),a.jsx(ot,{open:qe,onOpenChange:De,children:a.jsxs(nt,{children:[a.jsx(rt,{children:a.jsx(st,{children:"Add Milestone"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{children:"Title *"}),a.jsx(re,{value:gt,onChange:oe=>St(oe.target.value),placeholder:"Enter milestone..."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{children:"Target Date (Optional)"}),a.jsx(re,{type:"date",value:qt,onChange:oe=>In(oe.target.value)})]})]}),a.jsxs(Wt,{children:[a.jsx(U,{variant:"outline",onClick:()=>De(!1),children:"Cancel"}),a.jsx(U,{onClick:hn,children:"Add"})]})]})}),a.jsx(ot,{open:ae,onOpenChange:Oe,children:a.jsxs(nt,{children:[a.jsx(rt,{children:a.jsx(st,{children:"Add Cost"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{children:"Type"}),a.jsxs(Ee,{value:at,onValueChange:oe=>yt(oe),children:[a.jsx(je,{children:a.jsx(Ce,{})}),a.jsxs(_e,{children:[a.jsx(Q,{value:"financial",children:"Financial"}),a.jsx(Q,{value:"time",children:"Time"}),a.jsx(Q,{value:"resource",children:"Resource"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{children:"Amount *"}),a.jsx(re,{type:"number",value:ln,onChange:oe=>Tt(oe.target.value),placeholder:"Enter amount..."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{children:"Unit"}),a.jsx(re,{value:Tn,onChange:oe=>ms(oe.target.value),placeholder:"e.g., USD, hours, items"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{children:"Description"}),a.jsx(re,{value:Qn,onChange:oe=>sr(oe.target.value),placeholder:"Optional description..."})]})]}),a.jsxs(Wt,{children:[a.jsx(U,{variant:"outline",onClick:()=>Oe(!1),children:"Cancel"}),a.jsx(U,{onClick:Bn,children:"Add"})]})]})}),a.jsx(ot,{open:Si,onOpenChange:Ln,children:a.jsxs(nt,{children:[a.jsx(rt,{children:a.jsx(st,{children:"Add Feedback"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{children:"Type"}),a.jsxs(Ee,{value:Js,onValueChange:oe=>$n(oe),children:[a.jsx(je,{children:a.jsx(Ce,{})}),a.jsxs(_e,{children:[a.jsx(Q,{value:"note",children:"Note"}),a.jsx(Q,{value:"reflection",children:"Reflection"}),a.jsx(Q,{value:"feedback",children:"Feedback"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{children:"Content *"}),a.jsx(ft,{value:Ps,onChange:oe=>gs(oe.target.value),placeholder:"Write your note...",rows:4})]})]}),a.jsxs(Wt,{children:[a.jsx(U,{variant:"outline",onClick:()=>Ln(!1),children:"Cancel"}),a.jsx(U,{onClick:Nn,children:"Add"})]})]})})]})};function Kr(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Kr(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var vre={exports:{}},bre={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k_=v,Aqe=bj;function Oqe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mqe=typeof Object.is=="function"?Object.is:Oqe,Pqe=Aqe.useSyncExternalStore,Dqe=k_.useRef,Rqe=k_.useEffect,Iqe=k_.useMemo,Lqe=k_.useDebugValue;bre.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=Dqe(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=Iqe(function(){function c(p){if(!u){if(u=!0,d=p,p=r(p),s!==void 0&&o.hasValue){var m=o.value;if(s(m,p))return h=m}return h=p}if(m=h,Mqe(d,p))return m;var g=r(p);return s!==void 0&&s(m,g)?(d=p,m):(d=p,h=g)}var u=!1,d,h,f=n===void 0?null:n;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,n,r,s]);var l=Pqe(e,i[0],i[1]);return Rqe(function(){o.hasValue=!0,o.value=l},[l]),Lqe(l),l};vre.exports=bre;var wre=vre.exports;const $qe=Dt(wre),Bqe={},wU=e=>{let t;const n=new Set,r=(d,h)=>{const f=typeof d=="function"?d(t):d;if(!Object.is(f,t)){const p=t;t=h??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(m=>m(t,p))}},s=()=>t,c={setState:r,getState:s,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(Bqe?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,s,c);return c},Fqe=e=>e?wU(e):wU,{useDebugValue:zqe}=H,{useSyncExternalStoreWithSelector:Uqe}=$qe,Hqe=e=>e;function Sre(e,t=Hqe,n){const r=Uqe(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return zqe(r),r}const SU=(e,t)=>{const n=Fqe(e),r=(s,i=t)=>Sre(n,s,i);return Object.assign(r,n),r},Wqe=(e,t)=>e?SU(e,t):SU;function Pr(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,s]of e)if(!Object.is(s,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var Vqe={value:()=>{}};function j_(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new t1(n)}function t1(e){this._=e}function Gqe(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}t1.prototype=j_.prototype={constructor:t1,on:function(e,t){var n=this._,r=Gqe(e+"",n),s,i=-1,o=r.length;if(arguments.length<2){for(;++i<o;)if((s=(e=r[i]).type)&&(s=qqe(n[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<o;)if(s=(e=r[i]).type)n[s]=NU(n[s],e.name,t);else if(t==null)for(s in n)n[s]=NU(n[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new t1(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,i;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,s=i.length;r<s;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],s=0,i=r.length;s<i;++s)r[s].value.apply(t,n)}};function qqe(e,t){for(var n=0,r=e.length,s;n<r;++n)if((s=e[n]).name===t)return s.value}function NU(e,t,n){for(var r=0,s=e.length;r<s;++r)if(e[r].name===t){e[r]=Vqe,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var mM="http://www.w3.org/1999/xhtml";const kU={svg:"http://www.w3.org/2000/svg",xhtml:mM,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function __(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),kU.hasOwnProperty(t)?{space:kU[t],local:e}:e}function Kqe(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===mM&&t.documentElement.namespaceURI===mM?t.createElement(e):t.createElementNS(n,e)}}function Yqe(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Nre(e){var t=__(e);return(t.local?Yqe:Kqe)(t)}function Xqe(){}function uL(e){return e==null?Xqe:function(){return this.querySelector(e)}}function Jqe(e){typeof e!="function"&&(e=uL(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,l=r[s]=new Array(o),c,u,d=0;d<o;++d)(c=i[d])&&(u=e.call(c,c.__data__,d,i))&&("__data__"in c&&(u.__data__=c.__data__),l[d]=u);return new vi(r,this._parents)}function Qqe(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Zqe(){return[]}function kre(e){return e==null?Zqe:function(){return this.querySelectorAll(e)}}function eKe(e){return function(){return Qqe(e.apply(this,arguments))}}function tKe(e){typeof e=="function"?e=eKe(e):e=kre(e);for(var t=this._groups,n=t.length,r=[],s=[],i=0;i<n;++i)for(var o=t[i],l=o.length,c,u=0;u<l;++u)(c=o[u])&&(r.push(e.call(c,c.__data__,u,o)),s.push(c));return new vi(r,s)}function jre(e){return function(){return this.matches(e)}}function _re(e){return function(t){return t.matches(e)}}var nKe=Array.prototype.find;function rKe(e){return function(){return nKe.call(this.children,e)}}function sKe(){return this.firstElementChild}function iKe(e){return this.select(e==null?sKe:rKe(typeof e=="function"?e:_re(e)))}var oKe=Array.prototype.filter;function aKe(){return Array.from(this.children)}function lKe(e){return function(){return oKe.call(this.children,e)}}function cKe(e){return this.selectAll(e==null?aKe:lKe(typeof e=="function"?e:_re(e)))}function uKe(e){typeof e!="function"&&(e=jre(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,l=r[s]=[],c,u=0;u<o;++u)(c=i[u])&&e.call(c,c.__data__,u,i)&&l.push(c);return new vi(r,this._parents)}function Ere(e){return new Array(e.length)}function dKe(){return new vi(this._enter||this._groups.map(Ere),this._parents)}function dN(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}dN.prototype={constructor:dN,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function hKe(e){return function(){return e}}function fKe(e,t,n,r,s,i){for(var o=0,l,c=t.length,u=i.length;o<u;++o)(l=t[o])?(l.__data__=i[o],r[o]=l):n[o]=new dN(e,i[o]);for(;o<c;++o)(l=t[o])&&(s[o]=l)}function pKe(e,t,n,r,s,i,o){var l,c,u=new Map,d=t.length,h=i.length,f=new Array(d),p;for(l=0;l<d;++l)(c=t[l])&&(f[l]=p=o.call(c,c.__data__,l,t)+"",u.has(p)?s[l]=c:u.set(p,c));for(l=0;l<h;++l)p=o.call(e,i[l],l,i)+"",(c=u.get(p))?(r[l]=c,c.__data__=i[l],u.delete(p)):n[l]=new dN(e,i[l]);for(l=0;l<d;++l)(c=t[l])&&u.get(f[l])===c&&(s[l]=c)}function mKe(e){return e.__data__}function gKe(e,t){if(!arguments.length)return Array.from(this,mKe);var n=t?pKe:fKe,r=this._parents,s=this._groups;typeof e!="function"&&(e=hKe(e));for(var i=s.length,o=new Array(i),l=new Array(i),c=new Array(i),u=0;u<i;++u){var d=r[u],h=s[u],f=h.length,p=yKe(e.call(d,d&&d.__data__,u,r)),m=p.length,g=l[u]=new Array(m),y=o[u]=new Array(m),x=c[u]=new Array(f);n(d,h,g,y,x,p,t);for(var b=0,w=0,N,S;b<m;++b)if(N=g[b]){for(b>=w&&(w=b+1);!(S=y[w])&&++w<m;);N._next=S||null}}return o=new vi(o,r),o._enter=l,o._exit=c,o}function yKe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function xKe(){return new vi(this._exit||this._groups.map(Ere),this._parents)}function vKe(e,t,n){var r=this.enter(),s=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),n==null?i.remove():n(i),r&&s?r.merge(s).order():s}function bKe(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,s=n.length,i=r.length,o=Math.min(s,i),l=new Array(s),c=0;c<o;++c)for(var u=n[c],d=r[c],h=u.length,f=l[c]=new Array(h),p,m=0;m<h;++m)(p=u[m]||d[m])&&(f[m]=p);for(;c<s;++c)l[c]=n[c];return new vi(l,this._parents)}function wKe(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],s=r.length-1,i=r[s],o;--s>=0;)(o=r[s])&&(i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i),i=o);return this}function SKe(e){e||(e=NKe);function t(h,f){return h&&f?e(h.__data__,f.__data__):!h-!f}for(var n=this._groups,r=n.length,s=new Array(r),i=0;i<r;++i){for(var o=n[i],l=o.length,c=s[i]=new Array(l),u,d=0;d<l;++d)(u=o[d])&&(c[d]=u);c.sort(t)}return new vi(s,this._parents).order()}function NKe(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function kKe(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function jKe(){return Array.from(this)}function _Ke(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,i=r.length;s<i;++s){var o=r[s];if(o)return o}return null}function EKe(){let e=0;for(const t of this)++e;return e}function CKe(){return!this.node()}function TKe(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var s=t[n],i=0,o=s.length,l;i<o;++i)(l=s[i])&&e.call(l,l.__data__,i,s);return this}function AKe(e){return function(){this.removeAttribute(e)}}function OKe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function MKe(e,t){return function(){this.setAttribute(e,t)}}function PKe(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function DKe(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function RKe(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function IKe(e,t){var n=__(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?OKe:AKe:typeof t=="function"?n.local?RKe:DKe:n.local?PKe:MKe)(n,t))}function Cre(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function LKe(e){return function(){this.style.removeProperty(e)}}function $Ke(e,t,n){return function(){this.style.setProperty(e,t,n)}}function BKe(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function FKe(e,t,n){return arguments.length>1?this.each((t==null?LKe:typeof t=="function"?BKe:$Ke)(e,t,n??"")):em(this.node(),e)}function em(e,t){return e.style.getPropertyValue(t)||Cre(e).getComputedStyle(e,null).getPropertyValue(t)}function zKe(e){return function(){delete this[e]}}function UKe(e,t){return function(){this[e]=t}}function HKe(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function WKe(e,t){return arguments.length>1?this.each((t==null?zKe:typeof t=="function"?HKe:UKe)(e,t)):this.node()[e]}function Tre(e){return e.trim().split(/^|\s+/)}function dL(e){return e.classList||new Are(e)}function Are(e){this._node=e,this._names=Tre(e.getAttribute("class")||"")}Are.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Ore(e,t){for(var n=dL(e),r=-1,s=t.length;++r<s;)n.add(t[r])}function Mre(e,t){for(var n=dL(e),r=-1,s=t.length;++r<s;)n.remove(t[r])}function VKe(e){return function(){Ore(this,e)}}function GKe(e){return function(){Mre(this,e)}}function qKe(e,t){return function(){(t.apply(this,arguments)?Ore:Mre)(this,e)}}function KKe(e,t){var n=Tre(e+"");if(arguments.length<2){for(var r=dL(this.node()),s=-1,i=n.length;++s<i;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?qKe:t?VKe:GKe)(n,t))}function YKe(){this.textContent=""}function XKe(e){return function(){this.textContent=e}}function JKe(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function QKe(e){return arguments.length?this.each(e==null?YKe:(typeof e=="function"?JKe:XKe)(e)):this.node().textContent}function ZKe(){this.innerHTML=""}function eYe(e){return function(){this.innerHTML=e}}function tYe(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function nYe(e){return arguments.length?this.each(e==null?ZKe:(typeof e=="function"?tYe:eYe)(e)):this.node().innerHTML}function rYe(){this.nextSibling&&this.parentNode.appendChild(this)}function sYe(){return this.each(rYe)}function iYe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function oYe(){return this.each(iYe)}function aYe(e){var t=typeof e=="function"?e:Nre(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function lYe(){return null}function cYe(e,t){var n=typeof e=="function"?e:Nre(e),r=t==null?lYe:typeof t=="function"?t:uL(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function uYe(){var e=this.parentNode;e&&e.removeChild(this)}function dYe(){return this.each(uYe)}function hYe(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function fYe(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function pYe(e){return this.select(e?fYe:hYe)}function mYe(e){return arguments.length?this.property("__data__",e):this.node().__data__}function gYe(e){return function(t){e.call(this,t,this.__data__)}}function yYe(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function xYe(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,s=t.length,i;n<s;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function vYe(e,t,n){return function(){var r=this.__on,s,i=gYe(t);if(r){for(var o=0,l=r.length;o<l;++o)if((s=r[o]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=i,s.options=n),s.value=t;return}}this.addEventListener(e.type,i,n),s={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(s):this.__on=[s]}}function bYe(e,t,n){var r=yYe(e+""),s,i=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,u=l.length,d;c<u;++c)for(s=0,d=l[c];s<i;++s)if((o=r[s]).type===d.type&&o.name===d.name)return d.value}return}for(l=t?vYe:xYe,s=0;s<i;++s)this.each(l(r[s],t,n));return this}function Pre(e,t,n){var r=Cre(e),s=r.CustomEvent;typeof s=="function"?s=new s(t,n):(s=r.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function wYe(e,t){return function(){return Pre(this,e,t)}}function SYe(e,t){return function(){return Pre(this,e,t.apply(this,arguments))}}function NYe(e,t){return this.each((typeof t=="function"?SYe:wYe)(e,t))}function*kYe(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,i=r.length,o;s<i;++s)(o=r[s])&&(yield o)}var Dre=[null];function vi(e,t){this._groups=e,this._parents=t}function k0(){return new vi([[document.documentElement]],Dre)}function jYe(){return this}vi.prototype=k0.prototype={constructor:vi,select:Jqe,selectAll:tKe,selectChild:iKe,selectChildren:cKe,filter:uKe,data:gKe,enter:dKe,exit:xKe,join:vKe,merge:bKe,selection:jYe,order:wKe,sort:SKe,call:kKe,nodes:jKe,node:_Ke,size:EKe,empty:CKe,each:TKe,attr:IKe,style:FKe,property:WKe,classed:KKe,text:QKe,html:nYe,raise:sYe,lower:oYe,append:aYe,insert:cYe,remove:dYe,clone:pYe,datum:mYe,on:bYe,dispatch:NYe,[Symbol.iterator]:kYe};function Ri(e){return typeof e=="string"?new vi([[document.querySelector(e)]],[document.documentElement]):new vi([[e]],Dre)}function _Ye(e){let t;for(;t=e.sourceEvent;)e=t;return e}function wo(e,t){if(e=_Ye(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}}return[e.pageX,e.pageY]}const EYe={passive:!1},Qx={capture:!0,passive:!1};function XC(e){e.stopImmediatePropagation()}function Yf(e){e.preventDefault(),e.stopImmediatePropagation()}function Rre(e){var t=e.document.documentElement,n=Ri(e).on("dragstart.drag",Yf,Qx);"onselectstart"in t?n.on("selectstart.drag",Yf,Qx):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Ire(e,t){var n=e.document.documentElement,r=Ri(e).on("dragstart.drag",null);t&&(r.on("click.drag",Yf,Qx),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const $b=e=>()=>e;function gM(e,{sourceEvent:t,subject:n,target:r,identifier:s,active:i,x:o,y:l,dx:c,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}gM.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function CYe(e){return!e.ctrlKey&&!e.button}function TYe(){return this.parentNode}function AYe(e,t){return t??{x:e.x,y:e.y}}function OYe(){return navigator.maxTouchPoints||"ontouchstart"in this}function MYe(){var e=CYe,t=TYe,n=AYe,r=OYe,s={},i=j_("start","drag","end"),o=0,l,c,u,d,h=0;function f(N){N.on("mousedown.drag",p).filter(r).on("touchstart.drag",y).on("touchmove.drag",x,EYe).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(N,S){if(!(d||!e.call(this,N,S))){var k=w(this,t.call(this,N,S),N,S,"mouse");k&&(Ri(N.view).on("mousemove.drag",m,Qx).on("mouseup.drag",g,Qx),Rre(N.view),XC(N),u=!1,l=N.clientX,c=N.clientY,k("start",N))}}function m(N){if(Yf(N),!u){var S=N.clientX-l,k=N.clientY-c;u=S*S+k*k>h}s.mouse("drag",N)}function g(N){Ri(N.view).on("mousemove.drag mouseup.drag",null),Ire(N.view,u),Yf(N),s.mouse("end",N)}function y(N,S){if(e.call(this,N,S)){var k=N.changedTouches,j=t.call(this,N,S),_=k.length,C,A;for(C=0;C<_;++C)(A=w(this,j,N,S,k[C].identifier,k[C]))&&(XC(N),A("start",N,k[C]))}}function x(N){var S=N.changedTouches,k=S.length,j,_;for(j=0;j<k;++j)(_=s[S[j].identifier])&&(Yf(N),_("drag",N,S[j]))}function b(N){var S=N.changedTouches,k=S.length,j,_;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),j=0;j<k;++j)(_=s[S[j].identifier])&&(XC(N),_("end",N,S[j]))}function w(N,S,k,j,_,C){var A=i.copy(),O=wo(C||k,S),M,P,E;if((E=n.call(N,new gM("beforestart",{sourceEvent:k,target:f,identifier:_,active:o,x:O[0],y:O[1],dx:0,dy:0,dispatch:A}),j))!=null)return M=E.x-O[0]||0,P=E.y-O[1]||0,function I(T,R,L){var D=O,F;switch(T){case"start":s[_]=I,F=o++;break;case"end":delete s[_],--o;case"drag":O=wo(L||R,S),F=o;break}A.call(T,N,new gM(T,{sourceEvent:R,subject:E,target:f,identifier:_,active:F,x:O[0]+M,y:O[1]+P,dx:O[0]-D[0],dy:O[1]-D[1],dispatch:A}),j)}}return f.filter=function(N){return arguments.length?(e=typeof N=="function"?N:$b(!!N),f):e},f.container=function(N){return arguments.length?(t=typeof N=="function"?N:$b(N),f):t},f.subject=function(N){return arguments.length?(n=typeof N=="function"?N:$b(N),f):n},f.touchable=function(N){return arguments.length?(r=typeof N=="function"?N:$b(!!N),f):r},f.on=function(){var N=i.on.apply(i,arguments);return N===i?f:N},f.clickDistance=function(N){return arguments.length?(h=(N=+N)*N,f):Math.sqrt(h)},f}var tm=0,zg=0,mg=0,Lre=1e3,hN,Ug,fN=0,Yd=0,E_=0,Zx=typeof performance=="object"&&performance.now?performance:Date,$re=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function hL(){return Yd||($re(PYe),Yd=Zx.now()+E_)}function PYe(){Yd=0}function pN(){this._call=this._time=this._next=null}pN.prototype=Bre.prototype={constructor:pN,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?hL():+n)+(t==null?0:+t),!this._next&&Ug!==this&&(Ug?Ug._next=this:hN=this,Ug=this),this._call=e,this._time=n,yM()},stop:function(){this._call&&(this._call=null,this._time=1/0,yM())}};function Bre(e,t,n){var r=new pN;return r.restart(e,t,n),r}function DYe(){hL(),++tm;for(var e=hN,t;e;)(t=Yd-e._time)>=0&&e._call.call(void 0,t),e=e._next;--tm}function jU(){Yd=(fN=Zx.now())+E_,tm=zg=0;try{DYe()}finally{tm=0,IYe(),Yd=0}}function RYe(){var e=Zx.now(),t=e-fN;t>Lre&&(E_-=t,fN=e)}function IYe(){for(var e,t=hN,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:hN=n);Ug=e,yM(r)}function yM(e){if(!tm){zg&&(zg=clearTimeout(zg));var t=e-Yd;t>24?(e<1/0&&(zg=setTimeout(jU,e-Zx.now()-E_)),mg&&(mg=clearInterval(mg))):(mg||(fN=Zx.now(),mg=setInterval(RYe,Lre)),tm=1,$re(jU))}}function _U(e,t,n){var r=new pN;return t=t==null?0:+t,r.restart(s=>{r.stop(),e(s+t)},t,n),r}var LYe=j_("start","end","cancel","interrupt"),$Ye=[],Fre=0,EU=1,xM=2,n1=3,CU=4,vM=5,r1=6;function C_(e,t,n,r,s,i){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;BYe(e,n,{name:t,index:r,group:s,on:LYe,tween:$Ye,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Fre})}function fL(e,t){var n=Yo(e,t);if(n.state>Fre)throw new Error("too late; already scheduled");return n}function Da(e,t){var n=Yo(e,t);if(n.state>n1)throw new Error("too late; already running");return n}function Yo(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function BYe(e,t,n){var r=e.__transition,s;r[t]=n,n.timer=Bre(i,0,n.time);function i(u){n.state=EU,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var d,h,f,p;if(n.state!==EU)return c();for(d in r)if(p=r[d],p.name===n.name){if(p.state===n1)return _U(o);p.state===CU?(p.state=r1,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete r[d]):+d<t&&(p.state=r1,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete r[d])}if(_U(function(){n.state===n1&&(n.state=CU,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=xM,n.on.call("start",e,e.__data__,n.index,n.group),n.state===xM){for(n.state=n1,s=new Array(f=n.tween.length),d=0,h=-1;d<f;++d)(p=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(s[++h]=p);s.length=h+1}}function l(u){for(var d=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=vM,1),h=-1,f=s.length;++h<f;)s[h].call(e,d);n.state===vM&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=r1,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function s1(e,t){var n=e.__transition,r,s,i=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){i=!1;continue}s=r.state>xM&&r.state<vM,r.state=r1,r.timer.stop(),r.on.call(s?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}i&&delete e.__transition}}function FYe(e){return this.each(function(){s1(this,e)})}function zYe(e,t){var n,r;return function(){var s=Da(this,e),i=s.tween;if(i!==n){r=n=i;for(var o=0,l=r.length;o<l;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}s.tween=r}}function UYe(e,t,n){var r,s;if(typeof n!="function")throw new Error;return function(){var i=Da(this,e),o=i.tween;if(o!==r){s=(r=o).slice();for(var l={name:t,value:n},c=0,u=s.length;c<u;++c)if(s[c].name===t){s[c]=l;break}c===u&&s.push(l)}i.tween=s}}function HYe(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Yo(this.node(),n).tween,s=0,i=r.length,o;s<i;++s)if((o=r[s]).name===e)return o.value;return null}return this.each((t==null?zYe:UYe)(n,e,t))}function pL(e,t,n){var r=e._id;return e.each(function(){var s=Da(this,r);(s.value||(s.value={}))[t]=n.apply(this,arguments)}),function(s){return Yo(s,r).value[t]}}function zre(e,t){var n;return(typeof t=="number"?_o:t instanceof Vd?CS:(n=Vd(t))?(t=n,CS):$ee)(e,t)}function WYe(e){return function(){this.removeAttribute(e)}}function VYe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function GYe(e,t,n){var r,s=n+"",i;return function(){var o=this.getAttribute(e);return o===s?null:o===r?i:i=t(r=o,n)}}function qYe(e,t,n){var r,s=n+"",i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===s?null:o===r?i:i=t(r=o,n)}}function KYe(e,t,n){var r,s,i;return function(){var o,l=n(this),c;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),c=l+"",o===c?null:o===r&&c===s?i:(s=c,i=t(r=o,l)))}}function YYe(e,t,n){var r,s,i;return function(){var o,l=n(this),c;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),c=l+"",o===c?null:o===r&&c===s?i:(s=c,i=t(r=o,l)))}}function XYe(e,t){var n=__(e),r=n==="transform"?q3e:zre;return this.attrTween(e,typeof t=="function"?(n.local?YYe:KYe)(n,r,pL(this,"attr."+e,t)):t==null?(n.local?VYe:WYe)(n):(n.local?qYe:GYe)(n,r,t))}function JYe(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function QYe(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function ZYe(e,t){var n,r;function s(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&QYe(e,i)),n}return s._value=t,s}function eXe(e,t){var n,r;function s(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&JYe(e,i)),n}return s._value=t,s}function tXe(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=__(e);return this.tween(n,(r.local?ZYe:eXe)(r,t))}function nXe(e,t){return function(){fL(this,e).delay=+t.apply(this,arguments)}}function rXe(e,t){return t=+t,function(){fL(this,e).delay=t}}function sXe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?nXe:rXe)(t,e)):Yo(this.node(),t).delay}function iXe(e,t){return function(){Da(this,e).duration=+t.apply(this,arguments)}}function oXe(e,t){return t=+t,function(){Da(this,e).duration=t}}function aXe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?iXe:oXe)(t,e)):Yo(this.node(),t).duration}function lXe(e,t){if(typeof t!="function")throw new Error;return function(){Da(this,e).ease=t}}function cXe(e){var t=this._id;return arguments.length?this.each(lXe(t,e)):Yo(this.node(),t).ease}function uXe(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Da(this,e).ease=n}}function dXe(e){if(typeof e!="function")throw new Error;return this.each(uXe(this._id,e))}function hXe(e){typeof e!="function"&&(e=jre(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,l=r[s]=[],c,u=0;u<o;++u)(c=i[u])&&e.call(c,c.__data__,u,i)&&l.push(c);return new Al(r,this._parents,this._name,this._id)}function fXe(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,s=n.length,i=Math.min(r,s),o=new Array(r),l=0;l<i;++l)for(var c=t[l],u=n[l],d=c.length,h=o[l]=new Array(d),f,p=0;p<d;++p)(f=c[p]||u[p])&&(h[p]=f);for(;l<r;++l)o[l]=t[l];return new Al(o,this._parents,this._name,this._id)}function pXe(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function mXe(e,t,n){var r,s,i=pXe(t)?fL:Da;return function(){var o=i(this,e),l=o.on;l!==r&&(s=(r=l).copy()).on(t,n),o.on=s}}function gXe(e,t){var n=this._id;return arguments.length<2?Yo(this.node(),n).on.on(e):this.each(mXe(n,e,t))}function yXe(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function xXe(){return this.on("end.remove",yXe(this._id))}function vXe(e){var t=this._name,n=this._id;typeof e!="function"&&(e=uL(e));for(var r=this._groups,s=r.length,i=new Array(s),o=0;o<s;++o)for(var l=r[o],c=l.length,u=i[o]=new Array(c),d,h,f=0;f<c;++f)(d=l[f])&&(h=e.call(d,d.__data__,f,l))&&("__data__"in d&&(h.__data__=d.__data__),u[f]=h,C_(u[f],t,n,f,u,Yo(d,n)));return new Al(i,this._parents,t,n)}function bXe(e){var t=this._name,n=this._id;typeof e!="function"&&(e=kre(e));for(var r=this._groups,s=r.length,i=[],o=[],l=0;l<s;++l)for(var c=r[l],u=c.length,d,h=0;h<u;++h)if(d=c[h]){for(var f=e.call(d,d.__data__,h,c),p,m=Yo(d,n),g=0,y=f.length;g<y;++g)(p=f[g])&&C_(p,t,n,g,f,m);i.push(f),o.push(d)}return new Al(i,o,t,n)}var wXe=k0.prototype.constructor;function SXe(){return new wXe(this._groups,this._parents)}function NXe(e,t){var n,r,s;return function(){var i=em(this,e),o=(this.style.removeProperty(e),em(this,e));return i===o?null:i===n&&o===r?s:s=t(n=i,r=o)}}function Ure(e){return function(){this.style.removeProperty(e)}}function kXe(e,t,n){var r,s=n+"",i;return function(){var o=em(this,e);return o===s?null:o===r?i:i=t(r=o,n)}}function jXe(e,t,n){var r,s,i;return function(){var o=em(this,e),l=n(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(e),em(this,e))),o===c?null:o===r&&c===s?i:(s=c,i=t(r=o,l))}}function _Xe(e,t){var n,r,s,i="style."+t,o="end."+i,l;return function(){var c=Da(this,e),u=c.on,d=c.value[i]==null?l||(l=Ure(t)):void 0;(u!==n||s!==d)&&(r=(n=u).copy()).on(o,s=d),c.on=r}}function EXe(e,t,n){var r=(e+="")=="transform"?G3e:zre;return t==null?this.styleTween(e,NXe(e,r)).on("end.style."+e,Ure(e)):typeof t=="function"?this.styleTween(e,jXe(e,r,pL(this,"style."+e,t))).each(_Xe(this._id,e)):this.styleTween(e,kXe(e,r,t),n).on("end.style."+e,null)}function CXe(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function TXe(e,t,n){var r,s;function i(){var o=t.apply(this,arguments);return o!==s&&(r=(s=o)&&CXe(e,o,n)),r}return i._value=t,i}function AXe(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,TXe(e,t,n??""))}function OXe(e){return function(){this.textContent=e}}function MXe(e){return function(){var t=e(this);this.textContent=t??""}}function PXe(e){return this.tween("text",typeof e=="function"?MXe(pL(this,"text",e)):OXe(e==null?"":e+""))}function DXe(e){return function(t){this.textContent=e.call(this,t)}}function RXe(e){var t,n;function r(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&DXe(s)),t}return r._value=e,r}function IXe(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,RXe(e))}function LXe(){for(var e=this._name,t=this._id,n=Hre(),r=this._groups,s=r.length,i=0;i<s;++i)for(var o=r[i],l=o.length,c,u=0;u<l;++u)if(c=o[u]){var d=Yo(c,t);C_(c,e,n,u,o,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Al(r,this._parents,e,n)}function $Xe(){var e,t,n=this,r=n._id,s=n.size();return new Promise(function(i,o){var l={value:o},c={value:function(){--s===0&&i()}};n.each(function(){var u=Da(this,r),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(c)),u.on=t}),s===0&&i()})}var BXe=0;function Al(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Hre(){return++BXe}var Fa=k0.prototype;Al.prototype={constructor:Al,select:vXe,selectAll:bXe,selectChild:Fa.selectChild,selectChildren:Fa.selectChildren,filter:hXe,merge:fXe,selection:SXe,transition:LXe,call:Fa.call,nodes:Fa.nodes,node:Fa.node,size:Fa.size,empty:Fa.empty,each:Fa.each,on:gXe,attr:XYe,attrTween:tXe,style:EXe,styleTween:AXe,text:PXe,textTween:IXe,remove:xXe,tween:HYe,delay:sXe,duration:aXe,ease:cXe,easeVarying:dXe,end:$Xe,[Symbol.iterator]:Fa[Symbol.iterator]};function FXe(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var zXe={time:null,delay:0,duration:250,ease:FXe};function UXe(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function HXe(e){var t,n;e instanceof Al?(t=e._id,e=e._name):(t=Hre(),(n=zXe).time=hL(),e=e==null?null:e+"");for(var r=this._groups,s=r.length,i=0;i<s;++i)for(var o=r[i],l=o.length,c,u=0;u<l;++u)(c=o[u])&&C_(c,e,t,u,o,n||UXe(c,t));return new Al(r,this._parents,e,t)}k0.prototype.interrupt=FYe;k0.prototype.transition=HXe;const Bb=e=>()=>e;function WXe(e,{sourceEvent:t,target:n,transform:r,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function ll(e,t,n){this.k=e,this.x=t,this.y=n}ll.prototype={constructor:ll,scale:function(e){return e===1?this:new ll(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ll(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var gl=new ll(1,0,0);ll.prototype;function JC(e){e.stopImmediatePropagation()}function gg(e){e.preventDefault(),e.stopImmediatePropagation()}function VXe(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function GXe(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function TU(){return this.__zoom||gl}function qXe(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function KXe(){return navigator.maxTouchPoints||"ontouchstart"in this}function YXe(e,t,n){var r=e.invertX(t[0][0])-n[0][0],s=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function Wre(){var e=VXe,t=GXe,n=YXe,r=qXe,s=KXe,i=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],l=250,c=J3e,u=j_("start","zoom","end"),d,h,f,p=500,m=150,g=0,y=10;function x(E){E.property("__zoom",TU).on("wheel.zoom",_,{passive:!1}).on("mousedown.zoom",C).on("dblclick.zoom",A).filter(s).on("touchstart.zoom",O).on("touchmove.zoom",M).on("touchend.zoom touchcancel.zoom",P).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}x.transform=function(E,I,T,R){var L=E.selection?E.selection():E;L.property("__zoom",TU),E!==L?S(E,I,T,R):L.interrupt().each(function(){k(this,arguments).event(R).start().zoom(null,typeof I=="function"?I.apply(this,arguments):I).end()})},x.scaleBy=function(E,I,T,R){x.scaleTo(E,function(){var L=this.__zoom.k,D=typeof I=="function"?I.apply(this,arguments):I;return L*D},T,R)},x.scaleTo=function(E,I,T,R){x.transform(E,function(){var L=t.apply(this,arguments),D=this.__zoom,F=T==null?N(L):typeof T=="function"?T.apply(this,arguments):T,z=D.invert(F),B=typeof I=="function"?I.apply(this,arguments):I;return n(w(b(D,B),F,z),L,o)},T,R)},x.translateBy=function(E,I,T,R){x.transform(E,function(){return n(this.__zoom.translate(typeof I=="function"?I.apply(this,arguments):I,typeof T=="function"?T.apply(this,arguments):T),t.apply(this,arguments),o)},null,R)},x.translateTo=function(E,I,T,R,L){x.transform(E,function(){var D=t.apply(this,arguments),F=this.__zoom,z=R==null?N(D):typeof R=="function"?R.apply(this,arguments):R;return n(gl.translate(z[0],z[1]).scale(F.k).translate(typeof I=="function"?-I.apply(this,arguments):-I,typeof T=="function"?-T.apply(this,arguments):-T),D,o)},R,L)};function b(E,I){return I=Math.max(i[0],Math.min(i[1],I)),I===E.k?E:new ll(I,E.x,E.y)}function w(E,I,T){var R=I[0]-T[0]*E.k,L=I[1]-T[1]*E.k;return R===E.x&&L===E.y?E:new ll(E.k,R,L)}function N(E){return[(+E[0][0]+ +E[1][0])/2,(+E[0][1]+ +E[1][1])/2]}function S(E,I,T,R){E.on("start.zoom",function(){k(this,arguments).event(R).start()}).on("interrupt.zoom end.zoom",function(){k(this,arguments).event(R).end()}).tween("zoom",function(){var L=this,D=arguments,F=k(L,D).event(R),z=t.apply(L,D),B=T==null?N(z):typeof T=="function"?T.apply(L,D):T,$=Math.max(z[1][0]-z[0][0],z[1][1]-z[0][1]),W=L.__zoom,V=typeof I=="function"?I.apply(L,D):I,Y=c(W.invert(B).concat($/W.k),V.invert(B).concat($/V.k));return function(G){if(G===1)G=V;else{var Z=Y(G),q=$/Z[2];G=new ll(q,B[0]-Z[0]*q,B[1]-Z[1]*q)}F.zoom(null,G)}})}function k(E,I,T){return!T&&E.__zooming||new j(E,I)}function j(E,I){this.that=E,this.args=I,this.active=0,this.sourceEvent=null,this.extent=t.apply(E,I),this.taps=0}j.prototype={event:function(E){return E&&(this.sourceEvent=E),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(E,I){return this.mouse&&E!=="mouse"&&(this.mouse[1]=I.invert(this.mouse[0])),this.touch0&&E!=="touch"&&(this.touch0[1]=I.invert(this.touch0[0])),this.touch1&&E!=="touch"&&(this.touch1[1]=I.invert(this.touch1[0])),this.that.__zoom=I,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(E){var I=Ri(this.that).datum();u.call(E,this.that,new WXe(E,{sourceEvent:this.sourceEvent,target:x,transform:this.that.__zoom,dispatch:u}),I)}};function _(E,...I){if(!e.apply(this,arguments))return;var T=k(this,I).event(E),R=this.__zoom,L=Math.max(i[0],Math.min(i[1],R.k*Math.pow(2,r.apply(this,arguments)))),D=wo(E);if(T.wheel)(T.mouse[0][0]!==D[0]||T.mouse[0][1]!==D[1])&&(T.mouse[1]=R.invert(T.mouse[0]=D)),clearTimeout(T.wheel);else{if(R.k===L)return;T.mouse=[D,R.invert(D)],s1(this),T.start()}gg(E),T.wheel=setTimeout(F,m),T.zoom("mouse",n(w(b(R,L),T.mouse[0],T.mouse[1]),T.extent,o));function F(){T.wheel=null,T.end()}}function C(E,...I){if(f||!e.apply(this,arguments))return;var T=E.currentTarget,R=k(this,I,!0).event(E),L=Ri(E.view).on("mousemove.zoom",B,!0).on("mouseup.zoom",$,!0),D=wo(E,T),F=E.clientX,z=E.clientY;Rre(E.view),JC(E),R.mouse=[D,this.__zoom.invert(D)],s1(this),R.start();function B(W){if(gg(W),!R.moved){var V=W.clientX-F,Y=W.clientY-z;R.moved=V*V+Y*Y>g}R.event(W).zoom("mouse",n(w(R.that.__zoom,R.mouse[0]=wo(W,T),R.mouse[1]),R.extent,o))}function $(W){L.on("mousemove.zoom mouseup.zoom",null),Ire(W.view,R.moved),gg(W),R.event(W).end()}}function A(E,...I){if(e.apply(this,arguments)){var T=this.__zoom,R=wo(E.changedTouches?E.changedTouches[0]:E,this),L=T.invert(R),D=T.k*(E.shiftKey?.5:2),F=n(w(b(T,D),R,L),t.apply(this,I),o);gg(E),l>0?Ri(this).transition().duration(l).call(S,F,R,E):Ri(this).call(x.transform,F,R,E)}}function O(E,...I){if(e.apply(this,arguments)){var T=E.touches,R=T.length,L=k(this,I,E.changedTouches.length===R).event(E),D,F,z,B;for(JC(E),F=0;F<R;++F)z=T[F],B=wo(z,this),B=[B,this.__zoom.invert(B),z.identifier],L.touch0?!L.touch1&&L.touch0[2]!==B[2]&&(L.touch1=B,L.taps=0):(L.touch0=B,D=!0,L.taps=1+!!d);d&&(d=clearTimeout(d)),D&&(L.taps<2&&(h=B[0],d=setTimeout(function(){d=null},p)),s1(this),L.start())}}function M(E,...I){if(this.__zooming){var T=k(this,I).event(E),R=E.changedTouches,L=R.length,D,F,z,B;for(gg(E),D=0;D<L;++D)F=R[D],z=wo(F,this),T.touch0&&T.touch0[2]===F.identifier?T.touch0[0]=z:T.touch1&&T.touch1[2]===F.identifier&&(T.touch1[0]=z);if(F=T.that.__zoom,T.touch1){var $=T.touch0[0],W=T.touch0[1],V=T.touch1[0],Y=T.touch1[1],G=(G=V[0]-$[0])*G+(G=V[1]-$[1])*G,Z=(Z=Y[0]-W[0])*Z+(Z=Y[1]-W[1])*Z;F=b(F,Math.sqrt(G/Z)),z=[($[0]+V[0])/2,($[1]+V[1])/2],B=[(W[0]+Y[0])/2,(W[1]+Y[1])/2]}else if(T.touch0)z=T.touch0[0],B=T.touch0[1];else return;T.zoom("touch",n(w(F,z,B),T.extent,o))}}function P(E,...I){if(this.__zooming){var T=k(this,I).event(E),R=E.changedTouches,L=R.length,D,F;for(JC(E),f&&clearTimeout(f),f=setTimeout(function(){f=null},p),D=0;D<L;++D)F=R[D],T.touch0&&T.touch0[2]===F.identifier?delete T.touch0:T.touch1&&T.touch1[2]===F.identifier&&delete T.touch1;if(T.touch1&&!T.touch0&&(T.touch0=T.touch1,delete T.touch1),T.touch0)T.touch0[1]=this.__zoom.invert(T.touch0[0]);else if(T.end(),T.taps===2&&(F=wo(F,this),Math.hypot(h[0]-F[0],h[1]-F[1])<y)){var z=Ri(this).on("dblclick.zoom");z&&z.apply(this,arguments)}}}return x.wheelDelta=function(E){return arguments.length?(r=typeof E=="function"?E:Bb(+E),x):r},x.filter=function(E){return arguments.length?(e=typeof E=="function"?E:Bb(!!E),x):e},x.touchable=function(E){return arguments.length?(s=typeof E=="function"?E:Bb(!!E),x):s},x.extent=function(E){return arguments.length?(t=typeof E=="function"?E:Bb([[+E[0][0],+E[0][1]],[+E[1][0],+E[1][1]]]),x):t},x.scaleExtent=function(E){return arguments.length?(i[0]=+E[0],i[1]=+E[1],x):[i[0],i[1]]},x.translateExtent=function(E){return arguments.length?(o[0][0]=+E[0][0],o[1][0]=+E[1][0],o[0][1]=+E[0][1],o[1][1]=+E[1][1],x):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},x.constrain=function(E){return arguments.length?(n=E,x):n},x.duration=function(E){return arguments.length?(l=+E,x):l},x.interpolate=function(E){return arguments.length?(c=E,x):c},x.on=function(){var E=u.on.apply(u,arguments);return E===u?x:E},x.clickDistance=function(E){return arguments.length?(g=(E=+E)*E,x):Math.sqrt(g)},x.tapDistance=function(E){return arguments.length?(y=+E,x):y},x}const T_=v.createContext(null),XXe=T_.Provider,Ol={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},Vre=Ol.error001();function sn(e,t){const n=v.useContext(T_);if(n===null)throw new Error(Vre);return Sre(n,e,t)}const kr=()=>{const e=v.useContext(T_);if(e===null)throw new Error(Vre);return v.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},JXe=e=>e.userSelectionActive?"none":"all";function Xf({position:e,children:t,className:n,style:r,...s}){const i=sn(JXe),o=`${e}`.split("-");return H.createElement("div",{className:Kr(["react-flow__panel",n,...o]),style:{...r,pointerEvents:i},...s},t)}function QXe({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:H.createElement(Xf,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},H.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const ZXe=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:s=!0,labelBgStyle:i={},labelBgPadding:o=[2,4],labelBgBorderRadius:l=2,children:c,className:u,...d})=>{const h=v.useRef(null),[f,p]=v.useState({x:0,y:0,width:0,height:0}),m=Kr(["react-flow__edge-textwrapper",u]);return v.useEffect(()=>{if(h.current){const g=h.current.getBBox();p({x:g.x,y:g.y,width:g.width,height:g.height})}},[n]),typeof n>"u"||!n?null:H.createElement("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:m,visibility:f.width?"visible":"hidden",...d},s&&H.createElement("rect",{width:f.width+2*o[0],x:-o[0],y:-o[1],height:f.height+2*o[1],className:"react-flow__edge-textbg",style:i,rx:l,ry:l}),H.createElement("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:h,style:r},n),c)};var eJe=v.memo(ZXe);const mL=e=>({width:e.offsetWidth,height:e.offsetHeight}),nm=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),gL=(e={x:0,y:0},t)=>({x:nm(e.x,t[0][0],t[1][0]),y:nm(e.y,t[0][1],t[1][1])}),AU=(e,t,n)=>e<t?nm(Math.abs(e-t),1,50)/50:e>n?-nm(Math.abs(e-n),1,50)/50:0,Gre=(e,t)=>{const n=AU(e.x,35,t.width-35)*20,r=AU(e.y,35,t.height-35)*20;return[n,r]},qre=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},Kre=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),ev=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),Yre=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),OU=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),tJe=(e,t)=>Yre(Kre(ev(e),ev(t))),bM=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},nJe=e=>Fi(e.width)&&Fi(e.height)&&Fi(e.x)&&Fi(e.y),Fi=e=>!isNaN(e)&&isFinite(e),Yn=Symbol.for("internals"),Xre=["Enter"," ","Escape"],rJe=(e,t)=>{},sJe=e=>"nativeEvent"in e;function wM(e){var s,i;const t=sJe(e)?e.nativeEvent:e,n=((i=(s=t.composedPath)==null?void 0:s.call(t))==null?void 0:i[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const Jre=e=>"clientX"in e,Hc=(e,t)=>{var i,o;const n=Jre(e),r=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,s=n?e.clientY:(o=e.touches)==null?void 0:o[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:s-((t==null?void 0:t.top)??0)}},mN=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},$m=({id:e,path:t,labelX:n,labelY:r,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:h,markerStart:f,interactionWidth:p=20})=>H.createElement(H.Fragment,null,H.createElement("path",{id:e,style:d,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:h,markerStart:f}),p&&H.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:p,className:"react-flow__edge-interaction"}),s&&Fi(n)&&Fi(r)?H.createElement(eJe,{x:n,y:r,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u}):null);$m.displayName="BaseEdge";function yg(e,t,n){return n===void 0?n:r=>{const s=t().edges.find(i=>i.id===e);s&&n(r,{...s})}}function Qre({sourceX:e,sourceY:t,targetX:n,targetY:r}){const s=Math.abs(n-e)/2,i=n<e?n+s:n-s,o=Math.abs(r-t)/2,l=r<t?r+o:r-o;return[i,l,s,o]}function Zre({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:s,sourceControlY:i,targetControlX:o,targetControlY:l}){const c=e*.125+s*.375+o*.375+n*.125,u=t*.125+i*.375+l*.375+r*.125,d=Math.abs(c-e),h=Math.abs(u-t);return[c,u,d,h]}var Xd;(function(e){e.Strict="strict",e.Loose="loose"})(Xd||(Xd={}));var rd;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(rd||(rd={}));var tv;(function(e){e.Partial="partial",e.Full="full"})(tv||(tv={}));var lc;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(lc||(lc={}));var gN;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(gN||(gN={}));var we;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(we||(we={}));function MU({pos:e,x1:t,y1:n,x2:r,y2:s}){return e===we.Left||e===we.Right?[.5*(t+r),n]:[t,.5*(n+s)]}function ese({sourceX:e,sourceY:t,sourcePosition:n=we.Bottom,targetX:r,targetY:s,targetPosition:i=we.Top}){const[o,l]=MU({pos:n,x1:e,y1:t,x2:r,y2:s}),[c,u]=MU({pos:i,x1:r,y1:s,x2:e,y2:t}),[d,h,f,p]=Zre({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:o,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${e},${t} C${o},${l} ${c},${u} ${r},${s}`,d,h,f,p]}const yL=v.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:s=we.Bottom,targetPosition:i=we.Top,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:h,style:f,markerEnd:p,markerStart:m,interactionWidth:g})=>{const[y,x,b]=ese({sourceX:e,sourceY:t,sourcePosition:s,targetX:n,targetY:r,targetPosition:i});return H.createElement($m,{path:y,labelX:x,labelY:b,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:h,style:f,markerEnd:p,markerStart:m,interactionWidth:g})});yL.displayName="SimpleBezierEdge";const PU={[we.Left]:{x:-1,y:0},[we.Right]:{x:1,y:0},[we.Top]:{x:0,y:-1},[we.Bottom]:{x:0,y:1}},iJe=({source:e,sourcePosition:t=we.Bottom,target:n})=>t===we.Left||t===we.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},DU=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function oJe({source:e,sourcePosition:t=we.Bottom,target:n,targetPosition:r=we.Top,center:s,offset:i}){const o=PU[t],l=PU[r],c={x:e.x+o.x*i,y:e.y+o.y*i},u={x:n.x+l.x*i,y:n.y+l.y*i},d=iJe({source:c,sourcePosition:t,target:u}),h=d.x!==0?"x":"y",f=d[h];let p=[],m,g;const y={x:0,y:0},x={x:0,y:0},[b,w,N,S]=Qre({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(o[h]*l[h]===-1){m=s.x??b,g=s.y??w;const j=[{x:m,y:c.y},{x:m,y:u.y}],_=[{x:c.x,y:g},{x:u.x,y:g}];o[h]===f?p=h==="x"?j:_:p=h==="x"?_:j}else{const j=[{x:c.x,y:u.y}],_=[{x:u.x,y:c.y}];if(h==="x"?p=o.x===f?_:j:p=o.y===f?j:_,t===r){const P=Math.abs(e[h]-n[h]);if(P<=i){const E=Math.min(i-1,i-P);o[h]===f?y[h]=(c[h]>e[h]?-1:1)*E:x[h]=(u[h]>n[h]?-1:1)*E}}if(t!==r){const P=h==="x"?"y":"x",E=o[h]===l[P],I=c[P]>u[P],T=c[P]<u[P];(o[h]===1&&(!E&&I||E&&T)||o[h]!==1&&(!E&&T||E&&I))&&(p=h==="x"?j:_)}const C={x:c.x+y.x,y:c.y+y.y},A={x:u.x+x.x,y:u.y+x.y},O=Math.max(Math.abs(C.x-p[0].x),Math.abs(A.x-p[0].x)),M=Math.max(Math.abs(C.y-p[0].y),Math.abs(A.y-p[0].y));O>=M?(m=(C.x+A.x)/2,g=p[0].y):(m=p[0].x,g=(C.y+A.y)/2)}return[[e,{x:c.x+y.x,y:c.y+y.y},...p,{x:u.x+x.x,y:u.y+x.y},n],m,g,N,S]}function aJe(e,t,n,r){const s=Math.min(DU(e,t)/2,DU(t,n)/2,r),{x:i,y:o}=t;if(e.x===i&&i===n.x||e.y===o&&o===n.y)return`L${i} ${o}`;if(e.y===o){const u=e.x<n.x?-1:1,d=e.y<n.y?1:-1;return`L ${i+s*u},${o}Q ${i},${o} ${i},${o+s*d}`}const l=e.x<n.x?1:-1,c=e.y<n.y?-1:1;return`L ${i},${o+s*c}Q ${i},${o} ${i+s*l},${o}`}function yN({sourceX:e,sourceY:t,sourcePosition:n=we.Bottom,targetX:r,targetY:s,targetPosition:i=we.Top,borderRadius:o=5,centerX:l,centerY:c,offset:u=20}){const[d,h,f,p,m]=oJe({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:s},targetPosition:i,center:{x:l,y:c},offset:u});return[d.reduce((y,x,b)=>{let w="";return b>0&&b<d.length-1?w=aJe(d[b-1],x,d[b+1],o):w=`${b===0?"M":"L"}${x.x} ${x.y}`,y+=w,y},""),h,f,p,m]}const A_=v.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:d,sourcePosition:h=we.Bottom,targetPosition:f=we.Top,markerEnd:p,markerStart:m,pathOptions:g,interactionWidth:y})=>{const[x,b,w]=yN({sourceX:e,sourceY:t,sourcePosition:h,targetX:n,targetY:r,targetPosition:f,borderRadius:g==null?void 0:g.borderRadius,offset:g==null?void 0:g.offset});return H.createElement($m,{path:x,labelX:b,labelY:w,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:p,markerStart:m,interactionWidth:y})});A_.displayName="SmoothStepEdge";const xL=v.memo(e=>{var t;return H.createElement(A_,{...e,pathOptions:v.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});xL.displayName="StepEdge";function lJe({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[s,i,o,l]=Qre({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,s,i,o,l]}const vL=v.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:h,markerStart:f,interactionWidth:p})=>{const[m,g,y]=lJe({sourceX:e,sourceY:t,targetX:n,targetY:r});return H.createElement($m,{path:m,labelX:g,labelY:y,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:h,markerStart:f,interactionWidth:p})});vL.displayName="StraightEdge";function Fb(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function RU({pos:e,x1:t,y1:n,x2:r,y2:s,c:i}){switch(e){case we.Left:return[t-Fb(t-r,i),n];case we.Right:return[t+Fb(r-t,i),n];case we.Top:return[t,n-Fb(n-s,i)];case we.Bottom:return[t,n+Fb(s-n,i)]}}function tse({sourceX:e,sourceY:t,sourcePosition:n=we.Bottom,targetX:r,targetY:s,targetPosition:i=we.Top,curvature:o=.25}){const[l,c]=RU({pos:n,x1:e,y1:t,x2:r,y2:s,c:o}),[u,d]=RU({pos:i,x1:r,y1:s,x2:e,y2:t,c:o}),[h,f,p,m]=Zre({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:l,sourceControlY:c,targetControlX:u,targetControlY:d});return[`M${e},${t} C${l},${c} ${u},${d} ${r},${s}`,h,f,p,m]}const xN=v.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:s=we.Bottom,targetPosition:i=we.Top,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:h,style:f,markerEnd:p,markerStart:m,pathOptions:g,interactionWidth:y})=>{const[x,b,w]=tse({sourceX:e,sourceY:t,sourcePosition:s,targetX:n,targetY:r,targetPosition:i,curvature:g==null?void 0:g.curvature});return H.createElement($m,{path:x,labelX:b,labelY:w,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:h,style:f,markerEnd:p,markerStart:m,interactionWidth:y})});xN.displayName="BezierEdge";const bL=v.createContext(null),cJe=bL.Provider;bL.Consumer;const uJe=()=>v.useContext(bL),dJe=e=>"id"in e&&"source"in e&&"target"in e,hJe=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,SM=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,fJe=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),nse=(e,t)=>{if(!e.source||!e.target)return t;let n;return dJe(e)?n={...e}:n={...e,id:hJe(e)},fJe(n,t)?t:t.concat(n)},NM=({x:e,y:t},[n,r,s],i,[o,l])=>{const c={x:(e-n)/s,y:(t-r)/s};return i?{x:o*Math.round(c.x/o),y:l*Math.round(c.y/l)}:c},rse=({x:e,y:t},[n,r,s])=>({x:e*s+n,y:t*s+r}),Sd=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],s={x:e.position.x-n,y:e.position.y-r};return{...s,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:s}},j0=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,s)=>{const{x:i,y:o}=Sd(s,t).positionAbsolute;return Kre(r,ev({x:i,y:o,width:s.width||0,height:s.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Yre(n)},sse=(e,t,[n,r,s]=[0,0,1],i=!1,o=!1,l=[0,0])=>{const c={x:(t.x-n)/s,y:(t.y-r)/s,width:t.width/s,height:t.height/s},u=[];return e.forEach(d=>{const{width:h,height:f,selectable:p=!0,hidden:m=!1}=d;if(o&&!p||m)return!1;const{positionAbsolute:g}=Sd(d,l),y={x:g.x,y:g.y,width:h||0,height:f||0},x=bM(c,y),b=typeof h>"u"||typeof f>"u"||h===null||f===null,w=i&&x>0,N=(h||0)*(f||0);(b||w||x>=N||d.dragging)&&u.push(d)}),u},ise=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},wL=(e,t,n,r,s,i=.1)=>{const o=t/(e.width*(1+i)),l=n/(e.height*(1+i)),c=Math.min(o,l),u=nm(c,r,s),d=e.x+e.width/2,h=e.y+e.height/2,f=t/2-d*u,p=n/2-h*u;return{x:f,y:p,zoom:u}},zu=(e,t=0)=>e.transition().duration(t);function IU(e,t,n,r){return(t[n]||[]).reduce((s,i)=>{var o,l;return`${e.id}-${i.id}-${n}`!==r&&s.push({id:i.id||null,type:n,nodeId:e.id,x:(((o=e.positionAbsolute)==null?void 0:o.x)??0)+i.x+i.width/2,y:(((l=e.positionAbsolute)==null?void 0:l.y)??0)+i.y+i.height/2}),s},[])}function pJe(e,t,n,r,s,i){const{x:o,y:l}=Hc(e),u=t.elementsFromPoint(o,l).find(m=>m.classList.contains("react-flow__handle"));if(u){const m=u.getAttribute("data-nodeid");if(m){const g=SL(void 0,u),y=u.getAttribute("data-handleid"),x=i({nodeId:m,id:y,type:g});if(x){const b=s.find(w=>w.nodeId===m&&w.type===g&&w.id===y);return{handle:{id:y,type:g,nodeId:m,x:(b==null?void 0:b.x)||n.x,y:(b==null?void 0:b.y)||n.y},validHandleResult:x}}}}let d=[],h=1/0;if(s.forEach(m=>{const g=Math.sqrt((m.x-n.x)**2+(m.y-n.y)**2);if(g<=r){const y=i(m);g<=h&&(g<h?d=[{handle:m,validHandleResult:y}]:g===h&&d.push({handle:m,validHandleResult:y}),h=g)}}),!d.length)return{handle:null,validHandleResult:ose()};if(d.length===1)return d[0];const f=d.some(({validHandleResult:m})=>m.isValid),p=d.some(({handle:m})=>m.type==="target");return d.find(({handle:m,validHandleResult:g})=>p?m.type==="target":f?g.isValid:!0)||d[0]}const mJe={source:null,target:null,sourceHandle:null,targetHandle:null},ose=()=>({handleDomNode:null,isValid:!1,connection:mJe,endHandle:null});function ase(e,t,n,r,s,i,o){const l=s==="target",c=o.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...ose(),handleDomNode:c};if(c){const d=SL(void 0,c),h=c.getAttribute("data-nodeid"),f=c.getAttribute("data-handleid"),p=c.classList.contains("connectable"),m=c.classList.contains("connectableend"),g={source:l?h:n,sourceHandle:l?f:r,target:l?n:h,targetHandle:l?r:f};u.connection=g,p&&m&&(t===Xd.Strict?l&&d==="source"||!l&&d==="target":h!==n||f!==r)&&(u.endHandle={nodeId:h,handleId:f,type:d},u.isValid=i(g))}return u}function gJe({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((s,i)=>{if(i[Yn]){const{handleBounds:o}=i[Yn];let l=[],c=[];o&&(l=IU(i,o,"source",`${t}-${n}-${r}`),c=IU(i,o,"target",`${t}-${n}-${r}`)),s.push(...l,...c)}return s},[])}function SL(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function QC(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function yJe(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function lse({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:s,getState:i,setState:o,isValidConnection:l,edgeUpdaterType:c,onReconnectEnd:u}){const d=qre(e.target),{connectionMode:h,domNode:f,autoPanOnConnect:p,connectionRadius:m,onConnectStart:g,panBy:y,getNodes:x,cancelConnection:b}=i();let w=0,N;const{x:S,y:k}=Hc(e),j=d==null?void 0:d.elementFromPoint(S,k),_=SL(c,j),C=f==null?void 0:f.getBoundingClientRect();if(!C||!_)return;let A,O=Hc(e,C),M=!1,P=null,E=!1,I=null;const T=gJe({nodes:x(),nodeId:n,handleId:t,handleType:_}),R=()=>{if(!p)return;const[F,z]=Gre(O,C);y({x:F,y:z}),w=requestAnimationFrame(R)};o({connectionPosition:O,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:_,connectionStartHandle:{nodeId:n,handleId:t,type:_},connectionEndHandle:null}),g==null||g(e,{nodeId:n,handleId:t,handleType:_});function L(F){const{transform:z}=i();O=Hc(F,C);const{handle:B,validHandleResult:$}=pJe(F,d,NM(O,z,!1,[1,1]),m,T,W=>ase(W,h,n,t,s?"target":"source",l,d));if(N=B,M||(R(),M=!0),I=$.handleDomNode,P=$.connection,E=$.isValid,o({connectionPosition:N&&E?rse({x:N.x,y:N.y},z):O,connectionStatus:yJe(!!N,E),connectionEndHandle:$.endHandle}),!N&&!E&&!I)return QC(A);P.source!==P.target&&I&&(QC(A),A=I,I.classList.add("connecting","react-flow__handle-connecting"),I.classList.toggle("valid",E),I.classList.toggle("react-flow__handle-valid",E))}function D(F){var z,B;(N||I)&&P&&E&&(r==null||r(P)),(B=(z=i()).onConnectEnd)==null||B.call(z,F),c&&(u==null||u(F)),QC(A),b(),cancelAnimationFrame(w),M=!1,E=!1,P=null,I=null,d.removeEventListener("mousemove",L),d.removeEventListener("mouseup",D),d.removeEventListener("touchmove",L),d.removeEventListener("touchend",D)}d.addEventListener("mousemove",L),d.addEventListener("mouseup",D),d.addEventListener("touchmove",L),d.addEventListener("touchend",D)}const LU=()=>!0,xJe=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),vJe=(e,t,n)=>r=>{const{connectionStartHandle:s,connectionEndHandle:i,connectionClickStartHandle:o}=r;return{connecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n||(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n,clickConnecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n}},cse=v.forwardRef(({type:e="source",position:t=we.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:s=!0,isConnectableEnd:i=!0,id:o,onConnect:l,children:c,className:u,onMouseDown:d,onTouchStart:h,...f},p)=>{var C,A;const m=o||null,g=e==="target",y=kr(),x=uJe(),{connectOnClick:b,noPanClassName:w}=sn(xJe,Pr),{connecting:N,clickConnecting:S}=sn(vJe(x,m,e),Pr);x||(A=(C=y.getState()).onError)==null||A.call(C,"010",Ol.error010());const k=O=>{const{defaultEdgeOptions:M,onConnect:P,hasDefaultEdges:E}=y.getState(),I={...M,...O};if(E){const{edges:T,setEdges:R}=y.getState();R(nse(I,T))}P==null||P(I),l==null||l(I)},j=O=>{if(!x)return;const M=Jre(O);s&&(M&&O.button===0||!M)&&lse({event:O,handleId:m,nodeId:x,onConnect:k,isTarget:g,getState:y.getState,setState:y.setState,isValidConnection:n||y.getState().isValidConnection||LU}),M?d==null||d(O):h==null||h(O)},_=O=>{const{onClickConnectStart:M,onClickConnectEnd:P,connectionClickStartHandle:E,connectionMode:I,isValidConnection:T}=y.getState();if(!x||!E&&!s)return;if(!E){M==null||M(O,{nodeId:x,handleId:m,handleType:e}),y.setState({connectionClickStartHandle:{nodeId:x,type:e,handleId:m}});return}const R=qre(O.target),L=n||T||LU,{connection:D,isValid:F}=ase({nodeId:x,id:m,type:e},I,E.nodeId,E.handleId||null,E.type,L,R);F&&k(D),P==null||P(O),y.setState({connectionClickStartHandle:null})};return H.createElement("div",{"data-handleid":m,"data-nodeid":x,"data-handlepos":t,"data-id":`${x}-${m}-${e}`,className:Kr(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",w,u,{source:!g,target:g,connectable:r,connectablestart:s,connectableend:i,connecting:S,connectionindicator:r&&(s&&!N||i&&N)}]),onMouseDown:j,onTouchStart:j,onClick:b?_:void 0,ref:p,...f},c)});cse.displayName="Handle";var wt=v.memo(cse);const use=({data:e,isConnectable:t,targetPosition:n=we.Top,sourcePosition:r=we.Bottom})=>H.createElement(H.Fragment,null,H.createElement(wt,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,H.createElement(wt,{type:"source",position:r,isConnectable:t}));use.displayName="DefaultNode";var kM=v.memo(use);const dse=({data:e,isConnectable:t,sourcePosition:n=we.Bottom})=>H.createElement(H.Fragment,null,e==null?void 0:e.label,H.createElement(wt,{type:"source",position:n,isConnectable:t}));dse.displayName="InputNode";var hse=v.memo(dse);const fse=({data:e,isConnectable:t,targetPosition:n=we.Top})=>H.createElement(H.Fragment,null,H.createElement(wt,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);fse.displayName="OutputNode";var pse=v.memo(fse);const NL=()=>null;NL.displayName="GroupNode";const bJe=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),zb=e=>e.id;function wJe(e,t){return Pr(e.selectedNodes.map(zb),t.selectedNodes.map(zb))&&Pr(e.selectedEdges.map(zb),t.selectedEdges.map(zb))}const mse=v.memo(({onSelectionChange:e})=>{const t=kr(),{selectedNodes:n,selectedEdges:r}=sn(bJe,wJe);return v.useEffect(()=>{const s={nodes:n,edges:r};e==null||e(s),t.getState().onSelectionChange.forEach(i=>i(s))},[n,r,e]),null});mse.displayName="SelectionListener";const SJe=e=>!!e.onSelectionChange;function NJe({onSelectionChange:e}){const t=sn(SJe);return e||t?H.createElement(mse,{onSelectionChange:e}):null}const kJe=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function Fh(e,t){v.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function mt(e,t,n){v.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const jJe=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:s,onConnectStart:i,onConnectEnd:o,onClickConnectStart:l,onClickConnectEnd:c,nodesDraggable:u,nodesConnectable:d,nodesFocusable:h,edgesFocusable:f,edgesUpdatable:p,elevateNodesOnSelect:m,minZoom:g,maxZoom:y,nodeExtent:x,onNodesChange:b,onEdgesChange:w,elementsSelectable:N,connectionMode:S,snapGrid:k,snapToGrid:j,translateExtent:_,connectOnClick:C,defaultEdgeOptions:A,fitView:O,fitViewOptions:M,onNodesDelete:P,onEdgesDelete:E,onNodeDrag:I,onNodeDragStart:T,onNodeDragStop:R,onSelectionDrag:L,onSelectionDragStart:D,onSelectionDragStop:F,noPanClassName:z,nodeOrigin:B,rfId:$,autoPanOnConnect:W,autoPanOnNodeDrag:V,onError:Y,connectionRadius:G,isValidConnection:Z,nodeDragThreshold:q})=>{const{setNodes:ee,setEdges:se,setDefaultNodesAndEdges:X,setMinZoom:de,setMaxZoom:pe,setTranslateExtent:Se,setNodeExtent:be,reset:Ae}=sn(kJe,Pr),ne=kr();return v.useEffect(()=>{const Je=r==null?void 0:r.map(qe=>({...qe,...A}));return X(n,Je),()=>{Ae()}},[]),mt("defaultEdgeOptions",A,ne.setState),mt("connectionMode",S,ne.setState),mt("onConnect",s,ne.setState),mt("onConnectStart",i,ne.setState),mt("onConnectEnd",o,ne.setState),mt("onClickConnectStart",l,ne.setState),mt("onClickConnectEnd",c,ne.setState),mt("nodesDraggable",u,ne.setState),mt("nodesConnectable",d,ne.setState),mt("nodesFocusable",h,ne.setState),mt("edgesFocusable",f,ne.setState),mt("edgesUpdatable",p,ne.setState),mt("elementsSelectable",N,ne.setState),mt("elevateNodesOnSelect",m,ne.setState),mt("snapToGrid",j,ne.setState),mt("snapGrid",k,ne.setState),mt("onNodesChange",b,ne.setState),mt("onEdgesChange",w,ne.setState),mt("connectOnClick",C,ne.setState),mt("fitViewOnInit",O,ne.setState),mt("fitViewOnInitOptions",M,ne.setState),mt("onNodesDelete",P,ne.setState),mt("onEdgesDelete",E,ne.setState),mt("onNodeDrag",I,ne.setState),mt("onNodeDragStart",T,ne.setState),mt("onNodeDragStop",R,ne.setState),mt("onSelectionDrag",L,ne.setState),mt("onSelectionDragStart",D,ne.setState),mt("onSelectionDragStop",F,ne.setState),mt("noPanClassName",z,ne.setState),mt("nodeOrigin",B,ne.setState),mt("rfId",$,ne.setState),mt("autoPanOnConnect",W,ne.setState),mt("autoPanOnNodeDrag",V,ne.setState),mt("onError",Y,ne.setState),mt("connectionRadius",G,ne.setState),mt("isValidConnection",Z,ne.setState),mt("nodeDragThreshold",q,ne.setState),Fh(e,ee),Fh(t,se),Fh(g,de),Fh(y,pe),Fh(_,Se),Fh(x,be),null},$U={display:"none"},_Je={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},gse="react-flow__node-desc",yse="react-flow__edge-desc",EJe="react-flow__aria-live",CJe=e=>e.ariaLiveMessage;function TJe({rfId:e}){const t=sn(CJe);return H.createElement("div",{id:`${EJe}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:_Je},t)}function AJe({rfId:e,disableKeyboardA11y:t}){return H.createElement(H.Fragment,null,H.createElement("div",{id:`${gse}-${e}`,style:$U},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),H.createElement("div",{id:`${yse}-${e}`,style:$U},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&H.createElement(TJe,{rfId:e}))}var nv=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=v.useState(!1),s=v.useRef(!1),i=v.useRef(new Set([])),[o,l]=v.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(h=>typeof h=="string").map(h=>h.split("+")),d=u.reduce((h,f)=>h.concat(...f),[]);return[u,d]}return[[],[]]},[e]);return v.useEffect(()=>{const c=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||c;if(e!==null){const d=p=>{if(s.current=p.ctrlKey||p.metaKey||p.shiftKey,(!s.current||s.current&&!t.actInsideInputWithModifier)&&wM(p))return!1;const g=FU(p.code,l);i.current.add(p[g]),BU(o,i.current,!1)&&(p.preventDefault(),r(!0))},h=p=>{if((!s.current||s.current&&!t.actInsideInputWithModifier)&&wM(p))return!1;const g=FU(p.code,l);BU(o,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(p[g]),p.key==="Meta"&&i.current.clear(),s.current=!1},f=()=>{i.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",d),u==null||u.addEventListener("keyup",h),window.addEventListener("blur",f),()=>{u==null||u.removeEventListener("keydown",d),u==null||u.removeEventListener("keyup",h),window.removeEventListener("blur",f)}}},[e,r]),n};function BU(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(s=>t.has(s)))}function FU(e,t){return t.includes(e)?"code":"key"}function xse(e,t,n,r){var l,c;const s=e.parentNode||e.parentId;if(!s)return n;const i=t.get(s),o=Sd(i,r);return xse(i,t,{x:(n.x??0)+o.x,y:(n.y??0)+o.y,z:(((l=i[Yn])==null?void 0:l.z)??0)>(n.z??0)?((c=i[Yn])==null?void 0:c.z)??0:n.z??0},r)}function vse(e,t,n){e.forEach(r=>{var i;const s=r.parentNode||r.parentId;if(s&&!e.has(s))throw new Error(`Parent node ${s} not found`);if(s||n!=null&&n[r.id]){const{x:o,y:l,z:c}=xse(r,e,{...r.position,z:((i=r[Yn])==null?void 0:i.z)??0},t);r.positionAbsolute={x:o,y:l},r[Yn].z=c,n!=null&&n[r.id]&&(r[Yn].isParent=!0)}})}function ZC(e,t,n,r){const s=new Map,i={},o=r?1e3:0;return e.forEach(l=>{var p;const c=(Fi(l.zIndex)?l.zIndex:0)+(l.selected?o:0),u=t.get(l.id),d={...l,positionAbsolute:{x:l.position.x,y:l.position.y}},h=l.parentNode||l.parentId;h&&(i[h]=!0);const f=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==l.type;Object.defineProperty(d,Yn,{enumerable:!1,value:{handleBounds:f||(p=u==null?void 0:u[Yn])==null?void 0:p.handleBounds,z:c}}),s.set(l.id,d)}),vse(s,n,i),s}function bse(e,t={}){const{getNodes:n,width:r,height:s,minZoom:i,maxZoom:o,d3Zoom:l,d3Selection:c,fitViewOnInitDone:u,fitViewOnInit:d,nodeOrigin:h}=e(),f=t.initial&&!u&&d;if(l&&c&&(f||!t.initial)){const m=n().filter(y=>{var b;const x=t.includeHiddenNodes?y.width&&y.height:!y.hidden;return(b=t.nodes)!=null&&b.length?x&&t.nodes.some(w=>w.id===y.id):x}),g=m.every(y=>y.width&&y.height);if(m.length>0&&g){const y=j0(m,h),{x,y:b,zoom:w}=wL(y,r,s,t.minZoom??i,t.maxZoom??o,t.padding??.1),N=gl.translate(x,b).scale(w);return typeof t.duration=="number"&&t.duration>0?l.transform(zu(c,t.duration),N):l.transform(c,N),!0}}return!1}function OJe(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[Yn]:r[Yn],selected:n.selected})}),new Map(t)}function MJe(e,t){return t.map(n=>{const r=e.find(s=>s.id===n.id);return r&&(n.selected=r.selected),n})}function Ub({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:s,edges:i,onNodesChange:o,onEdgesChange:l,hasDefaultNodes:c,hasDefaultEdges:u}=n();e!=null&&e.length&&(c&&r({nodeInternals:OJe(e,s)}),o==null||o(e)),t!=null&&t.length&&(u&&r({edges:MJe(t,i)}),l==null||l(t))}const zh=()=>{},PJe={zoomIn:zh,zoomOut:zh,zoomTo:zh,getZoom:()=>1,setViewport:zh,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:zh,fitBounds:zh,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},DJe=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),RJe=()=>{const e=kr(),{d3Zoom:t,d3Selection:n}=sn(DJe,Pr);return v.useMemo(()=>n&&t?{zoomIn:s=>t.scaleBy(zu(n,s==null?void 0:s.duration),1.2),zoomOut:s=>t.scaleBy(zu(n,s==null?void 0:s.duration),1/1.2),zoomTo:(s,i)=>t.scaleTo(zu(n,i==null?void 0:i.duration),s),getZoom:()=>e.getState().transform[2],setViewport:(s,i)=>{const[o,l,c]=e.getState().transform,u=gl.translate(s.x??o,s.y??l).scale(s.zoom??c);t.transform(zu(n,i==null?void 0:i.duration),u)},getViewport:()=>{const[s,i,o]=e.getState().transform;return{x:s,y:i,zoom:o}},fitView:s=>bse(e.getState,s),setCenter:(s,i,o)=>{const{width:l,height:c,maxZoom:u}=e.getState(),d=typeof(o==null?void 0:o.zoom)<"u"?o.zoom:u,h=l/2-s*d,f=c/2-i*d,p=gl.translate(h,f).scale(d);t.transform(zu(n,o==null?void 0:o.duration),p)},fitBounds:(s,i)=>{const{width:o,height:l,minZoom:c,maxZoom:u}=e.getState(),{x:d,y:h,zoom:f}=wL(s,o,l,c,u,(i==null?void 0:i.padding)??.1),p=gl.translate(d,h).scale(f);t.transform(zu(n,i==null?void 0:i.duration),p)},project:s=>{const{transform:i,snapToGrid:o,snapGrid:l}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),NM(s,i,o,l)},screenToFlowPosition:s=>{const{transform:i,snapToGrid:o,snapGrid:l,domNode:c}=e.getState();if(!c)return s;const{x:u,y:d}=c.getBoundingClientRect(),h={x:s.x-u,y:s.y-d};return NM(h,i,o,l)},flowToScreenPosition:s=>{const{transform:i,domNode:o}=e.getState();if(!o)return s;const{x:l,y:c}=o.getBoundingClientRect(),u=rse(s,i);return{x:u.x+l,y:u.y+c}},viewportInitialized:!0}:PJe,[t,n])};function _0(){const e=RJe(),t=kr(),n=v.useCallback(()=>t.getState().getNodes().map(g=>({...g})),[]),r=v.useCallback(g=>t.getState().nodeInternals.get(g),[]),s=v.useCallback(()=>{const{edges:g=[]}=t.getState();return g.map(y=>({...y}))},[]),i=v.useCallback(g=>{const{edges:y=[]}=t.getState();return y.find(x=>x.id===g)},[]),o=v.useCallback(g=>{const{getNodes:y,setNodes:x,hasDefaultNodes:b,onNodesChange:w}=t.getState(),N=y(),S=typeof g=="function"?g(N):g;if(b)x(S);else if(w){const k=S.length===0?N.map(j=>({type:"remove",id:j.id})):S.map(j=>({item:j,type:"reset"}));w(k)}},[]),l=v.useCallback(g=>{const{edges:y=[],setEdges:x,hasDefaultEdges:b,onEdgesChange:w}=t.getState(),N=typeof g=="function"?g(y):g;if(b)x(N);else if(w){const S=N.length===0?y.map(k=>({type:"remove",id:k.id})):N.map(k=>({item:k,type:"reset"}));w(S)}},[]),c=v.useCallback(g=>{const y=Array.isArray(g)?g:[g],{getNodes:x,setNodes:b,hasDefaultNodes:w,onNodesChange:N}=t.getState();if(w){const k=[...x(),...y];b(k)}else if(N){const S=y.map(k=>({item:k,type:"add"}));N(S)}},[]),u=v.useCallback(g=>{const y=Array.isArray(g)?g:[g],{edges:x=[],setEdges:b,hasDefaultEdges:w,onEdgesChange:N}=t.getState();if(w)b([...x,...y]);else if(N){const S=y.map(k=>({item:k,type:"add"}));N(S)}},[]),d=v.useCallback(()=>{const{getNodes:g,edges:y=[],transform:x}=t.getState(),[b,w,N]=x;return{nodes:g().map(S=>({...S})),edges:y.map(S=>({...S})),viewport:{x:b,y:w,zoom:N}}},[]),h=v.useCallback(({nodes:g,edges:y})=>{const{nodeInternals:x,getNodes:b,edges:w,hasDefaultNodes:N,hasDefaultEdges:S,onNodesDelete:k,onEdgesDelete:j,onNodesChange:_,onEdgesChange:C}=t.getState(),A=(g||[]).map(I=>I.id),O=(y||[]).map(I=>I.id),M=b().reduce((I,T)=>{const R=T.parentNode||T.parentId,L=!A.includes(T.id)&&R&&I.find(F=>F.id===R);return(typeof T.deletable=="boolean"?T.deletable:!0)&&(A.includes(T.id)||L)&&I.push(T),I},[]),P=w.filter(I=>typeof I.deletable=="boolean"?I.deletable:!0),E=P.filter(I=>O.includes(I.id));if(M||E){const I=ise(M,P),T=[...E,...I],R=T.reduce((L,D)=>(L.includes(D.id)||L.push(D.id),L),[]);if((S||N)&&(S&&t.setState({edges:w.filter(L=>!R.includes(L.id))}),N&&(M.forEach(L=>{x.delete(L.id)}),t.setState({nodeInternals:new Map(x)}))),R.length>0&&(j==null||j(T),C&&C(R.map(L=>({id:L,type:"remove"})))),M.length>0&&(k==null||k(M),_)){const L=M.map(D=>({id:D.id,type:"remove"}));_(L)}}},[]),f=v.useCallback(g=>{const y=nJe(g),x=y?null:t.getState().nodeInternals.get(g.id);return!y&&!x?[null,null,y]:[y?g:OU(x),x,y]},[]),p=v.useCallback((g,y=!0,x)=>{const[b,w,N]=f(g);return b?(x||t.getState().getNodes()).filter(S=>{if(!N&&(S.id===w.id||!S.positionAbsolute))return!1;const k=OU(S),j=bM(k,b);return y&&j>0||j>=b.width*b.height}):[]},[]),m=v.useCallback((g,y,x=!0)=>{const[b]=f(g);if(!b)return!1;const w=bM(b,y);return x&&w>0||w>=b.width*b.height},[]);return v.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:s,getEdge:i,setNodes:o,setEdges:l,addNodes:c,addEdges:u,toObject:d,deleteElements:h,getIntersectingNodes:p,isNodeIntersecting:m}),[e,n,r,s,i,o,l,c,u,d,h,p,m])}const IJe={actInsideInputWithModifier:!1};var LJe=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=kr(),{deleteElements:r}=_0(),s=nv(e,IJe),i=nv(t);v.useEffect(()=>{if(s){const{edges:o,getNodes:l}=n.getState(),c=l().filter(d=>d.selected),u=o.filter(d=>d.selected);r({nodes:c,edges:u}),n.setState({nodesSelectionActive:!1})}},[s]),v.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])};function $Je(e){const t=kr();v.useEffect(()=>{let n;const r=()=>{var i,o;if(!e.current)return;const s=mL(e.current);(s.height===0||s.width===0)&&((o=(i=t.getState()).onError)==null||o.call(i,"004",Ol.error004())),t.setState({width:s.width||500,height:s.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const kL={position:"absolute",width:"100%",height:"100%",top:0,left:0},BJe=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Hb=e=>({x:e.x,y:e.y,zoom:e.k}),Uh=(e,t)=>e.target.closest(`.${t}`),zU=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),UU=e=>{const t=e.ctrlKey&&mN()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},FJe=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),zJe=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:s=!0,zoomOnPinch:i=!0,panOnScroll:o=!1,panOnScrollSpeed:l=.5,panOnScrollMode:c=rd.Free,zoomOnDoubleClick:u=!0,elementsSelectable:d,panOnDrag:h=!0,defaultViewport:f,translateExtent:p,minZoom:m,maxZoom:g,zoomActivationKeyCode:y,preventScrolling:x=!0,children:b,noWheelClassName:w,noPanClassName:N})=>{const S=v.useRef(),k=kr(),j=v.useRef(!1),_=v.useRef(!1),C=v.useRef(null),A=v.useRef({x:0,y:0,zoom:0}),{d3Zoom:O,d3Selection:M,d3ZoomHandler:P,userSelectionActive:E}=sn(FJe,Pr),I=nv(y),T=v.useRef(0),R=v.useRef(!1),L=v.useRef();return $Je(C),v.useEffect(()=>{if(C.current){const D=C.current.getBoundingClientRect(),F=Wre().scaleExtent([m,g]).translateExtent(p),z=Ri(C.current).call(F),B=gl.translate(f.x,f.y).scale(nm(f.zoom,m,g)),$=[[0,0],[D.width,D.height]],W=F.constrain()(B,$,p);F.transform(z,W),F.wheelDelta(UU),k.setState({d3Zoom:F,d3Selection:z,d3ZoomHandler:z.on("wheel.zoom"),transform:[W.x,W.y,W.k],domNode:C.current.closest(".react-flow")})}},[]),v.useEffect(()=>{M&&O&&(o&&!I&&!E?M.on("wheel.zoom",D=>{if(Uh(D,w))return!1;D.preventDefault(),D.stopImmediatePropagation();const F=M.property("__zoom").k||1;if(D.ctrlKey&&i){const Z=wo(D),q=UU(D),ee=F*Math.pow(2,q);O.scaleTo(M,ee,Z,D);return}const z=D.deltaMode===1?20:1;let B=c===rd.Vertical?0:D.deltaX*z,$=c===rd.Horizontal?0:D.deltaY*z;!mN()&&D.shiftKey&&c!==rd.Vertical&&(B=D.deltaY*z,$=0),O.translateBy(M,-(B/F)*l,-($/F)*l,{internal:!0});const W=Hb(M.property("__zoom")),{onViewportChangeStart:V,onViewportChange:Y,onViewportChangeEnd:G}=k.getState();clearTimeout(L.current),R.current||(R.current=!0,t==null||t(D,W),V==null||V(W)),R.current&&(e==null||e(D,W),Y==null||Y(W),L.current=setTimeout(()=>{n==null||n(D,W),G==null||G(W),R.current=!1},150))},{passive:!1}):typeof P<"u"&&M.on("wheel.zoom",function(D,F){if(!x&&D.type==="wheel"&&!D.ctrlKey||Uh(D,w))return null;D.preventDefault(),P.call(this,D,F)},{passive:!1}))},[E,o,c,M,O,P,I,i,x,w,t,e,n]),v.useEffect(()=>{O&&O.on("start",D=>{var B,$;if(!D.sourceEvent||D.sourceEvent.internal)return null;T.current=(B=D.sourceEvent)==null?void 0:B.button;const{onViewportChangeStart:F}=k.getState(),z=Hb(D.transform);j.current=!0,A.current=z,(($=D.sourceEvent)==null?void 0:$.type)==="mousedown"&&k.setState({paneDragging:!0}),F==null||F(z),t==null||t(D.sourceEvent,z)})},[O,t]),v.useEffect(()=>{O&&(E&&!j.current?O.on("zoom",null):E||O.on("zoom",D=>{var z;const{onViewportChange:F}=k.getState();if(k.setState({transform:[D.transform.x,D.transform.y,D.transform.k]}),_.current=!!(r&&zU(h,T.current??0)),(e||F)&&!((z=D.sourceEvent)!=null&&z.internal)){const B=Hb(D.transform);F==null||F(B),e==null||e(D.sourceEvent,B)}}))},[E,O,e,h,r]),v.useEffect(()=>{O&&O.on("end",D=>{if(!D.sourceEvent||D.sourceEvent.internal)return null;const{onViewportChangeEnd:F}=k.getState();if(j.current=!1,k.setState({paneDragging:!1}),r&&zU(h,T.current??0)&&!_.current&&r(D.sourceEvent),_.current=!1,(n||F)&&BJe(A.current,D.transform)){const z=Hb(D.transform);A.current=z,clearTimeout(S.current),S.current=setTimeout(()=>{F==null||F(z),n==null||n(D.sourceEvent,z)},o?150:0)}})},[O,o,h,n,r]),v.useEffect(()=>{O&&O.filter(D=>{const F=I||s,z=i&&D.ctrlKey;if((h===!0||Array.isArray(h)&&h.includes(1))&&D.button===1&&D.type==="mousedown"&&(Uh(D,"react-flow__node")||Uh(D,"react-flow__edge")))return!0;if(!h&&!F&&!o&&!u&&!i||E||!u&&D.type==="dblclick"||Uh(D,w)&&D.type==="wheel"||Uh(D,N)&&(D.type!=="wheel"||o&&D.type==="wheel"&&!I)||!i&&D.ctrlKey&&D.type==="wheel"||!F&&!o&&!z&&D.type==="wheel"||!h&&(D.type==="mousedown"||D.type==="touchstart")||Array.isArray(h)&&!h.includes(D.button)&&D.type==="mousedown")return!1;const B=Array.isArray(h)&&h.includes(D.button)||!D.button||D.button<=1;return(!D.ctrlKey||D.type==="wheel")&&B})},[E,O,s,i,o,u,h,d,I]),H.createElement("div",{className:"react-flow__renderer",ref:C,style:kL},b)},UJe=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function HJe(){const{userSelectionActive:e,userSelectionRect:t}=sn(UJe,Pr);return e&&t?H.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function HU(e,t){const n=t.parentNode||t.parentId,r=e.find(s=>s.id===n);if(r){const s=t.position.x+t.width-r.width,i=t.position.y+t.height-r.height;if(s>0||i>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,s>0&&(r.style.width+=s),i>0&&(r.style.height+=i),t.position.x<0){const o=Math.abs(t.position.x);r.position.x=r.position.x-o,r.style.width+=o,t.position.x=0}if(t.position.y<0){const o=Math.abs(t.position.y);r.position.y=r.position.y-o,r.style.height+=o,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function wse(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,s)=>{const i=e.filter(l=>l.id===s.id);if(i.length===0)return r.push(s),r;const o={...s};for(const l of i)if(l)switch(l.type){case"select":{o.selected=l.selected;break}case"position":{typeof l.position<"u"&&(o.position=l.position),typeof l.positionAbsolute<"u"&&(o.positionAbsolute=l.positionAbsolute),typeof l.dragging<"u"&&(o.dragging=l.dragging),o.expandParent&&HU(r,o);break}case"dimensions":{typeof l.dimensions<"u"&&(o.width=l.dimensions.width,o.height=l.dimensions.height),typeof l.updateStyle<"u"&&(o.style={...o.style||{},...l.dimensions}),typeof l.resizing=="boolean"&&(o.resizing=l.resizing),o.expandParent&&HU(r,o);break}case"remove":return r}return r.push(o),r},n)}function Sse(e,t){return wse(e,t)}function WJe(e,t){return wse(e,t)}const ec=(e,t)=>({id:e,type:"select",selected:t});function _f(e,t){return e.reduce((n,r)=>{const s=t.includes(r.id);return!r.selected&&s?(r.selected=!0,n.push(ec(r.id,!0))):r.selected&&!s&&(r.selected=!1,n.push(ec(r.id,!1))),n},[])}const eT=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},VJe=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),Nse=v.memo(({isSelecting:e,selectionMode:t=tv.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:s,onPaneClick:i,onPaneContextMenu:o,onPaneScroll:l,onPaneMouseEnter:c,onPaneMouseMove:u,onPaneMouseLeave:d,children:h})=>{const f=v.useRef(null),p=kr(),m=v.useRef(0),g=v.useRef(0),y=v.useRef(),{userSelectionActive:x,elementsSelectable:b,dragging:w}=sn(VJe,Pr),N=()=>{p.setState({userSelectionActive:!1,userSelectionRect:null}),m.current=0,g.current=0},S=P=>{i==null||i(P),p.getState().resetSelectedElements(),p.setState({nodesSelectionActive:!1})},k=P=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){P.preventDefault();return}o==null||o(P)},j=l?P=>l(P):void 0,_=P=>{const{resetSelectedElements:E,domNode:I}=p.getState();if(y.current=I==null?void 0:I.getBoundingClientRect(),!b||!e||P.button!==0||P.target!==f.current||!y.current)return;const{x:T,y:R}=Hc(P,y.current);E(),p.setState({userSelectionRect:{width:0,height:0,startX:T,startY:R,x:T,y:R}}),r==null||r(P)},C=P=>{const{userSelectionRect:E,nodeInternals:I,edges:T,transform:R,onNodesChange:L,onEdgesChange:D,nodeOrigin:F,getNodes:z}=p.getState();if(!e||!y.current||!E)return;p.setState({userSelectionActive:!0,nodesSelectionActive:!1});const B=Hc(P,y.current),$=E.startX??0,W=E.startY??0,V={...E,x:B.x<$?B.x:$,y:B.y<W?B.y:W,width:Math.abs(B.x-$),height:Math.abs(B.y-W)},Y=z(),G=sse(I,V,R,t===tv.Partial,!0,F),Z=ise(G,T).map(ee=>ee.id),q=G.map(ee=>ee.id);if(m.current!==q.length){m.current=q.length;const ee=_f(Y,q);ee.length&&(L==null||L(ee))}if(g.current!==Z.length){g.current=Z.length;const ee=_f(T,Z);ee.length&&(D==null||D(ee))}p.setState({userSelectionRect:V})},A=P=>{if(P.button!==0)return;const{userSelectionRect:E}=p.getState();!x&&E&&P.target===f.current&&(S==null||S(P)),p.setState({nodesSelectionActive:m.current>0}),N(),s==null||s(P)},O=P=>{x&&(p.setState({nodesSelectionActive:m.current>0}),s==null||s(P)),N()},M=b&&(e||x);return H.createElement("div",{className:Kr(["react-flow__pane",{dragging:w,selection:e}]),onClick:M?void 0:eT(S,f),onContextMenu:eT(k,f),onWheel:eT(j,f),onMouseEnter:M?void 0:c,onMouseDown:M?_:void 0,onMouseMove:M?C:u,onMouseUp:M?A:void 0,onMouseLeave:M?O:d,ref:f,style:kL},h,H.createElement(HJe,null))});Nse.displayName="Pane";function kse(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:kse(r,t):!1}function WU(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function GJe(e,t,n,r){return Array.from(e.values()).filter(s=>(s.selected||s.id===r)&&(!s.parentNode||s.parentId||!kse(s,e))&&(s.draggable||t&&typeof s.draggable>"u")).map(s=>{var i,o;return{id:s.id,position:s.position||{x:0,y:0},positionAbsolute:s.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((i=s.positionAbsolute)==null?void 0:i.x)??0),y:n.y-(((o=s.positionAbsolute)==null?void 0:o.y)??0)},delta:{x:0,y:0},extent:s.extent,parentNode:s.parentNode||s.parentId,parentId:s.parentNode||s.parentId,width:s.width,height:s.height,expandParent:s.expandParent}})}function qJe(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function jse(e,t,n,r,s=[0,0],i){const o=qJe(e,e.extent||r);let l=o;const c=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(c&&e.width&&e.height){const h=n.get(c),{x:f,y:p}=Sd(h,s).positionAbsolute;l=h&&Fi(f)&&Fi(p)&&Fi(h.width)&&Fi(h.height)?[[f+e.width*s[0],p+e.height*s[1]],[f+h.width-e.width+e.width*s[0],p+h.height-e.height+e.height*s[1]]]:l}else i==null||i("005",Ol.error005()),l=o;else if(e.extent&&c&&e.extent!=="parent"){const h=n.get(c),{x:f,y:p}=Sd(h,s).positionAbsolute;l=[[e.extent[0][0]+f,e.extent[0][1]+p],[e.extent[1][0]+f,e.extent[1][1]+p]]}let u={x:0,y:0};if(c){const h=n.get(c);u=Sd(h,s).positionAbsolute}const d=l&&l!=="parent"?gL(t,l):t;return{position:{x:d.x-u.x,y:d.y-u.y},positionAbsolute:d}}function tT({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(s=>({...n.get(s.id),position:s.position,positionAbsolute:s.positionAbsolute}));return[e?r.find(s=>s.id===e):r[0],r]}const VU=(e,t,n,r)=>{const s=t.querySelectorAll(e);if(!s||!s.length)return null;const i=Array.from(s),o=t.getBoundingClientRect(),l={x:o.width*r[0],y:o.height*r[1]};return i.map(c=>{const u=c.getBoundingClientRect();return{id:c.getAttribute("data-handleid"),position:c.getAttribute("data-handlepos"),x:(u.left-o.left-l.x)/n,y:(u.top-o.top-l.y)/n,...mL(c)}})};function xg(e,t,n){return n===void 0?n:r=>{const s=t().nodeInternals.get(e);s&&n(r,{...s})}}function jM({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:s,unselectNodesAndEdges:i,multiSelectionActive:o,nodeInternals:l,onError:c}=t.getState(),u=l.get(e);if(!u){c==null||c("012",Ol.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&o)&&(i({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var d;return(d=r==null?void 0:r.current)==null?void 0:d.blur()})):s([e])}function KJe(){const e=kr();return v.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:s,snapToGrid:i}=e.getState(),o=n.touches?n.touches[0].clientX:n.clientX,l=n.touches?n.touches[0].clientY:n.clientY,c={x:(o-r[0])/r[2],y:(l-r[1])/r[2]};return{xSnapped:i?s[0]*Math.round(c.x/s[0]):c.x,ySnapped:i?s[1]*Math.round(c.y/s[1]):c.y,...c}},[])}function nT(e){return(t,n,r)=>e==null?void 0:e(t,r)}function _se({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:s,isSelectable:i,selectNodesOnDrag:o}){const l=kr(),[c,u]=v.useState(!1),d=v.useRef([]),h=v.useRef({x:null,y:null}),f=v.useRef(0),p=v.useRef(null),m=v.useRef({x:0,y:0}),g=v.useRef(null),y=v.useRef(!1),x=v.useRef(!1),b=v.useRef(!1),w=KJe();return v.useEffect(()=>{if(e!=null&&e.current){const N=Ri(e.current),S=({x:_,y:C})=>{const{nodeInternals:A,onNodeDrag:O,onSelectionDrag:M,updateNodePositions:P,nodeExtent:E,snapGrid:I,snapToGrid:T,nodeOrigin:R,onError:L}=l.getState();h.current={x:_,y:C};let D=!1,F={x:0,y:0,x2:0,y2:0};if(d.current.length>1&&E){const B=j0(d.current,R);F=ev(B)}if(d.current=d.current.map(B=>{const $={x:_-B.distance.x,y:C-B.distance.y};T&&($.x=I[0]*Math.round($.x/I[0]),$.y=I[1]*Math.round($.y/I[1]));const W=[[E[0][0],E[0][1]],[E[1][0],E[1][1]]];d.current.length>1&&E&&!B.extent&&(W[0][0]=B.positionAbsolute.x-F.x+E[0][0],W[1][0]=B.positionAbsolute.x+(B.width??0)-F.x2+E[1][0],W[0][1]=B.positionAbsolute.y-F.y+E[0][1],W[1][1]=B.positionAbsolute.y+(B.height??0)-F.y2+E[1][1]);const V=jse(B,$,A,W,R,L);return D=D||B.position.x!==V.position.x||B.position.y!==V.position.y,B.position=V.position,B.positionAbsolute=V.positionAbsolute,B}),!D)return;P(d.current,!0,!0),u(!0);const z=s?O:nT(M);if(z&&g.current){const[B,$]=tT({nodeId:s,dragItems:d.current,nodeInternals:A});z(g.current,B,$)}},k=()=>{if(!p.current)return;const[_,C]=Gre(m.current,p.current);if(_!==0||C!==0){const{transform:A,panBy:O}=l.getState();h.current.x=(h.current.x??0)-_/A[2],h.current.y=(h.current.y??0)-C/A[2],O({x:_,y:C})&&S(h.current)}f.current=requestAnimationFrame(k)},j=_=>{var R;const{nodeInternals:C,multiSelectionActive:A,nodesDraggable:O,unselectNodesAndEdges:M,onNodeDragStart:P,onSelectionDragStart:E}=l.getState();x.current=!0;const I=s?P:nT(E);(!o||!i)&&!A&&s&&((R=C.get(s))!=null&&R.selected||M()),s&&i&&o&&jM({id:s,store:l,nodeRef:e});const T=w(_);if(h.current=T,d.current=GJe(C,O,T,s),I&&d.current){const[L,D]=tT({nodeId:s,dragItems:d.current,nodeInternals:C});I(_.sourceEvent,L,D)}};if(t)N.on(".drag",null);else{const _=MYe().on("start",C=>{const{domNode:A,nodeDragThreshold:O}=l.getState();O===0&&j(C),b.current=!1;const M=w(C);h.current=M,p.current=(A==null?void 0:A.getBoundingClientRect())||null,m.current=Hc(C.sourceEvent,p.current)}).on("drag",C=>{var P,E;const A=w(C),{autoPanOnNodeDrag:O,nodeDragThreshold:M}=l.getState();if(C.sourceEvent.type==="touchmove"&&C.sourceEvent.touches.length>1&&(b.current=!0),!b.current){if(!y.current&&x.current&&O&&(y.current=!0,k()),!x.current){const I=A.xSnapped-(((P=h==null?void 0:h.current)==null?void 0:P.x)??0),T=A.ySnapped-(((E=h==null?void 0:h.current)==null?void 0:E.y)??0);Math.sqrt(I*I+T*T)>M&&j(C)}(h.current.x!==A.xSnapped||h.current.y!==A.ySnapped)&&d.current&&x.current&&(g.current=C.sourceEvent,m.current=Hc(C.sourceEvent,p.current),S(A))}}).on("end",C=>{if(!(!x.current||b.current)&&(u(!1),y.current=!1,x.current=!1,cancelAnimationFrame(f.current),d.current)){const{updateNodePositions:A,nodeInternals:O,onNodeDragStop:M,onSelectionDragStop:P}=l.getState(),E=s?M:nT(P);if(A(d.current,!1,!1),E){const[I,T]=tT({nodeId:s,dragItems:d.current,nodeInternals:O});E(C.sourceEvent,I,T)}}}).filter(C=>{const A=C.target;return!C.button&&(!n||!WU(A,`.${n}`,e))&&(!r||WU(A,r,e))});return N.call(_),()=>{N.on(".drag",null)}}}},[e,t,n,r,i,l,s,o,w]),c}function Ese(){const e=kr();return v.useCallback(n=>{const{nodeInternals:r,nodeExtent:s,updateNodePositions:i,getNodes:o,snapToGrid:l,snapGrid:c,onError:u,nodesDraggable:d}=e.getState(),h=o().filter(b=>b.selected&&(b.draggable||d&&typeof b.draggable>"u")),f=l?c[0]:5,p=l?c[1]:5,m=n.isShiftPressed?4:1,g=n.x*f*m,y=n.y*p*m,x=h.map(b=>{if(b.positionAbsolute){const w={x:b.positionAbsolute.x+g,y:b.positionAbsolute.y+y};l&&(w.x=c[0]*Math.round(w.x/c[0]),w.y=c[1]*Math.round(w.y/c[1]));const{positionAbsolute:N,position:S}=jse(b,w,r,s,void 0,u);b.position=S,b.positionAbsolute=N}return b});i(x,!0,!1)},[])}const Jf={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var vg=e=>{const t=({id:n,type:r,data:s,xPos:i,yPos:o,xPosOrigin:l,yPosOrigin:c,selected:u,onClick:d,onMouseEnter:h,onMouseMove:f,onMouseLeave:p,onContextMenu:m,onDoubleClick:g,style:y,className:x,isDraggable:b,isSelectable:w,isConnectable:N,isFocusable:S,selectNodesOnDrag:k,sourcePosition:j,targetPosition:_,hidden:C,resizeObserver:A,dragHandle:O,zIndex:M,isParent:P,noDragClassName:E,noPanClassName:I,initialized:T,disableKeyboardA11y:R,ariaLabel:L,rfId:D,hasHandleBounds:F})=>{const z=kr(),B=v.useRef(null),$=v.useRef(null),W=v.useRef(j),V=v.useRef(_),Y=v.useRef(r),G=w||b||d||h||f||p,Z=Ese(),q=xg(n,z.getState,h),ee=xg(n,z.getState,f),se=xg(n,z.getState,p),X=xg(n,z.getState,m),de=xg(n,z.getState,g),pe=Ae=>{const{nodeDragThreshold:ne}=z.getState();if(w&&(!k||!b||ne>0)&&jM({id:n,store:z,nodeRef:B}),d){const Je=z.getState().nodeInternals.get(n);Je&&d(Ae,{...Je})}},Se=Ae=>{if(!wM(Ae)&&!R)if(Xre.includes(Ae.key)&&w){const ne=Ae.key==="Escape";jM({id:n,store:z,unselect:ne,nodeRef:B})}else b&&u&&Object.prototype.hasOwnProperty.call(Jf,Ae.key)&&(z.setState({ariaLiveMessage:`Moved selected node ${Ae.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~i}, y: ${~~o}`}),Z({x:Jf[Ae.key].x,y:Jf[Ae.key].y,isShiftPressed:Ae.shiftKey}))};v.useEffect(()=>()=>{$.current&&(A==null||A.unobserve($.current),$.current=null)},[]),v.useEffect(()=>{if(B.current&&!C){const Ae=B.current;(!T||!F||$.current!==Ae)&&($.current&&(A==null||A.unobserve($.current)),A==null||A.observe(Ae),$.current=Ae)}},[C,T,F]),v.useEffect(()=>{const Ae=Y.current!==r,ne=W.current!==j,Je=V.current!==_;B.current&&(Ae||ne||Je)&&(Ae&&(Y.current=r),ne&&(W.current=j),Je&&(V.current=_),z.getState().updateNodeDimensions([{id:n,nodeElement:B.current,forceUpdate:!0}]))},[n,r,j,_]);const be=_se({nodeRef:B,disabled:C||!b,noDragClassName:E,handleSelector:O,nodeId:n,isSelectable:w,selectNodesOnDrag:k});return C?null:H.createElement("div",{className:Kr(["react-flow__node",`react-flow__node-${r}`,{[I]:b},x,{selected:u,selectable:w,parent:P,dragging:be}]),ref:B,style:{zIndex:M,transform:`translate(${l}px,${c}px)`,pointerEvents:G?"all":"none",visibility:T?"visible":"hidden",...y},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:q,onMouseMove:ee,onMouseLeave:se,onContextMenu:X,onClick:pe,onDoubleClick:de,onKeyDown:S?Se:void 0,tabIndex:S?0:void 0,role:S?"button":void 0,"aria-describedby":R?void 0:`${gse}-${D}`,"aria-label":L},H.createElement(cJe,{value:n},H.createElement(e,{id:n,data:s,type:r,xPos:i,yPos:o,selected:u,isConnectable:N,sourcePosition:j,targetPosition:_,dragging:be,dragHandle:O,zIndex:M})))};return t.displayName="NodeWrapper",v.memo(t)};const YJe=e=>{const t=e.getNodes().filter(n=>n.selected);return{...j0(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function XJe({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=kr(),{width:s,height:i,x:o,y:l,transformString:c,userSelectionActive:u}=sn(YJe,Pr),d=Ese(),h=v.useRef(null);if(v.useEffect(()=>{var m;n||(m=h.current)==null||m.focus({preventScroll:!0})},[n]),_se({nodeRef:h}),u||!s||!i)return null;const f=e?m=>{const g=r.getState().getNodes().filter(y=>y.selected);e(m,g)}:void 0,p=m=>{Object.prototype.hasOwnProperty.call(Jf,m.key)&&d({x:Jf[m.key].x,y:Jf[m.key].y,isShiftPressed:m.shiftKey})};return H.createElement("div",{className:Kr(["react-flow__nodesselection","react-flow__container",t]),style:{transform:c}},H.createElement("div",{ref:h,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:p,style:{width:s,height:i,top:l,left:o}}))}var JJe=v.memo(XJe);const QJe=e=>e.nodesSelectionActive,Cse=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:o,deleteKeyCode:l,onMove:c,onMoveStart:u,onMoveEnd:d,selectionKeyCode:h,selectionOnDrag:f,selectionMode:p,onSelectionStart:m,onSelectionEnd:g,multiSelectionKeyCode:y,panActivationKeyCode:x,zoomActivationKeyCode:b,elementsSelectable:w,zoomOnScroll:N,zoomOnPinch:S,panOnScroll:k,panOnScrollSpeed:j,panOnScrollMode:_,zoomOnDoubleClick:C,panOnDrag:A,defaultViewport:O,translateExtent:M,minZoom:P,maxZoom:E,preventScrolling:I,onSelectionContextMenu:T,noWheelClassName:R,noPanClassName:L,disableKeyboardA11y:D})=>{const F=sn(QJe),z=nv(h),B=nv(x),$=B||A,W=B||k,V=z||f&&$!==!0;return LJe({deleteKeyCode:l,multiSelectionKeyCode:y}),H.createElement(zJe,{onMove:c,onMoveStart:u,onMoveEnd:d,onPaneContextMenu:i,elementsSelectable:w,zoomOnScroll:N,zoomOnPinch:S,panOnScroll:W,panOnScrollSpeed:j,panOnScrollMode:_,zoomOnDoubleClick:C,panOnDrag:!z&&$,defaultViewport:O,translateExtent:M,minZoom:P,maxZoom:E,zoomActivationKeyCode:b,preventScrolling:I,noWheelClassName:R,noPanClassName:L},H.createElement(Nse,{onSelectionStart:m,onSelectionEnd:g,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:o,panOnDrag:$,isSelecting:!!V,selectionMode:p},e,F&&H.createElement(JJe,{onSelectionContextMenu:T,noPanClassName:L,disableKeyboardA11y:D})))};Cse.displayName="FlowRenderer";var ZJe=v.memo(Cse);function eQe(e){return sn(v.useCallback(n=>e?sse(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function tQe(e){const t={input:vg(e.input||hse),default:vg(e.default||kM),output:vg(e.output||pse),group:vg(e.group||NL)},n={},r=Object.keys(e).filter(s=>!["input","default","output","group"].includes(s)).reduce((s,i)=>(s[i]=vg(e[i]||kM),s),n);return{...t,...r}}const nQe=({x:e,y:t,width:n,height:r,origin:s})=>!n||!r?{x:e,y:t}:s[0]<0||s[1]<0||s[0]>1||s[1]>1?{x:e,y:t}:{x:e-n*s[0],y:t-r*s[1]},rQe=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),Tse=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,updateNodeDimensions:i,onError:o}=sn(rQe,Pr),l=eQe(e.onlyRenderVisibleElements),c=v.useRef(),u=v.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const d=new ResizeObserver(h=>{const f=h.map(p=>({id:p.target.getAttribute("data-id"),nodeElement:p.target,forceUpdate:!0}));i(f)});return c.current=d,d},[]);return v.useEffect(()=>()=>{var d;(d=c==null?void 0:c.current)==null||d.disconnect()},[]),H.createElement("div",{className:"react-flow__nodes",style:kL},l.map(d=>{var S,k,j;let h=d.type||"default";e.nodeTypes[h]||(o==null||o("003",Ol.error003(h)),h="default");const f=e.nodeTypes[h]||e.nodeTypes.default,p=!!(d.draggable||t&&typeof d.draggable>"u"),m=!!(d.selectable||s&&typeof d.selectable>"u"),g=!!(d.connectable||n&&typeof d.connectable>"u"),y=!!(d.focusable||r&&typeof d.focusable>"u"),x=e.nodeExtent?gL(d.positionAbsolute,e.nodeExtent):d.positionAbsolute,b=(x==null?void 0:x.x)??0,w=(x==null?void 0:x.y)??0,N=nQe({x:b,y:w,width:d.width??0,height:d.height??0,origin:e.nodeOrigin});return H.createElement(f,{key:d.id,id:d.id,className:d.className,style:d.style,type:h,data:d.data,sourcePosition:d.sourcePosition||we.Bottom,targetPosition:d.targetPosition||we.Top,hidden:d.hidden,xPos:b,yPos:w,xPosOrigin:N.x,yPosOrigin:N.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!d.selected,isDraggable:p,isSelectable:m,isConnectable:g,isFocusable:y,resizeObserver:u,dragHandle:d.dragHandle,zIndex:((S=d[Yn])==null?void 0:S.z)??0,isParent:!!((k=d[Yn])!=null&&k.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!d.width&&!!d.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:d.ariaLabel,hasHandleBounds:!!((j=d[Yn])!=null&&j.handleBounds)})}))};Tse.displayName="NodeRenderer";var sQe=v.memo(Tse);const iQe=(e,t,n)=>n===we.Left?e-t:n===we.Right?e+t:e,oQe=(e,t,n)=>n===we.Top?e-t:n===we.Bottom?e+t:e,GU="react-flow__edgeupdater",qU=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:s,onMouseEnter:i,onMouseOut:o,type:l})=>H.createElement("circle",{onMouseDown:s,onMouseEnter:i,onMouseOut:o,className:Kr([GU,`${GU}-${l}`]),cx:iQe(t,r,e),cy:oQe(n,r,e),r,stroke:"transparent",fill:"transparent"}),aQe=()=>!0;var Hh=e=>{const t=({id:n,className:r,type:s,data:i,onClick:o,onEdgeDoubleClick:l,selected:c,animated:u,label:d,labelStyle:h,labelShowBg:f,labelBgStyle:p,labelBgPadding:m,labelBgBorderRadius:g,style:y,source:x,target:b,sourceX:w,sourceY:N,targetX:S,targetY:k,sourcePosition:j,targetPosition:_,elementsSelectable:C,hidden:A,sourceHandleId:O,targetHandleId:M,onContextMenu:P,onMouseEnter:E,onMouseMove:I,onMouseLeave:T,reconnectRadius:R,onReconnect:L,onReconnectStart:D,onReconnectEnd:F,markerEnd:z,markerStart:B,rfId:$,ariaLabel:W,isFocusable:V,isReconnectable:Y,pathOptions:G,interactionWidth:Z,disableKeyboardA11y:q})=>{const ee=v.useRef(null),[se,X]=v.useState(!1),[de,pe]=v.useState(!1),Se=kr(),be=v.useMemo(()=>`url('#${SM(B,$)}')`,[B,$]),Ae=v.useMemo(()=>`url('#${SM(z,$)}')`,[z,$]);if(A)return null;const ne=yt=>{var sr;const{edges:ln,addSelectedEdges:Tt,unselectNodesAndEdges:Tn,multiSelectionActive:ms}=Se.getState(),Qn=ln.find(Si=>Si.id===n);Qn&&(C&&(Se.setState({nodesSelectionActive:!1}),Qn.selected&&ms?(Tn({nodes:[],edges:[Qn]}),(sr=ee.current)==null||sr.blur()):Tt([n])),o&&o(yt,Qn))},Je=yg(n,Se.getState,l),qe=yg(n,Se.getState,P),De=yg(n,Se.getState,E),gt=yg(n,Se.getState,I),St=yg(n,Se.getState,T),qt=(yt,ln)=>{if(yt.button!==0)return;const{edges:Tt,isValidConnection:Tn}=Se.getState(),ms=ln?b:x,Qn=(ln?M:O)||null,sr=ln?"target":"source",Si=Tn||aQe,Ln=ln,Ps=Tt.find($n=>$n.id===n);pe(!0),D==null||D(yt,Ps,sr);const gs=$n=>{pe(!1),F==null||F($n,Ps,sr)};lse({event:yt,handleId:Qn,nodeId:ms,onConnect:$n=>L==null?void 0:L(Ps,$n),isTarget:Ln,getState:Se.getState,setState:Se.setState,isValidConnection:Si,edgeUpdaterType:sr,onReconnectEnd:gs})},In=yt=>qt(yt,!0),fe=yt=>qt(yt,!1),Ne=()=>X(!0),ae=()=>X(!1),Oe=!C&&!o,at=yt=>{var ln;if(!q&&Xre.includes(yt.key)&&C){const{unselectNodesAndEdges:Tt,addSelectedEdges:Tn,edges:ms}=Se.getState();yt.key==="Escape"?((ln=ee.current)==null||ln.blur(),Tt({edges:[ms.find(sr=>sr.id===n)]})):Tn([n])}};return H.createElement("g",{className:Kr(["react-flow__edge",`react-flow__edge-${s}`,r,{selected:c,animated:u,inactive:Oe,updating:se}]),onClick:ne,onDoubleClick:Je,onContextMenu:qe,onMouseEnter:De,onMouseMove:gt,onMouseLeave:St,onKeyDown:V?at:void 0,tabIndex:V?0:void 0,role:V?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":W===null?void 0:W||`Edge from ${x} to ${b}`,"aria-describedby":V?`${yse}-${$}`:void 0,ref:ee},!de&&H.createElement(e,{id:n,source:x,target:b,selected:c,animated:u,label:d,labelStyle:h,labelShowBg:f,labelBgStyle:p,labelBgPadding:m,labelBgBorderRadius:g,data:i,style:y,sourceX:w,sourceY:N,targetX:S,targetY:k,sourcePosition:j,targetPosition:_,sourceHandleId:O,targetHandleId:M,markerStart:be,markerEnd:Ae,pathOptions:G,interactionWidth:Z}),Y&&H.createElement(H.Fragment,null,(Y==="source"||Y===!0)&&H.createElement(qU,{position:j,centerX:w,centerY:N,radius:R,onMouseDown:In,onMouseEnter:Ne,onMouseOut:ae,type:"source"}),(Y==="target"||Y===!0)&&H.createElement(qU,{position:_,centerX:S,centerY:k,radius:R,onMouseDown:fe,onMouseEnter:Ne,onMouseOut:ae,type:"target"})))};return t.displayName="EdgeWrapper",v.memo(t)};function lQe(e){const t={default:Hh(e.default||xN),straight:Hh(e.bezier||vL),step:Hh(e.step||xL),smoothstep:Hh(e.step||A_),simplebezier:Hh(e.simplebezier||yL)},n={},r=Object.keys(e).filter(s=>!["default","bezier"].includes(s)).reduce((s,i)=>(s[i]=Hh(e[i]||xN),s),n);return{...t,...r}}function KU(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,s=((n==null?void 0:n.y)||0)+t.y,i=(n==null?void 0:n.width)||t.width,o=(n==null?void 0:n.height)||t.height;switch(e){case we.Top:return{x:r+i/2,y:s};case we.Right:return{x:r+i,y:s+o/2};case we.Bottom:return{x:r+i/2,y:s+o};case we.Left:return{x:r,y:s+o/2}}}function YU(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const cQe=(e,t,n,r,s,i)=>{const o=KU(n,e,t),l=KU(i,r,s);return{sourceX:o.x,sourceY:o.y,targetX:l.x,targetY:l.y}};function uQe({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:s,targetHeight:i,width:o,height:l,transform:c}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+s),y2:Math.max(e.y+r,t.y+i)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const d=ev({x:(0-c[0])/c[2],y:(0-c[1])/c[2],width:o/c[2],height:l/c[2]}),h=Math.max(0,Math.min(d.x2,u.x2)-Math.max(d.x,u.x)),f=Math.max(0,Math.min(d.y2,u.y2)-Math.max(d.y,u.y));return Math.ceil(h*f)>0}function XU(e){var r,s,i,o,l;const t=((r=e==null?void 0:e[Yn])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.x)<"u"&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.y)<"u";return[{x:((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.x)||0,y:((l=e==null?void 0:e.positionAbsolute)==null?void 0:l.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const dQe=[{level:0,isMaxLevel:!0,edges:[]}];function hQe(e,t,n=!1){let r=-1;const s=e.reduce((o,l)=>{var d,h;const c=Fi(l.zIndex);let u=c?l.zIndex:0;if(n){const f=t.get(l.target),p=t.get(l.source),m=l.selected||(f==null?void 0:f.selected)||(p==null?void 0:p.selected),g=Math.max(((d=p==null?void 0:p[Yn])==null?void 0:d.z)||0,((h=f==null?void 0:f[Yn])==null?void 0:h.z)||0,1e3);u=(c?l.zIndex:0)+(m?g:0)}return o[u]?o[u].push(l):o[u]=[l],r=u>r?u:r,o},{}),i=Object.entries(s).map(([o,l])=>{const c=+o;return{edges:l,level:c,isMaxLevel:c===r}});return i.length===0?dQe:i}function fQe(e,t,n){const r=sn(v.useCallback(s=>e?s.edges.filter(i=>{const o=t.get(i.source),l=t.get(i.target);return(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&(l==null?void 0:l.width)&&(l==null?void 0:l.height)&&uQe({sourcePos:o.positionAbsolute||{x:0,y:0},targetPos:l.positionAbsolute||{x:0,y:0},sourceWidth:o.width,sourceHeight:o.height,targetWidth:l.width,targetHeight:l.height,width:s.width,height:s.height,transform:s.transform})}):s.edges,[e,t]));return hQe(r,t,n)}const pQe=({color:e="none",strokeWidth:t=1})=>H.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),mQe=({color:e="none",strokeWidth:t=1})=>H.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),JU={[gN.Arrow]:pQe,[gN.ArrowClosed]:mQe};function gQe(e){const t=kr();return v.useMemo(()=>{var s,i;return Object.prototype.hasOwnProperty.call(JU,e)?JU[e]:((i=(s=t.getState()).onError)==null||i.call(s,"009",Ol.error009(e)),null)},[e])}const yQe=({id:e,type:t,color:n,width:r=12.5,height:s=12.5,markerUnits:i="strokeWidth",strokeWidth:o,orient:l="auto-start-reverse"})=>{const c=gQe(t);return c?H.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:l,refX:"0",refY:"0"},H.createElement(c,{color:n,strokeWidth:o})):null},xQe=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((s,i)=>([i.markerStart,i.markerEnd].forEach(o=>{if(o&&typeof o=="object"){const l=SM(o,t);r.includes(l)||(s.push({id:l,color:o.color||e,...o}),r.push(l))}}),s),[]).sort((s,i)=>s.id.localeCompare(i.id))},Ase=({defaultColor:e,rfId:t})=>{const n=sn(v.useCallback(xQe({defaultColor:e,rfId:t}),[e,t]),(r,s)=>!(r.length!==s.length||r.some((i,o)=>i.id!==s[o].id)));return H.createElement("defs",null,n.map(r=>H.createElement(yQe,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};Ase.displayName="MarkerDefinitions";var vQe=v.memo(Ase);const bQe=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),Ose=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:s,noPanClassName:i,onEdgeContextMenu:o,onEdgeMouseEnter:l,onEdgeMouseMove:c,onEdgeMouseLeave:u,onEdgeClick:d,onEdgeDoubleClick:h,onReconnect:f,onReconnectStart:p,onReconnectEnd:m,reconnectRadius:g,children:y,disableKeyboardA11y:x})=>{const{edgesFocusable:b,edgesUpdatable:w,elementsSelectable:N,width:S,height:k,connectionMode:j,nodeInternals:_,onError:C}=sn(bQe,Pr),A=fQe(t,_,n);return S?H.createElement(H.Fragment,null,A.map(({level:O,edges:M,isMaxLevel:P})=>H.createElement("svg",{key:O,style:{zIndex:O},width:S,height:k,className:"react-flow__edges react-flow__container"},P&&H.createElement(vQe,{defaultColor:e,rfId:r}),H.createElement("g",null,M.map(E=>{const[I,T,R]=XU(_.get(E.source)),[L,D,F]=XU(_.get(E.target));if(!R||!F)return null;let z=E.type||"default";s[z]||(C==null||C("011",Ol.error011(z)),z="default");const B=s[z]||s.default,$=j===Xd.Strict?D.target:(D.target??[]).concat(D.source??[]),W=YU(T.source,E.sourceHandle),V=YU($,E.targetHandle),Y=(W==null?void 0:W.position)||we.Bottom,G=(V==null?void 0:V.position)||we.Top,Z=!!(E.focusable||b&&typeof E.focusable>"u"),q=E.reconnectable||E.updatable,ee=typeof f<"u"&&(q||w&&typeof q>"u");if(!W||!V)return C==null||C("008",Ol.error008(W,E)),null;const{sourceX:se,sourceY:X,targetX:de,targetY:pe}=cQe(I,W,Y,L,V,G);return H.createElement(B,{key:E.id,id:E.id,className:Kr([E.className,i]),type:z,data:E.data,selected:!!E.selected,animated:!!E.animated,hidden:!!E.hidden,label:E.label,labelStyle:E.labelStyle,labelShowBg:E.labelShowBg,labelBgStyle:E.labelBgStyle,labelBgPadding:E.labelBgPadding,labelBgBorderRadius:E.labelBgBorderRadius,style:E.style,source:E.source,target:E.target,sourceHandleId:E.sourceHandle,targetHandleId:E.targetHandle,markerEnd:E.markerEnd,markerStart:E.markerStart,sourceX:se,sourceY:X,targetX:de,targetY:pe,sourcePosition:Y,targetPosition:G,elementsSelectable:N,onContextMenu:o,onMouseEnter:l,onMouseMove:c,onMouseLeave:u,onClick:d,onEdgeDoubleClick:h,onReconnect:f,onReconnectStart:p,onReconnectEnd:m,reconnectRadius:g,rfId:r,ariaLabel:E.ariaLabel,isFocusable:Z,isReconnectable:ee,pathOptions:"pathOptions"in E?E.pathOptions:void 0,interactionWidth:E.interactionWidth,disableKeyboardA11y:x})})))),y):null};Ose.displayName="EdgeRenderer";var wQe=v.memo(Ose);const SQe=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function NQe({children:e}){const t=sn(SQe);return H.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function kQe(e){const t=_0(),n=v.useRef(!1);v.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const jQe={[we.Left]:we.Right,[we.Right]:we.Left,[we.Top]:we.Bottom,[we.Bottom]:we.Top},Mse=({nodeId:e,handleType:t,style:n,type:r=lc.Bezier,CustomComponent:s,connectionStatus:i})=>{var k,j,_;const{fromNode:o,handleId:l,toX:c,toY:u,connectionMode:d}=sn(v.useCallback(C=>({fromNode:C.nodeInternals.get(e),handleId:C.connectionHandleId,toX:(C.connectionPosition.x-C.transform[0])/C.transform[2],toY:(C.connectionPosition.y-C.transform[1])/C.transform[2],connectionMode:C.connectionMode}),[e]),Pr),h=(k=o==null?void 0:o[Yn])==null?void 0:k.handleBounds;let f=h==null?void 0:h[t];if(d===Xd.Loose&&(f=f||(h==null?void 0:h[t==="source"?"target":"source"])),!o||!f)return null;const p=l?f.find(C=>C.id===l):f[0],m=p?p.x+p.width/2:(o.width??0)/2,g=p?p.y+p.height/2:o.height??0,y=(((j=o.positionAbsolute)==null?void 0:j.x)??0)+m,x=(((_=o.positionAbsolute)==null?void 0:_.y)??0)+g,b=p==null?void 0:p.position,w=b?jQe[b]:null;if(!b||!w)return null;if(s)return H.createElement(s,{connectionLineType:r,connectionLineStyle:n,fromNode:o,fromHandle:p,fromX:y,fromY:x,toX:c,toY:u,fromPosition:b,toPosition:w,connectionStatus:i});let N="";const S={sourceX:y,sourceY:x,sourcePosition:b,targetX:c,targetY:u,targetPosition:w};return r===lc.Bezier?[N]=tse(S):r===lc.Step?[N]=yN({...S,borderRadius:0}):r===lc.SmoothStep?[N]=yN(S):r===lc.SimpleBezier?[N]=ese(S):N=`M${y},${x} ${c},${u}`,H.createElement("path",{d:N,fill:"none",className:"react-flow__connection-path",style:n})};Mse.displayName="ConnectionLine";const _Qe=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function EQe({containerStyle:e,style:t,type:n,component:r}){const{nodeId:s,handleType:i,nodesConnectable:o,width:l,height:c,connectionStatus:u}=sn(_Qe,Pr);return!(s&&i&&l&&o)?null:H.createElement("svg",{style:e,width:l,height:c,className:"react-flow__edges react-flow__connectionline react-flow__container"},H.createElement("g",{className:Kr(["react-flow__connection",u])},H.createElement(Mse,{nodeId:s,handleType:i,style:t,type:n,CustomComponent:r,connectionStatus:u})))}function QU(e,t){return v.useRef(null),kr(),v.useMemo(()=>t(e),[e])}const Pse=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:s,onInit:i,onNodeClick:o,onEdgeClick:l,onNodeDoubleClick:c,onEdgeDoubleClick:u,onNodeMouseEnter:d,onNodeMouseMove:h,onNodeMouseLeave:f,onNodeContextMenu:p,onSelectionContextMenu:m,onSelectionStart:g,onSelectionEnd:y,connectionLineType:x,connectionLineStyle:b,connectionLineComponent:w,connectionLineContainerStyle:N,selectionKeyCode:S,selectionOnDrag:k,selectionMode:j,multiSelectionKeyCode:_,panActivationKeyCode:C,zoomActivationKeyCode:A,deleteKeyCode:O,onlyRenderVisibleElements:M,elementsSelectable:P,selectNodesOnDrag:E,defaultViewport:I,translateExtent:T,minZoom:R,maxZoom:L,preventScrolling:D,defaultMarkerColor:F,zoomOnScroll:z,zoomOnPinch:B,panOnScroll:$,panOnScrollSpeed:W,panOnScrollMode:V,zoomOnDoubleClick:Y,panOnDrag:G,onPaneClick:Z,onPaneMouseEnter:q,onPaneMouseMove:ee,onPaneMouseLeave:se,onPaneScroll:X,onPaneContextMenu:de,onEdgeContextMenu:pe,onEdgeMouseEnter:Se,onEdgeMouseMove:be,onEdgeMouseLeave:Ae,onReconnect:ne,onReconnectStart:Je,onReconnectEnd:qe,reconnectRadius:De,noDragClassName:gt,noWheelClassName:St,noPanClassName:qt,elevateEdgesOnSelect:In,disableKeyboardA11y:fe,nodeOrigin:Ne,nodeExtent:ae,rfId:Oe})=>{const at=QU(e,tQe),yt=QU(t,lQe);return kQe(i),H.createElement(ZJe,{onPaneClick:Z,onPaneMouseEnter:q,onPaneMouseMove:ee,onPaneMouseLeave:se,onPaneContextMenu:de,onPaneScroll:X,deleteKeyCode:O,selectionKeyCode:S,selectionOnDrag:k,selectionMode:j,onSelectionStart:g,onSelectionEnd:y,multiSelectionKeyCode:_,panActivationKeyCode:C,zoomActivationKeyCode:A,elementsSelectable:P,onMove:n,onMoveStart:r,onMoveEnd:s,zoomOnScroll:z,zoomOnPinch:B,zoomOnDoubleClick:Y,panOnScroll:$,panOnScrollSpeed:W,panOnScrollMode:V,panOnDrag:G,defaultViewport:I,translateExtent:T,minZoom:R,maxZoom:L,onSelectionContextMenu:m,preventScrolling:D,noDragClassName:gt,noWheelClassName:St,noPanClassName:qt,disableKeyboardA11y:fe},H.createElement(NQe,null,H.createElement(wQe,{edgeTypes:yt,onEdgeClick:l,onEdgeDoubleClick:u,onlyRenderVisibleElements:M,onEdgeContextMenu:pe,onEdgeMouseEnter:Se,onEdgeMouseMove:be,onEdgeMouseLeave:Ae,onReconnect:ne,onReconnectStart:Je,onReconnectEnd:qe,reconnectRadius:De,defaultMarkerColor:F,noPanClassName:qt,elevateEdgesOnSelect:!!In,disableKeyboardA11y:fe,rfId:Oe},H.createElement(EQe,{style:b,type:x,component:w,containerStyle:N})),H.createElement("div",{className:"react-flow__edgelabel-renderer"}),H.createElement(sQe,{nodeTypes:at,onNodeClick:o,onNodeDoubleClick:c,onNodeMouseEnter:d,onNodeMouseMove:h,onNodeMouseLeave:f,onNodeContextMenu:p,selectNodesOnDrag:E,onlyRenderVisibleElements:M,noPanClassName:qt,noDragClassName:gt,disableKeyboardA11y:fe,nodeOrigin:Ne,nodeExtent:ae,rfId:Oe})))};Pse.displayName="GraphView";var CQe=v.memo(Pse);const _M=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Vl={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:_M,nodeExtent:_M,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Xd.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:rJe,isValidConnection:void 0},TQe=()=>Wqe((e,t)=>({...Vl,setNodes:n=>{const{nodeInternals:r,nodeOrigin:s,elevateNodesOnSelect:i}=t();e({nodeInternals:ZC(n,r,s,i)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(s=>({...r,...s}))})},setDefaultNodesAndEdges:(n,r)=>{const s=typeof n<"u",i=typeof r<"u",o=s?ZC(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:o,edges:i?r:[],hasDefaultNodes:s,hasDefaultEdges:i})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:s,fitViewOnInit:i,fitViewOnInitDone:o,fitViewOnInitOptions:l,domNode:c,nodeOrigin:u}=t(),d=c==null?void 0:c.querySelector(".react-flow__viewport");if(!d)return;const h=window.getComputedStyle(d),{m22:f}=new window.DOMMatrixReadOnly(h.transform),p=n.reduce((g,y)=>{const x=s.get(y.id);if(x!=null&&x.hidden)s.set(x.id,{...x,[Yn]:{...x[Yn],handleBounds:void 0}});else if(x){const b=mL(y.nodeElement);!!(b.width&&b.height&&(x.width!==b.width||x.height!==b.height||y.forceUpdate))&&(s.set(x.id,{...x,[Yn]:{...x[Yn],handleBounds:{source:VU(".source",y.nodeElement,f,u),target:VU(".target",y.nodeElement,f,u)}},...b}),g.push({id:x.id,type:"dimensions",dimensions:b}))}return g},[]);vse(s,u);const m=o||i&&!o&&bse(t,{initial:!0,...l});e({nodeInternals:new Map(s),fitViewOnInitDone:m}),(p==null?void 0:p.length)>0&&(r==null||r(p))},updateNodePositions:(n,r=!0,s=!1)=>{const{triggerNodeChanges:i}=t(),o=n.map(l=>{const c={id:l.id,type:"position",dragging:s};return r&&(c.positionAbsolute=l.positionAbsolute,c.position=l.position),c});i(o)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:s,hasDefaultNodes:i,nodeOrigin:o,getNodes:l,elevateNodesOnSelect:c}=t();if(n!=null&&n.length){if(i){const u=Sse(n,l()),d=ZC(u,s,o,c);e({nodeInternals:d})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:s,getNodes:i}=t();let o,l=null;r?o=n.map(c=>ec(c,!0)):(o=_f(i(),n),l=_f(s,[])),Ub({changedNodes:o,changedEdges:l,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:s,getNodes:i}=t();let o,l=null;r?o=n.map(c=>ec(c,!0)):(o=_f(s,n),l=_f(i(),[])),Ub({changedNodes:l,changedEdges:o,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:s,getNodes:i}=t(),o=n||i(),l=r||s,c=o.map(d=>(d.selected=!1,ec(d.id,!1))),u=l.map(d=>ec(d.id,!1));Ub({changedNodes:c,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:s}=t();r==null||r.scaleExtent([n,s]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:s}=t();r==null||r.scaleExtent([s,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),i=r().filter(l=>l.selected).map(l=>ec(l.id,!1)),o=n.filter(l=>l.selected).map(l=>ec(l.id,!1));Ub({changedNodes:i,changedEdges:o,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(s=>{s.positionAbsolute=gL(s.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:s,height:i,d3Zoom:o,d3Selection:l,translateExtent:c}=t();if(!o||!l||!n.x&&!n.y)return!1;const u=gl.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),d=[[0,0],[s,i]],h=o==null?void 0:o.constrain()(u,d,c);return o.transform(l,h),r[0]!==h.x||r[1]!==h.y||r[2]!==h.k},cancelConnection:()=>e({connectionNodeId:Vl.connectionNodeId,connectionHandleId:Vl.connectionHandleId,connectionHandleType:Vl.connectionHandleType,connectionStatus:Vl.connectionStatus,connectionStartHandle:Vl.connectionStartHandle,connectionEndHandle:Vl.connectionEndHandle}),reset:()=>e({...Vl})}),Object.is),jL=({children:e})=>{const t=v.useRef(null);return t.current||(t.current=TQe()),H.createElement(XXe,{value:t.current},e)};jL.displayName="ReactFlowProvider";const Dse=({children:e})=>v.useContext(T_)?H.createElement(H.Fragment,null,e):H.createElement(jL,null,e);Dse.displayName="ReactFlowWrapper";const AQe={input:hse,default:kM,output:pse,group:NL},OQe={default:xN,straight:vL,step:xL,smoothstep:A_,simplebezier:yL},MQe=[0,0],PQe=[15,15],DQe={x:0,y:0,zoom:1},RQe={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Rse=v.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:s,nodeTypes:i=AQe,edgeTypes:o=OQe,onNodeClick:l,onEdgeClick:c,onInit:u,onMove:d,onMoveStart:h,onMoveEnd:f,onConnect:p,onConnectStart:m,onConnectEnd:g,onClickConnectStart:y,onClickConnectEnd:x,onNodeMouseEnter:b,onNodeMouseMove:w,onNodeMouseLeave:N,onNodeContextMenu:S,onNodeDoubleClick:k,onNodeDragStart:j,onNodeDrag:_,onNodeDragStop:C,onNodesDelete:A,onEdgesDelete:O,onSelectionChange:M,onSelectionDragStart:P,onSelectionDrag:E,onSelectionDragStop:I,onSelectionContextMenu:T,onSelectionStart:R,onSelectionEnd:L,connectionMode:D=Xd.Strict,connectionLineType:F=lc.Bezier,connectionLineStyle:z,connectionLineComponent:B,connectionLineContainerStyle:$,deleteKeyCode:W="Backspace",selectionKeyCode:V="Shift",selectionOnDrag:Y=!1,selectionMode:G=tv.Full,panActivationKeyCode:Z="Space",multiSelectionKeyCode:q=mN()?"Meta":"Control",zoomActivationKeyCode:ee=mN()?"Meta":"Control",snapToGrid:se=!1,snapGrid:X=PQe,onlyRenderVisibleElements:de=!1,selectNodesOnDrag:pe=!0,nodesDraggable:Se,nodesConnectable:be,nodesFocusable:Ae,nodeOrigin:ne=MQe,edgesFocusable:Je,edgesUpdatable:qe,elementsSelectable:De,defaultViewport:gt=DQe,minZoom:St=.5,maxZoom:qt=2,translateExtent:In=_M,preventScrolling:fe=!0,nodeExtent:Ne,defaultMarkerColor:ae="#b1b1b7",zoomOnScroll:Oe=!0,zoomOnPinch:at=!0,panOnScroll:yt=!1,panOnScrollSpeed:ln=.5,panOnScrollMode:Tt=rd.Free,zoomOnDoubleClick:Tn=!0,panOnDrag:ms=!0,onPaneClick:Qn,onPaneMouseEnter:sr,onPaneMouseMove:Si,onPaneMouseLeave:Ln,onPaneScroll:Ps,onPaneContextMenu:gs,children:Js,onEdgeContextMenu:$n,onEdgeDoubleClick:Ds,onEdgeMouseEnter:Ge,onEdgeMouseMove:xt,onEdgeMouseLeave:Rt,onEdgeUpdate:Lr,onEdgeUpdateStart:Qt,onEdgeUpdateEnd:jr,onReconnect:hn,onReconnectStart:Bn,onReconnectEnd:Nn,reconnectRadius:Jo=10,edgeUpdaterRadius:An=10,onNodesChange:Qo,onEdgesChange:oe,noDragClassName:Nt="nodrag",noWheelClassName:hr="nowheel",noPanClassName:Nh="nopan",fitView:iE=!1,fitViewOptions:oE,connectOnClick:aE=!0,attributionPosition:lE,proOptions:kh,defaultEdgeOptions:Wm,elevateNodesOnSelect:Vm=!0,elevateEdgesOnSelect:Gm=!1,disableKeyboardA11y:jh=!1,autoPanOnConnect:D0=!0,autoPanOnNodeDrag:cE=!0,connectionRadius:Zn=20,isValidConnection:La,onError:R0,style:uE,id:I0,nodeDragThreshold:dE,...hE},fE)=>{const ce=I0||"1";return H.createElement("div",{...hE,style:{...uE,...RQe},ref:fE,className:Kr(["react-flow",s]),"data-testid":"rf__wrapper",id:I0},H.createElement(Dse,null,H.createElement(CQe,{onInit:u,onMove:d,onMoveStart:h,onMoveEnd:f,onNodeClick:l,onEdgeClick:c,onNodeMouseEnter:b,onNodeMouseMove:w,onNodeMouseLeave:N,onNodeContextMenu:S,onNodeDoubleClick:k,nodeTypes:i,edgeTypes:o,connectionLineType:F,connectionLineStyle:z,connectionLineComponent:B,connectionLineContainerStyle:$,selectionKeyCode:V,selectionOnDrag:Y,selectionMode:G,deleteKeyCode:W,multiSelectionKeyCode:q,panActivationKeyCode:Z,zoomActivationKeyCode:ee,onlyRenderVisibleElements:de,selectNodesOnDrag:pe,defaultViewport:gt,translateExtent:In,minZoom:St,maxZoom:qt,preventScrolling:fe,zoomOnScroll:Oe,zoomOnPinch:at,zoomOnDoubleClick:Tn,panOnScroll:yt,panOnScrollSpeed:ln,panOnScrollMode:Tt,panOnDrag:ms,onPaneClick:Qn,onPaneMouseEnter:sr,onPaneMouseMove:Si,onPaneMouseLeave:Ln,onPaneScroll:Ps,onPaneContextMenu:gs,onSelectionContextMenu:T,onSelectionStart:R,onSelectionEnd:L,onEdgeContextMenu:$n,onEdgeDoubleClick:Ds,onEdgeMouseEnter:Ge,onEdgeMouseMove:xt,onEdgeMouseLeave:Rt,onReconnect:hn??Lr,onReconnectStart:Bn??Qt,onReconnectEnd:Nn??jr,reconnectRadius:Jo??An,defaultMarkerColor:ae,noDragClassName:Nt,noWheelClassName:hr,noPanClassName:Nh,elevateEdgesOnSelect:Gm,rfId:ce,disableKeyboardA11y:jh,nodeOrigin:ne,nodeExtent:Ne}),H.createElement(jJe,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:p,onConnectStart:m,onConnectEnd:g,onClickConnectStart:y,onClickConnectEnd:x,nodesDraggable:Se,nodesConnectable:be,nodesFocusable:Ae,edgesFocusable:Je,edgesUpdatable:qe,elementsSelectable:De,elevateNodesOnSelect:Vm,minZoom:St,maxZoom:qt,nodeExtent:Ne,onNodesChange:Qo,onEdgesChange:oe,snapToGrid:se,snapGrid:X,connectionMode:D,translateExtent:In,connectOnClick:aE,defaultEdgeOptions:Wm,fitView:iE,fitViewOptions:oE,onNodesDelete:A,onEdgesDelete:O,onNodeDragStart:j,onNodeDrag:_,onNodeDragStop:C,onSelectionDrag:E,onSelectionDragStart:P,onSelectionDragStop:I,noPanClassName:Nh,nodeOrigin:ne,rfId:ce,autoPanOnConnect:D0,autoPanOnNodeDrag:cE,onError:R0,connectionRadius:Zn,isValidConnection:La,nodeDragThreshold:dE}),H.createElement(NJe,{onSelectionChange:M}),Js,H.createElement(QXe,{proOptions:kh,position:lE}),H.createElement(AJe,{rfId:ce,disableKeyboardA11y:jh})))});Rse.displayName="ReactFlow";const IQe=e=>{var t;return(t=e.domNode)==null?void 0:t.querySelector(".react-flow__edgelabel-renderer")};function LQe({children:e}){const t=sn(IQe);return t?Ta.createPortal(e,t):null}const Ise=({id:e,x:t,y:n,width:r,height:s,style:i,color:o,strokeColor:l,strokeWidth:c,className:u,borderRadius:d,shapeRendering:h,onClick:f,selected:p})=>{const{background:m,backgroundColor:g}=i||{},y=o||m||g;return H.createElement("rect",{className:Kr(["react-flow__minimap-node",{selected:p},u]),x:t,y:n,rx:d,ry:d,width:r,height:s,fill:y,stroke:l,strokeWidth:c,shapeRendering:h,onClick:f?x=>f(x,e):void 0})};Ise.displayName="MiniMapNode";var $Qe=v.memo(Ise);const BQe=e=>e.nodeOrigin,FQe=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),rT=e=>e instanceof Function?e:()=>e;function zQe({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:s=2,nodeComponent:i=$Qe,onClick:o}){const l=sn(FQe,Pr),c=sn(BQe),u=rT(t),d=rT(e),h=rT(n),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return H.createElement(H.Fragment,null,l.map(p=>{const{x:m,y:g}=Sd(p,c).positionAbsolute;return H.createElement(i,{key:p.id,x:m,y:g,width:p.width,height:p.height,style:p.style,selected:p.selected,className:h(p),color:u(p),borderRadius:r,strokeColor:d(p),strokeWidth:s,shapeRendering:f,onClick:o,id:p.id})}))}var UQe=v.memo(zQe);const HQe=200,WQe=150,VQe=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?tJe(j0(t,e.nodeOrigin),n):n,rfId:e.rfId}},GQe="react-flow__minimap-desc";function Lse({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:s="",nodeBorderRadius:i=5,nodeStrokeWidth:o=2,nodeComponent:l,maskColor:c="rgb(240, 240, 240, 0.6)",maskStrokeColor:u="none",maskStrokeWidth:d=1,position:h="bottom-right",onClick:f,onNodeClick:p,pannable:m=!1,zoomable:g=!1,ariaLabel:y="React Flow mini map",inversePan:x=!1,zoomStep:b=10,offsetScale:w=5}){const N=kr(),S=v.useRef(null),{boundingRect:k,viewBB:j,rfId:_}=sn(VQe,Pr),C=(e==null?void 0:e.width)??HQe,A=(e==null?void 0:e.height)??WQe,O=k.width/C,M=k.height/A,P=Math.max(O,M),E=P*C,I=P*A,T=w*P,R=k.x-(E-k.width)/2-T,L=k.y-(I-k.height)/2-T,D=E+T*2,F=I+T*2,z=`${GQe}-${_}`,B=v.useRef(0);B.current=P,v.useEffect(()=>{if(S.current){const V=Ri(S.current),Y=q=>{const{transform:ee,d3Selection:se,d3Zoom:X}=N.getState();if(q.sourceEvent.type!=="wheel"||!se||!X)return;const de=-q.sourceEvent.deltaY*(q.sourceEvent.deltaMode===1?.05:q.sourceEvent.deltaMode?1:.002)*b,pe=ee[2]*Math.pow(2,de);X.scaleTo(se,pe)},G=q=>{const{transform:ee,d3Selection:se,d3Zoom:X,translateExtent:de,width:pe,height:Se}=N.getState();if(q.sourceEvent.type!=="mousemove"||!se||!X)return;const be=B.current*Math.max(1,ee[2])*(x?-1:1),Ae={x:ee[0]-q.sourceEvent.movementX*be,y:ee[1]-q.sourceEvent.movementY*be},ne=[[0,0],[pe,Se]],Je=gl.translate(Ae.x,Ae.y).scale(ee[2]),qe=X.constrain()(Je,ne,de);X.transform(se,qe)},Z=Wre().on("zoom",m?G:null).on("zoom.wheel",g?Y:null);return V.call(Z),()=>{V.on("zoom",null)}}},[m,g,x,b]);const $=f?V=>{const Y=wo(V);f(V,{x:Y[0],y:Y[1]})}:void 0,W=p?(V,Y)=>{const G=N.getState().nodeInternals.get(Y);p(V,G)}:void 0;return H.createElement(Xf,{position:h,style:e,className:Kr(["react-flow__minimap",t]),"data-testid":"rf__minimap"},H.createElement("svg",{width:C,height:A,viewBox:`${R} ${L} ${D} ${F}`,role:"img","aria-labelledby":z,ref:S,onClick:$},y&&H.createElement("title",{id:z},y),H.createElement(UQe,{onClick:W,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:s,nodeStrokeWidth:o,nodeComponent:l}),H.createElement("path",{className:"react-flow__minimap-mask",d:`M${R-T},${L-T}h${D+T*2}v${F+T*2}h${-D-T*2}z
        M${j.x},${j.y}h${j.width}v${j.height}h${-j.width}z`,fill:c,fillRule:"evenodd",stroke:u,strokeWidth:d,pointerEvents:"none"})))}Lse.displayName="MiniMap";var qQe=v.memo(Lse);function KQe(){return H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},H.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function YQe(){return H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},H.createElement("path",{d:"M0 0h32v4.2H0z"}))}function XQe(){return H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},H.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function JQe(){return H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},H.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function QQe(){return H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},H.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const Hg=({children:e,className:t,...n})=>H.createElement("button",{type:"button",className:Kr(["react-flow__controls-button",t]),...n},e);Hg.displayName="ControlButton";const ZQe=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),$se=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:s,onZoomIn:i,onZoomOut:o,onFitView:l,onInteractiveChange:c,className:u,children:d,position:h="bottom-left"})=>{const f=kr(),[p,m]=v.useState(!1),{isInteractive:g,minZoomReached:y,maxZoomReached:x}=sn(ZQe,Pr),{zoomIn:b,zoomOut:w,fitView:N}=_0();if(v.useEffect(()=>{m(!0)},[]),!p)return null;const S=()=>{b(),i==null||i()},k=()=>{w(),o==null||o()},j=()=>{N(s),l==null||l()},_=()=>{f.setState({nodesDraggable:!g,nodesConnectable:!g,elementsSelectable:!g}),c==null||c(!g)};return H.createElement(Xf,{className:Kr(["react-flow__controls",u]),position:h,style:e,"data-testid":"rf__controls"},t&&H.createElement(H.Fragment,null,H.createElement(Hg,{onClick:S,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:x},H.createElement(KQe,null)),H.createElement(Hg,{onClick:k,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:y},H.createElement(YQe,null))),n&&H.createElement(Hg,{className:"react-flow__controls-fitview",onClick:j,title:"fit view","aria-label":"fit view"},H.createElement(XQe,null)),r&&H.createElement(Hg,{className:"react-flow__controls-interactive",onClick:_,title:"toggle interactivity","aria-label":"toggle interactivity"},g?H.createElement(QQe,null):H.createElement(JQe,null)),d)};$se.displayName="Controls";var eZe=v.memo($se),$o;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})($o||($o={}));function tZe({color:e,dimensions:t,lineWidth:n}){return H.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function nZe({color:e,radius:t}){return H.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const rZe={[$o.Dots]:"#91919a",[$o.Lines]:"#eee",[$o.Cross]:"#e2e2e2"},sZe={[$o.Dots]:1,[$o.Lines]:1,[$o.Cross]:6},iZe=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function Bse({id:e,variant:t=$o.Dots,gap:n=20,size:r,lineWidth:s=1,offset:i=2,color:o,style:l,className:c}){const u=v.useRef(null),{transform:d,patternId:h}=sn(iZe,Pr),f=o||rZe[t],p=r||sZe[t],m=t===$o.Dots,g=t===$o.Cross,y=Array.isArray(n)?n:[n,n],x=[y[0]*d[2]||1,y[1]*d[2]||1],b=p*d[2],w=g?[b,b]:x,N=m?[b/i,b/i]:[w[0]/i,w[1]/i];return H.createElement("svg",{className:Kr(["react-flow__background",c]),style:{...l,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},H.createElement("pattern",{id:h+e,x:d[0]%x[0],y:d[1]%x[1],width:x[0],height:x[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${N[0]},-${N[1]})`},m?H.createElement(nZe,{color:f,radius:b/i}):H.createElement(tZe,{dimensions:w,color:f,lineWidth:s})),H.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${h+e})`}))}Bse.displayName="Background";var oZe=v.memo(Bse);const Fse={"depends-on":{stroke:"#ef4444",strokeWidth:2,label:"Depends On",animated:!0},"leads-to":{stroke:"#3b82f6",strokeWidth:2,label:"Leads To",animated:!1},related:{stroke:"#8b5cf6",strokeWidth:2,label:"Related",animated:!1},blocks:{stroke:"#f59e0b",strokeWidth:2,label:"Blocks",animated:!0},requires:{stroke:"#10b981",strokeWidth:2,label:"Requires",animated:!1},"contributes-to":{stroke:"#06b6d4",strokeWidth:2,label:"Contributes To",animated:!1}},Qf={yellow:{bg:"bg-yellow-50",border:"border-yellow-300",text:"text-yellow-900"},green:{bg:"bg-green-50",border:"border-green-300",text:"text-green-900"},blue:{bg:"bg-blue-50",border:"border-blue-300",text:"text-blue-900"},purple:{bg:"bg-purple-50",border:"border-purple-300",text:"text-purple-900"},pink:{bg:"bg-pink-50",border:"border-pink-300",text:"text-pink-900"},gray:{bg:"bg-gray-50",border:"border-gray-300",text:"text-gray-900"}},Wg={x:0,y:0,zoom:1},aZe=e=>({id:e.id,type:e.node_type,position:{x:e.position_x,y:e.position_y},data:e.data,width:e.width,height:e.height,selected:e.selected,dragging:e.dragging,positionAbsolute:{x:e.position_x,y:e.position_y}}),lZe=(e,t,n)=>({id:e.id,user_id:t,map_id:n,node_type:e.type||"goalCard",position_x:e.position.x,position_y:e.position.y,width:e.width,height:e.height,selected:e.selected||!1,dragging:e.dragging||!1,data:e.data}),cZe=e=>({id:e.id,source:e.source,sourceHandle:e.source_handle||null,target:e.target,targetHandle:e.target_handle||null,type:e.edge_type,animated:e.animated,style:e.style,selected:e.selected,data:e.data}),uZe=(e,t,n)=>({id:e.id,user_id:t,map_id:n,source:e.source,source_handle:e.sourceHandle||void 0,target:e.target,target_handle:e.targetHandle||void 0,edge_type:e.type||"smoothstep",animated:e.animated||!1,style:e.style,selected:e.selected||!1,data:e.data}),dZe=e=>e?{x:e.x,y:e.y,zoom:e.zoom}:Wg,hZe=(e,t,n)=>({user_id:t,map_id:n,x:e.x,y:e.y,zoom:e.zoom});function fZe(e="default"){const[t,n]=v.useState([]),[r,s]=v.useState([]),[i,o]=v.useState(Wg),[l,c]=v.useState(!1),[u,d]=v.useState(null),[h,f]=v.useState(!1),[p,m]=v.useState(null),g=e!==u;v.useEffect(()=>{(async()=>{const{data:{session:$}}=await Le.auth.getSession();$!=null&&$.user&&m($.user.id)})()},[]),v.useEffect(()=>{if(!p||!g){console.log(`[Load] Skipping load - userId: ${p}, needsLoad: ${g}`);return}console.log(`[Load] Starting load for map ${e} (was ${u})`),f(!0),c(!1),n([]),s([]),o(Wg),(async()=>{try{const{data:$,error:W}=await Le.from("goal_maps").select("*").eq("user_id",p).eq("map_id",e).single();if(W&&W.code==="PGRST116"){const{error:de}=await Le.from("goal_maps").insert({user_id:p,map_id:e,map_name:"My Goal Map",version:"1.0"});if(de)throw de}else if(W)throw W;const{data:V,error:Y}=await Le.from("goal_map_nodes").select("*").eq("user_id",p).eq("map_id",e);if(Y)throw Y;const G=(V||[]).map(aZe);console.log(`[Load] Loaded ${G.length} nodes for map ${e}`),n(G);const{data:Z,error:q}=await Le.from("goal_map_edges").select("*").eq("user_id",p).eq("map_id",e);if(q)throw q;const ee=(Z||[]).map(cZe);console.log(`[Load] Loaded ${ee.length} edges for map ${e}`),s(ee);const{data:se,error:X}=await Le.from("goal_map_viewports").select("*").eq("user_id",p).eq("map_id",e).single();if(X&&X.code!=="PGRST116")throw X;o(dZe(se)),d(e)}catch($){console.error("Error loading goal map data:",$),J.error("Failed to load goal map"),n([]),s([]),o(Wg),d(e)}finally{c(!0),setTimeout(()=>{console.log(`[Load] Finished loading map ${e}, enabling saves`),f(!1)},0)}})()},[p,e,u,g]),v.useEffect(()=>{if(!p||!l||g||h)return;const $=setTimeout(async()=>{try{if(await Le.from("goal_map_nodes").delete().eq("user_id",p).eq("map_id",u),t.length>0){const W=t.map(Y=>lZe(Y,p,u)),{error:V}=await Le.from("goal_map_nodes").insert(W);if(V)throw V}if(await Le.from("goal_map_edges").delete().eq("user_id",p).eq("map_id",u),r.length>0){const W=r.map(Y=>uZe(Y,p,u)),{error:V}=await Le.from("goal_map_edges").insert(W);if(V)throw V}console.log(`[Save] Saved ${t.length} nodes, ${r.length} edges to map ${u}`)}catch(W){console.error("Error saving goal map data:",W),J.error("Failed to save goal map")}},1e3);return()=>clearTimeout($)},[t,r,p,l,g,h,u]),v.useEffect(()=>{if(!p||!l||g||h)return;const $=setTimeout(async()=>{try{const W=hZe(i,p,u),{error:V}=await Le.from("goal_map_viewports").upsert(W,{onConflict:"user_id,map_id"});if(V)throw V}catch(W){console.error("Error saving viewport:",W)}},2e3);return()=>clearTimeout($)},[i,p,l,g,h,u]);const y=v.useCallback((B,$)=>{const W={id:B.id,type:"goalCard",position:$,data:{nodeType:"goal",goalId:B.id,title:B.title,description:B.description,type:B.type,status:B.status,priority:B.priority,progress:B.progress,category:B.category,tags:B.tags}};return n(V=>[...V,W]),W},[]),x=v.useCallback((B,$)=>{const V={id:`milestone-${Date.now()}`,type:"milestoneCard",position:$,data:{nodeType:"milestone",...B}};return n(Y=>[...Y,V]),V},[]),b=v.useCallback((B,$)=>{const V={id:`requirement-${Date.now()}`,type:"requirementCard",position:$,data:{nodeType:"requirement",...B}};return n(Y=>[...Y,V]),V},[]),w=v.useCallback((B,$)=>{const V={id:`note-${Date.now()}`,type:"noteCard",position:$,data:{nodeType:"note",...B}};return n(Y=>[...Y,V]),V},[]),N=v.useCallback(B=>{n($=>$.filter(W=>W.id!==B)),s($=>$.filter(W=>W.source!==B&&W.target!==B))},[]),S=v.useCallback((B,$)=>{n(W=>W.map(V=>V.id===B?{...V,data:{...V.data,...$}}:V))},[]),k=v.useCallback(B=>{n($=>Sse(B,$))},[]),j=v.useCallback(B=>{s($=>WJe(B,$))},[]),_=v.useCallback(B=>{const $={...B,id:`${B.source}-${B.target}-${Date.now()}`,type:"smoothstep",animated:!0,data:{relationshipType:"related"}};s(W=>nse($,W))},[]),C=v.useCallback((B,$)=>{s(W=>W.map(V=>V.id===B?{...V,data:{...V.data,...$}}:V))},[]),A=v.useCallback(B=>{s($=>$.filter(W=>W.id!==B))},[]),O=v.useCallback(B=>{o(B)},[]),M=v.useCallback(B=>t.some($=>$.id===B),[t]),P=v.useCallback(()=>t.filter(B=>B.data.nodeType==="goal").map(B=>B.data.goalId),[t]),E=v.useCallback(()=>{n([]),s([]),o(Wg)},[]),I=v.useCallback(B=>{S(B.id,{nodeType:"goal",goalId:B.id,title:B.title,description:B.description,type:B.type,status:B.status,priority:B.priority,progress:B.progress,category:B.category,tags:B.tags})},[S]),T=v.useCallback(B=>{const $=t.find(Y=>Y.id===B);if(!$)return null;const W=`${$.type}-${Date.now()}`,V={...$,id:W,position:{x:$.position.x+50,y:$.position.y+50},data:{...$.data,title:`${$.data.title} (Copy)`},selected:!1};return n(Y=>[...Y,V]),V},[t]),R=v.useCallback(B=>{const $=[];return B.forEach(W=>{const V=t.find(Z=>Z.id===W);if(!V)return;const Y=`${V.type}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,G={...V,id:Y,position:{x:V.position.x+50,y:V.position.y+50},data:{...V.data,title:`${V.data.title} (Copy)`},selected:!1};$.push(G)}),n(W=>[...W,...$]),$},[t]),L=v.useCallback(B=>{n($=>$.filter(W=>!B.includes(W.id))),s($=>$.filter(W=>!B.includes(W.source)&&!B.includes(W.target)))},[]),D=v.useCallback((B,$)=>{n(W=>W.map(V=>B.includes(V.id)?{...V,data:{...V.data,...$}}:V))},[]),F=v.useCallback(B=>{n(B)},[]),z=v.useCallback(B=>{s(B)},[]);return{nodes:t,edges:r,viewport:i,isLoaded:l,addGoalNode:y,addMilestoneNode:x,addRequirementNode:b,addNoteNode:w,removeNode:N,removeNodes:L,updateNode:S,updateNodes:D,duplicateNode:T,duplicateNodes:R,onNodesChange:k,onEdgesChange:j,onConnect:_,updateEdge:C,removeEdge:A,updateViewport:O,hasGoalNode:M,getCanvasGoalIds:P,clearCanvas:E,syncNodeWithGoal:I,setNodesState:F,setEdgesState:z}}const ZU=50;function pZe(){const[e,t]=v.useState([]),[n,r]=v.useState(-1),s=n>0,i=n<e.length-1,o=v.useCallback(d=>{t(h=>{const f=h.slice(0,n+1);return f.push({nodes:JSON.parse(JSON.stringify(d.nodes)),edges:JSON.parse(JSON.stringify(d.edges))}),f.length>ZU&&f.shift(),f}),r(h=>Math.min(h+1,ZU-1))},[n]),l=v.useCallback(()=>{if(!s)return null;const d=n-1;return r(d),e[d]},[s,n,e]),c=v.useCallback(()=>{if(!i)return null;const d=n+1;return r(d),e[d]},[i,n,e]),u=v.useCallback(()=>{t([]),r(-1)},[]);return{canUndo:s,canRedo:i,undo:l,redo:c,pushHistory:o,clearHistory:u}}const bg="goalmap_templates",wg=[{id:"career-path",name:"Career Path",description:"Plan your professional development and career advancement",category:"career",nodes:[{id:"career-goal-1",type:"goal",position:{x:250,y:50},data:{nodeType:"goal",title:"Senior Software Engineer",description:"Advance to senior engineering role within 2 years",type:"major",status:"in-progress",priority:"high",progress:35,category:"Career",tags:["promotion","technical-growth"],emoji:""}},{id:"career-milestone-1",type:"milestone",position:{x:100,y:200},data:{nodeType:"milestone",title:"Complete Architecture Course",description:"Finish system design and architecture certification",color:"blue",completed:!1,targetDate:new Date(Date.now()+90*24*60*60*1e3),emoji:""}},{id:"career-milestone-2",type:"milestone",position:{x:400,y:200},data:{nodeType:"milestone",title:"Lead Major Project",description:"Take ownership of a critical company initiative",color:"purple",completed:!1,targetDate:new Date(Date.now()+180*24*60*60*1e3),emoji:""}},{id:"career-req-1",type:"requirement",position:{x:50,y:350},data:{nodeType:"requirement",title:"System Design Knowledge",description:"Deep understanding of scalable architectures",requirementType:"skill",priority:"high",completed:!1,emoji:""}},{id:"career-req-2",type:"requirement",position:{x:250,y:350},data:{nodeType:"requirement",title:"Leadership Training",description:"Complete management and leadership workshop",requirementType:"knowledge",priority:"medium",completed:!1,emoji:""}},{id:"career-req-3",type:"requirement",position:{x:450,y:350},data:{nodeType:"requirement",title:"Mentor Junior Developers",description:"Guide 2-3 junior team members",requirementType:"skill",priority:"medium",completed:!1,emoji:""}}],edges:[{id:"career-e1",source:"career-goal-1",target:"career-milestone-1",sourceHandle:"bottom-source",targetHandle:"top-target",type:"custom",data:{relationshipType:"requires",animationDirection:"forward"}},{id:"career-e2",source:"career-goal-1",target:"career-milestone-2",sourceHandle:"bottom-source",targetHandle:"top-target",type:"custom",data:{relationshipType:"requires",animationDirection:"forward"}},{id:"career-e3",source:"career-milestone-1",target:"career-req-1",sourceHandle:"bottom-source",targetHandle:"top-target",type:"custom",data:{relationshipType:"needs",animationDirection:"forward"}},{id:"career-e4",source:"career-milestone-1",target:"career-req-2",sourceHandle:"bottom-source",targetHandle:"top-target",type:"custom",data:{relationshipType:"related",animationDirection:"forward"}},{id:"career-e5",source:"career-milestone-2",target:"career-req-3",sourceHandle:"bottom-source",targetHandle:"top-target",type:"custom",data:{relationshipType:"needs",animationDirection:"forward"}}],createdAt:new Date,lastModified:new Date,isCustom:!1},{id:"fitness-journey",name:"Fitness Journey",description:"Track your health and fitness transformation goals",category:"fitness",nodes:[{id:"fitness-goal-1",type:"goal",position:{x:250,y:50},data:{nodeType:"goal",title:"Complete Half Marathon",description:"Run a half marathon in under 2 hours",type:"major",status:"in-progress",priority:"high",progress:25,category:"Health & Fitness",tags:["running","endurance"],emoji:""}},{id:"fitness-milestone-1",type:"milestone",position:{x:100,y:200},data:{nodeType:"milestone",title:"Run 5K Consistently",description:"Complete 5K runs 3 times per week",color:"green",completed:!1,targetDate:new Date(Date.now()+30*24*60*60*1e3),emoji:""}},{id:"fitness-milestone-2",type:"milestone",position:{x:400,y:200},data:{nodeType:"milestone",title:"Run 10K Race",description:"Complete first official 10K race",color:"blue",completed:!1,targetDate:new Date(Date.now()+60*24*60*60*1e3),emoji:""}},{id:"fitness-req-1",type:"requirement",position:{x:50,y:350},data:{nodeType:"requirement",title:"Running Shoes",description:"Get proper running shoes with good support",requirementType:"resource",priority:"high",completed:!1,cost:150,emoji:""}},{id:"fitness-req-2",type:"requirement",position:{x:250,y:350},data:{nodeType:"requirement",title:"Training Plan",description:"Follow structured 12-week training program",requirementType:"knowledge",priority:"high",completed:!1,emoji:""}},{id:"fitness-note-1",type:"note",position:{x:450,y:350},data:{nodeType:"note",title:"Nutrition Tips",description:"Focus on carbs before runs",content:"Hydrate well, eat light meals 2-3 hours before running. Recovery meals within 30 minutes.",color:"yellow",tags:["nutrition"],emoji:""}}],edges:[{id:"fitness-e1",source:"fitness-goal-1",target:"fitness-milestone-1",sourceHandle:"bottom-source",targetHandle:"top-target",type:"custom",data:{relationshipType:"requires",animationDirection:"forward"}},{id:"fitness-e2",source:"fitness-goal-1",target:"fitness-milestone-2",sourceHandle:"bottom-source",targetHandle:"top-target",type:"custom",data:{relationshipType:"requires",animationDirection:"forward"}},{id:"fitness-e3",source:"fitness-milestone-1",target:"fitness-req-1",sourceHandle:"bottom-source",targetHandle:"top-target",type:"custom",data:{relationshipType:"needs",animationDirection:"forward"}},{id:"fitness-e4",source:"fitness-milestone-1",target:"fitness-req-2",sourceHandle:"bottom-source",targetHandle:"top-target",type:"custom",data:{relationshipType:"needs",animationDirection:"forward"}},{id:"fitness-e5",source:"fitness-milestone-2",target:"fitness-note-1",sourceHandle:"bottom-source",targetHandle:"top-target",type:"custom",data:{relationshipType:"related",animationDirection:"forward"}}],createdAt:new Date,lastModified:new Date,isCustom:!1},{id:"learning-plan",name:"Learning Plan",description:"Master new skills and expand your knowledge",category:"learning",nodes:[{id:"learning-goal-1",type:"goal",position:{x:250,y:50},data:{nodeType:"goal",title:"Master TypeScript",description:"Become proficient in TypeScript for enterprise applications",type:"major",status:"in-progress",priority:"high",progress:40,category:"Learning",tags:["programming","typescript"],emoji:""}},{id:"learning-milestone-1",type:"milestone",position:{x:100,y:200},data:{nodeType:"milestone",title:"Complete TypeScript Course",description:"Finish comprehensive online TypeScript course",color:"blue",completed:!1,targetDate:new Date(Date.now()+45*24*60*60*1e3),emoji:""}},{id:"learning-milestone-2",type:"milestone",position:{x:400,y:200},data:{nodeType:"milestone",title:"Build TypeScript Project",description:"Create a full-stack application using TypeScript",color:"purple",completed:!1,targetDate:new Date(Date.now()+90*24*60*60*1e3),emoji:""}},{id:"learning-req-1",type:"requirement",position:{x:50,y:350},data:{nodeType:"requirement",title:"Development Environment",description:"Set up VS Code with TypeScript extensions",requirementType:"tool",priority:"high",completed:!1,emoji:""}},{id:"learning-req-2",type:"requirement",position:{x:250,y:350},data:{nodeType:"requirement",title:"Course Subscription",description:"Subscribe to learning platform",requirementType:"resource",priority:"high",completed:!1,cost:49,emoji:""}},{id:"learning-note-1",type:"note",position:{x:450,y:350},data:{nodeType:"note",title:"Key Concepts",description:"Important TypeScript patterns",content:"Generics, Type Guards, Utility Types, Decorators, Advanced Types",color:"blue",tags:["reference"],emoji:""}}],edges:[{id:"learning-e1",source:"learning-goal-1",target:"learning-milestone-1",sourceHandle:"bottom-source",targetHandle:"top-target",type:"custom",data:{relationshipType:"requires",animationDirection:"forward"}},{id:"learning-e2",source:"learning-goal-1",target:"learning-milestone-2",sourceHandle:"bottom-source",targetHandle:"top-target",type:"custom",data:{relationshipType:"requires",animationDirection:"forward"}},{id:"learning-e3",source:"learning-milestone-1",target:"learning-req-1",sourceHandle:"bottom-source",targetHandle:"top-target",type:"custom",data:{relationshipType:"needs",animationDirection:"forward"}},{id:"learning-e4",source:"learning-milestone-1",target:"learning-req-2",sourceHandle:"bottom-source",targetHandle:"top-target",type:"custom",data:{relationshipType:"needs",animationDirection:"forward"}},{id:"learning-e5",source:"learning-milestone-1",target:"learning-note-1",sourceHandle:"bottom-source",targetHandle:"top-target",type:"custom",data:{relationshipType:"related",animationDirection:"forward"}}],createdAt:new Date,lastModified:new Date,isCustom:!1},{id:"business-launch",name:"Business Launch",description:"Plan and execute your business startup",category:"business",nodes:[{id:"business-goal-1",type:"goal",position:{x:250,y:50},data:{nodeType:"goal",title:"Launch SaaS Product",description:"Build and launch a profitable SaaS application",type:"major",status:"not-started",priority:"critical",progress:10,category:"Business",tags:["startup","saas","product"],emoji:""}},{id:"business-milestone-1",type:"milestone",position:{x:100,y:200},data:{nodeType:"milestone",title:"MVP Development",description:"Build minimum viable product with core features",color:"purple",completed:!1,targetDate:new Date(Date.now()+120*24*60*60*1e3),emoji:""}},{id:"business-milestone-2",type:"milestone",position:{x:400,y:200},data:{nodeType:"milestone",title:"First 10 Customers",description:"Acquire initial customer base",color:"green",completed:!1,targetDate:new Date(Date.now()+180*24*60*60*1e3),emoji:""}},{id:"business-req-1",type:"requirement",position:{x:50,y:350},data:{nodeType:"requirement",title:"Market Research",description:"Validate product-market fit",requirementType:"knowledge",priority:"critical",completed:!1,emoji:""}},{id:"business-req-2",type:"requirement",position:{x:250,y:350},data:{nodeType:"requirement",title:"Initial Funding",description:"Secure seed funding or bootstrap",requirementType:"resource",priority:"high",completed:!1,cost:5e4,emoji:""}},{id:"business-req-3",type:"requirement",position:{x:450,y:350},data:{nodeType:"requirement",title:"Marketing Strategy",description:"Develop go-to-market plan",requirementType:"knowledge",priority:"high",completed:!1,emoji:""}}],edges:[{id:"business-e1",source:"business-goal-1",target:"business-milestone-1",sourceHandle:"bottom-source",targetHandle:"top-target",type:"custom",data:{relationshipType:"requires",animationDirection:"forward"}},{id:"business-e2",source:"business-goal-1",target:"business-milestone-2",sourceHandle:"bottom-source",targetHandle:"top-target",type:"custom",data:{relationshipType:"requires",animationDirection:"forward"}},{id:"business-e3",source:"business-milestone-1",target:"business-req-1",sourceHandle:"bottom-source",targetHandle:"top-target",type:"custom",data:{relationshipType:"needs",animationDirection:"forward"}},{id:"business-e4",source:"business-milestone-1",target:"business-req-2",sourceHandle:"bottom-source",targetHandle:"top-target",type:"custom",data:{relationshipType:"needs",animationDirection:"forward"}},{id:"business-e5",source:"business-milestone-2",target:"business-req-3",sourceHandle:"bottom-source",targetHandle:"top-target",type:"custom",data:{relationshipType:"needs",animationDirection:"forward"}}],createdAt:new Date,lastModified:new Date,isCustom:!1}];function _L(){const[e,t]=v.useState([]);v.useEffect(()=>{(()=>{try{const c=localStorage.getItem(bg);if(c){const u=JSON.parse(c);t([...wg,...u])}else t(wg)}catch(c){console.error("Error loading templates:",c),t(wg)}})()},[]);const n=v.useCallback((l,c,u,d,h)=>{try{const f={id:`custom-${Date.now()}`,name:l,description:c,category:u,nodes:d,edges:h,createdAt:new Date,lastModified:new Date,isCustom:!0},p=localStorage.getItem(bg),g=[...p?JSON.parse(p):[],f];return localStorage.setItem(bg,JSON.stringify(g)),t([...wg,...g]),f}catch(f){return console.error("Error saving template:",f),null}},[]),r=v.useCallback(l=>e.find(u=>u.id===l)||null,[e]),s=v.useCallback(l=>{try{const c=e.find(f=>f.id===l);if(!c||!c.isCustom)return!1;const u=localStorage.getItem(bg),h=(u?JSON.parse(u):[]).filter(f=>f.id!==l);return localStorage.setItem(bg,JSON.stringify(h)),t([...wg,...h]),!0}catch(c){return console.error("Error deleting template:",c),!1}},[e]),i=v.useCallback(()=>e.map(l=>({id:l.id,name:l.name,description:l.description,category:l.category,thumbnail:l.thumbnail,createdAt:l.createdAt,lastModified:l.lastModified,isCustom:l.isCustom})),[e]),o=v.useCallback(l=>e.filter(c=>c.category===l),[e]);return{templates:e,saveTemplate:n,loadTemplate:r,deleteTemplate:s,getAllTemplates:i,getTemplatesByCategory:o}}const sT="goalmap_list",Wb="goalmap_active",Vb="default";function zse(){const[e,t]=v.useState([]),[n,r]=v.useState(Vb),[s,i]=v.useState(!1);v.useEffect(()=>{try{const p=localStorage.getItem(sT),m=localStorage.getItem(Wb);if(p){const g=JSON.parse(p);t(g)}else{const g={id:Vb,name:"My Goal Map",createdAt:new Date,lastModified:new Date,nodeCount:0};t([g]),localStorage.setItem(sT,JSON.stringify([g]))}m&&r(m),i(!0)}catch(p){console.error("Error loading goal maps list:",p),i(!0)}},[]);const o=v.useCallback(p=>{try{localStorage.setItem(sT,JSON.stringify(p)),t(p)}catch(m){console.error("Error saving goal maps list:",m)}},[]),l=v.useCallback((p,m,g=!0)=>{const y={id:`map-${Date.now()}`,name:p,description:m,createdAt:new Date,lastModified:new Date,nodeCount:0};console.log(`[useGoalMapList] Creating new map: ${y.id}, autoSwitch: ${g}`),localStorage.setItem(`goalmap_nodes_${y.id}`,JSON.stringify([])),localStorage.setItem(`goalmap_edges_${y.id}`,JSON.stringify([])),localStorage.setItem(`goalmap_viewport_${y.id}`,JSON.stringify({x:0,y:0,zoom:1}));const x=[...e,y];return o(x),g&&(console.log(`[useGoalMapList] Auto-switching to new map: ${y.id}`),r(y.id),localStorage.setItem(Wb,y.id)),y.id},[e,o]),c=v.useCallback(p=>{var g;if(p===Vb&&e.length===1)return!1;localStorage.removeItem(`goalmap_nodes_${p}`),localStorage.removeItem(`goalmap_edges_${p}`),localStorage.removeItem(`goalmap_viewport_${p}`);const m=e.filter(y=>y.id!==p);if(o(m),p===n){const y=((g=m[0])==null?void 0:g.id)||Vb;r(y),localStorage.setItem(Wb,y)}return!0},[e,n,o]),u=v.useCallback((p,m,g)=>{const y=e.map(x=>x.id===p?{...x,name:m,description:g,lastModified:new Date}:x);o(y)},[e,o]),d=v.useCallback((p,m)=>{const g=e.map(y=>y.id===p?{...y,...m,lastModified:new Date}:y);o(g)},[e,o]),h=v.useCallback(p=>{console.log(`[useGoalMapList] Setting active map from ${n} to ${p}`),r(p),localStorage.setItem(Wb,p)},[n]),f=v.useCallback((p,m)=>{const g={nodes:localStorage.getItem(`goalmap_nodes_${p}`),edges:localStorage.getItem(`goalmap_edges_${p}`),viewport:localStorage.getItem(`goalmap_viewport_${p}`)},y=`map-${Date.now()}`;g.nodes&&localStorage.setItem(`goalmap_nodes_${y}`,g.nodes),g.edges&&localStorage.setItem(`goalmap_edges_${y}`,g.edges),g.viewport&&localStorage.setItem(`goalmap_viewport_${y}`,g.viewport);const x=e.find(N=>N.id===p),b={id:y,name:m,description:x==null?void 0:x.description,createdAt:new Date,lastModified:new Date,nodeCount:(x==null?void 0:x.nodeCount)||0},w=[...e,b];return o(w),y},[e,o]);return{maps:e,activeMapId:n,isLoaded:s,createMap:l,deleteMap:c,renameMap:u,updateMapMetadata:d,setActiveMap:h,duplicateMap:f}}function mZe(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),s=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(s),t&&(r.href=t),s.href=e,s.href}const gZe=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function Wc(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}let Wh=null;function Use(e={}){return Wh||(e.includeStyleProperties?(Wh=e.includeStyleProperties,Wh):(Wh=Wc(window.getComputedStyle(document.documentElement)),Wh))}function vN(e,t){const r=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return r?parseFloat(r.replace("px","")):0}function yZe(e){const t=vN(e,"border-left-width"),n=vN(e,"border-right-width");return e.clientWidth+t+n}function xZe(e){const t=vN(e,"border-top-width"),n=vN(e,"border-bottom-width");return e.clientHeight+t+n}function Hse(e,t={}){const n=t.width||yZe(e),r=t.height||xZe(e);return{width:n,height:r}}function vZe(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const Qs=16384;function bZe(e){(e.width>Qs||e.height>Qs)&&(e.width>Qs&&e.height>Qs?e.width>e.height?(e.height*=Qs/e.width,e.width=Qs):(e.width*=Qs/e.height,e.height=Qs):e.width>Qs?(e.height*=Qs/e.width,e.width=Qs):(e.width*=Qs/e.height,e.height=Qs))}function bN(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>t(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function wZe(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function SZe(e,t,n){const r="http://www.w3.org/2000/svg",s=document.createElementNS(r,"svg"),i=document.createElementNS(r,"foreignObject");return s.setAttribute("width",`${t}`),s.setAttribute("height",`${n}`),s.setAttribute("viewBox",`0 0 ${t} ${n}`),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("externalResourcesRequired","true"),s.appendChild(i),i.appendChild(e),wZe(s)}const qs=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||qs(n,t)};function NZe(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function kZe(e,t){return Use(t).map(n=>{const r=e.getPropertyValue(n),s=e.getPropertyPriority(n);return`${n}: ${r}${s?" !important":""};`}).join(" ")}function jZe(e,t,n,r){const s=`.${e}:${t}`,i=n.cssText?NZe(n):kZe(n,r);return document.createTextNode(`${s}{${i}}`)}function eH(e,t,n,r){const s=window.getComputedStyle(e,n),i=s.getPropertyValue("content");if(i===""||i==="none")return;const o=gZe();try{t.className=`${t.className} ${o}`}catch{return}const l=document.createElement("style");l.appendChild(jZe(o,n,s,r)),t.appendChild(l)}function _Ze(e,t,n){eH(e,t,":before",n),eH(e,t,":after",n)}const tH="application/font-woff",nH="image/jpeg",EZe={woff:tH,woff2:tH,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:nH,jpeg:nH,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function CZe(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function EL(e){const t=CZe(e).toLowerCase();return EZe[t]||""}function TZe(e){return e.split(/,/)[1]}function EM(e){return e.search(/^(data:)/)!==-1}function AZe(e,t){return`data:${t};base64,${e}`}async function Wse(e,t,n){const r=await fetch(e,t);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const s=await r.blob();return new Promise((i,o)=>{const l=new FileReader;l.onerror=o,l.onloadend=()=>{try{i(n({res:r,result:l.result}))}catch(c){o(c)}},l.readAsDataURL(s)})}const iT={};function OZe(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}async function CL(e,t,n){const r=OZe(e,t,n.includeQueryParams);if(iT[r]!=null)return iT[r];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let s;try{const i=await Wse(e,n.fetchRequestInit,({res:o,result:l})=>(t||(t=o.headers.get("Content-Type")||""),TZe(l)));s=AZe(i,t)}catch(i){s=n.imagePlaceholder||"";let o=`Failed to fetch resource: ${e}`;i&&(o=typeof i=="string"?i:i.message),o&&console.warn(o)}return iT[r]=s,s}async function MZe(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):bN(t)}async function PZe(e,t){if(e.currentSrc){const i=document.createElement("canvas"),o=i.getContext("2d");i.width=e.clientWidth,i.height=e.clientHeight,o==null||o.drawImage(e,0,0,i.width,i.height);const l=i.toDataURL();return bN(l)}const n=e.poster,r=EL(n),s=await CL(n,r,t);return bN(s)}async function DZe(e,t){var n;try{if(!((n=e==null?void 0:e.contentDocument)===null||n===void 0)&&n.body)return await O_(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function RZe(e,t){return qs(e,HTMLCanvasElement)?MZe(e):qs(e,HTMLVideoElement)?PZe(e,t):qs(e,HTMLIFrameElement)?DZe(e,t):e.cloneNode(Vse(e))}const IZe=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",Vse=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function LZe(e,t,n){var r,s;if(Vse(t))return t;let i=[];return IZe(e)&&e.assignedNodes?i=Wc(e.assignedNodes()):qs(e,HTMLIFrameElement)&&(!((r=e.contentDocument)===null||r===void 0)&&r.body)?i=Wc(e.contentDocument.body.childNodes):i=Wc(((s=e.shadowRoot)!==null&&s!==void 0?s:e).childNodes),i.length===0||qs(e,HTMLVideoElement)||await i.reduce((o,l)=>o.then(()=>O_(l,n)).then(c=>{c&&t.appendChild(c)}),Promise.resolve()),t}function $Ze(e,t,n){const r=t.style;if(!r)return;const s=window.getComputedStyle(e);s.cssText?(r.cssText=s.cssText,r.transformOrigin=s.transformOrigin):Use(n).forEach(i=>{let o=s.getPropertyValue(i);i==="font-size"&&o.endsWith("px")&&(o=`${Math.floor(parseFloat(o.substring(0,o.length-2)))-.1}px`),qs(e,HTMLIFrameElement)&&i==="display"&&o==="inline"&&(o="block"),i==="d"&&t.getAttribute("d")&&(o=`path(${t.getAttribute("d")})`),r.setProperty(i,o,s.getPropertyPriority(i))})}function BZe(e,t){qs(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),qs(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function FZe(e,t){if(qs(e,HTMLSelectElement)){const n=t,r=Array.from(n.children).find(s=>e.value===s.getAttribute("value"));r&&r.setAttribute("selected","")}}function zZe(e,t,n){return qs(t,Element)&&($Ze(e,t,n),_Ze(e,t,n),BZe(e,t),FZe(e,t)),t}async function UZe(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const r={};for(let i=0;i<n.length;i++){const l=n[i].getAttribute("xlink:href");if(l){const c=e.querySelector(l),u=document.querySelector(l);!c&&u&&!r[l]&&(r[l]=await O_(u,t,!0))}}const s=Object.values(r);if(s.length){const i="http://www.w3.org/1999/xhtml",o=document.createElementNS(i,"svg");o.setAttribute("xmlns",i),o.style.position="absolute",o.style.width="0",o.style.height="0",o.style.overflow="hidden",o.style.display="none";const l=document.createElementNS(i,"defs");o.appendChild(l);for(let c=0;c<s.length;c++)l.appendChild(s[c]);e.appendChild(o)}return e}async function O_(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(r=>RZe(r,t)).then(r=>LZe(e,r,t)).then(r=>zZe(e,r,t)).then(r=>UZe(r,t))}const Gse=/url\((['"]?)([^'"]+?)\1\)/g,HZe=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,WZe=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function VZe(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function GZe(e){const t=[];return e.replace(Gse,(n,r,s)=>(t.push(s),n)),t.filter(n=>!EM(n))}async function qZe(e,t,n,r,s){try{const i=n?mZe(t,n):t,o=EL(t);let l;return s||(l=await CL(i,o,r)),e.replace(VZe(t),`$1${l}$3`)}catch{}return e}function KZe(e,{preferredFontFormat:t}){return t?e.replace(WZe,n=>{for(;;){const[r,,s]=HZe.exec(n)||[];if(!s)return"";if(s===t)return`src: ${r};`}}):e}function qse(e){return e.search(Gse)!==-1}async function Kse(e,t,n){if(!qse(e))return e;const r=KZe(e,n);return GZe(r).reduce((i,o)=>i.then(l=>qZe(l,o,t,n)),Promise.resolve(r))}async function Vh(e,t,n){var r;const s=(r=t.style)===null||r===void 0?void 0:r.getPropertyValue(e);if(s){const i=await Kse(s,null,n);return t.style.setProperty(e,i,t.style.getPropertyPriority(e)),!0}return!1}async function YZe(e,t){await Vh("background",e,t)||await Vh("background-image",e,t),await Vh("mask",e,t)||await Vh("-webkit-mask",e,t)||await Vh("mask-image",e,t)||await Vh("-webkit-mask-image",e,t)}async function XZe(e,t){const n=qs(e,HTMLImageElement);if(!(n&&!EM(e.src))&&!(qs(e,SVGImageElement)&&!EM(e.href.baseVal)))return;const r=n?e.src:e.href.baseVal,s=await CL(r,EL(r),t);await new Promise((i,o)=>{e.onload=i,e.onerror=t.onImageErrorHandler?(...c)=>{try{i(t.onImageErrorHandler(...c))}catch(u){o(u)}}:o;const l=e;l.decode&&(l.decode=i),l.loading==="lazy"&&(l.loading="eager"),n?(e.srcset="",e.src=s):e.href.baseVal=s})}async function JZe(e,t){const r=Wc(e.childNodes).map(s=>Yse(s,t));await Promise.all(r).then(()=>e)}async function Yse(e,t){qs(e,Element)&&(await YZe(e,t),await XZe(e,t),await JZe(e,t))}function QZe(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;return r!=null&&Object.keys(r).forEach(s=>{n[s]=r[s]}),e}const rH={};async function sH(e){let t=rH[e];if(t!=null)return t;const r=await(await fetch(e)).text();return t={url:e,cssText:r},rH[e]=t,t}async function iH(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,i=(n.match(/url\([^)]+\)/g)||[]).map(async o=>{let l=o.replace(r,"$1");return l.startsWith("https://")||(l=new URL(l,e.url).href),Wse(l,t.fetchRequestInit,({result:c})=>(n=n.replace(o,`url(${c})`),[o,c]))});return Promise.all(i).then(()=>n)}function oH(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=e.replace(n,"");const s=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const c=s.exec(r);if(c===null)break;t.push(c[0])}r=r.replace(s,"");const i=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,o="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",l=new RegExp(o,"gi");for(;;){let c=i.exec(r);if(c===null){if(c=l.exec(r),c===null)break;i.lastIndex=l.lastIndex}else l.lastIndex=i.lastIndex;t.push(c[0])}return t}async function ZZe(e,t){const n=[],r=[];return e.forEach(s=>{if("cssRules"in s)try{Wc(s.cssRules||[]).forEach((i,o)=>{if(i.type===CSSRule.IMPORT_RULE){let l=o+1;const c=i.href,u=sH(c).then(d=>iH(d,t)).then(d=>oH(d).forEach(h=>{try{s.insertRule(h,h.startsWith("@import")?l+=1:s.cssRules.length)}catch(f){console.error("Error inserting rule from remote css",{rule:h,error:f})}})).catch(d=>{console.error("Error loading remote css",d.toString())});r.push(u)}})}catch(i){const o=e.find(l=>l.href==null)||document.styleSheets[0];s.href!=null&&r.push(sH(s.href).then(l=>iH(l,t)).then(l=>oH(l).forEach(c=>{o.insertRule(c,o.cssRules.length)})).catch(l=>{console.error("Error loading remote stylesheet",l)})),console.error("Error inlining remote css file",i)}}),Promise.all(r).then(()=>(e.forEach(s=>{if("cssRules"in s)try{Wc(s.cssRules||[]).forEach(i=>{n.push(i)})}catch(i){console.error(`Error while reading CSS rules from ${s.href}`,i)}}),n))}function eet(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>qse(t.style.getPropertyValue("src")))}async function tet(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=Wc(e.ownerDocument.styleSheets),r=await ZZe(n,t);return eet(r)}function Xse(e){return e.trim().replace(/["']/g,"")}function net(e){const t=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(i=>{t.add(Xse(i))}),Array.from(r.children).forEach(i=>{i instanceof HTMLElement&&n(i)})}return n(e),t}async function ret(e,t){const n=await tet(e,t),r=net(e);return(await Promise.all(n.filter(i=>r.has(Xse(i.style.fontFamily))).map(i=>{const o=i.parentStyleSheet?i.parentStyleSheet.href:null;return Kse(i.cssText,o,t)}))).join(`
`)}async function set(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await ret(e,t);if(n){const r=document.createElement("style"),s=document.createTextNode(n);r.appendChild(s),e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}}async function Jse(e,t={}){const{width:n,height:r}=Hse(e,t),s=await O_(e,t,!0);return await set(s,t),await Yse(s,t),QZe(s,t),await SZe(s,n,r)}async function iet(e,t={}){const{width:n,height:r}=Hse(e,t),s=await Jse(e,t),i=await bN(s),o=document.createElement("canvas"),l=o.getContext("2d"),c=t.pixelRatio||vZe(),u=t.canvasWidth||n,d=t.canvasHeight||r;return o.width=u*c,o.height=d*c,t.skipAutoScale||bZe(o),o.style.width=`${u}`,o.style.height=`${d}`,t.backgroundColor&&(l.fillStyle=t.backgroundColor,l.fillRect(0,0,o.width,o.height)),l.drawImage(i,0,0,o.width,o.height),o}async function oet(e,t={}){return(await iet(e,t)).toDataURL()}const Sg=1920,Ng=1080;function aet(){const{getNodes:e}=_0(),t=v.useCallback(async(s,i)=>{try{const o=j0(e()),l=wL(o,Sg,Ng,.5,2,.2),c=document.querySelector(".react-flow__viewport");if(!c)throw new Error("Could not find canvas viewport");const u=c.style.transform;c.style.transform=`translate(${l.x}px, ${l.y}px) scale(${l.zoom})`;let d;s==="png"?d=await oet(c,{backgroundColor:"#ffffff",width:Sg,height:Ng,style:{width:`${Sg}px`,height:`${Ng}px`}}):d=await Jse(c,{backgroundColor:"#ffffff",width:Sg,height:Ng,style:{width:`${Sg}px`,height:`${Ng}px`}}),c.style.transform=u;const h=document.createElement("a");return h.download=`${i}.${s}`,h.href=d,h.click(),J.success(`Exported as ${s.toUpperCase()}`),!0}catch(o){return console.error("Error exporting map:",o),J.error("Failed to export map"),!1}},[e]),n=v.useCallback(s=>t("png",s),[t]),r=v.useCallback(s=>t("svg",s),[t]);return{exportAsPng:n,exportAsSvg:r}}function cet(){const e=v.useCallback((s,i,o,l)=>{const u=JSON.stringify({name:s,description:i,nodes:o,edges:l});return btoa(unescape(encodeURIComponent(u)))},[]),t=v.useCallback(s=>{try{const i=decodeURIComponent(escape(atob(s)));return JSON.parse(i)}catch(i){return console.error("Error decoding map data:",i),null}},[]),n=v.useCallback((s,i,o,l)=>{const c=e(s,i,o,l),u=new URL(window.location.href);return u.searchParams.set("shared",c),u.searchParams.set("view","true"),u.toString()},[e]),r=v.useCallback(async(s,i,o,l)=>{try{const c=n(s,i,o,l);return await navigator.clipboard.writeText(c),J.success("Share link copied to clipboard!"),!0}catch(c){return console.error("Error copying share link:",c),J.error("Failed to copy share link"),!1}},[n]);return{encodeMapData:e,decodeMapData:t,generateShareLink:n,copyShareLink:r}}function uet(){const e=v.useCallback((n,r,s,i,o,l)=>{const c={version:"1.0",mapId:n,mapName:r,description:s,nodes:i,edges:o,viewport:l,createdAt:new Date().toISOString(),backupDate:new Date().toISOString()},u=JSON.stringify(c,null,2),d=new Blob([u],{type:"application/json"}),h=URL.createObjectURL(d),f=document.createElement("a");f.href=h,f.download=`${r.replace(/\s+/g,"_")}_backup_${Date.now()}.json`,document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(h)},[]),t=v.useCallback(()=>new Promise((n,r)=>{const s=document.createElement("input");s.type="file",s.accept=".json",s.onchange=i=>{var c;const o=(c=i.target.files)==null?void 0:c[0];if(!o){r(new Error("No file selected"));return}const l=new FileReader;l.onload=u=>{var d;try{const h=JSON.parse((d=u.target)==null?void 0:d.result);if(!h.nodes||!h.edges||!h.viewport)throw new Error("Invalid backup file format");n(h)}catch(h){r(h)}},l.onerror=()=>r(new Error("Failed to read file")),l.readAsText(o)},s.click()}),[]);return{exportBackup:e,importBackup:t}}const det={"Goals & Success":["","","","","","","","","",""],"Learning & Work":["","","","","","","","","",""],"Health & Fitness":["","","","","","","","","",""],"Money & Career":["","","","","","","","","",""],Emotions:["","","","","","","","","",""],"Nature & Travel":["","","","","","","","","",""],"Food & Drink":["","","","","","","","","",""],Objects:["","","","","","","","","",""]};function nu({value:e,onSelect:t,trigger:n}){const[r,s]=v.useState(!1),i=o=>{t(o),s(!1)};return a.jsxs(Ff,{open:r,onOpenChange:s,children:[a.jsx(zf,{asChild:!0,children:n||a.jsxs(U,{variant:"outline",size:"sm",className:"h-8",children:[e||a.jsx(Ig,{className:"w-4 h-4"}),a.jsx("span",{className:"ml-2 text-xs",children:e?"Change":"Add emoji"})]})}),a.jsx(vd,{className:"w-80 p-0",align:"start",children:a.jsxs("div",{className:"max-h-96 overflow-y-auto p-3",children:[Object.entries(det).map(([o,l])=>a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-600 mb-2",children:o}),a.jsx("div",{className:"grid grid-cols-10 gap-1",children:l.map(c=>a.jsx("button",{onClick:()=>i(c),className:"text-2xl hover:bg-gray-100 rounded p-1 transition-colors",title:c,children:c},c))})]},o)),e&&a.jsx("div",{className:"border-t pt-3",children:a.jsx(U,{variant:"ghost",size:"sm",className:"w-full text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>i(""),children:"Remove emoji"})})]})})]})}const het={"not-started":Spe,"in-progress":Gk,"on-hold":LD,completed:Ro,cancelled:Z7},fet={"not-started":"bg-gray-100 text-gray-700 border-gray-300","in-progress":"bg-blue-100 text-blue-700 border-blue-300","on-hold":"bg-amber-100 text-amber-700 border-amber-300",completed:"bg-green-100 text-green-700 border-green-300",cancelled:"bg-red-100 text-red-700 border-red-300"},pet={low:"bg-gray-500",medium:"bg-blue-500",high:"bg-amber-500",critical:"bg-red-500"},met={major:"bg-purple-600 text-white",minor:"bg-indigo-600 text-white"},Qse=v.memo(({data:e,selected:t,id:n})=>{const r=het[e.status],[s,i]=v.useState(!1),[o,l]=v.useState(!1),[c,u]=v.useState(e.title),[d,h]=v.useState(e.description||""),f=v.useRef(null),p=v.useRef(null);v.useEffect(()=>{s&&f.current&&(f.current.focus(),f.current.select())},[s]),v.useEffect(()=>{o&&p.current&&(p.current.focus(),p.current.select())},[o]),v.useEffect(()=>{u(e.title),h(e.description||"")},[e.title,e.description]);const m=v.useCallback(S=>{S.stopPropagation(),i(!0)},[]),g=v.useCallback(S=>{S.stopPropagation(),l(!0)},[]),y=v.useCallback(()=>{i(!1),c.trim()!==e.title&&c.trim()!==""?window.dispatchEvent(new CustomEvent("updateNodeData",{detail:{id:n,data:{title:c.trim()}}})):u(e.title)},[c,e.title,n]),x=v.useCallback(()=>{l(!1),d.trim()!==(e.description||"")?window.dispatchEvent(new CustomEvent("updateNodeData",{detail:{id:n,data:{description:d.trim()}}})):h(e.description||"")},[d,e.description,n]),b=v.useCallback(S=>{S.key==="Enter"?(S.preventDefault(),y()):S.key==="Escape"&&(u(e.title),i(!1))},[y,e.title]),w=v.useCallback(S=>{S.key==="Enter"&&S.ctrlKey?(S.preventDefault(),x()):S.key==="Escape"&&(h(e.description||""),l(!1))},[x,e.description]),N=v.useCallback(S=>{window.dispatchEvent(new CustomEvent("updateNodeData",{detail:{id:n,data:{emoji:S}}}))},[n]);return a.jsxs("div",{className:`
        bg-white rounded-lg shadow-lg border-2 transition-all
        ${t?"border-blue-500 shadow-xl":"border-gray-200"}
        hover:shadow-xl
      `,style:{width:"280px"},children:[a.jsx(wt,{type:"target",position:we.Top,id:"top-target",className:"w-3 h-3 !bg-blue-500"}),a.jsx(wt,{type:"source",position:we.Top,id:"top-source",className:"w-3 h-3 !bg-blue-500"}),a.jsx(wt,{type:"target",position:we.Bottom,id:"bottom-target",className:"w-3 h-3 !bg-blue-500"}),a.jsx(wt,{type:"source",position:we.Bottom,id:"bottom-source",className:"w-3 h-3 !bg-blue-500"}),a.jsx(wt,{type:"target",position:we.Left,id:"left-target",className:"w-3 h-3 !bg-blue-500"}),a.jsx(wt,{type:"source",position:we.Left,id:"left-source",className:"w-3 h-3 !bg-blue-500"}),a.jsx(wt,{type:"target",position:we.Right,id:"right-target",className:"w-3 h-3 !bg-blue-500"}),a.jsx(wt,{type:"source",position:we.Right,id:"right-source",className:"w-3 h-3 !bg-blue-500"}),a.jsxs("div",{className:"p-3 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[a.jsx("div",{className:"flex-shrink-0 nodrag",onClick:S=>S.stopPropagation(),children:e.emoji?a.jsx(nu,{value:e.emoji,onSelect:N,trigger:a.jsx("button",{className:"text-xl hover:scale-110 transition-transform",children:e.emoji})}):a.jsx(nu,{onSelect:N,trigger:a.jsx("button",{className:"hover:bg-gray-100 p-1 rounded transition-colors",children:a.jsx(Xt,{className:"w-4 h-4 text-blue-600"})})})}),s?a.jsx(re,{ref:f,value:c,onChange:S=>u(S.target.value),onBlur:y,onKeyDown:b,className:"h-6 text-sm font-semibold px-1 py-0 nodrag",onClick:S=>S.stopPropagation()}):a.jsx("h3",{className:"font-semibold text-sm truncate cursor-text hover:bg-gray-50 px-1 rounded",onDoubleClick:m,title:"Double-click to edit",children:e.title})]}),a.jsx(ve,{variant:"outline",className:`${met[e.type]} text-xs flex-shrink-0`,children:e.type})]}),(e.description||o)&&(o?a.jsx(ft,{ref:p,value:d,onChange:S=>h(S.target.value),onBlur:x,onKeyDown:w,className:"text-xs min-h-[40px] nodrag",onClick:S=>S.stopPropagation(),rows:2}):a.jsx("p",{className:"text-xs text-gray-600 line-clamp-2 mb-2 cursor-text hover:bg-gray-50 px-1 rounded",onDoubleClick:g,title:"Double-click to edit (Ctrl+Enter to save)",children:e.description})),a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${pet[e.priority]}`}),a.jsxs("span",{className:"text-xs text-gray-500 capitalize",children:[e.priority," priority"]})]})]}),a.jsxs("div",{className:"p-3",children:[a.jsxs("div",{className:`flex items-center gap-2 px-2 py-1 rounded border mb-3 ${fet[e.status]}`,children:[a.jsx(r,{className:"w-3 h-3"}),a.jsx("span",{className:"text-xs font-medium capitalize",children:e.status.replace("-"," ")})]}),a.jsxs("div",{className:"mb-3",children:[a.jsxs("div",{className:"flex justify-between items-center mb-1",children:[a.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Progress"}),a.jsxs("span",{className:"text-xs font-semibold text-gray-900",children:[e.progress,"%"]})]}),a.jsx("div",{className:"relative h-2 bg-gray-200 rounded-full overflow-hidden",children:a.jsx("div",{className:"absolute inset-y-0 left-0 rounded-full bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 transition-all duration-500 ease-out",style:{width:`${e.progress}%`},children:a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-30 animate-pulse"})})})]}),e.category&&a.jsx("div",{className:"mb-2",children:a.jsx(ve,{variant:"secondary",className:"text-xs",children:e.category})}),e.tags&&e.tags.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.tags.slice(0,3).map((S,k)=>a.jsx(ve,{variant:"outline",className:"text-xs",children:S},k)),e.tags.length>3&&a.jsxs(ve,{variant:"outline",className:"text-xs",children:["+",e.tags.length-3]})]})]})]})});Qse.displayName="GoalMapCard";const Zse=v.memo(({data:e,selected:t,id:n})=>{const r=e.color&&Qf[e.color]?Qf[e.color]:Qf.blue,[s,i]=v.useState(!1),[o,l]=v.useState(!1),[c,u]=v.useState(e.title),[d,h]=v.useState(e.description||""),f=v.useRef(null),p=v.useRef(null);v.useEffect(()=>{s&&f.current&&(f.current.focus(),f.current.select())},[s]),v.useEffect(()=>{o&&p.current&&(p.current.focus(),p.current.select())},[o]),v.useEffect(()=>{u(e.title),h(e.description||"")},[e.title,e.description]);const m=v.useCallback(k=>{k.stopPropagation(),i(!0)},[]),g=v.useCallback(k=>{k.stopPropagation(),l(!0)},[]),y=v.useCallback(()=>{i(!1),c.trim()!==e.title&&c.trim()!==""?window.dispatchEvent(new CustomEvent("updateNodeData",{detail:{id:n,data:{title:c.trim()}}})):u(e.title)},[c,e.title,n]),x=v.useCallback(()=>{l(!1),d.trim()!==(e.description||"")?window.dispatchEvent(new CustomEvent("updateNodeData",{detail:{id:n,data:{description:d.trim()}}})):h(e.description||"")},[d,e.description,n]),b=v.useCallback(k=>{k.key==="Enter"?(k.preventDefault(),y()):k.key==="Escape"&&(u(e.title),i(!1))},[y,e.title]),w=v.useCallback(k=>{k.key==="Enter"&&k.ctrlKey?(k.preventDefault(),x()):k.key==="Escape"&&(h(e.description||""),l(!1))},[x,e.description]),N=v.useCallback(k=>{window.dispatchEvent(new CustomEvent("updateNodeData",{detail:{id:n,data:{emoji:k}}}))},[n]),S=k=>{if(!k)return null;try{const j=typeof k=="string"?new Date(k):k;return $t(j,"MMM d, yyyy")}catch{return null}};return a.jsxs("div",{className:`
        ${r.bg} rounded-lg shadow-lg border-2 transition-all
        ${t?"border-blue-500 shadow-xl":`${r.border}`}
        hover:shadow-xl
      `,style:{width:"260px"},children:[a.jsx(wt,{type:"target",position:we.Top,id:"top-target",className:"w-3 h-3 !bg-blue-500"}),a.jsx(wt,{type:"source",position:we.Top,id:"top-source",className:"w-3 h-3 !bg-blue-500"}),a.jsx(wt,{type:"target",position:we.Bottom,id:"bottom-target",className:"w-3 h-3 !bg-blue-500"}),a.jsx(wt,{type:"source",position:we.Bottom,id:"bottom-source",className:"w-3 h-3 !bg-blue-500"}),a.jsx(wt,{type:"target",position:we.Left,id:"left-target",className:"w-3 h-3 !bg-blue-500"}),a.jsx(wt,{type:"source",position:we.Left,id:"left-source",className:"w-3 h-3 !bg-blue-500"}),a.jsx(wt,{type:"target",position:we.Right,id:"right-target",className:"w-3 h-3 !bg-blue-500"}),a.jsx(wt,{type:"source",position:we.Right,id:"right-source",className:"w-3 h-3 !bg-blue-500"}),a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2 mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[a.jsx("div",{className:"flex-shrink-0 nodrag",onClick:k=>k.stopPropagation(),children:e.emoji?a.jsx(nu,{value:e.emoji,onSelect:N,trigger:a.jsx("button",{className:"text-xl hover:scale-110 transition-transform",children:e.emoji})}):a.jsx(nu,{onSelect:N,trigger:a.jsx("button",{className:"hover:bg-gray-100 p-1 rounded transition-colors",children:a.jsx(Gk,{className:`w-5 h-5 ${e.completed?"text-green-600":"text-amber-600"}`})})})}),s?a.jsx(re,{ref:f,value:c,onChange:k=>u(k.target.value),onBlur:y,onKeyDown:b,className:"h-6 text-sm font-semibold px-1 py-0 nodrag",onClick:k=>k.stopPropagation()}):a.jsx("h3",{className:`font-semibold text-sm cursor-text hover:bg-gray-100 px-1 rounded ${r.text}`,onDoubleClick:m,title:"Double-click to edit",children:e.title})]}),e.completed?a.jsx(Ro,{className:"w-5 h-5 text-green-600 flex-shrink-0"}):a.jsx(gm,{className:"w-5 h-5 text-gray-400 flex-shrink-0"})]}),(e.description||o)&&(o?a.jsx(ft,{ref:p,value:d,onChange:k=>h(k.target.value),onBlur:x,onKeyDown:w,className:"text-xs min-h-[60px] nodrag mb-3",onClick:k=>k.stopPropagation(),rows:3}):a.jsx("p",{className:"text-xs text-gray-600 mb-3 line-clamp-3 cursor-text hover:bg-gray-100 px-1 rounded",onDoubleClick:g,title:"Double-click to edit (Ctrl+Enter to save)",children:e.description})),a.jsx("div",{className:"mb-3",children:a.jsx(ve,{variant:e.completed?"default":"secondary",className:e.completed?"bg-green-600":"",children:e.completed?"Completed":"In Progress"})}),a.jsxs("div",{className:"space-y-2",children:[e.targetDate&&a.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[a.jsx(qr,{className:"w-3 h-3 text-gray-500"}),a.jsx("span",{className:"text-gray-600",children:"Target:"}),a.jsx("span",{className:`font-medium ${r.text}`,children:S(e.targetDate)})]}),e.completed&&e.completedDate&&a.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[a.jsx(Ro,{className:"w-3 h-3 text-green-600"}),a.jsx("span",{className:"text-gray-600",children:"Completed:"}),a.jsx("span",{className:"font-medium text-green-700",children:S(e.completedDate)})]})]})]})]})});Zse.displayName="MilestoneCard";const get={skill:iq,resource:ype,tool:bq,knowledge:DD},yet={skill:"bg-purple-100 border-purple-300 text-purple-900",resource:"bg-green-100 border-green-300 text-green-900",tool:"bg-orange-100 border-orange-300 text-orange-900",knowledge:"bg-blue-100 border-blue-300 text-blue-900"},xet={low:"bg-gray-500",medium:"bg-blue-500",high:"bg-amber-500"},eie=v.memo(({data:e,selected:t,id:n})=>{const r=get[e.requirementType],s=yet[e.requirementType],[i,o]=v.useState(!1),[l,c]=v.useState(!1),[u,d]=v.useState(e.title),[h,f]=v.useState(e.description||""),p=v.useRef(null),m=v.useRef(null);v.useEffect(()=>{i&&p.current&&(p.current.focus(),p.current.select())},[i]),v.useEffect(()=>{l&&m.current&&(m.current.focus(),m.current.select())},[l]),v.useEffect(()=>{d(e.title),f(e.description||"")},[e.title,e.description]);const g=v.useCallback(k=>{k.stopPropagation(),o(!0)},[]),y=v.useCallback(k=>{k.stopPropagation(),c(!0)},[]),x=v.useCallback(()=>{o(!1),u.trim()!==e.title&&u.trim()!==""?window.dispatchEvent(new CustomEvent("updateNodeData",{detail:{id:n,data:{title:u.trim()}}})):d(e.title)},[u,e.title,n]),b=v.useCallback(()=>{c(!1),h.trim()!==(e.description||"")?window.dispatchEvent(new CustomEvent("updateNodeData",{detail:{id:n,data:{description:h.trim()}}})):f(e.description||"")},[h,e.description,n]),w=v.useCallback(k=>{k.key==="Enter"?(k.preventDefault(),x()):k.key==="Escape"&&(d(e.title),o(!1))},[x,e.title]),N=v.useCallback(k=>{k.key==="Enter"&&k.ctrlKey?(k.preventDefault(),b()):k.key==="Escape"&&(f(e.description||""),c(!1))},[b,e.description]),S=v.useCallback(k=>{window.dispatchEvent(new CustomEvent("updateNodeData",{detail:{id:n,data:{emoji:k}}}))},[n]);return a.jsxs("div",{className:`
        rounded-lg shadow-lg border-2 transition-all
        ${t?"border-blue-500 shadow-xl":`${s}`}
        hover:shadow-xl
      `,style:{width:"240px"},children:[a.jsx(wt,{type:"target",position:we.Top,id:"top-target",className:"w-3 h-3 !bg-blue-500"}),a.jsx(wt,{type:"source",position:we.Top,id:"top-source",className:"w-3 h-3 !bg-blue-500"}),a.jsx(wt,{type:"target",position:we.Bottom,id:"bottom-target",className:"w-3 h-3 !bg-blue-500"}),a.jsx(wt,{type:"source",position:we.Bottom,id:"bottom-source",className:"w-3 h-3 !bg-blue-500"}),a.jsx(wt,{type:"target",position:we.Left,id:"left-target",className:"w-3 h-3 !bg-blue-500"}),a.jsx(wt,{type:"source",position:we.Left,id:"left-source",className:"w-3 h-3 !bg-blue-500"}),a.jsx(wt,{type:"target",position:we.Right,id:"right-target",className:"w-3 h-3 !bg-blue-500"}),a.jsx(wt,{type:"source",position:we.Right,id:"right-source",className:"w-3 h-3 !bg-blue-500"}),a.jsxs("div",{className:"p-3",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[a.jsx("div",{className:"flex-shrink-0 nodrag",onClick:k=>k.stopPropagation(),children:e.emoji?a.jsx(nu,{value:e.emoji,onSelect:S,trigger:a.jsx("button",{className:"text-lg hover:scale-110 transition-transform",children:e.emoji})}):a.jsx(nu,{onSelect:S,trigger:a.jsx("button",{className:"hover:bg-gray-100 p-1 rounded transition-colors",children:a.jsx(r,{className:"w-4 h-4"})})})}),i?a.jsx(re,{ref:p,value:u,onChange:k=>d(k.target.value),onBlur:x,onKeyDown:w,className:"h-6 text-sm font-semibold px-1 py-0 nodrag",onClick:k=>k.stopPropagation()}):a.jsx("h3",{className:"font-semibold text-sm cursor-text hover:bg-gray-100 px-1 rounded",onDoubleClick:g,title:"Double-click to edit",children:e.title})]}),e.completed?a.jsx(Ro,{className:"w-5 h-5 text-green-600 flex-shrink-0"}):a.jsx(gm,{className:"w-5 h-5 text-gray-400 flex-shrink-0"})]}),(e.description||l)&&(l?a.jsx(ft,{ref:m,value:h,onChange:k=>f(k.target.value),onBlur:b,onKeyDown:N,className:"text-xs min-h-[40px] nodrag mb-2",onClick:k=>k.stopPropagation(),rows:2}):a.jsx("p",{className:"text-xs text-gray-600 mb-2 line-clamp-2 cursor-text hover:bg-gray-100 px-1 rounded",onDoubleClick:y,title:"Double-click to edit (Ctrl+Enter to save)",children:e.description})),a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(ve,{variant:"outline",className:"text-xs capitalize",children:e.requirementType}),e.completed&&a.jsx(ve,{variant:"default",className:"text-xs bg-green-600",children:"Acquired"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[e.priority&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${xet[e.priority]}`}),a.jsx("span",{className:"text-xs text-gray-600 capitalize",children:e.priority})]}),e.cost!==void 0&&e.cost>0&&a.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-700",children:[a.jsx(zv,{className:"w-3 h-3"}),a.jsx("span",{className:"font-medium",children:e.cost})]})]})]})]})});eie.displayName="RequirementCard";const tie=v.memo(({data:e,selected:t,id:n})=>{const r=e.color&&Qf[e.color]?Qf[e.color]:Qf.yellow,[s,i]=v.useState(!1),[o,l]=v.useState(!1),[c,u]=v.useState(!1),[d,h]=v.useState(e.title),[f,p]=v.useState(e.description||""),[m,g]=v.useState(e.content||""),y=v.useRef(null),x=v.useRef(null),b=v.useRef(null);v.useEffect(()=>{s&&y.current&&(y.current.focus(),y.current.select())},[s]),v.useEffect(()=>{o&&x.current&&(x.current.focus(),x.current.select())},[o]),v.useEffect(()=>{c&&b.current&&(b.current.focus(),b.current.select())},[c]),v.useEffect(()=>{h(e.title),p(e.description||""),g(e.content||"")},[e.title,e.description,e.content]);const w=v.useCallback(P=>{P.stopPropagation(),i(!0)},[]),N=v.useCallback(P=>{P.stopPropagation(),l(!0)},[]),S=v.useCallback(P=>{P.stopPropagation(),u(!0)},[]),k=v.useCallback(()=>{i(!1),d.trim()!==e.title&&d.trim()!==""?window.dispatchEvent(new CustomEvent("updateNodeData",{detail:{id:n,data:{title:d.trim()}}})):h(e.title)},[d,e.title,n]),j=v.useCallback(()=>{l(!1),f.trim()!==(e.description||"")?window.dispatchEvent(new CustomEvent("updateNodeData",{detail:{id:n,data:{description:f.trim()}}})):p(e.description||"")},[f,e.description,n]),_=v.useCallback(()=>{u(!1),m.trim()!==(e.content||"")?window.dispatchEvent(new CustomEvent("updateNodeData",{detail:{id:n,data:{content:m.trim()}}})):g(e.content||"")},[m,e.content,n]),C=v.useCallback(P=>{P.key==="Enter"?(P.preventDefault(),k()):P.key==="Escape"&&(h(e.title),i(!1))},[k,e.title]),A=v.useCallback(P=>{P.key==="Enter"&&P.ctrlKey?(P.preventDefault(),j()):P.key==="Escape"&&(p(e.description||""),l(!1))},[j,e.description]),O=v.useCallback(P=>{P.key==="Enter"&&P.ctrlKey?(P.preventDefault(),_()):P.key==="Escape"&&(g(e.content||""),u(!1))},[_,e.content]),M=v.useCallback(P=>{window.dispatchEvent(new CustomEvent("updateNodeData",{detail:{id:n,data:{emoji:P}}}))},[n]);return a.jsxs("div",{className:`
        ${r.bg} rounded-lg shadow-lg border-2 transition-all
        ${t?"border-blue-500 shadow-xl":`${r.border}`}
        hover:shadow-xl
      `,style:{width:"220px",minHeight:"140px"},children:[a.jsx(wt,{type:"target",position:we.Top,id:"top-target",className:"w-3 h-3 !bg-blue-500"}),a.jsx(wt,{type:"source",position:we.Top,id:"top-source",className:"w-3 h-3 !bg-blue-500"}),a.jsx(wt,{type:"target",position:we.Bottom,id:"bottom-target",className:"w-3 h-3 !bg-blue-500"}),a.jsx(wt,{type:"source",position:we.Bottom,id:"bottom-source",className:"w-3 h-3 !bg-blue-500"}),a.jsx(wt,{type:"target",position:we.Left,id:"left-target",className:"w-3 h-3 !bg-blue-500"}),a.jsx(wt,{type:"source",position:we.Left,id:"left-source",className:"w-3 h-3 !bg-blue-500"}),a.jsx(wt,{type:"target",position:we.Right,id:"right-target",className:"w-3 h-3 !bg-blue-500"}),a.jsx(wt,{type:"source",position:we.Right,id:"right-source",className:"w-3 h-3 !bg-blue-500"}),a.jsxs("div",{className:"p-3",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("div",{className:"flex-shrink-0 nodrag",onClick:P=>P.stopPropagation(),children:e.emoji?a.jsx(nu,{value:e.emoji,onSelect:M,trigger:a.jsx("button",{className:"text-lg hover:scale-110 transition-transform",children:e.emoji})}):a.jsx(nu,{onSelect:M,trigger:a.jsx("button",{className:"hover:bg-gray-100 p-1 rounded transition-colors",children:a.jsx(sx,{className:`w-4 h-4 ${r.text}`})})})}),s?a.jsx(re,{ref:y,value:d,onChange:P=>h(P.target.value),onBlur:k,onKeyDown:C,className:"h-6 text-sm font-semibold px-1 py-0 nodrag",onClick:P=>P.stopPropagation()}):a.jsx("h3",{className:`font-semibold text-sm cursor-text hover:bg-gray-100 px-1 rounded ${r.text}`,onDoubleClick:w,title:"Double-click to edit",children:e.title})]}),(e.description||o)&&(o?a.jsx(ft,{ref:x,value:f,onChange:P=>p(P.target.value),onBlur:j,onKeyDown:A,className:"text-xs min-h-[40px] nodrag mb-2 italic",onClick:P=>P.stopPropagation(),rows:2}):a.jsx("p",{className:"text-xs text-gray-600 mb-2 italic line-clamp-2 cursor-text hover:bg-gray-100 px-1 rounded",onDoubleClick:N,title:"Double-click to edit (Ctrl+Enter to save)",children:e.description})),(e.content||c)&&(c?a.jsx(ft,{ref:b,value:m,onChange:P=>g(P.target.value),onBlur:_,onKeyDown:O,className:`text-sm nodrag mb-2 ${r.text}`,onClick:P=>P.stopPropagation(),rows:4}):a.jsx("div",{className:`text-sm ${r.text} whitespace-pre-wrap mb-2 cursor-text hover:bg-gray-100 px-1 rounded`,onDoubleClick:S,title:"Double-click to edit (Ctrl+Enter to save)",children:e.content})),e.tags&&e.tags.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:e.tags.map((P,E)=>a.jsx(ve,{variant:"secondary",className:"text-xs",children:P},E))})]})]})});tie.displayName="NoteCard";const nie=v.memo(({id:e,sourceX:t,sourceY:n,targetX:r,targetY:s,sourcePosition:i,targetPosition:o,data:l,selected:c})=>{const[u,d]=v.useState(!1),[h,f,p]=yN({sourceX:t,sourceY:n,sourcePosition:i,targetX:r,targetY:s,targetPosition:o}),m=(l==null?void 0:l.relationshipType)||"related",g=Fse[m],y=(l==null?void 0:l.label)||g.label,x=(l==null?void 0:l.animationDirection)||"forward";return a.jsxs("g",{className:x==="reverse"?"animated-reverse":"",children:[a.jsx("path",{d:h,fill:"none",strokeWidth:20,stroke:"transparent",onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),style:{cursor:"pointer"}}),u&&a.jsx("path",{d:h,fill:"none",stroke:g.stroke,strokeWidth:g.strokeWidth+4,opacity:.3,className:"animate-pulse"}),a.jsx($m,{id:e,path:h,style:{stroke:g.stroke,strokeWidth:c||u?g.strokeWidth+2:g.strokeWidth,opacity:c||u?1:.8,transition:"all 0.2s ease-in-out"}}),a.jsx(LQe,{children:a.jsx("div",{style:{position:"absolute",transform:`translate(-50%, -50%) translate(${f}px,${p}px)`,pointerEvents:"all"},className:"nodrag nopan",onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:a.jsx("div",{className:`
              px-2 py-1 rounded text-xs font-medium shadow-md
              transition-all cursor-pointer
              ${c||u?"scale-110 shadow-lg":"scale-100"}
            `,style:{backgroundColor:"white",border:`2px solid ${g.stroke}`,color:g.stroke},children:y})})})]})});nie.displayName="CustomEdge";const vet={career:Q7,fitness:ko,learning:tx,business:mq,custom:Na},bet={career:"bg-purple-100 text-purple-700 border-purple-300",fitness:"bg-green-100 text-green-700 border-green-300",learning:"bg-blue-100 text-blue-700 border-blue-300",business:"bg-orange-100 text-orange-700 border-orange-300",custom:"bg-yellow-100 text-yellow-700 border-yellow-300"},rie=v.memo(({open:e,onOpenChange:t,onApplyTemplate:n})=>{const{getAllTemplates:r,deleteTemplate:s}=_L(),[i,o]=v.useState("all"),[l,c]=v.useState(null),u=r(),d=i==="all"?u:u.filter(m=>m.category===i),h=v.useCallback(m=>{n(m),t(!1)},[n,t]),f=v.useCallback(m=>{s(m)&&c(null)},[s]),p=[{value:"all",label:"All Templates",count:u.length},{value:"career",label:"Career",count:u.filter(m=>m.category==="career").length},{value:"fitness",label:"Fitness",count:u.filter(m=>m.category==="fitness").length},{value:"learning",label:"Learning",count:u.filter(m=>m.category==="learning").length},{value:"business",label:"Business",count:u.filter(m=>m.category==="business").length},{value:"custom",label:"Custom",count:u.filter(m=>m.category==="custom").length}];return a.jsxs(a.Fragment,{children:[a.jsx(ot,{open:e,onOpenChange:t,children:a.jsxs(nt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(rt,{children:[a.jsx(st,{className:"text-2xl font-bold",children:"Template Browser"}),a.jsx(dt,{children:"Choose a template to get started quickly or browse your saved custom templates"})]}),a.jsxs(Pa,{value:i,onValueChange:o,className:"w-full",children:[a.jsx(Ko,{className:"grid grid-cols-6 w-full",children:p.map(m=>a.jsxs(Mt,{value:m.value,className:"text-xs",children:[m.label,m.count>0&&a.jsx(ve,{variant:"secondary",className:"ml-1 text-xs",children:m.count})]},m.value))}),a.jsx(bn,{value:i,className:"mt-6",children:d.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-gray-500",children:"No templates found in this category"}),i==="custom"&&a.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Save your current canvas as a template to see it here"})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d.map(m=>{const g=vet[m.category],y=bet[m.category];return a.jsxs("div",{className:`
                          border-2 rounded-lg p-4 transition-all hover:shadow-lg
                          ${y}
                        `,children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(g,{className:"w-5 h-5"}),a.jsx("h3",{className:"font-semibold text-lg",children:m.name})]}),a.jsx(ve,{variant:"outline",className:"capitalize",children:m.category})]}),a.jsx("p",{className:"text-sm mb-4 line-clamp-2",children:m.description}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600 mb-4",children:[a.jsx(qr,{className:"w-3 h-3"}),a.jsx("span",{children:m.isCustom?`Created ${$t(new Date(m.createdAt),"MMM d, yyyy")}`:"Pre-made template"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(U,{onClick:()=>h(m.id),className:"flex-1",size:"sm",children:"Use Template"}),m.isCustom&&a.jsx(U,{onClick:()=>c(m.id),variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:a.jsx(Jt,{className:"w-4 h-4"})})]})]},m.id)})})})]})]})}),a.jsx(Aj,{open:!!l,onOpenChange:()=>c(null),children:a.jsxs(i0,{children:[a.jsxs(o0,{children:[a.jsx(l0,{children:"Delete Template"}),a.jsx(c0,{children:"Are you sure you want to delete this custom template? This action cannot be undone."})]}),a.jsxs(a0,{children:[a.jsx(d0,{children:"Cancel"}),a.jsx(u0,{onClick:()=>l&&f(l),className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})});rie.displayName="TemplateBrowser";const aH={career:Q7,fitness:ko,learning:tx,business:mq,custom:Na},wet={career:"bg-purple-100 text-purple-700 border-purple-300 hover:bg-purple-200",fitness:"bg-green-100 text-green-700 border-green-300 hover:bg-green-200",learning:"bg-blue-100 text-blue-700 border-blue-300 hover:bg-blue-200",business:"bg-orange-100 text-orange-700 border-orange-300 hover:bg-orange-200",custom:"bg-yellow-100 text-yellow-700 border-yellow-300 hover:bg-yellow-200"},sie=v.memo(({open:e,onOpenChange:t,onApplyTemplate:n})=>{const{getAllTemplates:r}=_L(),[s,i]=v.useState(0),[o,l]=v.useState(null),[c,u]=v.useState(""),[d,h]=v.useState(""),f=r(),p=v.useCallback(()=>{i(w=>Math.min(w+1,3))},[]),m=v.useCallback(()=>{i(w=>Math.max(w-1,0))},[]),g=v.useCallback(w=>{l(w),p()},[p]),y=v.useCallback(()=>{n(o,c||d?{title:c,description:d}:void 0),t(!1),i(0),l(null),u(""),h("")},[o,c,d,n,t]),x=o?f.find(w=>w.id===o):null,b=()=>{switch(s){case 0:return a.jsxs("div",{className:"space-y-6 py-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-4",children:a.jsx(Xt,{className:"w-8 h-8 text-blue-600"})}),a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Welcome to Goal Maps!"}),a.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:"Visualize your goals, milestones, and requirements in an interactive canvas. Connect related items, track progress, and achieve your dreams."})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 space-y-2",children:[a.jsxs("h3",{className:"font-semibold text-blue-900 flex items-center gap-2",children:[a.jsx(mi,{className:"w-4 h-4"}),"What you can do:"]}),a.jsxs("ul",{className:"text-sm text-blue-800 space-y-1 ml-6 list-disc",children:[a.jsx("li",{children:"Create goals, milestones, requirements, and notes"}),a.jsx("li",{children:"Connect items to show relationships and dependencies"}),a.jsx("li",{children:"Track progress with animated progress bars"}),a.jsx("li",{children:"Organize with colors, emojis, and tags"}),a.jsx("li",{children:"Edit everything inline with double-click"})]})]}),a.jsx("div",{className:"flex justify-center pt-4",children:a.jsxs(U,{onClick:p,size:"lg",children:["Get Started",a.jsx(vp,{className:"w-4 h-4 ml-2"})]})})]});case 1:return a.jsxs("div",{className:"space-y-6 py-6",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h2",{className:"text-xl font-bold mb-2",children:"Choose Your Starting Point"}),a.jsx("p",{className:"text-gray-600",children:"Select a pre-made template or start with a blank canvas"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("button",{onClick:()=>g(null),className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-left hover:border-blue-500 hover:bg-blue-50 transition-all",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:a.jsx(Xt,{className:"w-5 h-5 text-gray-600"})}),a.jsx("h3",{className:"font-semibold",children:"Blank Canvas"})]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Start from scratch and build your own custom goal map"})]}),f.filter(w=>!w.isCustom).map(w=>{const N=aH[w.category],S=wet[w.category];return a.jsxs("button",{onClick:()=>g(w.id),className:`border-2 rounded-lg p-4 text-left transition-all ${S}`,children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"w-10 h-10 bg-white/50 rounded-lg flex items-center justify-center",children:a.jsx(N,{className:"w-5 h-5"})}),a.jsx("h3",{className:"font-semibold",children:w.name})]}),a.jsx("p",{className:"text-sm line-clamp-2",children:w.description})]},w.id)})]})]});case 2:return a.jsxs("div",{className:"space-y-6 py-6",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h2",{className:"text-xl font-bold mb-2",children:"Customize Your Goal Map"}),a.jsx("p",{className:"text-gray-600",children:x?`Personalize the "${x.name}" template (optional)`:"Give your goal map a name and description (optional)"})]}),x&&a.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[(()=>{const w=aH[x.category];return a.jsx(w,{className:"w-4 h-4"})})(),a.jsx("h3",{className:"font-semibold",children:x.name}),a.jsx(ve,{variant:"outline",className:"capitalize",children:x.category})]}),a.jsx("p",{className:"text-sm text-gray-600",children:x.description})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"custom-title",children:"Custom Title (Optional)"}),a.jsx(re,{id:"custom-title",placeholder:x?`e.g., My ${x.name}`:"My Goal Map",value:c,onChange:w=>u(w.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"custom-description",children:"Custom Description (Optional)"}),a.jsx(ft,{id:"custom-description",placeholder:"Add a personal description...",value:d,onChange:w=>h(w.target.value),rows:3})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsxs(U,{onClick:m,variant:"outline",className:"flex-1",children:[a.jsx(nx,{className:"w-4 h-4 mr-2"}),"Back"]}),a.jsxs(U,{onClick:p,className:"flex-1",children:["Continue",a.jsx(vp,{className:"w-4 h-4 ml-2"})]})]})]});case 3:return a.jsxs("div",{className:"space-y-6 py-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:a.jsx(mi,{className:"w-8 h-8 text-green-600"})}),a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"You're All Set!"}),a.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:"Your goal map is ready to be created. Click finish to start working on your goals."})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 space-y-3",children:[a.jsx("h3",{className:"font-semibold text-blue-900",children:"What's Next?"}),a.jsxs("ul",{className:"text-sm text-blue-800 space-y-2",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"font-semibold min-w-[20px]",children:"1."}),a.jsx("span",{children:"Double-click any card to edit its content"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"font-semibold min-w-[20px]",children:"2."}),a.jsx("span",{children:"Drag from connection points to create relationships"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"font-semibold min-w-[20px]",children:"3."}),a.jsx("span",{children:"Use the toolbar to add new cards and customize your map"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"font-semibold min-w-[20px]",children:"4."}),a.jsx("span",{children:'Press "?" to view all keyboard shortcuts'})]})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsxs(U,{onClick:m,variant:"outline",className:"flex-1",children:[a.jsx(nx,{className:"w-4 h-4 mr-2"}),"Back"]}),a.jsx(U,{onClick:y,className:"flex-1 bg-green-600 hover:bg-green-700",children:"Finish & Create Map"})]})]});default:return null}};return a.jsx(ot,{open:e,onOpenChange:t,children:a.jsxs(nt,{className:"max-w-2xl",children:[a.jsxs(rt,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(st,{children:"Quick Start Wizard"}),a.jsxs(ve,{variant:"outline",children:["Step ",s+1," of 4"]})]}),a.jsx(dt,{children:"Let's set up your first goal map together"})]}),b(),a.jsx("div",{className:"flex gap-2 justify-center pt-4 border-t",children:[0,1,2,3].map(w=>a.jsx("div",{className:`h-2 rounded-full transition-all ${w===s?"w-8 bg-blue-600":w<s?"w-2 bg-blue-400":"w-2 bg-gray-300"}`},w))})]})})});sie.displayName="QuickStartWizard";const iie=v.memo(({open:e,onOpenChange:t})=>{const{maps:n,activeMapId:r,deleteMap:s,renameMap:i,setActiveMap:o}=zse(),[l,c]=v.useState(!1),[u,d]=v.useState(!1),[h,f]=v.useState(null),[p,m]=v.useState(""),[g,y]=v.useState(""),x=v.useCallback(()=>{if(!h||!p.trim()){J.error("Please enter a map name");return}i(h,p.trim(),g.trim()),J.success("Map updated"),c(!1),f(null),m(""),y("")},[h,p,g,i]),b=v.useCallback(()=>{if(!h)return;s(h)?J.success("Map deleted"):J.error("Cannot delete the last map"),d(!1),f(null)},[h,s]),w=v.useCallback(k=>{o(k),J.success("Switched map"),t(!1)},[o,t]),N=v.useCallback((k,j,_)=>{f(k),m(j),y(_||""),c(!0)},[]),S=v.useCallback(k=>{f(k),d(!0)},[]);return a.jsxs(a.Fragment,{children:[a.jsx(ot,{open:e,onOpenChange:t,children:a.jsxs(nt,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(rt,{children:[a.jsxs(st,{className:"text-2xl font-bold flex items-center gap-2",children:[a.jsx(cq,{className:"w-6 h-6"}),"Goal Maps"]}),a.jsx(dt,{children:"Manage your goal maps. Switch between maps or organize your existing maps."})]}),a.jsx("div",{className:"space-y-4",children:a.jsx("div",{className:"space-y-2",children:n.map(k=>a.jsx(te,{className:`p-4 transition-all cursor-pointer hover:shadow-md ${k.id===r?"border-2 border-blue-500 bg-blue-50":""}`,onClick:()=>k.id!==r&&w(k.id),children:a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h3",{className:"font-semibold text-lg",children:k.name}),k.id===r&&a.jsxs(ve,{variant:"default",className:"bg-blue-600",children:[a.jsx(Wk,{className:"w-3 h-3 mr-1"}),"Active"]})]}),k.description&&a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:k.description}),a.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[a.jsxs("span",{children:[k.nodeCount," cards"]}),a.jsx("span",{children:""}),a.jsxs("span",{children:["Updated ",$t(new Date(k.lastModified),"MMM d, yyyy")]})]})]}),a.jsxs("div",{className:"flex gap-1 flex-shrink-0",onClick:j=>j.stopPropagation(),children:[a.jsx(U,{size:"sm",variant:"ghost",onClick:()=>N(k.id,k.name,k.description),title:"Rename map",children:a.jsx(gi,{className:"w-4 h-4"})}),a.jsx(U,{size:"sm",variant:"ghost",onClick:()=>S(k.id),disabled:n.length===1,className:"text-red-600 hover:text-red-700 hover:bg-red-50",title:"Delete map",children:a.jsx(Jt,{className:"w-4 h-4"})})]})]})},k.id))})})]})}),a.jsx(ot,{open:l,onOpenChange:c,children:a.jsxs(nt,{children:[a.jsxs(rt,{children:[a.jsx(st,{children:"Edit Goal Map"}),a.jsx(dt,{children:"Update the name and description of your goal map"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(K,{children:"Map Name *"}),a.jsx(re,{value:p,onChange:k=>m(k.target.value),placeholder:"Map name",onKeyDown:k=>k.key==="Enter"&&x()})]}),a.jsxs("div",{children:[a.jsx(K,{children:"Description (Optional)"}),a.jsx(ft,{value:g,onChange:k=>y(k.target.value),placeholder:"What is this map for?",rows:3})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(U,{onClick:x,className:"flex-1",children:[a.jsx(gi,{className:"w-4 h-4 mr-2"}),"Save Changes"]}),a.jsx(U,{variant:"outline",onClick:()=>{c(!1),f(null),m(""),y("")},className:"flex-1",children:"Cancel"})]})]})]})}),a.jsx(Aj,{open:u,onOpenChange:d,children:a.jsxs(i0,{children:[a.jsxs(o0,{children:[a.jsx(l0,{children:"Delete Goal Map"}),a.jsx(c0,{children:"Are you sure you want to delete this goal map? All cards and connections will be permanently deleted. This action cannot be undone."})]}),a.jsxs(a0,{children:[a.jsx(d0,{onClick:()=>f(null),children:"Cancel"}),a.jsx(u0,{onClick:b,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})});iie.displayName="GoalMapManager";const Net={goalCard:Qse,milestoneCard:Zse,requirementCard:eie,noteCard:tie},ket={smoothstep:nie};function jet(){const e=Ct(),{fitView:t,zoomIn:n,zoomOut:r,screenToFlowPosition:s}=_0(),{goals:i,isLoaded:o}=S_(),{maps:l,activeMapId:c,updateMapMetadata:u,isLoaded:d}=zse(),{nodes:h,edges:f,viewport:p,isLoaded:m,addGoalNode:g,addMilestoneNode:y,addRequirementNode:x,addNoteNode:b,onNodesChange:w,onEdgesChange:N,onConnect:S,updateEdge:k,removeEdge:j,clearCanvas:_,hasGoalNode:C,duplicateNodes:A,removeNodes:O,updateNode:M,setNodesState:P,setEdgesState:E}=fZe(c),{canUndo:I,canRedo:T,undo:R,redo:L,pushHistory:D,clearHistory:F}=pZe(),{loadTemplate:z,saveTemplate:B}=_L(),{exportAsPng:$,exportAsSvg:W}=aet(),{copyShareLink:V,decodeMapData:Y}=cet(),{exportBackup:G,importBackup:Z}=uet(),[q,ee]=v.useState(!1),[se,X]=v.useState(!1),[de,pe]=v.useState(!1),[Se,be]=v.useState(!1),[Ae,ne]=v.useState(!1),[Je,qe]=v.useState(!1),[De,gt]=v.useState(!1),[St,qt]=v.useState(!1),[In,fe]=v.useState(!1),[Ne,ae]=v.useState(!1),[Oe,at]=v.useState(""),[yt,ln]=v.useState(""),[Tt,Tn]=v.useState(!1),[ms,Qn]=v.useState(null),[sr,Si]=v.useState(""),[Ln,Ps]=v.useState("milestone"),[gs,Js]=v.useState(null),[$n,Ds]=v.useState("related"),[Ge,xt]=v.useState("forward"),[Rt,Lr]=v.useState(0),[Qt,jr]=v.useState({title:"",description:"",targetDate:"",completed:!1,color:"blue"}),[hn,Bn]=v.useState({title:"",description:"",requirementType:"skill",completed:!1,cost:0,priority:"medium"}),[Nn,Jo]=v.useState({title:"",description:"",content:"",color:"yellow",tags:[]});v.useEffect(()=>{if(!m)return;const ce=setTimeout(()=>{D({nodes:h,edges:f}),Lr(Date.now())},500);return()=>clearTimeout(ce)},[h,f,m]),v.useEffect(()=>{const ce=Re=>{const fn=Re,{id:Fn,data:Rs}=fn.detail;M(Fn,Rs),J.success("Card updated")};return window.addEventListener("updateNodeData",ce),()=>window.removeEventListener("updateNodeData",ce)},[M]);const An=v.useMemo(()=>h.filter(ce=>ce.selected),[h]),Qo=v.useMemo(()=>i.filter(ce=>!C(ce.id)),[i,C]),oe=v.useMemo(()=>{if(!sr.trim())return Qo;const ce=sr.toLowerCase();return Qo.filter(Re=>{var fn;return Re.title.toLowerCase().includes(ce)||((fn=Re.description)==null?void 0:fn.toLowerCase().includes(ce))||Re.tags.some(Fn=>Fn.toLowerCase().includes(ce))})},[Qo,sr]),Nt=v.useCallback(ce=>{const Re=i.find(Fn=>Fn.id===ce);if(!Re)return;const fn=s({x:window.innerWidth/2-140,y:window.innerHeight/2-150});g(Re,fn),J.success(`Added "${Re.title}" to canvas`),ee(!1),Si("")},[i,g,s]),hr=v.useCallback(()=>{const ce=s({x:window.innerWidth/2-120,y:window.innerHeight/2-100});try{if(Ln==="milestone"){if(!Qt.title.trim()){J.error("Please enter a milestone title");return}y(Qt,ce),J.success("Milestone added to canvas"),jr({title:"",description:"",targetDate:"",completed:!1,color:"blue"})}else if(Ln==="requirement"){if(!hn.title.trim()){J.error("Please enter a requirement title");return}x(hn,ce),J.success("Requirement added to canvas"),Bn({title:"",description:"",requirementType:"skill",completed:!1,cost:0,priority:"medium"})}else if(Ln==="note"){if(!Nn.title.trim()){J.error("Please enter a note title");return}b(Nn,ce),J.success("Note added to canvas"),Jo({title:"",description:"",content:"",color:"yellow",tags:[]})}X(!1)}catch(Re){J.error("Failed to add card"),console.error(Re)}},[Ln,Qt,hn,Nn,y,x,b,s]),Nh=v.useCallback((ce,Re)=>{var fn,Fn;ce.stopPropagation(),Js(Re.id),Ds(((fn=Re.data)==null?void 0:fn.relationshipType)||"related"),xt(((Fn=Re.data)==null?void 0:Fn.animationDirection)||"forward"),pe(!0)},[]),iE=v.useCallback(()=>{gs&&(k(gs,{relationshipType:$n,animationDirection:Ge}),J.success("Connection updated"),pe(!1),Js(null))},[gs,$n,Ge,k]),oE=v.useCallback(()=>{gs&&confirm("Are you sure you want to delete this connection?")&&(j(gs),J.success("Connection deleted"),pe(!1),Js(null))},[gs,j]),aE=v.useCallback((ce,Re)=>{const fn=f.map(Fn=>Fn.id===ce.id?{...Fn,source:Re.source,target:Re.target,sourceHandle:Re.sourceHandle,targetHandle:Re.targetHandle}:Fn);E(fn),J.success("Connection rewired")},[f,E]),lE=v.useCallback(()=>{if(h.length===0){J.info("Canvas is already empty");return}confirm("Are you sure you want to clear the entire canvas? This cannot be undone.")&&(_(),F(),J.success("Canvas cleared"))},[h.length,_,F]),kh=v.useCallback(()=>{const ce=R();ce&&(P(ce.nodes),E(ce.edges),J.success("Undone"))},[R,P,E]),Wm=v.useCallback(()=>{const ce=L();ce&&(P(ce.nodes),E(ce.edges),J.success("Redone"))},[L,P,E]),Vm=v.useCallback(()=>{if(An.length===0){J.info("Select cards to duplicate");return}const ce=An.map(Re=>Re.id);A(ce),J.success(`Duplicated ${An.length} card${An.length>1?"s":""}`)},[An,A]),Gm=v.useCallback(()=>{if(An.length===0){J.info("Select cards to delete");return}if(confirm(`Delete ${An.length} selected card${An.length>1?"s":""}?`)){const ce=An.map(Re=>Re.id);O(ce),J.success(`Deleted ${An.length} card${An.length>1?"s":""}`)}},[An,O]),jh=v.useCallback(()=>{t({padding:.2,duration:300})},[t]),D0=v.useCallback((ce,Re)=>{if(!ce){J.success("Starting with blank canvas");return}const fn=z(ce);if(!fn){J.error("Template not found");return}if(h.length>0){if(!confirm("This will replace your current canvas. Continue?"))return;_(),F()}P(fn.nodes),E(fn.edges),J.success(`Applied "${fn.name}" template`),setTimeout(()=>{t({padding:.2,duration:500})},100)},[z,h.length,_,F,P,E,t]),cE=v.useCallback(()=>{if(h.length===0){J.error("Cannot save empty canvas as template");return}if(!Oe.trim()){J.error("Please enter a template name");return}B(Oe.trim(),yt.trim()||"Custom goal map template","custom",h,f)?(J.success("Template saved successfully"),gt(!1),at(""),ln("")):J.error("Failed to save template")},[h,f,Oe,yt,B]);v.useEffect(()=>{m&&h.length===0&&(localStorage.getItem("goalmap_wizard_seen")||setTimeout(()=>{qe(!0),localStorage.setItem("goalmap_wizard_seen","true")},500))},[m,h.length]),v.useEffect(()=>{m&&c&&u(c,{nodeCount:h.length})},[h.length,m,c,u]);const Zn=l.find(ce=>ce.id===c),La=ms||(Zn==null?void 0:Zn.name)||"Goal Map";v.useEffect(()=>{console.log(`[GoalMapCanvas] Active Map: ${c}, Loaded: ${m}, Nodes: ${h.length}, Edges: ${f.length}`)},[c,m,h.length,f.length]),v.useEffect(()=>{const ce=new URLSearchParams(window.location.search),Re=ce.get("shared"),fn=ce.get("view")==="true";if(Re&&fn){const Fn=Y(Re);Fn?(Tn(!0),Qn(Fn.name),P(Fn.nodes),E(Fn.edges),J.success(`Viewing shared map: ${Fn.name}`),setTimeout(()=>{t({padding:.2,duration:500})},100)):J.error("Invalid share link")}},[Y,P,E,t]);const R0=v.useCallback(async ce=>{const Re=La.replace(/\s+/g,"-").toLowerCase();ce==="png"?await $(Re):await W(Re),fe(!1)},[La,$,W]),uE=v.useCallback(async()=>{await V(La,Zn==null?void 0:Zn.description,h,f),ae(!1)},[La,Zn==null?void 0:Zn.description,h,f,V]),I0=v.useCallback(()=>{G(c,La,Zn==null?void 0:Zn.description,h,f,p),J.success("Backup exported successfully!")},[c,La,Zn==null?void 0:Zn.description,h,f,p,G]),dE=v.useCallback(async()=>{try{const ce=await Z();P(ce.nodes),E(ce.edges),J.success(`Backup restored: ${ce.mapName}`)}catch(ce){J.error("Failed to import backup: "+ce.message)}},[Z,P,E]),hE=v.useCallback(()=>{console.log("=== DEBUG: All Maps localStorage Data ==="),console.log("Active Map ID:",c),console.log("All Maps:",l),l.forEach(ce=>{const Re=`goalmap_nodes_${ce.id}`,fn=`goalmap_edges_${ce.id}`,Fn=`goalmap_viewport_${ce.id}`,Rs=localStorage.getItem(Re),L0=localStorage.getItem(fn),Mue=localStorage.getItem(Fn);console.log(`
Map: ${ce.name} (${ce.id})`),console.log(`  Nodes (${Re}):`,Rs?JSON.parse(Rs).length:"NOT FOUND"),console.log(`  Edges (${fn}):`,L0?JSON.parse(L0).length:"NOT FOUND"),console.log(`  Viewport (${Fn}):`,Mue||"NOT FOUND"),Rs&&console.log("  Raw nodes:",JSON.parse(Rs)),L0&&console.log("  Raw edges:",JSON.parse(L0))}),console.log(`
Current React State:`),console.log("  nodes:",h.length,h),console.log("  edges:",f.length,f),console.log("  mapLoaded:",m),console.log("=== END DEBUG ==="),J.success("Debug info logged to console (F12)")},[c,l,h,f,m]),fE=v.useCallback((ce,Re)=>{},[]);return v.useEffect(()=>{const ce=Re=>{const fn=Re.target;if(fn.tagName==="INPUT"||fn.tagName==="TEXTAREA"||fn.isContentEditable)return;const Rs=navigator.platform.toUpperCase().indexOf("MAC")>=0?Re.metaKey:Re.ctrlKey;Rs&&Re.key==="z"&&!Re.shiftKey?(Re.preventDefault(),kh()):Rs&&Re.key==="z"&&Re.shiftKey||Rs&&Re.key==="y"?(Re.preventDefault(),Wm()):Rs&&Re.key==="d"?(Re.preventDefault(),Vm()):(Re.key==="Delete"||Re.key==="Backspace")&&!Rs?(Re.preventDefault(),Gm()):Rs&&Re.key==="a"?Re.preventDefault():Re.key==="?"?(Re.preventDefault(),be(!0)):Re.key==="f"&&!Rs&&(Re.preventDefault(),jh())};return window.addEventListener("keydown",ce),()=>window.removeEventListener("keydown",ce)},[kh,Wm,Vm,Gm,jh]),!o||!m||!d?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading goal map..."})]})}):a.jsxs("div",{className:"h-screen w-full flex flex-col bg-gray-50",children:[a.jsxs("div",{className:"bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(U,{variant:"ghost",size:"sm",onClick:()=>e("/goals"),children:[a.jsx(Jn,{className:"w-4 h-4 mr-2"}),"Back to Goals"]}),a.jsx("div",{className:"h-6 w-px bg-gray-300"}),a.jsx(Xt,{className:"w-5 h-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-bold text-gray-900",children:La}),(Zn==null?void 0:Zn.description)&&a.jsx("p",{className:"text-xs text-gray-500",children:Zn.description})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[Tt?a.jsx(ve,{variant:"secondary",className:"bg-blue-100 text-blue-700",children:"View Only"}):a.jsxs(a.Fragment,{children:[a.jsxs(U,{variant:"outline",size:"sm",onClick:()=>ae(!0),disabled:h.length===0,children:[a.jsx(KE,{className:"w-4 h-4 mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Share"})]}),a.jsxs(U,{variant:"outline",size:"sm",onClick:()=>fe(!0),disabled:h.length===0,children:[a.jsx(V1,{className:"w-4 h-4 mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Export"})]}),a.jsxs(U,{variant:"outline",size:"sm",onClick:I0,disabled:h.length===0,title:"Download backup file",children:[a.jsx(qE,{className:"w-4 h-4 mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Backup"})]}),a.jsxs(U,{variant:"outline",size:"sm",onClick:dE,title:"Restore from backup file",children:[a.jsx(FD,{className:"w-4 h-4 mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Restore"})]}),a.jsxs(U,{variant:"outline",size:"sm",onClick:()=>qt(!0),children:[a.jsx(S4,{className:"w-4 h-4 mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Maps"}),l.length>1&&a.jsx(ve,{variant:"secondary",className:"ml-2",children:l.length})]})]}),a.jsxs(ve,{variant:"secondary",children:[h.length," ",h.length===1?"card":"cards"]}),a.jsxs(ve,{variant:"outline",className:"text-xs font-mono",children:["ID: ",c]}),a.jsx(U,{variant:"outline",size:"sm",onClick:hE,title:"Debug: Log all map data to console",children:a.jsx(vpe,{className:"w-4 h-4"})})]})]}),a.jsx("div",{className:"flex-1",children:a.jsxs(Rse,{nodes:h,edges:f,onNodesChange:Tt?void 0:w,onEdgesChange:Tt?void 0:N,onConnect:Tt?void 0:S,onEdgeClick:Tt?void 0:Nh,onEdgeUpdate:Tt?void 0:aE,onMoveEnd:fE,nodeTypes:Net,edgeTypes:ket,fitView:!0,minZoom:.1,maxZoom:2,selectionOnDrag:!Tt,panOnDrag:[1,2],selectionMode:Tt?void 0:"partial",edgeUpdaterRadius:Tt?0:10,nodesDraggable:!Tt,nodesConnectable:!Tt,elementsSelectable:!Tt,defaultEdgeOptions:{type:"smoothstep",animated:!0,style:{strokeWidth:2}},children:[a.jsx(oZe,{color:"#e5e7eb",gap:16}),a.jsx(eZe,{}),a.jsx(qQe,{nodeColor:ce=>{if(ce.type==="goalCard"){const Re=ce.data.status;return Re==="completed"?"#22c55e":Re==="in-progress"?"#3b82f6":Re==="on-hold"?"#f59e0b":"#9ca3af"}return ce.type==="milestoneCard"?"#3b82f6":ce.type==="requirementCard"?"#10b981":ce.type==="noteCard"?"#fbbf24":"#6b7280"},maskColor:"rgba(0, 0, 0, 0.1)"}),!Tt&&a.jsx(Xf,{position:"top-right",className:"hidden lg:block space-y-2",children:a.jsxs(te,{className:"p-2 space-y-2 shadow-lg",children:[a.jsxs("div",{className:"flex gap-1",children:[a.jsx(U,{size:"sm",variant:"outline",onClick:kh,disabled:!I,className:"flex-1",title:"Undo (Ctrl+Z)",children:a.jsx(j4,{className:"w-4 h-4"})}),a.jsx(U,{size:"sm",variant:"outline",onClick:Wm,disabled:!T,className:"flex-1",title:"Redo (Ctrl+Y)",children:a.jsx(Upe,{className:"w-4 h-4"})})]}),a.jsx("div",{className:"h-px bg-gray-200"}),a.jsxs(ot,{open:q,onOpenChange:ee,children:[a.jsx(js,{asChild:!0,children:a.jsxs(U,{size:"sm",className:"w-full",children:[a.jsx(Xt,{className:"w-4 h-4 mr-2"}),"Add Goal"]})}),a.jsxs(nt,{className:"max-w-2xl max-h-[80vh] overflow-hidden flex flex-col",children:[a.jsxs(rt,{children:[a.jsx(st,{children:"Add Goal to Canvas"}),a.jsx(dt,{children:"Select a goal from your goals list to add to the canvas"})]}),a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"relative",children:[a.jsx(Sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx(re,{placeholder:"Search goals...",value:sr,onChange:ce=>Si(ce.target.value),className:"pl-10"})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto space-y-2",children:oe.length===0?a.jsx("div",{className:"text-center py-8 text-gray-500",children:Qo.length===0?a.jsxs(a.Fragment,{children:[a.jsx(Xt,{className:"w-12 h-12 mx-auto mb-2 text-gray-400"}),a.jsx("p",{children:"All goals are already on the canvas!"}),a.jsxs("p",{className:"text-sm mt-1",children:["Create new goals in the"," ",a.jsx("button",{onClick:()=>e("/goals/create"),className:"text-blue-600 hover:underline",children:"Goals page"})]})]}):a.jsxs(a.Fragment,{children:[a.jsx(Sa,{className:"w-12 h-12 mx-auto mb-2 text-gray-400"}),a.jsx("p",{children:"No goals match your search"})]})}):oe.map(ce=>a.jsx(te,{className:"p-3 hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>Nt(ce.id),children:a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-sm mb-1",children:ce.title}),ce.description&&a.jsx("p",{className:"text-xs text-gray-600 line-clamp-2 mb-2",children:ce.description}),a.jsxs("div",{className:"flex flex-wrap gap-1",children:[a.jsx(ve,{variant:"outline",className:"text-xs",children:ce.type}),a.jsx(ve,{variant:"outline",className:"text-xs capitalize",children:ce.status.replace("-"," ")}),a.jsxs(ve,{variant:"outline",className:"text-xs",children:[ce.progress,"%"]})]})]}),a.jsx(U,{size:"sm",variant:"ghost",children:a.jsx(We,{className:"w-4 h-4"})})]})},ce.id))})]})]}),a.jsxs(ot,{open:se,onOpenChange:X,children:[a.jsx(js,{asChild:!0,children:a.jsxs(U,{size:"sm",variant:"outline",className:"w-full",children:[a.jsx(We,{className:"w-4 h-4 mr-2"}),"Add Card"]})}),a.jsxs(nt,{className:"max-w-md",children:[a.jsxs(rt,{children:[a.jsx(st,{children:"Add New Card"}),a.jsx(dt,{children:"Create a milestone, requirement, or note card"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(K,{children:"Card Type"}),a.jsxs(Ee,{value:Ln,onValueChange:ce=>Ps(ce),children:[a.jsx(je,{children:a.jsx(Ce,{})}),a.jsxs(_e,{children:[a.jsx(Q,{value:"milestone",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Gk,{className:"w-4 h-4"}),"Milestone"]})}),a.jsx(Q,{value:"requirement",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(bq,{className:"w-4 h-4"}),"Requirement"]})}),a.jsx(Q,{value:"note",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(sx,{className:"w-4 h-4"}),"Note"]})})]})]})]}),Ln==="milestone"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx(K,{children:"Title *"}),a.jsx(re,{value:Qt.title,onChange:ce=>jr({...Qt,title:ce.target.value}),placeholder:"Milestone title"})]}),a.jsxs("div",{children:[a.jsx(K,{children:"Description"}),a.jsx(ft,{value:Qt.description,onChange:ce=>jr({...Qt,description:ce.target.value}),placeholder:"Optional description",rows:3})]}),a.jsxs("div",{children:[a.jsx(K,{children:"Target Date"}),a.jsx(re,{type:"date",value:Qt.targetDate,onChange:ce=>jr({...Qt,targetDate:ce.target.value})})]}),a.jsxs("div",{children:[a.jsx(K,{children:"Color"}),a.jsxs(Ee,{value:Qt.color,onValueChange:ce=>jr({...Qt,color:ce}),children:[a.jsx(je,{children:a.jsx(Ce,{})}),a.jsxs(_e,{children:[a.jsx(Q,{value:"blue",children:"Blue"}),a.jsx(Q,{value:"green",children:"Green"}),a.jsx(Q,{value:"purple",children:"Purple"}),a.jsx(Q,{value:"pink",children:"Pink"}),a.jsx(Q,{value:"yellow",children:"Yellow"}),a.jsx(Q,{value:"gray",children:"Gray"})]})]})]})]}),Ln==="requirement"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx(K,{children:"Title *"}),a.jsx(re,{value:hn.title,onChange:ce=>Bn({...hn,title:ce.target.value}),placeholder:"Requirement title"})]}),a.jsxs("div",{children:[a.jsx(K,{children:"Description"}),a.jsx(ft,{value:hn.description,onChange:ce=>Bn({...hn,description:ce.target.value}),placeholder:"Optional description",rows:3})]}),a.jsxs("div",{children:[a.jsx(K,{children:"Type"}),a.jsxs(Ee,{value:hn.requirementType,onValueChange:ce=>Bn({...hn,requirementType:ce}),children:[a.jsx(je,{children:a.jsx(Ce,{})}),a.jsxs(_e,{children:[a.jsx(Q,{value:"skill",children:"Skill"}),a.jsx(Q,{value:"resource",children:"Resource"}),a.jsx(Q,{value:"tool",children:"Tool"}),a.jsx(Q,{value:"knowledge",children:"Knowledge"})]})]})]}),a.jsxs("div",{children:[a.jsx(K,{children:"Priority"}),a.jsxs(Ee,{value:hn.priority,onValueChange:ce=>Bn({...hn,priority:ce}),children:[a.jsx(je,{children:a.jsx(Ce,{})}),a.jsxs(_e,{children:[a.jsx(Q,{value:"low",children:"Low"}),a.jsx(Q,{value:"medium",children:"Medium"}),a.jsx(Q,{value:"high",children:"High"})]})]})]}),a.jsxs("div",{children:[a.jsx(K,{children:"Cost (optional)"}),a.jsx(re,{type:"number",value:hn.cost,onChange:ce=>Bn({...hn,cost:parseFloat(ce.target.value)||0}),placeholder:"0"})]})]}),Ln==="note"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx(K,{children:"Title *"}),a.jsx(re,{value:Nn.title,onChange:ce=>Jo({...Nn,title:ce.target.value}),placeholder:"Note title"})]}),a.jsxs("div",{children:[a.jsx(K,{children:"Description"}),a.jsx(re,{value:Nn.description,onChange:ce=>Jo({...Nn,description:ce.target.value}),placeholder:"Optional subtitle"})]}),a.jsxs("div",{children:[a.jsx(K,{children:"Content"}),a.jsx(ft,{value:Nn.content,onChange:ce=>Jo({...Nn,content:ce.target.value}),placeholder:"Note content...",rows:4})]}),a.jsxs("div",{children:[a.jsx(K,{children:"Color"}),a.jsxs(Ee,{value:Nn.color,onValueChange:ce=>Jo({...Nn,color:ce}),children:[a.jsx(je,{children:a.jsx(Ce,{})}),a.jsxs(_e,{children:[a.jsx(Q,{value:"yellow",children:"Yellow"}),a.jsx(Q,{value:"blue",children:"Blue"}),a.jsx(Q,{value:"green",children:"Green"}),a.jsx(Q,{value:"purple",children:"Purple"}),a.jsx(Q,{value:"pink",children:"Pink"}),a.jsx(Q,{value:"gray",children:"Gray"})]})]})]})]}),a.jsxs(U,{onClick:hr,className:"w-full",children:[a.jsx(We,{className:"w-4 h-4 mr-2"}),"Add"," ",Ln.charAt(0).toUpperCase()+Ln.slice(1)]})]})]})]}),a.jsx("div",{className:"h-px bg-gray-200"}),a.jsxs(U,{size:"sm",variant:"outline",className:"w-full",onClick:()=>qe(!0),children:[a.jsx(mi,{className:"w-4 h-4 mr-2"}),"Quick Start"]}),a.jsxs(U,{size:"sm",variant:"outline",className:"w-full",onClick:()=>ne(!0),children:[a.jsx(S4,{className:"w-4 h-4 mr-2"}),"Templates"]}),a.jsxs(U,{size:"sm",variant:"outline",className:"w-full",onClick:()=>gt(!0),disabled:h.length===0,children:[a.jsx(qE,{className:"w-4 h-4 mr-2"}),"Save Template"]}),a.jsx("div",{className:"h-px bg-gray-200"}),a.jsxs(U,{size:"sm",variant:"outline",className:"w-full",onClick:Vm,disabled:An.length===0,title:"Duplicate selected (Ctrl+D)",children:[a.jsx(tq,{className:"w-4 h-4 mr-2"}),"Duplicate ",An.length>0&&`(${An.length})`]}),a.jsxs(U,{size:"sm",variant:"outline",className:"w-full text-red-600 hover:text-red-700 hover:bg-red-50",onClick:Gm,disabled:An.length===0,title:"Delete selected (Del)",children:[a.jsx(Jt,{className:"w-4 h-4 mr-2"}),"Delete ",An.length>0&&`(${An.length})`]}),a.jsx("div",{className:"h-px bg-gray-200"}),a.jsxs(U,{size:"sm",variant:"outline",className:"w-full",onClick:jh,children:[a.jsx(Rpe,{className:"w-4 h-4 mr-2"}),"Fit View"]}),a.jsxs(U,{size:"sm",variant:"outline",className:"w-full",onClick:()=>n(),children:[a.jsx(Kpe,{className:"w-4 h-4 mr-2"}),"Zoom In"]}),a.jsxs(U,{size:"sm",variant:"outline",className:"w-full",onClick:()=>r(),children:[a.jsx(Ype,{className:"w-4 h-4 mr-2"}),"Zoom Out"]}),a.jsx("div",{className:"h-px bg-gray-200"}),a.jsxs(U,{size:"sm",variant:"outline",className:"w-full",onClick:()=>be(!0),children:[a.jsx(Ape,{className:"w-4 h-4 mr-2"}),"Shortcuts"]}),a.jsxs(U,{size:"sm",variant:"destructive",className:"w-full",onClick:lE,children:[a.jsx(Jt,{className:"w-4 h-4 mr-2"}),"Clear Canvas"]})]})}),!Tt&&a.jsx(Xf,{position:"bottom-right",className:"lg:hidden",children:a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx(U,{size:"lg",className:"rounded-full w-12 h-12 shadow-lg",onClick:()=>ee(!0),title:"Add Goal",children:a.jsx(Xt,{className:"w-5 h-5"})}),a.jsx(U,{size:"lg",variant:"outline",className:"rounded-full w-12 h-12 shadow-lg bg-white",onClick:()=>X(!0),title:"Add Card",children:a.jsx(We,{className:"w-5 h-5"})}),a.jsx(U,{size:"lg",variant:"outline",className:"rounded-full w-12 h-12 shadow-lg bg-white",onClick:kh,disabled:!I,title:"Undo",children:a.jsx(j4,{className:"w-5 h-5"})})]})}),h.length===0&&!Tt&&a.jsx(Xf,{position:"top-center",className:"pointer-events-none",children:a.jsxs(te,{className:"p-6 text-center bg-white/90 backdrop-blur",children:[a.jsx(Xt,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),a.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Start Mapping Your Goals"}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Add goals, milestones, requirements, and notes to the canvas and connect them"}),a.jsxs("div",{className:"flex gap-2 justify-center pointer-events-auto",children:[a.jsxs(U,{size:"sm",onClick:()=>ee(!0),children:[a.jsx(Xt,{className:"w-4 h-4 mr-2"}),"Add Goal"]}),a.jsxs(U,{size:"sm",variant:"outline",onClick:()=>X(!0),children:[a.jsx(We,{className:"w-4 h-4 mr-2"}),"Add Card"]})]})]})})]})}),a.jsx(ot,{open:de,onOpenChange:pe,children:a.jsxs(nt,{children:[a.jsxs(rt,{children:[a.jsx(st,{children:"Edit Connection"}),a.jsx(dt,{children:"Customize the connection between cards"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(K,{children:"Relationship Type"}),a.jsxs(Ee,{value:$n,onValueChange:ce=>Ds(ce),children:[a.jsx(je,{children:a.jsx(Ce,{})}),a.jsx(_e,{children:Object.entries(Fse).map(([ce,Re])=>a.jsx(Q,{value:ce,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-1 rounded",style:{backgroundColor:Re.stroke}}),Re.label]})},ce))})]})]}),a.jsxs("div",{children:[a.jsx(K,{children:"Animation Direction"}),a.jsxs(Ee,{value:Ge,onValueChange:ce=>xt(ce),children:[a.jsx(je,{children:a.jsx(Ce,{})}),a.jsxs(_e,{children:[a.jsx(Q,{value:"forward",children:"Forward (Source  Target)"}),a.jsx(Q,{value:"reverse",children:"Reverse (Target  Source)"})]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(U,{onClick:iE,className:"flex-1",children:[a.jsx(gi,{className:"w-4 h-4 mr-2"}),"Update"]}),a.jsx(U,{variant:"outline",onClick:()=>pe(!1),className:"flex-1",children:"Cancel"})]}),a.jsx("div",{className:"border-t pt-4",children:a.jsxs(U,{variant:"destructive",onClick:oE,className:"w-full",children:[a.jsx(Jt,{className:"w-4 h-4 mr-2"}),"Delete Connection"]})})]})]})}),a.jsx(ot,{open:Se,onOpenChange:be,children:a.jsxs(nt,{children:[a.jsxs(rt,{children:[a.jsx(st,{children:"Keyboard Shortcuts"}),a.jsx(dt,{children:"Boost your productivity with these keyboard shortcuts"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[a.jsx("div",{className:"font-medium",children:"Undo"}),a.jsx("div",{className:"text-gray-600",children:"Ctrl/Cmd + Z"}),a.jsx("div",{className:"font-medium",children:"Redo"}),a.jsx("div",{className:"text-gray-600",children:"Ctrl/Cmd + Shift + Z or Ctrl/Cmd + Y"}),a.jsx("div",{className:"font-medium",children:"Duplicate selected"}),a.jsx("div",{className:"text-gray-600",children:"Ctrl/Cmd + D"}),a.jsx("div",{className:"font-medium",children:"Delete selected"}),a.jsx("div",{className:"text-gray-600",children:"Delete or Backspace"}),a.jsx("div",{className:"font-medium",children:"Select all"}),a.jsx("div",{className:"text-gray-600",children:"Ctrl/Cmd + A"}),a.jsx("div",{className:"font-medium",children:"Fit view"}),a.jsx("div",{className:"text-gray-600",children:"F"}),a.jsx("div",{className:"font-medium",children:"Show shortcuts"}),a.jsx("div",{className:"text-gray-600",children:"?"})]}),a.jsxs("div",{className:"border-t pt-3",children:[a.jsx("h4",{className:"font-medium text-sm mb-2",children:"Selection & Navigation"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[a.jsx("div",{className:"font-medium",children:"Box select"}),a.jsx("div",{className:"text-gray-600",children:"Click and drag on canvas"}),a.jsx("div",{className:"font-medium",children:"Pan canvas"}),a.jsx("div",{className:"text-gray-600",children:"Middle/right mouse drag or scroll wheel"})]})]}),a.jsxs("div",{className:"border-t pt-3",children:[a.jsx("h4",{className:"font-medium text-sm mb-2",children:"Connections"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[a.jsx("div",{className:"font-medium",children:"Create connection"}),a.jsx("div",{className:"text-gray-600",children:"Drag from handle to handle"}),a.jsx("div",{className:"font-medium",children:"Rewire connection"}),a.jsx("div",{className:"text-gray-600",children:"Drag from connection endpoint"}),a.jsx("div",{className:"font-medium",children:"Edit connection"}),a.jsx("div",{className:"text-gray-600",children:"Click on connection line"})]})]}),a.jsxs("div",{className:"border-t pt-3",children:[a.jsx("h4",{className:"font-medium text-sm mb-2",children:"Inline Editing"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[a.jsx("div",{className:"font-medium",children:"Edit card title"}),a.jsx("div",{className:"text-gray-600",children:"Double-click title"}),a.jsx("div",{className:"font-medium",children:"Edit description"}),a.jsx("div",{className:"text-gray-600",children:"Double-click description"}),a.jsx("div",{className:"font-medium",children:"Save edits"}),a.jsx("div",{className:"text-gray-600",children:"Enter (Ctrl+Enter for description)"}),a.jsx("div",{className:"font-medium",children:"Cancel edits"}),a.jsx("div",{className:"text-gray-600",children:"Escape"})]})]})]}),a.jsx(U,{onClick:()=>be(!1),children:"Got it!"})]})}),a.jsx("div",{className:"bg-white border-t border-gray-200 px-2 sm:px-4 py-2",children:a.jsxs("div",{className:"flex items-center justify-center gap-2 sm:gap-6 text-xs text-gray-600 flex-wrap",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),a.jsx("span",{className:"hidden sm:inline",children:"Drag cards to reposition  Click & drag canvas for box select"}),a.jsx("span",{className:"sm:hidden",children:"Drag cards"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),a.jsx("span",{className:"hidden sm:inline",children:"Drag connection endpoints to rewire"}),a.jsx("span",{className:"sm:hidden",children:"Rewire"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),a.jsx("span",{className:"hidden sm:inline",children:"Double-click to edit  Press ? for shortcuts"}),a.jsx("span",{className:"sm:hidden",children:"Press ?"})]})]})}),a.jsx(rie,{open:Ae,onOpenChange:ne,onApplyTemplate:D0}),a.jsx(sie,{open:Je,onOpenChange:qe,onApplyTemplate:D0}),a.jsx(ot,{open:De,onOpenChange:gt,children:a.jsxs(nt,{children:[a.jsxs(rt,{children:[a.jsx(st,{children:"Save as Template"}),a.jsx(dt,{children:"Save your current goal map as a reusable template"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(K,{children:"Template Name *"}),a.jsx(re,{value:Oe,onChange:ce=>at(ce.target.value),placeholder:"My Custom Template"})]}),a.jsxs("div",{children:[a.jsx(K,{children:"Description"}),a.jsx(ft,{value:yt,onChange:ce=>ln(ce.target.value),placeholder:"Describe what this template is for...",rows:3})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(U,{onClick:cE,className:"flex-1",children:[a.jsx(qE,{className:"w-4 h-4 mr-2"}),"Save Template"]}),a.jsx(U,{variant:"outline",onClick:()=>gt(!1),className:"flex-1",children:"Cancel"})]})]})]})}),a.jsx(iie,{open:St,onOpenChange:qt}),a.jsx(ot,{open:In,onOpenChange:fe,children:a.jsxs(nt,{children:[a.jsxs(rt,{children:[a.jsx(st,{children:"Export Goal Map"}),a.jsx(dt,{children:"Export your goal map as an image file"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs(U,{onClick:()=>R0("png"),className:"h-24 flex-col gap-2",children:[a.jsx(nO,{className:"w-8 h-8"}),a.jsx("span",{children:"Export as PNG"})]}),a.jsxs(U,{onClick:()=>R0("svg"),variant:"outline",className:"h-24 flex-col gap-2",children:[a.jsx(kpe,{className:"w-8 h-8"}),a.jsx("span",{children:"Export as SVG"})]})]}),a.jsx("p",{className:"text-sm text-gray-500 text-center",children:"Image will be exported at 1920x1080 resolution"})]})]})}),a.jsx(ot,{open:Ne,onOpenChange:ae,children:a.jsxs(nt,{children:[a.jsxs(rt,{children:[a.jsx(st,{children:"Share Goal Map"}),a.jsx(dt,{children:"Share a view-only link to your goal map"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx(KE,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"font-medium text-blue-900 mb-1",children:"View-Only Sharing"}),a.jsx("p",{className:"text-sm text-blue-700",children:"Recipients can view and navigate the map but cannot make any changes. The map data is encoded in the URL."})]})]})}),a.jsxs(U,{onClick:uE,className:"w-full",size:"lg",children:[a.jsx(KE,{className:"w-4 h-4 mr-2"}),"Copy Share Link"]}),a.jsx("p",{className:"text-xs text-gray-500 text-center",children:"The link will be copied to your clipboard"})]})]})})]})}function _et(){return a.jsx(jL,{children:a.jsx(jet,{})})}const lH="daily-haven-journal-entries",cH="daily-haven-journal-settings",Eet={defaultCategory:"personal",defaultTemplate:"plain-white",enableMoodTracking:!0,dailyReminder:!1,theme:"system"},Cet=()=>{const[e,t]=v.useState([]),[n,r]=v.useState(Eet),[s,i]=v.useState(!1);return v.useEffect(()=>{try{const x=localStorage.getItem(lH),b=localStorage.getItem(cH);if(x){const N=JSON.parse(x).map(S=>({...S,date:new Date(S.date),createdAt:new Date(S.createdAt),updatedAt:new Date(S.updatedAt)}));t(N)}b&&r(JSON.parse(b))}catch(x){console.error("Error loading journal from localStorage:",x)}finally{i(!0)}},[]),v.useEffect(()=>{if(s)try{localStorage.setItem(lH,JSON.stringify(e))}catch(x){console.error("Error saving entries to localStorage:",x)}},[e,s]),v.useEffect(()=>{if(s)try{localStorage.setItem(cH,JSON.stringify(n))}catch(x){console.error("Error saving settings to localStorage:",x)}},[n,s]),{entries:e,settings:n,isLoaded:s,addEntry:x=>{t(b=>[x,...b])},updateEntry:(x,b)=>{t(w=>w.map(N=>N.id===x?{...N,...b,updatedAt:new Date}:N))},deleteEntry:x=>{t(b=>b.filter(w=>w.id!==x))},toggleFavorite:x=>{t(b=>b.map(w=>w.id===x?{...w,isFavorite:!w.isFavorite,updatedAt:new Date}:w))},updateSettings:x=>{r(b=>({...b,...x}))},getEntriesByDate:x=>e.filter(b=>{const w=new Date(b.date);return w.getFullYear()===x.getFullYear()&&w.getMonth()===x.getMonth()&&w.getDate()===x.getDate()}),getEntriesByMonth:(x,b)=>e.filter(w=>{const N=new Date(w.date);return N.getFullYear()===x&&N.getMonth()===b}),getEntriesByMood:x=>e.filter(b=>b.mood===x),getEntriesByCategory:x=>e.filter(b=>b.category===x),getEntriesByTag:x=>e.filter(b=>b.tags.includes(x)),getAllTags:()=>{const x=new Set;return e.forEach(b=>{b.tags.forEach(w=>x.add(w))}),Array.from(x).sort()}}},oie={amazing:"",happy:"",okay:"",sad:"",anxious:"",stressed:"",excited:"",calm:"",grateful:"",tired:""},aie={amazing:"Amazing",happy:"Happy",okay:"Okay",sad:"Sad",anxious:"Anxious",stressed:"Stressed",excited:"Excited",calm:"Calm",grateful:"Grateful",tired:"Tired"},Tet={personal:"Personal",work:"Work",travel:"Travel",gratitude:"Gratitude",goals:"Goals",dreams:"Dreams",memories:"Memories",thoughts:"Thoughts",other:"Other"},lie={personal:"",work:"",travel:"",gratitude:"",goals:"",dreams:"",memories:"",thoughts:"",other:""},Aet=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Oet=[{id:"plain-white",name:"Plain White",color:"#ffffff"},{id:"soft-yellow",name:"Soft Yellow",color:"#fef3c7"},{id:"light-blue",name:"Light Blue",color:"#dbeafe"},{id:"mint-green",name:"Mint Green",color:"#d1fae5"},{id:"lavender",name:"Lavender",color:"#e9d5ff"},{id:"peach",name:"Peach",color:"#fed7aa"},{id:"rose",name:"Rose",color:"#fce7f3"},{id:"sage",name:"Sage",color:"#dcfce7"}],Met=({entry:e,onEdit:t,onDelete:n,onToggleFavorite:r,onClick:s})=>{const i=l=>{const c=document.createElement("div");return c.innerHTML=l,c.textContent||c.innerText||""},o=i(e.content).substring(0,150);return a.jsxs(te,{className:"p-4 hover:shadow-md transition-shadow duration-200 cursor-pointer relative group",style:{backgroundColor:e.backgroundColor},onClick:s,children:[a.jsxs("div",{className:"flex justify-between items-start gap-2 mb-3",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.mood&&a.jsx("span",{className:"text-2xl",title:aie[e.mood],children:oie[e.mood]}),a.jsx("h3",{className:"font-semibold text-lg truncate",children:e.title}),e.isFavorite&&a.jsx($d,{className:"h-4 w-4 text-red-500 fill-red-500 flex-shrink-0"}),e.isPrivate&&a.jsx(ym,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[a.jsx(qr,{className:"h-3 w-3"}),a.jsx("span",{children:$t(new Date(e.date),"MMMM d, yyyy")}),a.jsx("span",{className:"mx-1",children:""}),a.jsxs("span",{children:[lie[e.category]," ",e.category]})]})]}),a.jsxs(hh,{children:[a.jsx(fh,{asChild:!0,onClick:l=>l.stopPropagation(),children:a.jsx(U,{variant:"ghost",size:"icon",className:"h-8 w-8 flex-shrink-0",children:a.jsx(Uv,{className:"h-4 w-4"})})}),a.jsxs(pu,{align:"end",children:[a.jsxs(_n,{onClick:l=>{l.stopPropagation(),t(e)},children:[a.jsx(gi,{className:"h-4 w-4 mr-2"}),"Edit"]}),a.jsxs(_n,{onClick:l=>{l.stopPropagation(),r(e.id)},children:[a.jsx($d,{className:"h-4 w-4 mr-2"}),e.isFavorite?"Remove from Favorites":"Add to Favorites"]}),a.jsxs(_n,{onClick:l=>{l.stopPropagation(),n(e.id)},className:"text-destructive",children:[a.jsx(Jt,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]}),a.jsxs("p",{className:"text-sm text-muted-foreground mb-3 line-clamp-3",children:[o,i(e.content).length>150&&"..."]}),e.images.length>0&&a.jsxs("div",{className:"flex gap-2 mb-3 overflow-x-auto",children:[e.images.slice(0,3).map(l=>a.jsx("img",{src:l.url,alt:l.caption||"Journal image",className:"h-16 w-16 object-cover rounded border",onClick:c=>c.stopPropagation()},l.id)),e.images.length>3&&a.jsxs("div",{className:"h-16 w-16 bg-muted rounded border flex items-center justify-center text-xs text-muted-foreground",children:["+",e.images.length-3]})]}),e.stickers.length>0&&a.jsxs("div",{className:"flex gap-1 mb-3",children:[e.stickers.slice(0,5).map(l=>a.jsx("span",{className:"text-lg",children:l.emoji},l.id)),e.stickers.length>5&&a.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",e.stickers.length-5]})]}),e.tags.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1.5",children:e.tags.map(l=>a.jsxs(ve,{variant:"secondary",className:"text-xs",children:[a.jsx(ya,{className:"h-3 w-3 mr-1"}),l]},l))})]})},Pet=({value:e,onChange:t,placeholder:n="Start writing...",className:r})=>{const s=v.useRef(null),[i,o]=v.useState(!1),l=v.useRef(!1);v.useEffect(()=>{s.current&&!l.current&&s.current.innerHTML!==e&&!i&&(s.current.innerHTML=e)},[e,i]);const c=()=>{s.current&&(l.current=!0,t(s.current.innerHTML),setTimeout(()=>{l.current=!1},0))},u=(h,f)=>{var p;document.execCommand(h,!1,f),(p=s.current)==null||p.focus(),c()},d=h=>{h.preventDefault();const f=h.clipboardData.getData("text/plain");document.execCommand("insertText",!1,f)};return a.jsxs("div",{className:me("border rounded-lg overflow-hidden",r),children:[a.jsxs("div",{className:"bg-muted/50 border-b p-2 flex flex-wrap gap-1",children:[a.jsx(U,{type:"button",variant:"ghost",size:"sm",onClick:()=>u("undo"),title:"Undo",children:a.jsx(Yk,{className:"h-4 w-4"})}),a.jsx(U,{type:"button",variant:"ghost",size:"sm",onClick:()=>u("redo"),title:"Redo",children:a.jsx(Kk,{className:"h-4 w-4"})}),a.jsx("div",{className:"w-px h-6 bg-border mx-1"}),a.jsx(U,{type:"button",variant:"ghost",size:"sm",onClick:()=>u("bold"),title:"Bold",children:a.jsx(PD,{className:"h-4 w-4"})}),a.jsx(U,{type:"button",variant:"ghost",size:"sm",onClick:()=>u("italic"),title:"Italic",children:a.jsx(ID,{className:"h-4 w-4"})}),a.jsx(U,{type:"button",variant:"ghost",size:"sm",onClick:()=>u("underline"),title:"Underline",children:a.jsx(BD,{className:"h-4 w-4"})}),a.jsx("div",{className:"w-px h-6 bg-border mx-1"}),a.jsx(U,{type:"button",variant:"ghost",size:"sm",onClick:()=>u("formatBlock","H1"),title:"Heading 1",children:a.jsx(rq,{className:"h-4 w-4"})}),a.jsx(U,{type:"button",variant:"ghost",size:"sm",onClick:()=>u("formatBlock","H2"),title:"Heading 2",children:a.jsx(sq,{className:"h-4 w-4"})}),a.jsx("div",{className:"w-px h-6 bg-border mx-1"}),a.jsx(U,{type:"button",variant:"ghost",size:"sm",onClick:()=>u("insertUnorderedList"),title:"Bullet List",children:a.jsx(qk,{className:"h-4 w-4"})}),a.jsx(U,{type:"button",variant:"ghost",size:"sm",onClick:()=>u("insertOrderedList"),title:"Numbered List",children:a.jsx(aq,{className:"h-4 w-4"})}),a.jsx(U,{type:"button",variant:"ghost",size:"sm",onClick:()=>u("formatBlock","BLOCKQUOTE"),title:"Quote",children:a.jsx(fq,{className:"h-4 w-4"})})]}),a.jsx("div",{ref:s,contentEditable:!0,onInput:c,onPaste:d,onFocus:()=>o(!0),onBlur:()=>o(!1),className:me("p-4 min-h-[200px] max-h-[500px] overflow-y-auto outline-none prose prose-sm max-w-none","focus:bg-accent/5",!e&&!i&&"text-muted-foreground"),"data-placeholder":n,style:{...!e&&!i&&{"&::before":{content:`"${n}"`,color:"var(--muted-foreground)"}}}})]})},Det=({open:e,onOpenChange:t,onSave:n,entry:r,defaultDate:s=new Date})=>{const[i,o]=v.useState(""),[l,c]=v.useState(""),[u,d]=v.useState(s),[h,f]=v.useState(),[p,m]=v.useState("personal"),[g,y]=v.useState([]),[x,b]=v.useState(""),[w,N]=v.useState("#ffffff"),[S,k]=v.useState(!1),[j,_]=v.useState([]);v.useEffect(()=>{e&&(r?(o(r.title),c(r.content),d(new Date(r.date)),f(r.mood),m(r.category),y(r.tags),N(r.backgroundColor||"#ffffff"),k(r.isPrivate),_(r.stickers.map(E=>E.emoji))):(o(""),c(""),d(new Date),f(void 0),m("personal"),y([]),N("#ffffff"),k(!1),_([])))},[e,r]);const C=()=>{x.trim()&&!g.includes(x.trim())&&(y([...g,x.trim()]),b(""))},A=E=>{y(g.filter(I=>I!==E))},O=E=>{j.includes(E)?_(j.filter(I=>I!==E)):_([...j,E])},M=()=>{if(!i.trim()){J.error("Please enter a title");return}const E={id:(r==null?void 0:r.id)||ui(),title:i.trim(),content:l,date:u,mood:h,category:p,tags:g,stickers:j.map((I,T)=>({id:ui(),emoji:I,x:0,y:0})),images:(r==null?void 0:r.images)||[],backgroundColor:w,isFavorite:(r==null?void 0:r.isFavorite)||!1,isPrivate:S,createdAt:(r==null?void 0:r.createdAt)||new Date,updatedAt:new Date};n(E),t(!1),J.success(r?"Entry updated!":"Entry created!")},P=E=>{const I=E.getFullYear(),T=String(E.getMonth()+1).padStart(2,"0"),R=String(E.getDate()).padStart(2,"0");return`${I}-${T}-${R}`};return a.jsx(ot,{open:e,onOpenChange:t,children:a.jsxs(nt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(rt,{children:[a.jsx(st,{children:r?"Edit Entry":"New Journal Entry"}),a.jsx(dt,{children:r?"Update your journal entry":"Capture your thoughts and memories"})]}),a.jsxs(Pa,{defaultValue:"content",className:"w-full",children:[a.jsxs(Ko,{className:"grid w-full grid-cols-4",children:[a.jsx(Mt,{value:"content",children:"Content"}),a.jsx(Mt,{value:"mood",children:"Mood"}),a.jsx(Mt,{value:"decoration",children:"Decoration"}),a.jsx(Mt,{value:"settings",children:"Settings"})]}),a.jsxs(bn,{value:"content",className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"title",children:"Title *"}),a.jsx(re,{id:"title",value:i,onChange:E=>o(E.target.value),placeholder:"What's on your mind?"})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"date",children:"Date"}),a.jsxs("div",{className:"relative",children:[a.jsx(qr,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),a.jsx(re,{id:"date",type:"date",value:P(u),onChange:E=>d(new Date(E.target.value)),className:"pl-8"})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"content",children:"Content"}),a.jsx(Pet,{value:l,onChange:c,placeholder:"Start writing your thoughts..."})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"category",children:"Category"}),a.jsxs(Ee,{value:p,onValueChange:E=>m(E),children:[a.jsx(je,{id:"category",children:a.jsx(Ce,{})}),a.jsx(_e,{children:Object.entries(Tet).map(([E,I])=>a.jsxs(Q,{value:E,children:[lie[E]," ",I]},E))})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"tags",children:"Tags"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx(re,{id:"tags",value:x,onChange:E=>b(E.target.value),onKeyDown:E=>{E.key==="Enter"&&(E.preventDefault(),C())},placeholder:"Add a tag..."}),a.jsx(U,{type:"button",onClick:C,children:a.jsx(ya,{className:"h-4 w-4"})})]}),g.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1.5",children:g.map(E=>a.jsxs(ve,{variant:"secondary",children:[E,a.jsx("button",{type:"button",onClick:()=>A(E),className:"ml-1 hover:text-destructive",children:a.jsx(zo,{className:"h-3 w-3"})})]},E))})]})]}),a.jsx(bn,{value:"mood",className:"space-y-4",children:a.jsxs("div",{children:[a.jsx(K,{children:"How are you feeling?"}),a.jsx("div",{className:"grid grid-cols-5 gap-3 mt-2",children:Object.entries(oie).map(([E,I])=>a.jsxs("button",{type:"button",onClick:()=>f(E===h?void 0:E),className:`p-4 rounded-lg border-2 transition-all hover:scale-105 ${h===E?"border-primary bg-primary/10 shadow-md":"border-gray-200 hover:border-gray-300"}`,children:[a.jsx("div",{className:"text-4xl mb-1",children:I}),a.jsx("div",{className:"text-xs font-medium",children:aie[E]})]},E))})]})}),a.jsxs(bn,{value:"decoration",className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(K,{children:"Background Color"}),a.jsx("div",{className:"grid grid-cols-4 gap-2 mt-2",children:Oet.map(E=>a.jsx("button",{type:"button",onClick:()=>N(E.color),className:`h-12 rounded border-2 hover:scale-105 transition-transform ${w===E.color?"border-primary ring-2 ring-primary":"border-gray-300"}`,style:{backgroundColor:E.color},title:E.name,children:a.jsx("span",{className:"sr-only",children:E.name})},E.id))})]}),a.jsxs("div",{children:[a.jsx(K,{children:"Stickers"}),a.jsx("div",{className:"grid grid-cols-8 gap-2 mt-2",children:Aet.map(E=>a.jsx("button",{type:"button",onClick:()=>O(E),className:`p-2 text-2xl rounded border-2 hover:scale-110 transition-all ${j.includes(E)?"border-primary bg-primary/10":"border-gray-200"}`,children:E},E))}),j.length>0&&a.jsx("div",{className:"mt-2",children:a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Selected: ",j.join(" ")]})})]})]}),a.jsx(bn,{value:"settings",className:"space-y-4",children:a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ym,{className:"h-5 w-5 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Private Entry"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Only you can see this entry"})]})]}),a.jsx(U,{type:"button",variant:S?"default":"outline",onClick:()=>k(!S),children:S?"Private":"Public"})]})})]}),a.jsxs(Wt,{children:[a.jsx(U,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(U,{onClick:M,children:r?"Update Entry":"Create Entry"})]})]})})},Ret=()=>{const{entries:e,isLoaded:t,addEntry:n,updateEntry:r,deleteEntry:s,toggleFavorite:i,getAllTags:o}=Cet(),[l,c]=v.useState(!1),[u,d]=v.useState(null),[h,f]=v.useState(null),[p,m]=v.useState(""),[g,y]=v.useState("all"),[x,b]=v.useState("all"),[w,N]=v.useState("all"),[S,k]=v.useState("grid"),[j,_]=v.useState(!1),[C,A]=v.useState(new Date),O=v.useMemo(()=>e.filter(z=>{const B=z.title.toLowerCase().includes(p.toLowerCase())||z.content.toLowerCase().includes(p.toLowerCase())||z.tags.some(G=>G.toLowerCase().includes(p.toLowerCase())),$=g==="all"||z.category===g,W=x==="all"||z.mood===x,V=w==="all"||z.tags.includes(w),Y=!j||z.isFavorite;return B&&$&&W&&V&&Y}),[e,p,g,x,w,j]),M=()=>{d(null),c(!0)},P=z=>{d(z),c(!0)},E=z=>{u?r(z.id,z):n(z)},I=z=>{confirm("Are you sure you want to delete this entry?")&&(s(z),J.success("Entry deleted"))},T=z=>{f(z)},R=nL(C),L=tL(C),D=Jx({start:R,end:L}),F=z=>e.filter(B=>Oo(new Date(B.date),z));return t?a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(Dn,{title:"Daily Haven Suite"}),a.jsxs("div",{className:"container mx-auto px-4 py-4 sm:py-8 max-w-7xl",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold mb-2 flex items-center gap-2",children:[a.jsx(tx,{className:"h-8 w-8"}),"Daily Journal"]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Capture your thoughts, memories, and reflections"})]}),a.jsxs(U,{onClick:M,size:"lg",children:[a.jsx(We,{className:"h-5 w-5 mr-2"}),"New Entry"]})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-6",children:[a.jsxs(te,{className:"p-4",children:[a.jsx("div",{className:"text-2xl font-bold",children:e.length}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Entries"})]}),a.jsxs(te,{className:"p-4",children:[a.jsx("div",{className:"text-2xl font-bold",children:e.filter(z=>Oo(new Date(z.date),new Date)).length}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Today"})]}),a.jsxs(te,{className:"p-4",children:[a.jsx("div",{className:"text-2xl font-bold",children:e.filter(z=>z.isFavorite).length}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Favorites"})]}),a.jsxs(te,{className:"p-4",children:[a.jsx("div",{className:"text-2xl font-bold",children:o().length}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Tags"})]})]}),a.jsx(te,{className:"p-4 mb-6",children:a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Sa,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),a.jsx(re,{placeholder:"Search entries...",value:p,onChange:z=>m(z.target.value),className:"pl-8"})]})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(U,{variant:j?"default":"outline",onClick:()=>_(!j),title:"Show Favorites",children:a.jsx($d,{className:`h-4 w-4 ${j?"fill-current":""}`})}),a.jsx(U,{variant:S==="grid"?"default":"outline",size:"icon",onClick:()=>k("grid"),title:"Grid View",children:a.jsx(rx,{className:"h-4 w-4"})}),a.jsx(U,{variant:S==="list"?"default":"outline",size:"icon",onClick:()=>k("list"),title:"List View",children:a.jsx(qk,{className:"h-4 w-4"})}),a.jsx(U,{variant:S==="calendar"?"default":"outline",size:"icon",onClick:()=>k("calendar"),title:"Calendar View",children:a.jsx(qr,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"filter-category",className:"text-xs mb-1.5 block",children:"Category"}),a.jsxs(Ee,{value:g,onValueChange:y,children:[a.jsx(je,{id:"filter-category",children:a.jsx(Ce,{})}),a.jsxs(_e,{children:[a.jsx(Q,{value:"all",children:"All Categories"}),a.jsx(Q,{value:"personal",children:"Personal"}),a.jsx(Q,{value:"work",children:"Work"}),a.jsx(Q,{value:"travel",children:"Travel"}),a.jsx(Q,{value:"gratitude",children:"Gratitude"}),a.jsx(Q,{value:"goals",children:"Goals"}),a.jsx(Q,{value:"dreams",children:"Dreams"}),a.jsx(Q,{value:"memories",children:"Memories"}),a.jsx(Q,{value:"thoughts",children:"Thoughts"}),a.jsx(Q,{value:"other",children:"Other"})]})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"filter-mood",className:"text-xs mb-1.5 block",children:"Mood"}),a.jsxs(Ee,{value:x,onValueChange:b,children:[a.jsx(je,{id:"filter-mood",children:a.jsx(Ce,{})}),a.jsxs(_e,{children:[a.jsx(Q,{value:"all",children:"All Moods"}),a.jsx(Q,{value:"amazing",children:"Amazing"}),a.jsx(Q,{value:"happy",children:"Happy"}),a.jsx(Q,{value:"okay",children:"Okay"}),a.jsx(Q,{value:"sad",children:"Sad"}),a.jsx(Q,{value:"anxious",children:"Anxious"}),a.jsx(Q,{value:"stressed",children:"Stressed"}),a.jsx(Q,{value:"excited",children:"Excited"}),a.jsx(Q,{value:"calm",children:"Calm"}),a.jsx(Q,{value:"grateful",children:"Grateful"}),a.jsx(Q,{value:"tired",children:"Tired"})]})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"filter-tag",className:"text-xs mb-1.5 block",children:"Tag"}),a.jsxs(Ee,{value:w,onValueChange:N,children:[a.jsx(je,{id:"filter-tag",children:a.jsx(Ce,{})}),a.jsxs(_e,{children:[a.jsx(Q,{value:"all",children:"All Tags"}),o().map(z=>a.jsx(Q,{value:z,children:z},z))]})]})]})]})]})}),O.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(tx,{className:"h-12 w-12 mx-auto text-muted-foreground mb-3"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:e.length===0?"No entries yet":"No entries match your filters"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:e.length===0?"Start documenting your thoughts and memories":"Try adjusting your search or filters"}),e.length===0&&a.jsxs(U,{onClick:M,children:[a.jsx(We,{className:"h-5 w-5 mr-2"}),"Create Your First Entry"]})]}):S==="calendar"?a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-bold",children:$t(C,"MMMM yyyy")}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(U,{variant:"outline",onClick:()=>A(new Date(C.getFullYear(),C.getMonth()-1)),children:"Previous"}),a.jsx(U,{variant:"outline",onClick:()=>A(new Date),children:"Today"}),a.jsx(U,{variant:"outline",onClick:()=>A(new Date(C.getFullYear(),C.getMonth()+1)),children:"Next"})]})]}),a.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(z=>a.jsx("div",{className:"text-center font-semibold text-sm p-2",children:z},z)),D.map(z=>{const B=F(z);return a.jsxs(te,{className:`p-2 min-h-[100px] ${Oo(z,new Date)?"border-primary":""}`,children:[a.jsx("div",{className:"text-sm font-semibold mb-1",children:$t(z,"d")}),B.map($=>a.jsxs("div",{className:"text-xs p-1 mb-1 bg-primary/10 rounded cursor-pointer hover:bg-primary/20",onClick:()=>T($),children:[$.mood&&a.jsx("span",{className:"mr-1",children:$.mood}),$.title.substring(0,15),"..."]},$.id))]},z.toISOString())})]})]}):a.jsx("div",{className:S==="grid"?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4":"flex flex-col gap-4",children:O.map(z=>a.jsx(Met,{entry:z,onEdit:P,onDelete:I,onToggleFavorite:i,onClick:()=>T(z)},z.id))})]}),a.jsx(Det,{open:l,onOpenChange:c,onSave:E,entry:u}),a.jsx(ot,{open:!!h,onOpenChange:()=>f(null),children:a.jsxs(nt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(rt,{children:[a.jsxs(st,{className:"flex items-center gap-2",children:[(h==null?void 0:h.mood)&&a.jsx("span",{className:"text-2xl",children:h.mood}),h==null?void 0:h.title,(h==null?void 0:h.isFavorite)&&a.jsx($d,{className:"h-4 w-4 text-red-500 fill-red-500"})]}),a.jsx("div",{className:"text-sm text-muted-foreground",children:h&&$t(new Date(h.date),"MMMM d, yyyy")})]}),h&&a.jsxs("div",{className:"prose prose-sm max-w-none p-6 rounded-lg",style:{backgroundColor:h.backgroundColor},children:[a.jsx("div",{dangerouslySetInnerHTML:{__html:h.content}}),h.stickers.length>0&&a.jsx("div",{className:"flex gap-2 mt-4",children:h.stickers.map(z=>a.jsx("span",{className:"text-2xl",children:z.emoji},z.id))}),h.images.length>0&&a.jsx("div",{className:"grid grid-cols-2 gap-4 mt-4",children:h.images.map(z=>a.jsxs("div",{children:[a.jsx("img",{src:z.url,alt:z.caption||"Journal image",className:"w-full rounded"}),z.caption&&a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:z.caption})]},z.id))}),h.tags.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:h.tags.map(z=>a.jsxs("span",{className:"px-2 py-1 bg-secondary text-secondary-foreground rounded text-xs",children:["#",z]},z))})]})]})})]}):a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsx("p",{className:"text-muted-foreground",children:"Loading..."})})},cie={health:"#ef4444",productivity:"#14b8a6",finance:"#059669",wellness:"#8b5cf6",social:"#f97316",learning:"#3b82f6",fitness:"#10b981",mindfulness:"#6366f1",creativity:"#ec4899",other:"#6b7280"},rv={health:"Health",productivity:"Productivity",finance:"Finance",wellness:"Wellness",social:"Social",learning:"Learning",fitness:"Fitness",mindfulness:"Mindfulness",creativity:"Creativity",other:"Other"},Iet={health:"",productivity:"",finance:"",wellness:"",social:"",learning:"",fitness:"",mindfulness:"",creativity:"",other:""},wN={daily:"Daily",weekly:"Weekly",custom:"Custom"},uie=()=>`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,Let=e=>{const t=new Date().getDay();return e.frequency==="daily"?!0:e.frequency==="custom"&&e.customDays?e.customDays.includes(t):!0},$et=e=>{const t=new Date,n=Lo(t,{weekStartsOn:1}),r=Gf(t,{weekStartsOn:1}),s=Jx({start:n,end:r});let i=0,o=0;return s.forEach(l=>{const c=l.getDay();let u=!1;e.frequency==="daily"?u=!0:e.frequency==="custom"&&e.customDays?u=e.customDays.includes(c):e.frequency==="weekly"&&(u=!0),u&&l<=t&&(i++,e.completions.some(h=>Oo(_s(new Date(h.completedAt)),_s(l)))&&o++)}),i>0?o/i*100:0},Bet=e=>{if(e<60)return`${e}m`;const t=Math.floor(e/60),n=e%60;return n===0?`${t}h`:`${t}h ${n}m`},uH=e=>{let t=0;return e.completions.some(n=>Oo(new Date(n.completedAt),new Date))||(t+=100),e.streak&&(t+=e.streak.currentStreak*10),e.frequency==="daily"&&(t+=50),Let(e)&&(t+=30),t},Fet=[{value:0,label:"Sunday",short:"Sun"},{value:1,label:"Monday",short:"Mon"},{value:2,label:"Tuesday",short:"Tue"},{value:3,label:"Wednesday",short:"Wed"},{value:4,label:"Thursday",short:"Thu"},{value:5,label:"Friday",short:"Fri"},{value:6,label:"Saturday",short:"Sat"}],zet=({onAdd:e})=>{const[t,n]=v.useState(!1),[r,s]=v.useState(""),[i,o]=v.useState(""),[l,c]=v.useState("health"),[u,d]=v.useState("daily"),[h,f]=v.useState([]),[p,m]=v.useState(""),[g,y]=v.useState(!1),[x,b]=v.useState("09:00"),[w,N]=v.useState(!1),[S,k]=v.useState("saving"),[j,_]=v.useState(""),[C,A]=v.useState(""),O=()=>{if(!r.trim())return;const E={id:uie(),name:r.trim(),description:i.trim()||void 0,category:l,status:"active",frequency:u,customDays:u==="custom"?h:void 0,estimatedTime:p?parseInt(p):void 0,completions:[],totalCompletions:0,totalTimeSpent:0,createdAt:new Date,tags:C?C.split(",").map(I=>I.trim()).filter(Boolean):void 0,reminder:g?{enabled:!0,time:x,days:u==="custom"?h:void 0}:void 0,financialGoal:w?{type:S,targetAmount:j?parseFloat(j):void 0,currentAmount:0,currency:"USD"}:void 0};e(E),M(),n(!1)},M=()=>{s(""),o(""),c("health"),d("daily"),f([]),m(""),y(!1),b("09:00"),N(!1),k("saving"),_(""),A("")},P=E=>{f(I=>I.includes(E)?I.filter(T=>T!==E):[...I,E].sort((T,R)=>T-R))};return a.jsxs(ot,{open:t,onOpenChange:n,children:[a.jsx(js,{asChild:!0,children:a.jsxs(U,{children:[a.jsx(We,{className:"h-4 w-4 mr-2"}),"Add Habit"]})}),a.jsxs(nt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(rt,{children:[a.jsx(st,{children:"Add New Habit"}),a.jsx(dt,{children:"Create a new habit to track and build consistency"})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"name",children:"Habit Name *"}),a.jsx(re,{id:"name",placeholder:"e.g., Morning Exercise, Read for 30 minutes",value:r,onChange:E=>s(E.target.value),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"description",children:"Description"}),a.jsx(ft,{id:"description",placeholder:"Optional description of your habit...",value:i,onChange:E=>o(E.target.value),rows:2})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"category",children:"Category"}),a.jsxs(Ee,{value:l,onValueChange:E=>c(E),children:[a.jsx(je,{id:"category",children:a.jsx(Ce,{})}),a.jsx(_e,{children:Object.keys(rv).map(E=>a.jsx(Q,{value:E,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:cie[E]}}),rv[E]]})},E))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"frequency",children:"Frequency"}),a.jsxs(Ee,{value:u,onValueChange:E=>d(E),children:[a.jsx(je,{id:"frequency",children:a.jsx(Ce,{})}),a.jsx(_e,{children:Object.keys(wN).map(E=>a.jsx(Q,{value:E,children:wN[E]},E))})]})]}),u==="custom"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{children:"Select Days"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Fet.map(E=>a.jsx(U,{type:"button",variant:h.includes(E.value)?"default":"outline",size:"sm",onClick:()=>P(E.value),className:"w-16",children:E.short},E.value))}),h.length===0&&a.jsx("p",{className:"text-xs text-muted-foreground",children:"Please select at least one day"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"estimatedTime",children:"Estimated Time (minutes)"}),a.jsx(re,{id:"estimatedTime",type:"number",min:"1",placeholder:"e.g., 30",value:p,onChange:E=>m(E.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"tags",children:"Tags (comma-separated)"}),a.jsx(re,{id:"tags",placeholder:"e.g., morning, wellness, routine",value:C,onChange:E=>A(E.target.value)})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ks,{id:"enableReminder",checked:g,onCheckedChange:E=>y(E)}),a.jsx(K,{htmlFor:"enableReminder",className:"cursor-pointer",children:"Enable Reminder"})]}),g&&a.jsxs("div",{className:"space-y-2 ml-6",children:[a.jsx(K,{htmlFor:"reminderTime",children:"Reminder Time"}),a.jsx(re,{id:"reminderTime",type:"time",value:x,onChange:E=>b(E.target.value)})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ks,{id:"enableFinancialGoal",checked:w,onCheckedChange:E=>N(E)}),a.jsx(K,{htmlFor:"enableFinancialGoal",className:"cursor-pointer",children:"Track Financial Goal"})]}),w&&a.jsxs("div",{className:"space-y-3 ml-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"financialType",children:"Goal Type"}),a.jsxs(Ee,{value:S,onValueChange:E=>k(E),children:[a.jsx(je,{id:"financialType",children:a.jsx(Ce,{})}),a.jsxs(_e,{children:[a.jsx(Q,{value:"saving",children:"Saving"}),a.jsx(Q,{value:"spending",children:"Spending Limit"}),a.jsx(Q,{value:"budgeting",children:"Budgeting"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"targetAmount",children:"Target Amount ($)"}),a.jsx(re,{id:"targetAmount",type:"number",min:"0",step:"0.01",placeholder:"e.g., 1000",value:j,onChange:E=>_(E.target.value)})]})]})]}),a.jsxs(Wt,{children:[a.jsx(U,{variant:"outline",onClick:()=>{M(),n(!1)},children:"Cancel"}),a.jsx(U,{onClick:O,disabled:!r.trim()||u==="custom"&&h.length===0,children:"Add Habit"})]})]})]})},Uet=(e,t)=>{let n=10;return t.timeSpent&&(n+=Math.floor(t.timeSpent/10)),e.streak&&e.streak.currentStreak>0&&(n+=Math.min(e.streak.currentStreak,20)),e.financialGoal&&(n+=15),n},dH=e=>Math.floor(Math.sqrt(e/100))+1,Het=(e,t=new Date)=>{const n=_s(t),r=e.streak||{longestStreak:0,completionDates:[]},s=[...r.completionDates,n],i=Array.from(new Set(s.map(u=>_s(u).getTime()))).map(u=>new Date(u));i.sort((u,d)=>u.getTime()-d.getTime());let o=1;const l=i[i.length-1];for(let u=i.length-2;u>=0&&Zp(i[u+1],i[u])===1;u--)o++;const c=Math.max(r.longestStreak,o);return{currentStreak:o,longestStreak:c,completionDates:i,lastCompletedDate:l}},Wet=e=>{const t=_s(new Date);return e.completions.some(n=>Oo(_s(new Date(n.completedAt)),t))},Vet=e=>{const t=_s(new Date);return e.completions.filter(n=>Oo(_s(new Date(n.completedAt)),t)).length},Gb=[{id:"first-habit",name:"First Steps",description:"Complete your first habit",icon:"",requirement:1},{id:"habit-10",name:"Getting Started",description:"Complete 10 habits",icon:"",requirement:10},{id:"habit-50",name:"Habit Builder",description:"Complete 50 habits",icon:"",requirement:50},{id:"habit-100",name:"Consistency Master",description:"Complete 100 habits",icon:"",requirement:100},{id:"streak-3",name:"Three Day Streak",description:"Maintain a 3-day streak",icon:"",requirement:3},{id:"streak-7",name:"Week Warrior",description:"Maintain a 7-day streak",icon:"",requirement:7},{id:"streak-30",name:"Month Master",description:"Maintain a 30-day streak",icon:"",requirement:30},{id:"streak-100",name:"Legendary",description:"Maintain a 100-day streak",icon:"",requirement:100},{id:"time-60",name:"Hour Power",description:"Spend 60 minutes on habits in one day",icon:"",requirement:60},{id:"time-600",name:"10 Hour Hero",description:"Spend 600 minutes total on habits",icon:"",requirement:600},{id:"financial-goal",name:"Money Matters",description:"Complete a financial habit",icon:"",requirement:1},{id:"categories-5",name:"Well Rounded",description:"Complete habits in 5 different categories",icon:"",requirement:5}],hH=(e,t,n)=>{if(e.id.includes("habit-")){const r=parseInt(e.id.split("-")[1]);return t.habitsCompleted>=r}if(e.id.includes("streak-")){const r=parseInt(e.id.split("-")[1]);return t.longestStreak>=r}if(e.id.includes("time-")){const r=parseInt(e.id.split("-")[1]);return t.totalTimeSpent>=r}return e.id==="financial-goal"?n.some(r=>r.financialGoal&&r.totalCompletions>0):e.id==="categories-5"?new Set(n.filter(s=>s.totalCompletions>0).map(s=>s.category)).size>=5:!1},Get=({habit:e,onComplete:t,onUpdate:n,onDelete:r,showTimeTracking:s=!0,onDragStart:i,onDragEnd:o,onDrop:l})=>{const[c,u]=v.useState(!1),[d,h]=v.useState(""),[f,p]=v.useState(""),[m,g]=v.useState(!1),y=Wet(e),x=Vet(e),b=$et(e),w=()=>{u(!0),h(""),p("")},N=()=>{const j=d?parseInt(d):void 0;t(e.id,j,f||void 0),u(!1)},S=j=>{n(e.id,{status:j})},k=cie[e.category];return a.jsxs(a.Fragment,{children:[a.jsx(te,{className:"p-4 hover:shadow-lg transition-shadow",onDragOver:j=>j.preventDefault(),onDrop:l,children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex items-center pt-1 cursor-grab active:cursor-grabbing select-none",draggable:!0,onDragStart:j=>{j.stopPropagation(),i&&i(j)},onDragEnd:o,children:a.jsx(Ld,{className:"h-5 w-5 text-muted-foreground"})}),a.jsx(U,{variant:"ghost",size:"sm",className:"p-0 h-auto hover:bg-transparent",onClick:w,disabled:e.status!=="active",children:y?a.jsx(Ro,{className:"h-6 w-6 text-green-600"}):a.jsx(gm,{className:"h-6 w-6 text-muted-foreground hover:text-green-600"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h3",{className:"font-semibold text-lg truncate",children:e.name}),a.jsx("span",{className:"text-xl flex-shrink-0",children:Iet[e.category]})]}),e.description&&a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:e.description})]}),a.jsxs(hh,{children:[a.jsx(fh,{asChild:!0,children:a.jsx(U,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:a.jsx(Uv,{className:"h-4 w-4"})})}),a.jsxs(pu,{align:"end",children:[a.jsxs(_n,{onClick:()=>{},children:[a.jsx(gi,{className:"h-4 w-4 mr-2"}),"Edit Habit"]}),a.jsx(tu,{}),e.status==="active"&&a.jsxs(_n,{onClick:()=>S("paused"),children:[a.jsx(LD,{className:"h-4 w-4 mr-2"}),"Pause Habit"]}),e.status==="paused"&&a.jsxs(_n,{onClick:()=>S("active"),children:[a.jsx(hq,{className:"h-4 w-4 mr-2"}),"Resume Habit"]}),a.jsxs(_n,{onClick:()=>S("archived"),children:[a.jsx(gpe,{className:"h-4 w-4 mr-2"}),"Archive Habit"]}),a.jsx(tu,{}),a.jsxs(_n,{onClick:()=>g(!0),className:"text-destructive",children:[a.jsx(Jt,{className:"h-4 w-4 mr-2"}),"Delete Habit"]})]})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3",children:[a.jsx(ve,{variant:"outline",style:{borderColor:k,color:k},children:rv[e.category]}),e.frequency&&a.jsxs(ve,{variant:"secondary",children:[a.jsx(qr,{className:"h-3 w-3 mr-1"}),e.frequency.charAt(0).toUpperCase()+e.frequency.slice(1)]}),e.streak&&e.streak.currentStreak>0&&a.jsxs(ve,{variant:"secondary",className:"bg-orange-100 text-orange-700",children:[a.jsx(jl,{className:"h-3 w-3 mr-1"}),e.streak.currentStreak," day streak"]}),y&&x>1&&a.jsxs(ve,{variant:"secondary",className:"bg-green-100 text-green-700",children:[" ",x,"x today"]}),e.status!=="active"&&a.jsx(ve,{variant:"secondary",children:e.status==="paused"?"Paused":"Archived"})]}),a.jsxs("div",{className:"mb-3",children:[a.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mb-1",children:[a.jsx("span",{children:"Weekly Progress"}),a.jsxs("span",{children:[Math.round(b),"%"]})]}),a.jsx("div",{className:"h-2 bg-secondary rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-blue-500 transition-all duration-300",style:{width:`${b}%`}})})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-xs text-muted-foreground",children:[s&&e.totalTimeSpent!==void 0&&e.totalTimeSpent>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(kl,{className:"h-3 w-3"}),a.jsxs("span",{children:[Bet(e.totalTimeSpent)," total"]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Ro,{className:"h-3 w-3"}),a.jsxs("span",{children:[e.totalCompletions," completions"]})]}),e.streak&&e.streak.longestStreak>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(jl,{className:"h-3 w-3"}),a.jsxs("span",{children:[e.streak.longestStreak," longest streak"]})]})]})]})]})}),a.jsx(ot,{open:c,onOpenChange:u,children:a.jsxs(nt,{children:[a.jsxs(rt,{children:[a.jsx(st,{children:"Complete Habit"}),a.jsxs(dt,{children:['Mark "',e.name,'" as completed for today']})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[s&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"timeSpent",children:"Time Spent (minutes)"}),a.jsx(re,{id:"timeSpent",type:"number",min:"0",placeholder:"Optional",value:d,onChange:j=>h(j.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"notes",children:"Notes"}),a.jsx(ft,{id:"notes",placeholder:"Optional notes or reflections...",value:f,onChange:j=>p(j.target.value),rows:3})]})]}),a.jsxs(Wt,{children:[a.jsx(U,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),a.jsx(U,{onClick:N,children:"Complete"})]})]})}),a.jsx(ot,{open:m,onOpenChange:g,children:a.jsxs(nt,{children:[a.jsxs(rt,{children:[a.jsx(st,{children:"Delete Habit"}),a.jsxs(dt,{children:['Are you sure you want to delete "',e.name,'"? This action cannot be undone and will remove all completion history.']})]}),a.jsxs(Wt,{children:[a.jsx(U,{variant:"outline",onClick:()=>g(!1),children:"Cancel"}),a.jsx(U,{variant:"destructive",onClick:()=>{r(e.id),g(!1)},children:"Delete"})]})]})})]})},fH={active:"Active",paused:"Paused",archived:"Archived"},qet=({filter:e,onFilterChange:t,habitCounts:n})=>{const r=e.category||e.status||e.frequency||e.searchQuery,s=()=>{t({})};return a.jsx(te,{className:"p-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(re,{placeholder:"Search habits...",value:e.searchQuery||"",onChange:i=>t({...e,searchQuery:i.target.value||void 0}),className:"pl-9 pr-9"}),e.searchQuery&&a.jsx(U,{variant:"ghost",size:"sm",onClick:()=>t({...e,searchQuery:void 0}),className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-7 w-7 p-0",children:a.jsx(zo,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Category"}),a.jsxs(Ee,{value:e.category||"all",onValueChange:i=>t({...e,category:i==="all"?void 0:i}),children:[a.jsx(je,{children:a.jsx(Ce,{placeholder:"All Categories"})}),a.jsxs(_e,{children:[a.jsx(Q,{value:"all",children:"All Categories"}),Object.keys(rv).map(i=>a.jsx(Q,{value:i,children:rv[i]},i))]})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Status"}),a.jsxs(Ee,{value:e.status||"all",onValueChange:i=>t({...e,status:i==="all"?void 0:i}),children:[a.jsx(je,{children:a.jsx(Ce,{placeholder:"All Statuses"})}),a.jsxs(_e,{children:[a.jsx(Q,{value:"all",children:"All Statuses"}),Object.keys(fH).map(i=>a.jsx(Q,{value:i,children:fH[i]},i))]})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Frequency"}),a.jsxs(Ee,{value:e.frequency||"all",onValueChange:i=>t({...e,frequency:i==="all"?void 0:i}),children:[a.jsx(je,{children:a.jsx(Ce,{placeholder:"All Frequencies"})}),a.jsxs(_e,{children:[a.jsx(Q,{value:"all",children:"All Frequencies"}),Object.keys(wN).map(i=>a.jsx(Q,{value:i,children:wN[i]},i))]})]})]})]}),r&&a.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[a.jsxs("div",{className:"text-sm text-muted-foreground",children:[Object.keys(e).filter(i=>e[i]).length," filter(s) applied"]}),a.jsxs(U,{variant:"ghost",size:"sm",onClick:s,children:[a.jsx(zo,{className:"h-4 w-4 mr-1"}),"Clear All"]})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 pt-2 border-t",children:[a.jsxs("div",{className:"text-center p-2 rounded-lg bg-secondary/50",children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:"Total"}),a.jsx("div",{className:"text-lg font-bold",children:n.total})]}),a.jsxs("div",{className:"text-center p-2 rounded-lg bg-green-100 dark:bg-green-950",children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:"Active"}),a.jsx("div",{className:"text-lg font-bold text-green-700 dark:text-green-400",children:n.active})]}),a.jsxs("div",{className:"text-center p-2 rounded-lg bg-yellow-100 dark:bg-yellow-950",children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:"Paused"}),a.jsx("div",{className:"text-lg font-bold text-yellow-700 dark:text-yellow-400",children:n.paused})]}),a.jsxs("div",{className:"text-center p-2 rounded-lg bg-gray-100 dark:bg-gray-900",children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:"Archived"}),a.jsx("div",{className:"text-lg font-bold text-gray-700 dark:text-gray-400",children:n.archived})]})]})]})})},Ket=[{value:"default",label:"Default"},{value:"gradient-blue",label:"Ocean Blue"},{value:"gradient-purple",label:"Purple Dream"},{value:"gradient-green",label:"Forest Green"},{value:"gradient-orange",label:"Sunset Orange"},{value:"gradient-pink",label:"Pink Blossom"}],Yet=({settings:e,onSettingsChange:t})=>{const[n,r]=v.useState(!1);return a.jsxs(ot,{open:n,onOpenChange:r,children:[a.jsx(js,{asChild:!0,children:a.jsx(U,{variant:"outline",size:"icon",children:a.jsx(wp,{className:"h-4 w-4"})})}),a.jsxs(nt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(rt,{children:[a.jsx(st,{children:"Habit Tracker Settings"}),a.jsx(dt,{children:"Customize your habit tracking experience"})]}),a.jsxs(Pa,{defaultValue:"general",className:"w-full",children:[a.jsxs(Ko,{className:"grid w-full grid-cols-3",children:[a.jsx(Mt,{value:"general",children:"General"}),a.jsx(Mt,{value:"appearance",children:"Appearance"}),a.jsx(Mt,{value:"features",children:"Features"})]}),a.jsx(bn,{value:"general",className:"space-y-4 pt-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(K,{children:"Show Time Tracking"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Display time spent on habits"})]}),a.jsx(Us,{checked:e.showTimeTracking,onCheckedChange:s=>t({showTimeTracking:s})})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(K,{children:"Show Reminders"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable habit reminders and notifications"})]}),a.jsx(Us,{checked:e.showReminders,onCheckedChange:s=>t({showReminders:s})})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(K,{children:"Enable Gamification"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Track points, levels, and badges"})]}),a.jsx(Us,{checked:e.enableGamification,onCheckedChange:s=>t({enableGamification:s})})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(K,{children:"Enable Financial Tracking"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Track financial habits and goals"})]}),a.jsx(Us,{checked:e.enableFinancialTracking,onCheckedChange:s=>t({enableFinancialTracking:s})})]})]})}),a.jsx(bn,{value:"appearance",className:"space-y-4 pt-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{children:"Color Scheme"}),a.jsxs(Ee,{value:e.colorScheme,onValueChange:s=>t({colorScheme:s}),children:[a.jsx(je,{children:a.jsx(Ce,{})}),a.jsxs(_e,{children:[a.jsx(Q,{value:"light",children:"Light"}),a.jsx(Q,{value:"dark",children:"Dark"}),a.jsx(Q,{value:"system",children:"System"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{children:"Background Type"}),a.jsxs(Ee,{value:e.backgroundType,onValueChange:s=>t({backgroundType:s}),children:[a.jsx(je,{children:a.jsx(Ce,{})}),a.jsxs(_e,{children:[a.jsx(Q,{value:"theme",children:"Theme"}),a.jsx(Q,{value:"image",children:"Image"}),a.jsx(Q,{value:"custom",children:"Custom"})]})]})]}),e.backgroundType==="theme"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{children:"Background Theme"}),a.jsxs(Ee,{value:e.backgroundTheme,onValueChange:s=>t({backgroundTheme:s}),children:[a.jsx(je,{children:a.jsx(Ce,{})}),a.jsx(_e,{children:Ket.map(s=>a.jsx(Q,{value:s.value,children:s.label},s.value))})]})]}),e.backgroundType==="image"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{children:"Background Image URL"}),a.jsx("input",{type:"url",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"https://example.com/image.jpg",value:e.backgroundImage||"",onChange:s=>t({backgroundImage:s.target.value})}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter a URL to a background image"})]})]})}),a.jsx(bn,{value:"features",className:"space-y-4 pt-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 border rounded-lg bg-muted/50",children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Feature Information"}),a.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[a.jsxs("li",{children:[" ",a.jsx("strong",{children:"Time Tracking:"})," Monitor how much time you spend on each habit"]}),a.jsxs("li",{children:[" ",a.jsx("strong",{children:"Reminders:"})," Get notified when it's time to complete your habits"]}),a.jsxs("li",{children:[" ",a.jsx("strong",{children:"Gamification:"})," Earn points, level up, and unlock badges"]}),a.jsxs("li",{children:[" ",a.jsx("strong",{children:"Financial Tracking:"})," Set and track financial goals for money-related habits"]})]})]}),e.enableGamification&&e.userStats&&a.jsxs("div",{className:"p-4 border rounded-lg",children:[a.jsx("h4",{className:"font-semibold mb-3",children:"Your Progress"}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Level"}),a.jsx("p",{className:"text-lg font-bold",children:e.userStats.level})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Total XP"}),a.jsx("p",{className:"text-lg font-bold",children:e.userStats.totalPoints})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Habits Completed"}),a.jsx("p",{className:"text-lg font-bold",children:e.userStats.habitsCompleted})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Current Streak"}),a.jsx("p",{className:"text-lg font-bold",children:e.userStats.currentStreak})]})]})]})]})})]})]})]})},pH="daily-haven-habits",mH="daily-haven-habit-settings",gH={backgroundType:"theme",backgroundTheme:"default",colorScheme:"system",showTimeTracking:!0,showReminders:!0,enableGamification:!0,enableFinancialTracking:!0},Xet=()=>{const[e,t]=v.useState([]),[n,r]=v.useState(gH),[s,i]=v.useState(!1);v.useEffect(()=>{try{const m=localStorage.getItem(pH),g=localStorage.getItem(mH);if(m){const y=JSON.parse(m,(x,b)=>x==="createdAt"||x==="completedAt"||x==="lastCompletedDate"||x==="earnedAt"?b&&new Date(b):x==="completionDates"?Array.isArray(b)?b.map(w=>new Date(w)):[]:b);t(y)}if(g){const y=JSON.parse(g,(x,b)=>x==="earnedAt"?b&&new Date(b):b);r({...gH,...y})}}catch(m){console.error("Error loading habits from localStorage:",m)}finally{i(!0)}},[]),v.useEffect(()=>{if(s)try{localStorage.setItem(pH,JSON.stringify(e))}catch(m){console.error("Error saving habits to localStorage:",m)}},[e,s]),v.useEffect(()=>{if(s)try{localStorage.setItem(mH,JSON.stringify(n))}catch(m){console.error("Error saving settings to localStorage:",m)}},[n,s]);const o=v.useCallback(m=>{t(g=>[...g,m])},[]),l=v.useCallback((m,g)=>{t(y=>y.map(x=>x.id===m?{...x,...g}:x))},[]),c=v.useCallback(m=>{t(g=>g.filter(y=>y.id!==m))},[]),u=v.useCallback(m=>{t(m)},[]),d=v.useCallback((m,g)=>{t(y=>y.map(x=>x.id===m?{...x,completions:[...x.completions,g],totalCompletions:x.totalCompletions+1,totalTimeSpent:(x.totalTimeSpent||0)+(g.timeSpent||0)}:x))},[]),h=v.useCallback((m,g,y)=>{t(x=>x.map(b=>b.id===m?{...b,completions:b.completions.map(w=>w.id===g?{...w,...y}:w)}:b))},[]),f=v.useCallback((m,g)=>{t(y=>y.map(x=>{if(x.id===m){const b=x.completions.find(w=>w.id===g);return{...x,completions:x.completions.filter(w=>w.id!==g),totalCompletions:Math.max(0,x.totalCompletions-1),totalTimeSpent:Math.max(0,(x.totalTimeSpent||0)-((b==null?void 0:b.timeSpent)||0))}}return x}))},[]),p=v.useCallback(m=>{r(g=>({...g,...m}))},[]);return{habits:e,settings:n,isLoaded:s,addHabit:o,updateHabit:l,deleteHabit:c,reorderHabits:u,addCompletion:d,updateCompletion:h,deleteCompletion:f,updateSettings:p}},Jet={default:"","gradient-blue":"bg-gradient-to-br from-blue-50 via-cyan-50 to-blue-100 dark:from-blue-950 dark:via-cyan-950 dark:to-blue-900","gradient-purple":"bg-gradient-to-br from-purple-50 via-pink-50 to-purple-100 dark:from-purple-950 dark:via-pink-950 dark:to-purple-900","gradient-green":"bg-gradient-to-br from-green-50 via-emerald-50 to-green-100 dark:from-green-950 dark:via-emerald-950 dark:to-green-900","gradient-orange":"bg-gradient-to-br from-orange-50 via-amber-50 to-orange-100 dark:from-orange-950 dark:via-amber-950 dark:to-orange-900","gradient-pink":"bg-gradient-to-br from-pink-50 via-rose-50 to-pink-100 dark:from-pink-950 dark:via-rose-950 dark:to-pink-900"},Qet=()=>{const e=Ct(),{habits:t,settings:n,isLoaded:r,addHabit:s,updateHabit:i,deleteHabit:o,reorderHabits:l,addCompletion:c,updateSettings:u}=Xet(),[d,h]=v.useState({}),[f,p]=v.useState(null);v.useEffect(()=>{r&&!n.userStats&&u({enableGamification:!0,userStats:{totalPoints:0,level:1,badges:Gb.map(A=>({...A})),habitsCompleted:0,currentStreak:0,longestStreak:0,totalTimeSpent:0}})},[r,n.userStats,u]);const m=v.useMemo(()=>{if(!n.userStats)return{totalPoints:0,level:1,badges:Gb.map(R=>({...R})),habitsCompleted:0,currentStreak:0,longestStreak:0,totalTimeSpent:0};const A=t.reduce((R,L)=>R+L.totalCompletions,0),O=t.reduce((R,L)=>R+(L.points||0),0),M=t.reduce((R,L)=>R+(L.totalTimeSpent||0),0),P=dH(O);let E=0,I=0;t.forEach(R=>{R.streak&&(E=Math.max(E,R.streak.currentStreak),I=Math.max(I,R.streak.longestStreak))});const T=Gb.map(R=>{const L=hH(R,{...n.userStats,habitsCompleted:A,longestStreak:I,totalTimeSpent:M},t);return{...R,earnedAt:L?R.earnedAt||new Date:void 0,progress:R.id.includes("habit")?A:R.id.includes("streak")?E:R.id.includes("time")?M:void 0}});return{totalPoints:O,level:P,badges:T,habitsCompleted:A,currentStreak:E,longestStreak:I,totalTimeSpent:M}},[t,n.userStats]),g=v.useMemo(()=>{let A=[...t];if(d.category&&(A=A.filter(O=>O.category===d.category)),d.status&&(A=A.filter(O=>O.status===d.status)),d.frequency&&(A=A.filter(O=>O.frequency===d.frequency)),d.searchQuery){const O=d.searchQuery.toLowerCase();A=A.filter(M=>{var P;return M.name.toLowerCase().includes(O)||((P=M.description)==null?void 0:P.toLowerCase().includes(O))})}return A.sort((O,M)=>{const P=uH(O);return uH(M)-P}),A},[t,d]),y=v.useMemo(()=>({total:t.length,active:t.filter(A=>A.status==="active").length,paused:t.filter(A=>A.status==="paused").length,archived:t.filter(A=>A.status==="archived").length}),[t]),x=A=>{s(A),J.success("Habit added successfully!")},b=A=>{o(A),J.success("Habit deleted")},w=(A,O)=>{i(A,O)},N=(A,O,M)=>{const P=t.find(D=>D.id===A);if(!P)return;const E={id:uie(),habitId:A,completedAt:new Date,timeSpent:O,notes:M},I=Uet(P,E),T=Het(P);c(A,E),i(A,{streak:T,points:(P.points||0)+I});const R=Gb.filter(D=>{var B,$;const F=($=(B=n.userStats)==null?void 0:B.badges.find(W=>W.id===D.id))==null?void 0:$.earnedAt,z=hH(D,{...m,habitsCompleted:m.habitsCompleted+1,totalPoints:m.totalPoints+I,totalTimeSpent:m.totalTimeSpent+(O||0)},t);return!F&&z});J.success(`Habit completed! +${I} XP`),R.forEach(D=>{J.success(` Badge Unlocked: ${D.name}!`)});const L=dH(m.totalPoints+I);L>m.level&&J.success(` Level Up! You're now Level ${L}!`),T.currentStreak>1&&J.success(` ${T.currentStreak} day streak!`)},S=(A,O)=>{p(O),A.dataTransfer.effectAllowed="move"},k=(A,O)=>{if(A.preventDefault(),!f||f===O){p(null);return}const M=g.findIndex(D=>D.id===f),P=g.findIndex(D=>D.id===O);if(M===-1||P===-1){p(null);return}const E=g.slice(),[I]=E.splice(M,1);E.splice(P,0,I);const T=new Set(g.map(D=>D.id)),R=[];let L=0;for(const D of t)T.has(D.id)?L<E.length&&(R.push(E[L]),L++):R.push(D);l(R),p(null)},j=()=>{p(null)},_=n.backgroundType==="theme"&&Jet[n.backgroundTheme]||"",C=n.backgroundType==="image"&&n.backgroundImage?{backgroundImage:`url(${n.backgroundImage})`,backgroundSize:"cover",backgroundPosition:"center"}:{};return r?a.jsxs("div",{className:`min-h-screen transition-all duration-300 ${_}`,style:C,children:[a.jsx(Dn,{title:"Habit Tracker"}),a.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"My Habits"}),n.enableGamification&&n.userStats&&a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-gradient-to-r from-purple-500 to-blue-500 text-white rounded-full text-sm font-semibold",children:[a.jsx("span",{className:"text-lg",children:""}),a.jsxs("span",{children:["Level ",m.level]})]})]}),a.jsx("p",{className:"text-muted-foreground",children:"Build better habits, track your progress, and achieve your goals"})]}),a.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[n.enableGamification&&a.jsxs(U,{variant:"outline",onClick:()=>e("/habits/stats"),className:"flex items-center gap-2",children:[a.jsx(Sn,{className:"h-4 w-4"}),"View Stats"]}),a.jsx(Yet,{settings:n,onSettingsChange:u}),a.jsx(zet,{onAdd:x})]})]}),a.jsx("div",{className:"mb-6",children:a.jsx(qet,{filter:d,onFilterChange:h,habitCounts:y})}),a.jsx("div",{className:"space-y-4",children:g.length===0?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-muted-foreground text-lg",children:t.length===0?"No habits yet. Add your first habit to get started!":`No habits match your filters. (${t.length} total habits)`})}):a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",g.length," of ",t.length," habits"]}),a.jsx("div",{className:"space-y-4",children:g.map(A=>a.jsx("div",{className:`transition-all duration-200 ${f===A.id?"opacity-40 scale-95":f?"opacity-100":""}`,children:a.jsx(Get,{habit:A,onComplete:N,onUpdate:w,onDelete:b,showTimeTracking:n.showTimeTracking,onDragStart:O=>S(O,A.id),onDragEnd:j,onDrop:O=>k(O,A.id)})},A.id))})]})}),t.length>0&&a.jsxs("div",{className:"mt-8 p-4 bg-card rounded-lg border",children:[a.jsx("h3",{className:"font-semibold mb-2",children:"Quick Stats"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Total Habits"}),a.jsx("p",{className:"text-2xl font-bold",children:y.total})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Active"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:y.active})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Current Streak"}),a.jsx("p",{className:"text-2xl font-bold text-orange-600",children:m.currentStreak})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Total XP"}),a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:m.totalPoints})]})]})]})]})]}):a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsx("p",{className:"text-muted-foreground",children:"Loading..."})})},sv={food:"#ef4444",gas:"#f59e0b",transportation:"#3b82f6",hobbies:"#ec4899",entertainment:"#8b5cf6",bills:"#6366f1",subscriptions:"#14b8a6",shopping:"#10b981",health:"#059669",education:"#0891b2",other:"#6b7280"},Ks={food:"Food & Dining",gas:"Gas & Fuel",transportation:"Transportation",hobbies:"Hobbies",entertainment:"Entertainment",bills:"Bills & Utilities",subscriptions:"Subscriptions",shopping:"Shopping",health:"Health & Wellness",education:"Education",other:"Other"},Zet={food:"",gas:"",transportation:"",hobbies:"",entertainment:"",bills:"",subscriptions:"",shopping:"",health:"",education:"",other:""},yl={cash:"Cash",credit:"Credit Card",debit:"Debit Card",digital:"Digital Wallet",other:"Other"},Ny={none:"One-time",daily:"Daily",weekly:"Weekly",biweekly:"Bi-weekly (Every 2 weeks)",monthly:"Monthly",yearly:"Yearly"},ett=({onAdd:e,defaultCategory:t="other",defaultPaymentMethod:n="cash",currencySymbol:r="$"})=>{const[s,i]=v.useState(!1),[o,l]=v.useState(""),[c,u]=v.useState(""),[d,h]=v.useState(t),[f,p]=v.useState(""),[m,g]=v.useState(new Date().toISOString().split("T")[0]),[y,x]=v.useState(n),[b,w]=v.useState(!1),[N,S]=v.useState("monthly"),[k,j]=v.useState(""),[_,C]=v.useState(""),A=()=>{if(!o.trim()||!c||parseFloat(c)<=0)return;const M={id:$7e(),title:o.trim(),amount:parseFloat(c),category:d,date:new Date(m),description:f.trim()||void 0,paymentMethod:y,isRecurring:b,recurringFrequency:b?N:void 0,tags:k?k.split(",").map(P=>P.trim()).filter(Boolean):void 0,receiptImage:_.trim()||void 0,createdAt:new Date};e(M),O(),i(!1)},O=()=>{l(""),u(""),h(t),p(""),g(new Date().toISOString().split("T")[0]),x(n),w(!1),S("monthly"),j(""),C("")};return a.jsxs(ot,{open:s,onOpenChange:i,children:[a.jsx(js,{asChild:!0,children:a.jsxs(U,{children:[a.jsx(We,{className:"h-4 w-4 mr-2"}),"Add Expense"]})}),a.jsxs(nt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(rt,{children:[a.jsx(st,{children:"Add New Expense"}),a.jsx(dt,{children:"Record a new expense and track your spending"})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"title",children:"Title *"}),a.jsx(re,{id:"title",placeholder:"e.g., Grocery Shopping, Gas Fill-up",value:o,onChange:M=>l(M.target.value),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(K,{htmlFor:"amount",children:["Amount (",r,") *"]}),a.jsx(re,{id:"amount",type:"number",min:"0",step:"0.01",placeholder:"0.00",value:c,onChange:M=>u(M.target.value),required:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"category",children:"Category"}),a.jsxs(Ee,{value:d,onValueChange:M=>h(M),children:[a.jsx(je,{id:"category",children:a.jsx(Ce,{})}),a.jsx(_e,{children:Object.keys(Ks).map(M=>a.jsx(Q,{value:M,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:sv[M]}}),Ks[M]]})},M))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"date",children:"Date"}),a.jsx(re,{id:"date",type:"date",value:m,onChange:M=>g(M.target.value)})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"description",children:"Description"}),a.jsx(ft,{id:"description",placeholder:"Optional notes about this expense...",value:f,onChange:M=>p(M.target.value),rows:2})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"paymentMethod",children:"Payment Method"}),a.jsxs(Ee,{value:y,onValueChange:M=>x(M),children:[a.jsx(je,{id:"paymentMethod",children:a.jsx(Ce,{})}),a.jsx(_e,{children:Object.keys(yl).map(M=>a.jsx(Q,{value:M,children:yl[M]},M))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"tags",children:"Tags (comma-separated)"}),a.jsx(re,{id:"tags",placeholder:"e.g., essential, impulse, planned",value:k,onChange:M=>j(M.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"receiptImage",children:"Receipt Image URL"}),a.jsx(re,{id:"receiptImage",type:"url",placeholder:"https://example.com/receipt.jpg",value:_,onChange:M=>C(M.target.value)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Optional: Paste a URL to a receipt image"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ks,{id:"isRecurring",checked:b,onCheckedChange:M=>w(M)}),a.jsx(K,{htmlFor:"isRecurring",className:"cursor-pointer",children:"This is a recurring expense"})]}),b&&a.jsxs("div",{className:"space-y-2 ml-6",children:[a.jsx(K,{htmlFor:"recurringFrequency",children:"Frequency"}),a.jsxs(Ee,{value:N,onValueChange:M=>S(M),children:[a.jsx(je,{id:"recurringFrequency",children:a.jsx(Ce,{})}),a.jsx(_e,{children:Object.keys(Ny).filter(M=>M!=="none").map(M=>a.jsx(Q,{value:M,children:Ny[M]},M))})]})]})]}),a.jsxs(Wt,{children:[a.jsx(U,{variant:"outline",onClick:()=>{O(),i(!1)},children:"Cancel"}),a.jsx(U,{onClick:A,disabled:!o.trim()||!c||parseFloat(c)<=0,children:"Add Expense"})]})]})]})},ttt=({expense:e,onUpdate:t,onDelete:n,currencySymbol:r="$",onDragStart:s,onDragEnd:i,onDrop:o})=>{var Z;const[l,c]=v.useState(!1),[u,d]=v.useState(!1),[h,f]=v.useState(!1),[p,m]=v.useState(!1),[g,y]=v.useState(e.title),[x,b]=v.useState(e.title),[w,N]=v.useState(e.amount.toString()),[S,k]=v.useState(e.category),[j,_]=v.useState(e.description||""),[C,A]=v.useState(new Date(e.date).toISOString().split("T")[0]),[O,M]=v.useState(e.paymentMethod||"cash"),[P,E]=v.useState(e.isRecurring),[I,T]=v.useState(e.recurringFrequency||"monthly"),[R,L]=v.useState(((Z=e.tags)==null?void 0:Z.join(", "))||""),[D,F]=v.useState(e.receiptImage||""),z=sv[e.category],B=U7e(e),$=()=>{m(!0),y(e.title)},W=()=>{m(!1),g.trim()&&g!==e.title?t(e.id,{title:g.trim(),updatedAt:new Date}):y(e.title)},V=q=>{q.key==="Enter"?W():q.key==="Escape"&&(m(!1),y(e.title))},Y=()=>{var q;b(e.title),N(e.amount.toString()),k(e.category),_(e.description||""),A(new Date(e.date).toISOString().split("T")[0]),M(e.paymentMethod||"cash"),E(e.isRecurring),T(e.recurringFrequency||"monthly"),L(((q=e.tags)==null?void 0:q.join(", "))||""),F(e.receiptImage||""),f(!0)},G=()=>{if(!x.trim()||!w||parseFloat(w)<=0)return;const q={title:x.trim(),amount:parseFloat(w),category:S,date:new Date(C),description:j.trim()||void 0,paymentMethod:O,isRecurring:P,recurringFrequency:P?I:void 0,tags:R?R.split(",").map(ee=>ee.trim()).filter(Boolean):void 0,receiptImage:D.trim()||void 0,updatedAt:new Date};t(e.id,q),f(!1)};return a.jsxs(a.Fragment,{children:[a.jsx(te,{className:"p-4 hover:shadow-lg transition-shadow",onDragOver:q=>q.preventDefault(),onDrop:o,children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex items-center pt-1 cursor-grab active:cursor-grabbing select-none",draggable:!0,onDragStart:q=>{q.stopPropagation(),s&&s(q)},onDragEnd:i,children:a.jsx(Ld,{className:"h-5 w-5 text-muted-foreground"})}),a.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center text-2xl flex-shrink-0",style:{backgroundColor:`${z}20`,color:z},children:Zet[e.category]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p?a.jsx(re,{value:g,onChange:q=>y(q.target.value),onBlur:W,onKeyDown:V,autoFocus:!0,className:"font-semibold text-lg h-8 px-2"}):a.jsx("h3",{className:"font-semibold text-lg truncate cursor-pointer hover:text-primary transition-colors",onClick:$,title:"Click to edit",children:e.title}),e.isRecurring&&a.jsxs(ve,{variant:"secondary",className:"flex-shrink-0",children:[a.jsx(pq,{className:"h-3 w-3 mr-1"}),"Recurring"]})]}),e.description&&a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:e.description})]}),a.jsx("div",{className:"text-right flex-shrink-0",children:a.jsx("p",{className:"text-2xl font-bold text-red-600",children:Fe(e.amount,r)})}),a.jsxs(hh,{children:[a.jsx(fh,{asChild:!0,children:a.jsx(U,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 flex-shrink-0",children:a.jsx(Uv,{className:"h-4 w-4"})})}),a.jsxs(pu,{align:"end",children:[a.jsxs(_n,{onClick:Y,children:[a.jsx(gi,{className:"h-4 w-4 mr-2"}),"Edit Expense"]}),e.receiptImage&&a.jsxs(_n,{onClick:()=>d(!0),children:[a.jsx(nO,{className:"h-4 w-4 mr-2"}),"View Receipt"]}),a.jsx(tu,{}),a.jsxs(_n,{onClick:()=>c(!0),className:"text-destructive",children:[a.jsx(Jt,{className:"h-4 w-4 mr-2"}),"Delete Expense"]})]})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3",children:[a.jsxs(ve,{variant:"outline",style:{borderColor:z,color:z},children:[a.jsx(ya,{className:"h-3 w-3 mr-1"}),Ks[e.category]]}),a.jsxs(ve,{variant:"secondary",children:[a.jsx(qr,{className:"h-3 w-3 mr-1"}),$t(new Date(e.date),"MMM d, yyyy")]}),e.paymentMethod&&a.jsxs(ve,{variant:"secondary",children:[a.jsx(Yw,{className:"h-3 w-3 mr-1"}),yl[e.paymentMethod]]}),e.tags&&e.tags.length>0&&a.jsx(a.Fragment,{children:e.tags.map(q=>a.jsx(ve,{variant:"outline",className:"text-xs",children:q},q))}),e.receiptImage&&a.jsxs(ve,{variant:"secondary",className:"bg-blue-100 text-blue-700",children:[a.jsx(nO,{className:"h-3 w-3 mr-1"}),"Receipt"]})]}),a.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[e.isRecurring&&e.recurringFrequency&&a.jsxs("div",{className:"text-xs text-muted-foreground",children:["Repeats: ",Ny[e.recurringFrequency]]}),B>0&&a.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium text-green-600 dark:text-green-400",children:[a.jsx(Sn,{className:"h-3 w-3"}),a.jsxs("span",{children:[Fe(B,r),"/year"]})]})]})]})]})}),a.jsx(ot,{open:l,onOpenChange:c,children:a.jsxs(nt,{children:[a.jsxs(rt,{children:[a.jsx(st,{children:"Delete Expense"}),a.jsxs(dt,{children:['Are you sure you want to delete "',e.title,'"? This action cannot be undone.']})]}),a.jsxs(Wt,{children:[a.jsx(U,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),a.jsx(U,{variant:"destructive",onClick:()=>{n(e.id),c(!1)},children:"Delete"})]})]})}),e.receiptImage&&a.jsx(ot,{open:u,onOpenChange:d,children:a.jsxs(nt,{className:"max-w-3xl",children:[a.jsxs(rt,{children:[a.jsx(st,{children:"Receipt"}),a.jsx(dt,{children:e.title})]}),a.jsx("div",{className:"mt-4",children:a.jsx("img",{src:e.receiptImage,alt:"Receipt",className:"w-full h-auto rounded-lg border"})}),a.jsx(Wt,{children:a.jsx(U,{onClick:()=>d(!1),children:"Close"})})]})}),a.jsx(ot,{open:h,onOpenChange:f,children:a.jsxs(nt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(rt,{children:[a.jsx(st,{children:"Edit Expense"}),a.jsx(dt,{children:"Update the details of your expense"})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"edit-title",children:"Title *"}),a.jsx(re,{id:"edit-title",placeholder:"e.g., Grocery Shopping, Gas Fill-up",value:x,onChange:q=>b(q.target.value),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(K,{htmlFor:"edit-amount",children:["Amount (",r,") *"]}),a.jsx(re,{id:"edit-amount",type:"number",min:"0",step:"0.01",placeholder:"0.00",value:w,onChange:q=>N(q.target.value),required:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"edit-category",children:"Category"}),a.jsxs(Ee,{value:S,onValueChange:q=>k(q),children:[a.jsx(je,{id:"edit-category",children:a.jsx(Ce,{})}),a.jsx(_e,{children:Object.keys(Ks).map(q=>a.jsx(Q,{value:q,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:sv[q]}}),Ks[q]]})},q))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"edit-date",children:"Date"}),a.jsx(re,{id:"edit-date",type:"date",value:C,onChange:q=>A(q.target.value)})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"edit-description",children:"Description"}),a.jsx(ft,{id:"edit-description",placeholder:"Optional notes about this expense...",value:j,onChange:q=>_(q.target.value),rows:2})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"edit-paymentMethod",children:"Payment Method"}),a.jsxs(Ee,{value:O,onValueChange:q=>M(q),children:[a.jsx(je,{id:"edit-paymentMethod",children:a.jsx(Ce,{})}),a.jsx(_e,{children:Object.keys(yl).map(q=>a.jsx(Q,{value:q,children:yl[q]},q))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"edit-tags",children:"Tags (comma-separated)"}),a.jsx(re,{id:"edit-tags",placeholder:"e.g., essential, impulse, planned",value:R,onChange:q=>L(q.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"edit-receiptImage",children:"Receipt Image URL"}),a.jsx(re,{id:"edit-receiptImage",type:"url",placeholder:"https://example.com/receipt.jpg",value:D,onChange:q=>F(q.target.value)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Optional: Paste a URL to a receipt image"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ks,{id:"edit-isRecurring",checked:P,onCheckedChange:q=>E(q)}),a.jsx(K,{htmlFor:"edit-isRecurring",className:"cursor-pointer",children:"This is a recurring expense"})]}),P&&a.jsxs("div",{className:"space-y-2 ml-6",children:[a.jsx(K,{htmlFor:"edit-recurringFrequency",children:"Frequency"}),a.jsxs(Ee,{value:I,onValueChange:q=>T(q),children:[a.jsx(je,{id:"edit-recurringFrequency",children:a.jsx(Ce,{})}),a.jsx(_e,{children:Object.keys(Ny).filter(q=>q!=="none").map(q=>a.jsx(Q,{value:q,children:Ny[q]},q))})]})]})]}),a.jsxs(Wt,{children:[a.jsx(U,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),a.jsx(U,{onClick:G,disabled:!x.trim()||!w||parseFloat(w)<=0,children:"Save Changes"})]})]})})]})},ntt=({filter:e,onFilterChange:t,expenseCounts:n})=>{const[r,s]=v.useState(!1),i=e.category||e.paymentMethod||e.searchQuery||e.startDate||e.endDate||e.minAmount||e.maxAmount||e.isRecurring!==void 0,o=()=>{t({})};return a.jsx(te,{className:"p-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"font-semibold text-lg",children:"Filters & Search"}),i&&a.jsx("span",{className:"text-xs bg-primary text-primary-foreground px-2 py-1 rounded-full",children:Object.keys(e).filter(l=>e[l]!==void 0).length})]}),a.jsx(U,{variant:"ghost",size:"sm",onClick:()=>s(!r),className:"flex items-center gap-1",children:r?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-sm",children:"Collapse"}),a.jsx(RD,{className:"h-4 w-4"})]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-sm",children:"Expand"}),a.jsx(Vk,{className:"h-4 w-4"})]})})]}),r&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"relative",children:[a.jsx(Sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(re,{placeholder:"Search expenses...",value:e.searchQuery||"",onChange:l=>t({...e,searchQuery:l.target.value||void 0}),className:"pl-9 pr-9"}),e.searchQuery&&a.jsx(U,{variant:"ghost",size:"sm",onClick:()=>t({...e,searchQuery:void 0}),className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-7 w-7 p-0",children:a.jsx(zo,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Category"}),a.jsxs(Ee,{value:e.category||"all",onValueChange:l=>t({...e,category:l==="all"?void 0:l}),children:[a.jsx(je,{children:a.jsx(Ce,{placeholder:"All Categories"})}),a.jsxs(_e,{children:[a.jsx(Q,{value:"all",children:"All Categories"}),Object.keys(Ks).map(l=>a.jsx(Q,{value:l,children:Ks[l]},l))]})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Payment Method"}),a.jsxs(Ee,{value:e.paymentMethod||"all",onValueChange:l=>t({...e,paymentMethod:l==="all"?void 0:l}),children:[a.jsx(je,{children:a.jsx(Ce,{placeholder:"All Methods"})}),a.jsxs(_e,{children:[a.jsx(Q,{value:"all",children:"All Methods"}),Object.keys(yl).map(l=>a.jsx(Q,{value:l,children:yl[l]},l))]})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Type"}),a.jsxs(Ee,{value:e.isRecurring===void 0?"all":e.isRecurring?"recurring":"one-time",onValueChange:l=>t({...e,isRecurring:l==="all"?void 0:l==="recurring"}),children:[a.jsx(je,{children:a.jsx(Ce,{placeholder:"All Types"})}),a.jsxs(_e,{children:[a.jsx(Q,{value:"all",children:"All Types"}),a.jsx(Q,{value:"one-time",children:"One-time"}),a.jsx(Q,{value:"recurring",children:"Recurring"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Start Date"}),a.jsx(re,{type:"date",value:e.startDate?e.startDate.toISOString().split("T")[0]:"",onChange:l=>t({...e,startDate:l.target.value?new Date(l.target.value):void 0})})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"End Date"}),a.jsx(re,{type:"date",value:e.endDate?e.endDate.toISOString().split("T")[0]:"",onChange:l=>t({...e,endDate:l.target.value?new Date(l.target.value):void 0})})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Min Amount"}),a.jsx(re,{type:"number",min:"0",step:"0.01",placeholder:"0.00",value:e.minAmount||"",onChange:l=>t({...e,minAmount:l.target.value?parseFloat(l.target.value):void 0})})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Max Amount"}),a.jsx(re,{type:"number",min:"0",step:"0.01",placeholder:"0.00",value:e.maxAmount||"",onChange:l=>t({...e,maxAmount:l.target.value?parseFloat(l.target.value):void 0})})]})]}),i&&a.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[a.jsxs("div",{className:"text-sm text-muted-foreground",children:[Object.keys(e).filter(l=>e[l]!==void 0).length," ","filter(s) applied"]}),a.jsxs(U,{variant:"ghost",size:"sm",onClick:o,children:[a.jsx(zo,{className:"h-4 w-4 mr-1"}),"Clear All"]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-2 pt-2 border-t",children:[a.jsxs("div",{className:"text-center p-2 rounded-lg bg-secondary/50",children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:"Total"}),a.jsx("div",{className:"text-lg font-bold",children:n.total})]}),a.jsxs("div",{className:"text-center p-2 rounded-lg bg-red-100 dark:bg-red-950",children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:"Today"}),a.jsx("div",{className:"text-lg font-bold text-red-700 dark:text-red-400",children:n.today})]}),a.jsxs("div",{className:"text-center p-2 rounded-lg bg-orange-100 dark:bg-orange-950",children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:"Week"}),a.jsx("div",{className:"text-lg font-bold text-orange-700 dark:text-orange-400",children:n.week})]}),a.jsxs("div",{className:"text-center p-2 rounded-lg bg-purple-100 dark:bg-purple-950",children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:"Month"}),a.jsx("div",{className:"text-lg font-bold text-purple-700 dark:text-purple-400",children:n.month})]}),a.jsxs("div",{className:"text-center p-2 rounded-lg bg-blue-100 dark:bg-blue-950",children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:"Recurring"}),a.jsx("div",{className:"text-lg font-bold text-blue-700 dark:text-blue-400",children:n.recurring})]})]})]})})},rtt=[{value:"default",label:"Default"},{value:"gradient-blue",label:"Ocean Blue"},{value:"gradient-purple",label:"Purple Dream"},{value:"gradient-green",label:"Forest Green"},{value:"gradient-orange",label:"Sunset Orange"},{value:"gradient-pink",label:"Pink Blossom"}],yH=[{code:"USD",symbol:"$",name:"US Dollar"},{code:"EUR",symbol:"",name:"Euro"},{code:"GBP",symbol:"",name:"British Pound"},{code:"JPY",symbol:"",name:"Japanese Yen"},{code:"CAD",symbol:"C$",name:"Canadian Dollar"},{code:"AUD",symbol:"A$",name:"Australian Dollar"}],stt=({settings:e,onSettingsChange:t})=>{const[n,r]=v.useState(!1),s=i=>{const o=yH.find(l=>l.code===i);o&&t({currency:o.code,currencySymbol:o.symbol})};return a.jsxs(ot,{open:n,onOpenChange:r,children:[a.jsx(js,{asChild:!0,children:a.jsx(U,{variant:"outline",size:"icon",children:a.jsx(wp,{className:"h-4 w-4"})})}),a.jsxs(nt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(rt,{children:[a.jsx(st,{children:"Expense Tracker Settings"}),a.jsx(dt,{children:"Customize your expense tracking experience"})]}),a.jsxs(Pa,{defaultValue:"general",className:"w-full",children:[a.jsxs(Ko,{className:"grid w-full grid-cols-2",children:[a.jsx(Mt,{value:"general",children:"General"}),a.jsx(Mt,{value:"appearance",children:"Appearance"})]}),a.jsx(bn,{value:"general",className:"space-y-4 pt-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{children:"Currency"}),a.jsxs(Ee,{value:e.currency,onValueChange:s,children:[a.jsx(je,{children:a.jsx(Ce,{})}),a.jsx(_e,{children:yH.map(i=>a.jsxs(Q,{value:i.code,children:[i.symbol," ",i.name," (",i.code,")"]},i.code))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{children:"Default Category"}),a.jsxs(Ee,{value:e.defaultCategory,onValueChange:i=>t({defaultCategory:i}),children:[a.jsx(je,{children:a.jsx(Ce,{})}),a.jsx(_e,{children:Object.keys(Ks).map(i=>a.jsx(Q,{value:i,children:Ks[i]},i))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{children:"Default Payment Method"}),a.jsxs(Ee,{value:e.defaultPaymentMethod,onValueChange:i=>t({defaultPaymentMethod:i}),children:[a.jsx(je,{children:a.jsx(Ce,{})}),a.jsx(_e,{children:Object.keys(yl).map(i=>a.jsx(Q,{value:i,children:yl[i]},i))})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(K,{children:"Show Receipt Upload"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable receipt image attachments"})]}),a.jsx(Us,{checked:e.showReceiptUpload,onCheckedChange:i=>t({showReceiptUpload:i})})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(K,{children:"Enable Budget Alerts"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified when approaching budget limits"})]}),a.jsx(Us,{checked:e.enableBudgetAlerts,onCheckedChange:i=>t({enableBudgetAlerts:i})})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(K,{children:"Enable Savings Insights"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Show personalized savings recommendations"})]}),a.jsx(Us,{checked:e.enableSavingsInsights,onCheckedChange:i=>t({enableSavingsInsights:i})})]})]})}),a.jsx(bn,{value:"appearance",className:"space-y-4 pt-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{children:"Color Scheme"}),a.jsxs(Ee,{value:e.colorScheme,onValueChange:i=>t({colorScheme:i}),children:[a.jsx(je,{children:a.jsx(Ce,{})}),a.jsxs(_e,{children:[a.jsx(Q,{value:"light",children:"Light"}),a.jsx(Q,{value:"dark",children:"Dark"}),a.jsx(Q,{value:"system",children:"System"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{children:"Background Type"}),a.jsxs(Ee,{value:e.backgroundType,onValueChange:i=>t({backgroundType:i}),children:[a.jsx(je,{children:a.jsx(Ce,{})}),a.jsxs(_e,{children:[a.jsx(Q,{value:"theme",children:"Theme"}),a.jsx(Q,{value:"image",children:"Image"}),a.jsx(Q,{value:"custom",children:"Custom"})]})]})]}),e.backgroundType==="theme"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{children:"Background Theme"}),a.jsxs(Ee,{value:e.backgroundTheme,onValueChange:i=>t({backgroundTheme:i}),children:[a.jsx(je,{children:a.jsx(Ce,{})}),a.jsx(_e,{children:rtt.map(i=>a.jsx(Q,{value:i.value,children:i.label},i.value))})]})]}),e.backgroundType==="image"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{children:"Background Image URL"}),a.jsx(re,{type:"url",placeholder:"https://example.com/image.jpg",value:e.backgroundImage||"",onChange:i=>t({backgroundImage:i.target.value})}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter a URL to a background image"})]})]})})]})]})]})},itt={default:"","gradient-blue":"bg-gradient-to-br from-blue-50 via-cyan-50 to-blue-100 dark:from-blue-950 dark:via-cyan-950 dark:to-blue-900","gradient-purple":"bg-gradient-to-br from-purple-50 via-pink-50 to-purple-100 dark:from-purple-950 dark:via-pink-950 dark:to-purple-900","gradient-green":"bg-gradient-to-br from-green-50 via-emerald-50 to-green-100 dark:from-green-950 dark:via-emerald-950 dark:to-green-900","gradient-orange":"bg-gradient-to-br from-orange-50 via-amber-50 to-orange-100 dark:from-orange-950 dark:via-amber-950 dark:to-orange-900","gradient-pink":"bg-gradient-to-br from-pink-50 via-rose-50 to-pink-100 dark:from-pink-950 dark:via-rose-950 dark:to-pink-900"},ott=()=>{const e=Ct(),{expenses:t,settings:n,isLoaded:r,addExpense:s,updateExpense:i,deleteExpense:o,reorderExpenses:l,updateSettings:c}=Xne(),[u,d]=v.useState({}),[h,f]=v.useState(null),p=v.useMemo(()=>W7e(t),[t]),m=v.useMemo(()=>Qne(t),[t]),g=v.useMemo(()=>Zne(t),[t]),y=v.useMemo(()=>ere(t),[t]),x=m.reduce((I,T)=>I+T.amount,0),b=g.reduce((I,T)=>I+T.amount,0),w=y.reduce((I,T)=>I+T.amount,0),N=v.useMemo(()=>z7e(t),[t]),S=v.useMemo(()=>{let I=[...t];if(u.category&&(I=I.filter(T=>T.category===u.category)),u.paymentMethod&&(I=I.filter(T=>T.paymentMethod===u.paymentMethod)),u.startDate&&u.endDate&&(I=I.filter(T=>{const R=new Date(T.date);return R>=u.startDate&&R<=u.endDate})),u.minAmount!==void 0&&(I=I.filter(T=>T.amount>=u.minAmount)),u.maxAmount!==void 0&&(I=I.filter(T=>T.amount<=u.maxAmount)),u.searchQuery){const T=u.searchQuery.toLowerCase();I=I.filter(R=>{var L;return R.title.toLowerCase().includes(T)||((L=R.description)==null?void 0:L.toLowerCase().includes(T))})}return u.isRecurring!==void 0&&(I=I.filter(T=>T.isRecurring===u.isRecurring)),I.sort((T,R)=>new Date(R.date).getTime()-new Date(T.date).getTime()),I},[t,u]),k=v.useMemo(()=>({total:t.length,today:m.length,week:g.length,month:y.length,recurring:t.filter(I=>I.isRecurring).length}),[t,m,g,y]),j=I=>{s(I),J.success("Expense added successfully!")},_=I=>{o(I),J.success("Expense deleted")},C=(I,T)=>{i(I,T),J.success("Expense updated")},A=(I,T)=>{f(T),I.dataTransfer.effectAllowed="move"},O=(I,T)=>{if(I.preventDefault(),!h||h===T){f(null);return}const R=S.findIndex(W=>W.id===h),L=S.findIndex(W=>W.id===T);if(R===-1||L===-1){f(null);return}const D=S.slice(),[F]=D.splice(R,1);D.splice(L,0,F);const z=new Set(S.map(W=>W.id)),B=[];let $=0;for(const W of t)z.has(W.id)?$<D.length&&(B.push(D[$]),$++):B.push(W);l(B),f(null)},M=()=>{f(null)},P=n.backgroundType==="theme"&&itt[n.backgroundTheme]||"",E=n.backgroundType==="image"&&n.backgroundImage?{backgroundImage:`url(${n.backgroundImage})`,backgroundSize:"cover",backgroundPosition:"center"}:{};return r?a.jsxs("div",{className:`min-h-screen transition-all duration-300 ${P}`,style:E,children:[a.jsx(Dn,{title:"Expense Tracker"}),a.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"My Expenses"}),a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-full text-sm font-semibold",children:[a.jsx(zv,{className:"h-4 w-4"}),a.jsxs("span",{children:[Fe(w,n.currencySymbol),"/mo"]})]})]}),a.jsx("p",{className:"text-muted-foreground",children:"Track your spending, analyze trends, and save smarter"})]}),a.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[a.jsxs(U,{variant:"outline",onClick:()=>e("/budgets/create"),className:"flex items-center gap-2",children:[a.jsx(yd,{className:"h-4 w-4"}),"Create Budget"]}),n.enableSavingsInsights&&a.jsxs(U,{variant:"outline",onClick:()=>e("/expenses/insights"),className:"flex items-center gap-2",children:[a.jsx(Sn,{className:"h-4 w-4"}),"Insights"]}),a.jsx(stt,{settings:n,onSettingsChange:c}),a.jsx(ett,{onAdd:j,defaultCategory:n.defaultCategory,defaultPaymentMethod:n.defaultPaymentMethod,currencySymbol:n.currencySymbol})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-6",children:[a.jsxs("div",{className:"p-4 bg-card border rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Today"}),a.jsx(py,{className:"h-4 w-4 text-red-500"})]}),a.jsx("p",{className:"text-2xl font-bold",children:Fe(x,n.currencySymbol)}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[m.length," expenses"]})]}),a.jsxs("div",{className:"p-4 bg-card border rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"This Week"}),a.jsx(py,{className:"h-4 w-4 text-orange-500"})]}),a.jsx("p",{className:"text-2xl font-bold",children:Fe(b,n.currencySymbol)}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[g.length," expenses"]})]}),a.jsxs("div",{className:"p-4 bg-card border rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"This Month"}),a.jsx(py,{className:"h-4 w-4 text-purple-500"})]}),a.jsx("p",{className:"text-2xl font-bold",children:Fe(w,n.currencySymbol)}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[y.length," expenses"]})]}),a.jsxs("div",{className:"p-4 bg-card border rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Monthly Projection"}),a.jsx(Sn,{className:"h-4 w-4 text-green-500"})]}),a.jsx("p",{className:"text-2xl font-bold",children:Fe(N,n.currencySymbol)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Recurring expenses"})]}),a.jsxs("div",{className:"p-4 bg-card border rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Yearly Projection"}),a.jsx(Sn,{className:"h-4 w-4 text-blue-500"})]}),a.jsx("p",{className:"text-2xl font-bold",children:Fe(p.yearlyProjection,n.currencySymbol)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Recurring expenses"})]})]}),a.jsx("div",{className:"mb-6",children:a.jsx(ntt,{filter:u,onFilterChange:d,expenseCounts:k})}),a.jsx("div",{className:"space-y-4",children:S.length===0?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-muted-foreground text-lg",children:t.length===0?"No expenses yet. Add your first expense to get started!":`No expenses match your filters. (${t.length} total expenses)`})}):a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",S.length," of ",t.length," expenses"]}),a.jsx("div",{className:"space-y-4",children:S.map(I=>a.jsx("div",{className:`transition-all duration-200 ${h===I.id?"opacity-40 scale-95":h?"opacity-100":""}`,children:a.jsx(ttt,{expense:I,onUpdate:C,onDelete:_,currencySymbol:n.currencySymbol,onDragStart:T=>A(T,I.id),onDragEnd:M,onDrop:T=>O(T,I.id)})},I.id))})]})})]})]}):a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsx("p",{className:"text-muted-foreground",children:"Loading..."})})},att=()=>{const e=Ct(),{budgets:t,settings:n,isLoaded:r,deleteBudget:s}=Lm(),[i,o]=v.useState([]),[l,c]=v.useState(null);v.useEffect(()=>{try{const m=localStorage.getItem("daily-haven-expenses");if(m){const y=JSON.parse(m).map(x=>({...x,date:new Date(x.date),createdAt:new Date(x.createdAt),updatedAt:x.updatedAt?new Date(x.updatedAt):void 0}));o(y)}}catch(m){console.error("Error loading expenses:",m)}},[]);const u=m=>!m.linkedExpenseIds||m.linkedExpenseIds.length===0?[]:i.filter(g=>{var y;return(y=m.linkedExpenseIds)==null?void 0:y.includes(g.id)}),d=t.reduce((m,g)=>m+g.amount,0),h=t.reduce((m,g)=>{const y=u(g);return m+y.reduce((x,b)=>x+Bi(b,g.period),0)},0),f=d-h,p=t.filter(m=>u(m).reduce((x,b)=>x+Bi(b,m.period),0)>m.amount);return r?a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(Dn,{title:"Budget Manager"}),a.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"My Budgets"}),a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-gradient-to-r from-blue-500 to-cyan-500 text-white rounded-full text-sm font-semibold",children:[a.jsx(yd,{className:"h-4 w-4"}),a.jsxs("span",{children:[t.length," Active"]})]})]}),a.jsx("p",{className:"text-muted-foreground",children:"Track your spending limits and stay within budget"})]}),a.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[t.length>0&&a.jsxs(U,{variant:"outline",onClick:()=>e("/savings/create"),className:"flex items-center gap-2",children:[a.jsx(fa,{className:"h-4 w-4"}),"Create Savings"]}),a.jsxs(U,{onClick:()=>e("/budgets/create"),className:"flex items-center gap-2",children:[a.jsx(We,{className:"h-4 w-4"}),"Add Budget"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[a.jsxs(te,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Budgeted"}),a.jsx(yd,{className:"h-4 w-4 text-blue-500"})]}),a.jsx("p",{className:"text-2xl font-bold",children:Fe(d,n.currencySymbol)}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.length," budgets"]})]}),a.jsxs(te,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Spent"}),a.jsx(py,{className:"h-4 w-4 text-red-500"})]}),a.jsx("p",{className:"text-2xl font-bold text-red-600",children:Fe(h,n.currencySymbol)}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.reduce((m,g)=>{var y;return m+(((y=g.linkedExpenseIds)==null?void 0:y.length)||0)},0)," linked expenses"]})]}),a.jsxs(te,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Remaining"}),a.jsx(Sn,{className:"h-4 w-4 text-green-500"})]}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:Fe(f,n.currencySymbol)}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[d>0?(f/d*100).toFixed(1):0,"% left"]})]}),a.jsxs(te,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Exceeded"}),a.jsx(sO,{className:"h-4 w-4 text-orange-500"})]}),a.jsx("p",{className:"text-2xl font-bold text-orange-600",children:p.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Over budget"})]})]}),a.jsx("div",{className:"space-y-4",children:t.length===0?a.jsxs(te,{className:"p-12 text-center",children:[a.jsx(yd,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No budgets yet"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Create your first budget to start tracking your spending limits"}),a.jsxs(U,{onClick:()=>e("/budgets/create"),children:[a.jsx(We,{className:"h-4 w-4 mr-2"}),"Create Your First Budget"]})]}):t.map(m=>{const g=u(m),y=g.reduce((k,j)=>k+Bi(j,m.period),0),x=nre(m.id,m.period),b=m.amount-y-x,w=(y+x)/m.amount*100,N=y>m.amount,S=w>=100?"red":w>=(m.alertThreshold||80)?"orange":w>=50?"yellow":"green";return a.jsxs(te,{className:"p-6 hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h3",{className:"text-xl font-semibold",children:m.name}),a.jsx(ve,{variant:N?"destructive":"secondary",children:m.period}),m.category&&a.jsx(ve,{variant:"outline",children:m.category})]}),m.description&&a.jsx("p",{className:"text-sm text-muted-foreground",children:m.description})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(U,{variant:"ghost",size:"sm",onClick:()=>e(`/budgets/${m.id}/edit`),children:a.jsx(gi,{className:"h-4 w-4"})}),a.jsx(U,{variant:"ghost",size:"sm",onClick:()=>{confirm(`Delete budget "${m.name}"?`)&&(s(m.id),J.success("Budget deleted"))},children:a.jsx(Jt,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Spent: "}),a.jsx("span",{className:"font-semibold text-red-600",children:Fe(y,n.currencySymbol)})]}),x>0&&a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Savings: "}),a.jsx("span",{className:"font-semibold text-blue-600",children:Fe(x,n.currencySymbol)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Budget: "}),a.jsx("span",{className:"font-semibold",children:Fe(m.amount,n.currencySymbol)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Available: "}),a.jsx("span",{className:`font-semibold ${N?"text-red-600":"text-green-600"}`,children:Fe(b,n.currencySymbol)})]})]}),a.jsx("div",{className:"text-right",children:a.jsxs("span",{className:"font-semibold",children:[w.toFixed(1),"%"]})})]}),a.jsx(Sr,{value:Math.min(w,100),className:"h-3",indicatorClassName:S==="red"?"bg-red-500":S==="orange"?"bg-orange-500":S==="yellow"?"bg-yellow-500":"bg-green-500"}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground pt-2 border-t",children:[a.jsxs("span",{children:[g.length," expense(s) linked to this budget"]}),a.jsx(U,{variant:"link",size:"sm",className:"h-auto p-0 text-xs",onClick:()=>e(`/budgets/${m.id}/edit`),children:g.length>0?"Manage Expenses":"Link Expenses"})]}),N&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600",children:[a.jsx(sO,{className:"h-4 w-4"}),a.jsxs("span",{children:["Over budget by ",Fe(Math.abs(b),n.currencySymbol)]})]})]})]},m.id)})})]})]}):a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsx("p",{className:"text-muted-foreground",children:"Loading..."})})},ltt=()=>{const e=Ct(),{addBudget:t,settings:n,isLoaded:r}=Lm(),[s,i]=v.useState(""),[o,l]=v.useState(""),[c,u]=v.useState("all"),[d,h]=v.useState("monthly"),[f,p]=v.useState(""),[m,g]=v.useState("80"),[y,x]=v.useState([]);v.useEffect(()=>{b()},[]);const b=()=>{try{const S=localStorage.getItem("daily-haven-expenses");if(S){const j=JSON.parse(S).map(_=>({..._,date:new Date(_.date),createdAt:new Date(_.createdAt),updatedAt:_.updatedAt?new Date(_.updatedAt):void 0}));x(j)}}catch(S){console.error("Error loading expenses:",S)}},w=()=>{if(y.length===0){J.error("No expenses found. Add expenses first to get suggestions.");return}const S=q7e(y,c==="all"?void 0:c,d);if(S===0){J.warning("No expenses found for this category/period");return}const k=Math.ceil(S/10)*10;l(k.toString()),J.success(`Suggested budget: ${n.currencySymbol}${k.toFixed(2)} based on your spending history`)},N=()=>{if(!s.trim()||!o||parseFloat(o)<=0){J.error("Please fill in required fields");return}if(!r){J.error("Still loading... Please wait.");return}const S={id:G7e(),name:s.trim(),amount:parseFloat(o),category:c==="all"?void 0:c,period:d,startDate:new Date,description:f.trim()||void 0,alertThreshold:parseFloat(m),linkedExpenseIds:[],createdAt:new Date};console.log("Creating budget:",S),t(S),J.success(`Budget "${S.name}" created successfully!`),setTimeout(()=>{e("/budgets")},100)};return r?a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(Dn,{title:"Create Budget"}),a.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-2xl",children:[a.jsxs(U,{variant:"ghost",onClick:()=>e("/budgets"),className:"mb-6",children:[a.jsx(Jn,{className:"h-4 w-4 mr-2"}),"Back to Budgets"]}),a.jsxs(te,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Create New Budget"}),y.length>0&&a.jsxs(ve,{variant:"secondary",children:[y.length," expenses available"]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"name",children:"Budget Name *"}),a.jsx(re,{id:"name",placeholder:"e.g., Monthly Groceries, Weekly Entertainment",value:s,onChange:S=>i(S.target.value),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(K,{htmlFor:"amount",children:["Budget Amount (",n.currencySymbol,") *"]}),a.jsxs(U,{type:"button",variant:"outline",size:"sm",onClick:w,className:"flex items-center gap-1",children:[a.jsx(mi,{className:"h-3 w-3"}),"Suggest from Expenses"]})]}),a.jsx(re,{id:"amount",type:"number",min:"0",step:"0.01",placeholder:"0.00",value:o,onChange:S=>l(S.target.value),required:!0}),a.jsx("p",{className:"text-xs text-muted-foreground",children:'Click "Suggest from Expenses" to automatically calculate based on your spending history'})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"category",children:"Category"}),a.jsxs(Ee,{value:c,onValueChange:S=>u(S),children:[a.jsx(je,{id:"category",children:a.jsx(Ce,{})}),a.jsxs(_e,{children:[a.jsx(Q,{value:"all",children:"All Categories"}),Object.keys(Ks).map(S=>a.jsx(Q,{value:S,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:sv[S]}}),Ks[S]]})},S))]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"period",children:"Period"}),a.jsxs(Ee,{value:d,onValueChange:S=>h(S),children:[a.jsx(je,{id:"period",children:a.jsx(Ce,{})}),a.jsxs(_e,{children:[a.jsx(Q,{value:"daily",children:"Daily"}),a.jsx(Q,{value:"weekly",children:"Weekly"}),a.jsx(Q,{value:"monthly",children:"Monthly"}),a.jsx(Q,{value:"yearly",children:"Yearly"})]})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"alertThreshold",children:"Alert Threshold (%)"}),a.jsx(re,{id:"alertThreshold",type:"number",min:"0",max:"100",step:"5",placeholder:"80",value:m,onChange:S=>g(S.target.value)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Get notified when you reach this percentage of your budget"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"description",children:"Description (Optional)"}),a.jsx(ft,{id:"description",placeholder:"Add notes about this budget...",value:f,onChange:S=>p(S.target.value),rows:3})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx(U,{variant:"outline",onClick:()=>e("/budgets"),className:"flex-1",children:"Cancel"}),a.jsx(U,{onClick:N,disabled:!s.trim()||!o||parseFloat(o)<=0,className:"flex-1",children:"Create Budget"})]})]})]}),a.jsx(te,{className:"p-4 mt-4 bg-blue-50 dark:bg-blue-950 border-blue-200 dark:border-blue-800",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx(V1,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-1",children:"Smart Budget Suggestions"}),a.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"We analyze your expense history to suggest realistic budget amounts. The suggestion is based on your average spending for the selected category and period."})]})]})})]})]}):a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsx("p",{className:"text-muted-foreground",children:"Loading..."})})},ctt=()=>{const e=Ct(),{budgetId:t}=lR(),{budgets:n,updateBudget:r,settings:s,isLoaded:i}=Lm(),o=n.find(P=>P.id===t),[l,c]=v.useState(""),[u,d]=v.useState(""),[h,f]=v.useState("all"),[p,m]=v.useState("monthly"),[g,y]=v.useState(""),[x,b]=v.useState("80"),[w,N]=v.useState([]),[S,k]=v.useState([]);v.useEffect(()=>{var P;o&&(c(o.name),d(o.amount.toString()),f(o.category||"all"),m(o.period),y(o.description||""),b(((P=o.alertThreshold)==null?void 0:P.toString())||"80"),N(o.linkedExpenseIds||[]))},[o]),v.useEffect(()=>{try{const P=localStorage.getItem("daily-haven-expenses");if(P){const I=JSON.parse(P).map(T=>({...T,date:new Date(T.date),createdAt:new Date(T.createdAt),updatedAt:T.updatedAt?new Date(T.updatedAt):void 0}));k(I)}}catch(P){console.error("Error loading expenses:",P)}},[]);const j=P=>{N(E=>E.includes(P)?E.filter(I=>I!==P):[...E,P])},_=()=>{if(!t||!o){J.error("Budget not found");return}if(!l.trim()||!u||parseFloat(u)<=0){J.error("Please fill in required fields");return}console.log("Updating budget:",t,{name:l.trim(),amount:parseFloat(u),category:h==="all"?void 0:h,period:p,description:g.trim()||void 0,alertThreshold:parseFloat(x),linkedExpenseIds:w}),r(t,{name:l.trim(),amount:parseFloat(u),category:h==="all"?void 0:h,period:p,description:g.trim()||void 0,alertThreshold:parseFloat(x),linkedExpenseIds:w}),J.success(`Budget "${l}" updated successfully!`),setTimeout(()=>{e("/budgets")},100)};if(!i)return a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsx("p",{className:"text-muted-foreground",children:"Loading..."})});if(!o)return a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-muted-foreground mb-4",children:"Budget not found"}),a.jsx(U,{onClick:()=>e("/budgets"),children:"Back to Budgets"})]})});const A=S.filter(P=>w.includes(P.id)).reduce((P,E)=>P+Bi(E,p),0),O=t?nre(t,p):0,M=parseFloat(u)-A-O;return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(Dn,{title:"Edit Budget"}),a.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[a.jsxs(U,{variant:"ghost",onClick:()=>e("/budgets"),className:"mb-6",children:[a.jsx(Jn,{className:"h-4 w-4 mr-2"}),"Back to Budgets"]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(te,{className:"p-6",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Budget Details"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"name",children:"Budget Name *"}),a.jsx(re,{id:"name",placeholder:"e.g., Monthly Groceries",value:l,onChange:P=>c(P.target.value),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(K,{htmlFor:"amount",children:["Budget Amount (",s.currencySymbol,") *"]}),a.jsx(re,{id:"amount",type:"number",min:"0",step:"0.01",placeholder:"0.00",value:u,onChange:P=>d(P.target.value),required:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"category",children:"Category"}),a.jsxs(Ee,{value:h,onValueChange:P=>f(P),children:[a.jsx(je,{id:"category",children:a.jsx(Ce,{})}),a.jsxs(_e,{children:[a.jsx(Q,{value:"all",children:"All Categories"}),Object.keys(Ks).map(P=>a.jsx(Q,{value:P,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:sv[P]}}),Ks[P]]})},P))]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"period",children:"Period"}),a.jsxs(Ee,{value:p,onValueChange:P=>m(P),children:[a.jsx(je,{id:"period",children:a.jsx(Ce,{})}),a.jsxs(_e,{children:[a.jsx(Q,{value:"daily",children:"Daily"}),a.jsx(Q,{value:"weekly",children:"Weekly"}),a.jsx(Q,{value:"monthly",children:"Monthly"}),a.jsx(Q,{value:"yearly",children:"Yearly"})]})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"alertThreshold",children:"Alert Threshold (%)"}),a.jsx(re,{id:"alertThreshold",type:"number",min:"0",max:"100",step:"5",value:x,onChange:P=>b(P.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"description",children:"Description (Optional)"}),a.jsx(ft,{id:"description",placeholder:"Add notes about this budget...",value:g,onChange:P=>y(P.target.value),rows:3})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx(U,{variant:"outline",onClick:()=>e("/budgets"),className:"flex-1",children:"Cancel"}),a.jsx(U,{onClick:_,disabled:!l.trim()||!u||parseFloat(u)<=0,className:"flex-1",children:"Save Changes"})]})]})]}),a.jsxs(te,{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Link Expenses"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select which expenses count toward this budget"})]}),a.jsxs("div",{className:"mb-4 p-4 bg-secondary/50 rounded-lg space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Linked Expenses:"}),a.jsx(ve,{variant:"secondary",children:w.length})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Expenses Total:"}),a.jsx("span",{className:"font-semibold text-red-600",children:Fe(A,s.currencySymbol)})]}),O>0&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Savings Allocated:"}),a.jsx("span",{className:"font-semibold text-blue-600",children:Fe(O,s.currencySymbol)})]}),a.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[a.jsx("span",{className:"text-sm font-medium",children:"Available:"}),a.jsx("span",{className:"font-bold text-green-600",children:Fe(M,s.currencySymbol)})]})]}),a.jsx("div",{className:"space-y-2 max-h-[500px] overflow-y-auto",children:S.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx("p",{children:"No expenses available."}),a.jsx(U,{variant:"link",onClick:()=>e("/expenses"),className:"mt-2",children:"Go to Expense Tracker"})]}):S.map(P=>{const E=w.includes(P.id),I=Bi(P,p),T=I!==P.amount;return a.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg border-2 cursor-pointer transition-colors ${E?"border-primary bg-primary/10":"border-border hover:border-primary/50"}`,onClick:()=>j(P.id),children:[a.jsx(ks,{checked:E,onCheckedChange:()=>j(P.id)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("p",{className:"font-medium truncate",children:P.title}),a.jsxs("div",{className:"flex flex-col items-end flex-shrink-0",children:[a.jsx("span",{className:"font-semibold text-red-600",children:Fe(I,s.currencySymbol)}),T&&P.isRecurring&&a.jsxs("span",{className:"text-xs text-muted-foreground",children:[Fe(P.amount,s.currencySymbol),"/",P.recurringFrequency]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[a.jsx(ve,{variant:"outline",className:"text-xs",children:Ks[P.category]}),a.jsx("span",{children:$t(P.date,"MMM d, yyyy")}),P.isRecurring&&T&&a.jsxs(ve,{variant:"secondary",className:"text-xs",children:[" ",Fe(I,s.currencySymbol),"/",p]})]})]})]},P.id)})})]})]})]})]})},utt=()=>{const e=Ct(),{savingsGoals:t,settings:n,isLoaded:r,deleteSavingsGoal:s,getContributionsForSavings:i}=b_();if(!r)return a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsx("p",{className:"text-muted-foreground",children:"Loading..."})});const o=t.length,l=t.reduce((h,f)=>h+(f.targetAmount||0),0),c=t.reduce((h,f)=>h+f.currentAmount,0),u=t.filter(h=>lN(h)).length,d=t.filter(h=>h.targetAmount&&h.targetAmount>0).length;return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(Dn,{title:"Savings Tracker"}),a.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"My Savings Goals"}),a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-full text-sm font-semibold",children:[a.jsx(fa,{className:"h-4 w-4"}),a.jsxs("span",{children:[o," Active"]})]})]}),a.jsx("p",{className:"text-muted-foreground",children:"Track your progress toward financial goals and build your savings"})]}),a.jsx("div",{className:"flex gap-2 flex-shrink-0",children:a.jsxs(U,{onClick:()=>e("/savings/create"),className:"flex items-center gap-2",children:[a.jsx(We,{className:"h-4 w-4"}),"Add Savings Goal"]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[a.jsxs(te,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Goals"}),a.jsx(Xt,{className:"h-4 w-4 text-blue-500"})]}),a.jsx("p",{className:"text-2xl font-bold",children:o}),a.jsx("p",{className:"text-xs text-muted-foreground",children:d>0?`${u} of ${d} completed`:"No target goals"})]}),a.jsxs(te,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Target"}),a.jsx(fa,{className:"h-4 w-4 text-purple-500"})]}),a.jsx("p",{className:"text-2xl font-bold",children:Fe(l,n.currencySymbol)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all goals"})]}),a.jsxs(te,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Saved"}),a.jsx(zv,{className:"h-4 w-4 text-green-500"})]}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:Fe(c,n.currencySymbol)}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[l>0?(c/l*100).toFixed(1):0,"% of target"]})]}),a.jsxs(te,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Remaining"}),a.jsx(Sn,{className:"h-4 w-4 text-orange-500"})]}),a.jsx("p",{className:"text-2xl font-bold text-orange-600",children:Fe(l-c,n.currencySymbol)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"To reach all goals"})]})]}),a.jsx("div",{className:"space-y-4",children:t.length===0?a.jsxs(te,{className:"p-12 text-center",children:[a.jsx(fa,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No savings goals yet"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Create your first savings goal to start building toward your financial dreams"}),a.jsxs(U,{onClick:()=>e("/savings/create"),children:[a.jsx(We,{className:"h-4 w-4 mr-2"}),"Create Your First Savings Goal"]})]}):t.map(h=>{const f=sL(h),p=iL(h),m=w_(h),g=lN(h),y=J7e(h),x=i(h.id),b=rre(h),w=sre(h);return a.jsxs(te,{className:"p-6 hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h3",{className:"text-xl font-semibold",children:h.name}),g&&a.jsx(ve,{variant:"default",className:"bg-green-500",children:"Goal Reached!"}),h.category&&a.jsx(ve,{variant:"outline",style:{borderColor:Kf[h.category],color:Kf[h.category]},children:qf[h.category]})]}),h.description&&a.jsx("p",{className:"text-sm text-muted-foreground",children:h.description})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(U,{variant:"ghost",size:"sm",onClick:()=>e(`/savings/${h.id}/edit`),children:a.jsx(gi,{className:"h-4 w-4"})}),a.jsx(U,{variant:"ghost",size:"sm",onClick:()=>{confirm(`Delete savings goal "${h.name}"?`)&&(s(h.id),J.success("Savings goal deleted"))},children:a.jsx(Jt,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"space-y-3",children:[w&&h.goalDate&&a.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-950 rounded-lg border border-blue-200 dark:border-blue-800",children:a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-xs text-blue-700 dark:text-blue-300 font-medium",children:["Projected by ",$t(h.goalDate,"MMM d, yyyy")]}),a.jsx("p",{className:"text-lg font-bold text-blue-900 dark:text-blue-100",children:Fe(b,n.currencySymbol)})]}),a.jsx("div",{className:"text-right",children:a.jsxs("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:["+",Fe(h.recurringContributionAmount||0,n.currencySymbol),"/",h.recurringContributionFrequency]})})]})}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Saved: "}),a.jsx("span",{className:"font-semibold text-green-600",children:Fe(h.currentAmount,n.currencySymbol)})]}),h.targetAmount&&h.targetAmount>0?a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Goal: "}),a.jsx("span",{className:"font-semibold",children:Fe(h.targetAmount,n.currencySymbol)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Remaining: "}),a.jsx("span",{className:"font-semibold text-orange-600",children:Fe(p,n.currencySymbol)})]})]}):a.jsx("div",{children:a.jsx(ve,{variant:"outline",className:"text-xs",children:"No Target - Tracking Growth"})})]}),h.targetAmount&&h.targetAmount>0&&a.jsx("div",{className:"text-right",children:a.jsxs("span",{className:"font-semibold",children:[f.toFixed(1),"%"]})})]}),h.targetAmount&&h.targetAmount>0&&a.jsx(Sr,{value:Math.min(f,100),className:"h-3",indicatorClassName:y==="green"?"bg-green-500":y==="yellow"?"bg-yellow-500":y==="orange"?"bg-orange-500":"bg-blue-500"}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground pt-2 border-t",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("span",{children:[x.length," contribution(s)"]}),h.goalDate&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(qr,{className:"h-3 w-3"}),a.jsxs("span",{children:["Target: ",$t(h.goalDate,"MMM d, yyyy"),m!==null&&a.jsxs("span",{className:"ml-1",children:["(",m>0?`${m} days left`:"Overdue",")"]})]})]})]}),a.jsx(U,{variant:"link",size:"sm",className:"h-auto p-0 text-xs",onClick:()=>e(`/savings/${h.id}/edit`),children:"Manage & Contribute"})]})]})]},h.id)})})]})]})},dtt=()=>{const e=Ct(),[t]=yve(),n=t.get("budgetId"),{addSavingsGoal:r,settings:s,isLoaded:i}=b_(),{budgets:o,settings:l,isLoaded:c}=Lm(),[u,d]=v.useState(""),[h,f]=v.useState(""),[p,m]=v.useState("0"),[g,y]=v.useState("general"),[x,b]=v.useState(""),[w,N]=v.useState(""),[S,k]=v.useState(n?[n]:[]),[j,_]=v.useState(!1),[C,A]=v.useState(""),[O,M]=v.useState("biweekly"),P=()=>c?o.reduce((L,D)=>{if(!S.includes(D.id))return L;const F=D.linkedExpenseIds||[],z=localStorage.getItem("daily-haven-expenses");if(!z)return L;const W=JSON.parse(z).filter(Y=>F.includes(Y.id)).reduce((Y,G)=>Y+Bi(G,D.period),0),V=Math.max(0,D.amount-W);return L+V},0):0,E=L=>{k(D=>D.includes(L)?D.filter(F=>F!==L):[...D,L])},I=()=>{const L=P();L>0?(f(L.toFixed(2)),J.success(`Suggested ${l.currencySymbol}${L.toFixed(2)} from linked budget remainders`)):J.warning("No budget remainder available from linked budgets")},T=()=>{if(!u.trim()){J.error("Please enter a savings name");return}const L=h.trim()?parseFloat(h):void 0;if(h.trim()&&(!L||L<=0)){J.error("Target amount must be greater than 0");return}if(!i){J.error("Still loading... Please wait.");return}const D=C.trim()?parseFloat(C):void 0;if(C.trim()&&(!D||D<=0)){J.error("Recurring contribution amount must be greater than 0");return}const F={id:K7e(),name:u.trim(),targetAmount:L,currentAmount:parseFloat(p)||0,category:g,description:x.trim()||void 0,goalDate:w?new Date(w):void 0,linkedBudgetIds:S.length>0?S:void 0,autoContribute:j,recurringContributionAmount:D,recurringContributionFrequency:D?O:void 0,createdAt:new Date};console.log("Creating savings goal:",F),r(F),J.success(`Savings "${F.name}" created successfully!`),setTimeout(()=>{e("/savings")},100)};if(!i||!c)return a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsx("p",{className:"text-muted-foreground",children:"Loading..."})});const R=P();return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(Dn,{title:"Create Savings Goal"}),a.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[a.jsxs(U,{variant:"ghost",onClick:()=>e("/savings"),className:"mb-6",children:[a.jsx(Jn,{className:"h-4 w-4 mr-2"}),"Back to Savings"]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(te,{className:"p-6",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Savings Goal Details"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"name",children:"Goal Name *"}),a.jsx(re,{id:"name",placeholder:"e.g., Emergency Fund, New Car, Vacation",value:u,onChange:L=>d(L.target.value),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"category",children:"Category"}),a.jsxs(Ee,{value:g,onValueChange:L=>y(L),children:[a.jsx(je,{id:"category",children:a.jsx(Ce,{})}),a.jsx(_e,{children:Object.keys(qf).map(L=>a.jsx(Q,{value:L,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:Kf[L]}}),qf[L]]})},L))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(K,{htmlFor:"targetAmount",children:["Target Amount (",s.currencySymbol,") - Optional"]}),S.length>0&&R>0&&a.jsxs(U,{type:"button",variant:"outline",size:"sm",onClick:I,className:"flex items-center gap-1",children:[a.jsx(fa,{className:"h-3 w-3"}),"Suggest from Budget"]})]}),a.jsx(re,{id:"targetAmount",type:"number",min:"0",step:"0.01",placeholder:"0.00 (Leave empty to track without a goal)",value:h,onChange:L=>f(L.target.value)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Optional: Set a savings goal or leave empty to just track growth"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(K,{htmlFor:"currentAmount",children:["Starting Amount (",s.currencySymbol,")"]}),a.jsx(re,{id:"currentAmount",type:"number",min:"0",step:"0.01",placeholder:"0.00",value:p,onChange:L=>m(L.target.value)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Optional: Enter any amount you've already saved"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"goalDate",children:"Target Date (Optional)"}),a.jsx(re,{id:"goalDate",type:"date",value:w,onChange:L=>N(L.target.value)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Set a deadline to reach your savings goal"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"description",children:"Description (Optional)"}),a.jsx(ft,{id:"description",placeholder:"Add notes about this savings goal...",value:x,onChange:L=>b(L.target.value),rows:3})]}),a.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[a.jsxs("div",{children:[a.jsx(K,{className:"text-base font-semibold",children:"Recurring Contributions (Optional)"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Set up automatic recurring deposits to track projected savings"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(K,{htmlFor:"recurringAmount",children:["Contribution Amount (",s.currencySymbol,")"]}),a.jsx(re,{id:"recurringAmount",type:"number",min:"0",step:"0.01",placeholder:"e.g., 300.00",value:C,onChange:L=>A(L.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"recurringFrequency",children:"Frequency"}),a.jsxs(Ee,{value:O,onValueChange:L=>M(L),children:[a.jsx(je,{id:"recurringFrequency",children:a.jsx(Ce,{})}),a.jsxs(_e,{children:[a.jsx(Q,{value:"daily",children:"Daily"}),a.jsx(Q,{value:"weekly",children:"Weekly"}),a.jsx(Q,{value:"biweekly",children:"Every 2 Weeks (Biweekly)"}),a.jsx(Q,{value:"monthly",children:"Monthly"}),a.jsx(Q,{value:"yearly",children:"Yearly"})]})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"How often you plan to add money to this savings goal"})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx(U,{variant:"outline",onClick:()=>e("/savings"),className:"flex-1",children:"Cancel"}),a.jsx(U,{onClick:T,disabled:!u.trim(),className:"flex-1",children:"Create Savings"})]})]})]}),a.jsxs(te,{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Link Budgets"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Track budget remainders to contribute to this savings goal"})]}),o.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx("p",{children:"No budgets available."}),a.jsx(U,{variant:"link",onClick:()=>e("/budgets/create"),className:"mt-2",children:"Create a Budget First"})]}):a.jsxs(a.Fragment,{children:[S.length>0&&a.jsx("div",{className:"mb-4 p-4 bg-green-50 dark:bg-green-950 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-green-900 dark:text-green-100",children:"Available from linked budgets:"}),a.jsx("span",{className:"font-semibold text-green-700 dark:text-green-300",children:Fe(R,l.currencySymbol)})]})}),a.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:o.map(L=>{const D=S.includes(L.id),F=L.linkedExpenseIds||[],z=localStorage.getItem("daily-haven-expenses");let B=L.amount;if(z){const V=JSON.parse(z).filter(Y=>F.includes(Y.id)).reduce((Y,G)=>Y+Bi(G,L.period),0);B=Math.max(0,L.amount-V)}return a.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg border-2 cursor-pointer transition-colors ${D?"border-primary bg-primary/10":"border-border hover:border-primary/50"}`,onClick:()=>E(L.id),children:[a.jsx(ks,{checked:D,onCheckedChange:()=>E(L.id)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("p",{className:"font-medium truncate",children:L.name}),a.jsxs("div",{className:"flex flex-col items-end flex-shrink-0",children:[a.jsx("span",{className:"font-semibold text-green-600",children:Fe(B,l.currencySymbol)}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"remaining"})]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[a.jsx(ve,{variant:"secondary",className:"text-xs",children:L.period}),a.jsxs("span",{children:[Fe(L.amount,l.currencySymbol)," budget"]})]})]})]},L.id)})})]})]})]}),a.jsx(te,{className:"p-4 mt-4 bg-blue-50 dark:bg-blue-950 border-blue-200 dark:border-blue-800",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx(Tpe,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-1",children:"How Budget Linking Works"}),a.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Linking budgets connects them for tracking purposes. When you add contributions to this savings, it will reduce the linked budget's available balance, helping you accurately track how money flows from budgets into savings. Target amounts are optional - you can track savings growth without a specific goal."})]})]})})]})]})},htt=()=>{const e=Ct(),{savingsId:t}=lR(),{savingsGoals:n,updateSavingsGoal:r,settings:s,isLoaded:i,addContribution:o,deleteContribution:l,getContributionsForSavings:c}=b_(),{budgets:u,settings:d,isLoaded:h}=Lm(),f=n.find(X=>X.id===t),[p,m]=v.useState(""),[g,y]=v.useState(""),[x,b]=v.useState("general"),[w,N]=v.useState(""),[S,k]=v.useState(""),[j,_]=v.useState([]),[C,A]=v.useState(""),[O,M]=v.useState("biweekly"),[P,E]=v.useState(!1),[I,T]=v.useState(""),[R,L]=v.useState(""),[D,F]=v.useState(new Date().toISOString().split("T")[0]);v.useEffect(()=>{f&&(m(f.name),y(f.targetAmount?f.targetAmount.toString():""),b(f.category||"general"),N(f.description||""),k(f.goalDate?new Date(f.goalDate).toISOString().split("T")[0]:""),_(f.linkedBudgetIds||[]),A(f.recurringContributionAmount?f.recurringContributionAmount.toString():""),M(f.recurringContributionFrequency||"biweekly"))},[f]);const z=X=>{_(de=>de.includes(X)?de.filter(pe=>pe!==X):[...de,X])},B=()=>{if(!t||!f){J.error("Savings not found");return}if(!p.trim()){J.error("Please enter a savings name");return}const X=g.trim()?parseFloat(g):void 0;if(g.trim()&&(!X||X<=0)){J.error("Target amount must be greater than 0");return}const de=C.trim()?parseFloat(C):void 0;if(C.trim()&&(!de||de<=0)){J.error("Recurring contribution amount must be greater than 0");return}console.log("Updating savings:",t,{name:p.trim(),targetAmount:X,category:x,description:w.trim()||void 0,goalDate:S?new Date(S):void 0,linkedBudgetIds:j.length>0?j:void 0,recurringContributionAmount:de,recurringContributionFrequency:de?O:void 0}),r(t,{name:p.trim(),targetAmount:X,category:x,description:w.trim()||void 0,goalDate:S?new Date(S):void 0,linkedBudgetIds:j.length>0?j:void 0,recurringContributionAmount:de,recurringContributionFrequency:de?O:void 0}),J.success(`Savings "${p}" updated successfully!`),setTimeout(()=>{e("/savings")},100)},$=()=>{if(!t||!f)return;if(!I||parseFloat(I)<=0){J.error("Please enter a valid contribution amount");return}const X={id:Y7e(),savingsId:t,amount:parseFloat(I),date:new Date(D),description:R.trim()||void 0,source:"manual",createdAt:new Date};o(X),J.success(`Added ${Fe(X.amount,s.currencySymbol)} to savings`),T(""),L(""),F(new Date().toISOString().split("T")[0]),E(!1)};if(!i||!h)return a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsx("p",{className:"text-muted-foreground",children:"Loading..."})});if(!f)return a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-muted-foreground mb-4",children:"Savings goal not found"}),a.jsx(U,{onClick:()=>e("/savings"),children:"Back to Savings"})]})});const W=sL(f),V=iL(f),Y=w_(f),G=X7e(f,"monthly"),Z=c(t),q=rre(f),ee=sre(f),se=j.reduce((X,de)=>{const pe=u.find(qe=>qe.id===de);if(!pe)return X;const Se=pe.linkedExpenseIds||[],be=localStorage.getItem("daily-haven-expenses");if(!be)return X+pe.amount;const Je=JSON.parse(be).filter(qe=>Se.includes(qe.id)).reduce((qe,De)=>qe+Bi(De,pe.period),0);return X+Math.max(0,pe.amount-Je)},0);return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(Dn,{title:"Edit Savings Goal"}),a.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[a.jsxs(U,{variant:"ghost",onClick:()=>e("/savings"),className:"mb-6",children:[a.jsx(Jn,{className:"h-4 w-4 mr-2"}),"Back to Savings"]}),a.jsxs(te,{className:"p-6 mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:f.name}),a.jsx("p",{className:"text-muted-foreground",children:"Track progress and manage contributions"})]}),a.jsx(ve,{variant:"outline",style:{borderColor:f.category?Kf[f.category]:void 0,color:f.category?Kf[f.category]:void 0},children:f.category&&qf[f.category]})]}),ee&&f.goalDate&&a.jsx("div",{className:"mb-4 p-4 bg-blue-50 dark:bg-blue-950 rounded-lg border border-blue-200 dark:border-blue-800",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300 font-medium",children:["Projected by ",$t(f.goalDate,"MMM d, yyyy")]}),a.jsx("p",{className:"text-2xl font-bold text-blue-900 dark:text-blue-100",children:Fe(q,s.currencySymbol)})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:["Recurring: +",Fe(f.recurringContributionAmount||0,s.currencySymbol),"/",f.recurringContributionFrequency]}),a.jsxs("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:["Total projected growth: +",Fe(q-f.currentAmount,s.currencySymbol)]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Amount"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:Fe(f.currentAmount,s.currencySymbol)})]}),f.targetAmount&&f.targetAmount>0?a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Target Amount"}),a.jsx("p",{className:"text-2xl font-bold",children:Fe(f.targetAmount,s.currencySymbol)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Remaining"}),a.jsx("p",{className:"text-2xl font-bold text-orange-600",children:Fe(V,s.currencySymbol)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Progress"}),a.jsxs("p",{className:"text-2xl font-bold",children:[W.toFixed(1),"%"]})]})]}):a.jsxs("div",{className:"col-span-3",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Mode"}),a.jsx("p",{className:"text-lg font-semibold text-blue-600",children:"Tracking Growth (No Target Set)"})]})]}),f.targetAmount&&f.targetAmount>0&&a.jsx(Sr,{value:Math.min(W,100),className:"h-3 mb-4"}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[f.goalDate&&a.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[a.jsx(qr,{className:"h-4 w-4"}),a.jsxs("span",{children:["Target: ",$t(f.goalDate,"MMM d, yyyy"),Y!==null&&a.jsxs("span",{className:"ml-1",children:["(",Y>0?`${Y} days left`:"Overdue",")"]})]})]}),G>0&&a.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[a.jsx(Sn,{className:"h-4 w-4"}),a.jsxs("span",{children:["Suggested: ",Fe(G,s.currencySymbol),"/month"]})]})]}),a.jsxs(U,{onClick:()=>E(!0),children:[a.jsx(We,{className:"h-4 w-4 mr-2"}),"Add Contribution"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(te,{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Savings Details"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"name",children:"Goal Name *"}),a.jsx(re,{id:"name",placeholder:"e.g., Emergency Fund",value:p,onChange:X=>m(X.target.value),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"category",children:"Category"}),a.jsxs(Ee,{value:x,onValueChange:X=>b(X),children:[a.jsx(je,{id:"category",children:a.jsx(Ce,{})}),a.jsx(_e,{children:Object.keys(qf).map(X=>a.jsx(Q,{value:X,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:Kf[X]}}),qf[X]]})},X))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(K,{htmlFor:"targetAmount",children:["Target Amount (",s.currencySymbol,") - Optional"]}),a.jsx(re,{id:"targetAmount",type:"number",min:"0",step:"0.01",placeholder:"0.00 (Leave empty to track without a goal)",value:g,onChange:X=>y(X.target.value)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Optional: Set a savings goal or leave empty to just track growth"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"goalDate",children:"Target Date (Optional)"}),a.jsx(re,{id:"goalDate",type:"date",value:S,onChange:X=>k(X.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"description",children:"Description (Optional)"}),a.jsx(ft,{id:"description",placeholder:"Add notes...",value:w,onChange:X=>N(X.target.value),rows:3})]}),a.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[a.jsxs("div",{children:[a.jsx(K,{className:"text-base font-semibold",children:"Recurring Contributions (Optional)"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Set up automatic recurring deposits to track projected savings"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(K,{htmlFor:"recurringAmount",children:["Contribution Amount (",s.currencySymbol,")"]}),a.jsx(re,{id:"recurringAmount",type:"number",min:"0",step:"0.01",placeholder:"e.g., 300.00",value:C,onChange:X=>A(X.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"recurringFrequency",children:"Frequency"}),a.jsxs(Ee,{value:O,onValueChange:X=>M(X),children:[a.jsx(je,{id:"recurringFrequency",children:a.jsx(Ce,{})}),a.jsxs(_e,{children:[a.jsx(Q,{value:"daily",children:"Daily"}),a.jsx(Q,{value:"weekly",children:"Weekly"}),a.jsx(Q,{value:"biweekly",children:"Every 2 Weeks (Biweekly)"}),a.jsx(Q,{value:"monthly",children:"Monthly"}),a.jsx(Q,{value:"yearly",children:"Yearly"})]})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"How often you plan to add money to this savings goal"})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx(U,{variant:"outline",onClick:()=>e("/savings"),className:"flex-1",children:"Cancel"}),a.jsx(U,{onClick:B,disabled:!p.trim(),className:"flex-1",children:"Save Changes"})]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(te,{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Linked Budgets"}),j.length>0&&a.jsx("div",{className:"mb-4 p-3 bg-green-50 dark:bg-green-950 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-green-900 dark:text-green-100",children:"Available from budgets:"}),a.jsx("span",{className:"font-semibold text-green-700 dark:text-green-300",children:Fe(se,d.currencySymbol)})]})}),u.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No budgets available"}):a.jsx("div",{className:"space-y-2 max-h-[300px] overflow-y-auto",children:u.map(X=>{const de=j.includes(X.id);return a.jsxs("div",{className:`flex items-center gap-2 p-2 rounded border cursor-pointer ${de?"border-primary bg-primary/10":"border-border"}`,onClick:()=>z(X.id),children:[a.jsx(ks,{checked:de,onCheckedChange:()=>z(X.id)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium truncate",children:X.name}),a.jsx("p",{className:"text-xs text-muted-foreground",children:X.period})]})]},X.id)})})]}),a.jsxs(te,{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Contribution History"}),Z.length===0?a.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No contributions yet"}):a.jsx("div",{className:"space-y-2 max-h-[300px] overflow-y-auto",children:Z.map(X=>a.jsxs("div",{className:"flex items-center justify-between p-3 rounded border",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsxs("span",{className:"font-semibold text-green-600",children:["+",Fe(X.amount,s.currencySymbol)]}),a.jsx(ve,{variant:"secondary",className:"text-xs",children:X.source||"manual"})]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[$t(X.date,"MMM d, yyyy"),X.description&&`  ${X.description}`]})]}),a.jsx(U,{variant:"ghost",size:"sm",onClick:()=>{confirm("Delete this contribution?")&&(l(X.id),J.success("Contribution deleted"))},children:a.jsx(Jt,{className:"h-4 w-4"})})]},X.id))})]})]})]})]}),a.jsx(ot,{open:P,onOpenChange:E,children:a.jsxs(nt,{children:[a.jsxs(rt,{children:[a.jsx(st,{children:"Add Contribution"}),a.jsx(dt,{children:"Add money to your savings goal"})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(K,{htmlFor:"contrib-amount",children:["Amount (",s.currencySymbol,") *"]}),a.jsx(re,{id:"contrib-amount",type:"number",min:"0",step:"0.01",placeholder:"0.00",value:I,onChange:X=>T(X.target.value),autoFocus:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"contrib-date",children:"Date"}),a.jsx(re,{id:"contrib-date",type:"date",value:D,onChange:X=>F(X.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"contrib-description",children:"Description (Optional)"}),a.jsx(re,{id:"contrib-description",placeholder:"e.g., Monthly savings",value:R,onChange:X=>L(X.target.value)})]})]}),a.jsxs(Wt,{children:[a.jsx(U,{variant:"outline",onClick:()=>E(!1),children:"Cancel"}),a.jsx(U,{onClick:$,disabled:!I||parseFloat(I)<=0,children:"Add Contribution"})]})]})})]})},Gh={WORKOUT_LOG:25,WORKOUT_BONUS_PER_MINUTE:1,MEAL_LOG:10,WATER_GOAL:20,SLEEP_LOG:15,MOOD_CHECKIN:10},xH=e=>Math.floor(100*Math.pow(1.5,e-1)),ftt=e=>{let t=1,n=0,r=xH(1);for(;e>=r&&t<100;)t++,n=r,r=n+xH(t);return{currentLevel:t,currentXP:e-n,xpToNextLevel:r-n,totalXP:e}},CM="fitness_tracker_data",tf=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),vH=()=>{const e=localStorage.getItem(CM);if(e)try{return JSON.parse(e)}catch(t){console.error("Error parsing fitness data:",t)}return{user:{profile:{id:tf(),name:"Fitness User",createdAt:new Date().toISOString()},preferences:{units:"metric",theme:"auto",notifications:{enabled:!0,dailyReminders:!0,hydrationReminders:!0,sedentaryAlerts:!0,bedtimeReminders:!0,achievementAlerts:!0,streakProtection:!0}},level:{currentLevel:1,currentXP:0,xpToNextLevel:100,totalXP:0}},workouts:[],dailyActivities:[],nutrition:[],health:{measurements:[],sleep:[]},wellness:{mood:[],meditation:[],gratitude:[]},goals:[],achievements:[],streaks:{},challenges:[],templates:[]}},vh=()=>{const[e,t]=v.useState(vH);v.useEffect(()=>{localStorage.setItem(CM,JSON.stringify(e))},[e]);const n=C=>{t(A=>{const O=A.user.level.totalXP+C,M=ftt(O);return{...A,user:{...A.user,level:M}}})},r=C=>{t(A=>({...A,user:{...A.user,profile:{...A.user.profile,...C}}}))},s=C=>{t(A=>({...A,user:{...A.user,preferences:{...A.user.preferences,...C}}}))},i=C=>{const A=Gh.WORKOUT_LOG+C.duration*Gh.WORKOUT_BONUS_PER_MINUTE,O={...C,id:tf(),xpEarned:A};return t(M=>({...M,workouts:[O,...M.workouts]})),n(A),y("workout"),O},o=(C,A)=>{t(O=>({...O,workouts:O.workouts.map(M=>M.id===C?{...M,...A}:M)}))},l=C=>{t(A=>({...A,workouts:A.workouts.filter(O=>O.id!==C)}))},c=C=>{t(A=>A.dailyActivities.find(M=>M.date===C.date)?{...A,dailyActivities:A.dailyActivities.map(M=>M.date===C.date?C:M)}:{...A,dailyActivities:[C,...A.dailyActivities]})},u=C=>{t(A=>A.nutrition.find(M=>M.date===C.date)?{...A,nutrition:A.nutrition.map(M=>M.date===C.date?C:M)}:{...A,nutrition:[C,...A.nutrition]}),C.meals.length>0&&n(C.meals.length*Gh.MEAL_LOG),C.waterIntake>=C.waterGoal&&(n(Gh.WATER_GOAL),y("water")),y("nutrition")},d=C=>{t(A=>({...A,health:{...A.health,measurements:[C,...A.health.measurements]}}))},h=C=>{const A={...C,id:tf()};return t(O=>({...O,health:{...O.health,sleep:[A,...O.health.sleep]}})),n(Gh.SLEEP_LOG),y("sleep"),A},f=C=>{const A={...C,id:tf()};return t(O=>({...O,wellness:{...O.wellness,mood:[A,...O.wellness.mood]}})),n(Gh.MOOD_CHECKIN),y("mood"),A},p=C=>{const A={...C,id:tf()};return t(O=>({...O,goals:[A,...O.goals]})),A},m=(C,A)=>{t(O=>({...O,goals:O.goals.map(M=>M.id===C?{...M,...A}:M)}))},g=C=>{t(A=>({...A,goals:A.goals.filter(O=>O.id!==C)}))},y=C=>{const A=new Date().toISOString().split("T")[0];t(O=>{const M=O.streaks[C]||{type:C,currentStreak:0,longestStreak:0,freezesAvailable:1},P=M.lastActivityDate;let E=M.currentStreak;if(!P)E=1;else{const T=new Date(P),L=new Date(A).getTime()-T.getTime(),D=Math.floor(L/(1e3*60*60*24));D===1?E+=1:D===0?E=M.currentStreak:E=1}const I=Math.max(M.longestStreak,E);return{...O,streaks:{...O.streaks,[C]:{...M,currentStreak:E,longestStreak:I,lastActivityDate:A}}}})};return{data:e,updateProfile:r,updatePreferences:s,addXP:n,addWorkout:i,updateWorkout:o,deleteWorkout:l,updateDailyActivity:c,getTodayActivity:()=>{const C=new Date().toISOString().split("T")[0];return e.dailyActivities.find(A=>A.date===C)},updateNutritionLog:u,getTodayNutrition:()=>{const C=new Date().toISOString().split("T")[0];return e.nutrition.find(A=>A.date===C)},addBodyMeasurement:d,addSleepLog:h,addMoodLog:f,addGoal:p,updateGoal:m,deleteGoal:g,updateStreak:y,unlockAchievement:C=>{if(e.achievements.find(M=>M.id===C.id))return;const O={...C,unlockedAt:new Date().toISOString()};t(M=>({...M,achievements:[O,...M.achievements]})),n(C.xpReward)},addChallenge:C=>{const A={...C,id:tf(),progress:0,isCompleted:!1};return t(O=>({...O,challenges:[A,...O.challenges]})),A},updateChallengeProgress:(C,A)=>{t(O=>({...O,challenges:O.challenges.map(M=>{if(M.id===C){const P=A>=M.goal;return P&&!M.isCompleted&&n(M.xpReward),{...M,progress:A,isCompleted:P}}return M})}))},exportData:()=>{const C=JSON.stringify(e,null,2),A=new Blob([C],{type:"application/json"}),O=URL.createObjectURL(A),M=document.createElement("a");M.href=O,M.download=`fitness-tracker-backup-${new Date().toISOString()}.json`,M.click(),URL.revokeObjectURL(O)},importData:C=>{try{const A=JSON.parse(C);return t(A),!0}catch(A){return console.error("Error importing data:",A),!1}},clearAllData:()=>{window.confirm("Are you sure you want to delete all fitness data? This cannot be undone.")&&(localStorage.removeItem(CM),t(vH()))}}},Nc=({progress:e,size:t=120,strokeWidth:n=8,color:r="#3B82F6",backgroundColor:s="#E5E7EB",showPercentage:i=!1,label:o,value:l,className:c})=>{const u=(t-n)/2,d=u*2*Math.PI,h=d-e/100*d;return a.jsxs("div",{className:me("flex flex-col items-center gap-2",c),children:[a.jsxs("div",{className:"relative",style:{width:t,height:t},children:[a.jsxs("svg",{width:t,height:t,className:"transform -rotate-90",children:[a.jsx("circle",{cx:t/2,cy:t/2,r:u,fill:"none",stroke:s,strokeWidth:n}),a.jsx("circle",{cx:t/2,cy:t/2,r:u,fill:"none",stroke:r,strokeWidth:n,strokeDasharray:d,strokeDashoffset:h,strokeLinecap:"round",className:"transition-all duration-500 ease-out"})]}),a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[l&&a.jsx("div",{className:"text-2xl font-bold",children:l}),i&&!l&&a.jsxs("div",{className:"text-2xl font-bold",children:[Math.round(e),"%"]})]})]}),o&&a.jsx("div",{className:"text-sm text-muted-foreground text-center",children:o})]})},oT=({title:e,value:t,unit:n,icon:r,iconColor:s="text-blue-500",trend:i,progress:o,className:l,onClick:c})=>a.jsxs(te,{className:me("p-4 hover:shadow-md transition-all cursor-pointer",l),onClick:c,children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:e}),a.jsxs("div",{className:"flex items-baseline gap-1",children:[a.jsx("h3",{className:"text-2xl font-bold",children:t}),n&&a.jsx("span",{className:"text-sm text-muted-foreground",children:n})]}),i&&a.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[a.jsxs("span",{className:me("text-xs font-medium",i.isPositive?"text-green-500":"text-red-500"),children:[i.isPositive?"+":"",i.value]}),a.jsx("span",{className:"text-xs text-muted-foreground",children:i.label})]})]}),r&&a.jsx("div",{className:me("p-2 rounded-lg bg-secondary",s),children:a.jsx(r,{className:"w-5 h-5"})})]}),o!==void 0&&a.jsx("div",{className:"mt-3",children:a.jsx("div",{className:"w-full bg-secondary rounded-full h-2",children:a.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-500",style:{width:`${Math.min(100,Math.max(0,o))}%`}})})})]}),bH=({streak:e,title:t,className:n})=>{const r=i=>i>=30?"text-purple-500":i>=14?"text-orange-500":i>=7?"text-yellow-500":"text-blue-500",s=i=>i>=30?"shadow-purple-500/50":i>=14?"shadow-orange-500/50":i>=7?"shadow-yellow-500/50":"shadow-blue-500/50";return a.jsx(te,{className:me("p-4",n),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:t}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(jl,{className:me("w-8 h-8",r(e.currentStreak),e.currentStreak>0&&"animate-pulse")}),a.jsxs("div",{children:[a.jsxs("div",{className:"text-2xl font-bold",children:[e.currentStreak," ",e.currentStreak===1?"day":"days"]}),e.longestStreak>0&&a.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[a.jsx(Hk,{className:"w-3 h-3"}),"Best: ",e.longestStreak," days"]})]})]})]}),e.currentStreak>=7&&a.jsxs("div",{className:me("px-3 py-1 rounded-full text-xs font-semibold","bg-gradient-to-r from-orange-500 to-pink-500 text-white","shadow-lg",s(e.currentStreak)),children:[e.currentStreak>=30&&"Legendary",e.currentStreak>=14&&e.currentStreak<30&&"On Fire!",e.currentStreak>=7&&e.currentStreak<14&&"Hot Streak"]})]})})},die=({level:e,className:t})=>{const n=e.currentXP/e.xpToNextLevel*100,s=(i=>i>=80?{name:"Legendary",color:"text-purple-500",bg:"bg-purple-500/10"}:i>=60?{name:"Master",color:"text-yellow-500",bg:"bg-yellow-500/10"}:i>=40?{name:"Expert",color:"text-orange-500",bg:"bg-orange-500/10"}:i>=20?{name:"Advanced",color:"text-blue-500",bg:"bg-blue-500/10"}:{name:"Beginner",color:"text-green-500",bg:"bg-green-500/10"})(e.currentLevel);return a.jsxs(te,{className:me("p-4",t),children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:me("p-2 rounded-lg",s.bg),children:a.jsx(us,{className:me("w-5 h-5",s.color)})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("h3",{className:"font-semibold",children:["Level ",e.currentLevel]}),a.jsx("span",{className:me("text-xs font-medium px-2 py-0.5 rounded-full",s.bg,s.color),children:s.name})]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.currentXP.toLocaleString()," / ",e.xpToNextLevel.toLocaleString()," XP"]})]})]}),a.jsx(mi,{className:"w-5 h-5 text-yellow-500 animate-pulse"})]}),a.jsx(Sr,{value:n,className:"h-3"}),a.jsxs("div",{className:"mt-2 text-xs text-muted-foreground text-center",children:[Math.round(e.xpToNextLevel-e.currentXP).toLocaleString()," XP to level ",e.currentLevel+1]})]})},wH=["Your only limit is you!","Make yourself proud today!","Progress, not perfection.","One step at a time.","Stronger every day!","You've got this!","Consistency is key!","Believe in yourself!"];function ptt(){const e=Ct(),{data:t,getTodayActivity:n,getTodayNutrition:r,updateDailyActivity:s,updateNutritionLog:i}=vh(),[o]=v.useState(()=>wH[Math.floor(Math.random()*wH.length)]),[l,c]=v.useState(!1),u=n(),d=r(),h=new Date().toISOString().split("T")[0],f=(u==null?void 0:u.steps)||0,p=(u==null?void 0:u.stepsGoal)||1e4,m=(u==null?void 0:u.activeMinutes)||0,g=(u==null?void 0:u.activeMinutesGoal)||30,y=(u==null?void 0:u.caloriesBurned)||0,x=(d==null?void 0:d.waterIntake)||0,b=(d==null?void 0:d.waterGoal)||2e3,w=(d==null?void 0:d.totalCalories)||0,N=(d==null?void 0:d.calorieGoal)||2e3,[S,k]=v.useState({stepsGoal:p.toString(),activeMinutesGoal:g.toString(),waterGoal:b.toString(),calorieGoal:N.toString()}),j=()=>{const P=parseInt(S.stepsGoal)||1e4,E=parseInt(S.activeMinutesGoal)||30,I=parseInt(S.waterGoal)||2e3,T=parseInt(S.calorieGoal)||2e3;s({date:h,steps:f,stepsGoal:P,activeMinutes:m,activeMinutesGoal:E,caloriesBurned:y,distance:(u==null?void 0:u.distance)||0,sedentaryMinutes:(u==null?void 0:u.sedentaryMinutes)||0}),i({date:h,meals:(d==null?void 0:d.meals)||[],waterIntake:x,waterGoal:I,totalCalories:w,calorieGoal:T,macros:(d==null?void 0:d.macros)||{protein:0,carbs:0,fats:0},macroGoals:(d==null?void 0:d.macroGoals)||{protein:150,carbs:200,fats:65}}),J.success("Daily goals updated! "),c(!1)},_=t.workouts.filter(P=>P.date===h).slice(0,3),C=t.streaks.workout||{type:"workout",currentStreak:0,longestStreak:0,freezesAvailable:1},A=t.streaks.steps||{type:"steps",currentStreak:0,longestStreak:0,freezesAvailable:1},O=t.challenges.filter(P=>P.isActive&&!P.isCompleted).slice(0,3),M=t.achievements.slice(0,3);return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b sticky top-0 z-10",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>e("/"),children:a.jsx(Jn,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[a.jsx(gd,{className:"w-6 h-6 text-blue-500"}),"Fitness Tracker"]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:o})]})]}),a.jsxs(U,{onClick:()=>{k({stepsGoal:p.toString(),activeMinutesGoal:g.toString(),waterGoal:b.toString(),calorieGoal:N.toString()}),c(!0)},variant:"outline",size:"sm",children:[a.jsx(wp,{className:"w-4 h-4 mr-2"}),"Edit Goals"]})]})})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6 space-y-6",children:[a.jsx(die,{level:t.user.level}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[a.jsxs(U,{onClick:()=>e("/fitness/workout"),className:"h-20 flex-col gap-1",variant:"outline",children:[a.jsx(ko,{className:"w-5 h-5"}),a.jsx("span",{className:"text-xs",children:"Log Workout"})]}),a.jsxs(U,{onClick:()=>e("/fitness/nutrition"),className:"h-20 flex-col gap-1",variant:"outline",children:[a.jsx(W1,{className:"w-5 h-5"}),a.jsx("span",{className:"text-xs",children:"Log Meal"})]}),a.jsxs(U,{onClick:()=>e("/fitness/wellness"),className:"h-20 flex-col gap-1",variant:"outline",children:[a.jsx($d,{className:"w-5 h-5"}),a.jsx("span",{className:"text-xs",children:"Check Mood"})]}),a.jsxs(U,{onClick:()=>e("/fitness/goals"),className:"h-20 flex-col gap-1",variant:"outline",children:[a.jsx(Xt,{className:"w-5 h-5"}),a.jsx("span",{className:"text-xs",children:"Goals"})]})]}),a.jsxs(te,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[a.jsx(Sn,{className:"w-5 h-5 text-blue-500"}),"Today's Progress"]}),a.jsxs(U,{variant:"ghost",size:"sm",onClick:()=>{k({stepsGoal:p.toString(),activeMinutesGoal:g.toString(),waterGoal:b.toString(),calorieGoal:N.toString()}),c(!0)},children:[a.jsx(wp,{className:"w-4 h-4 mr-2"}),"Edit Goals"]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[a.jsx(Nc,{progress:f/p*100,color:"#3B82F6",value:f.toLocaleString(),label:`Goal: ${p.toLocaleString()} steps`}),a.jsx(Nc,{progress:m/g*100,color:"#10B981",value:`${m}`,label:`Goal: ${g} min`}),a.jsx(Nc,{progress:x/b*100,color:"#06B6D4",value:`${x}`,label:`Goal: ${b} ml`}),a.jsx(Nc,{progress:w/N*100,color:"#F59E0B",value:`${w}`,label:`Goal: ${N} cal`})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(oT,{title:"Steps Today",value:f.toLocaleString(),unit:"steps",icon:gd,iconColor:"text-blue-500",progress:f/p*100,onClick:()=>e("/fitness/activity")}),a.jsx(oT,{title:"Calories Burned",value:y,unit:"cal",icon:jl,iconColor:"text-orange-500",onClick:()=>e("/fitness/activity")}),a.jsx(oT,{title:"Workouts Today",value:_.length,icon:ko,iconColor:"text-purple-500",onClick:()=>e("/fitness/workout")})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(bH,{streak:C,title:"Workout Streak"}),a.jsx(bH,{streak:A,title:"Steps Goal Streak"})]}),_.length>0&&a.jsxs(te,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[a.jsx(ko,{className:"w-5 h-5 text-purple-500"}),"Today's Workouts"]}),a.jsx(U,{variant:"ghost",size:"sm",onClick:()=>e("/fitness/workout"),children:"View All"})]}),a.jsx("div",{className:"space-y-3",children:_.map(P=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-secondary rounded-lg",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:P.name}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:[P.duration," min  ",P.caloriesBurned," cal"]})]}),a.jsxs("div",{className:"text-sm font-medium text-blue-500",children:["+",P.xpEarned," XP"]})]},P.id))})]}),O.length>0&&a.jsxs(te,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[a.jsx(Xt,{className:"w-5 h-5 text-green-500"}),"Active Challenges"]}),a.jsx(U,{variant:"ghost",size:"sm",onClick:()=>e("/fitness/challenges"),children:"View All"})]}),a.jsx("div",{className:"space-y-3",children:O.map(P=>a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"font-medium",children:P.name}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:[P.progress," / ",P.goal]})]}),a.jsx("div",{className:"w-full bg-secondary rounded-full h-2",children:a.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all",style:{width:`${Math.min(100,P.progress/P.goal*100)}%`}})})]},P.id))})]}),M.length>0&&a.jsxs(te,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[a.jsx(us,{className:"w-5 h-5 text-yellow-500"}),"Recent Achievements"]}),a.jsx(U,{variant:"ghost",size:"sm",onClick:()=>e("/fitness/achievements"),children:"View All"})]}),a.jsx("div",{className:"space-y-3",children:M.map(P=>a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-secondary rounded-lg",children:[a.jsx(us,{className:"w-8 h-8 text-yellow-500"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium",children:P.name}),a.jsx("div",{className:"text-sm text-muted-foreground",children:P.description})]}),a.jsxs("div",{className:"text-sm font-medium text-blue-500",children:["+",P.xpReward," XP"]})]},P.id))})]}),t.workouts.length===0&&a.jsx(te,{className:"p-6 border-2 border-dashed",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"p-3 rounded-full bg-blue-100 dark:bg-blue-900",children:a.jsx(ko,{className:"w-8 h-8 text-blue-500"})})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Start Your Fitness Journey!"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Log your first workout, track your meals, or set a fitness goal to get started."}),a.jsxs("div",{className:"flex gap-2 justify-center flex-wrap",children:[a.jsxs(U,{onClick:()=>e("/fitness/workout"),children:[a.jsx(ko,{className:"w-4 h-4 mr-2"}),"Log Workout"]}),a.jsxs(U,{variant:"outline",onClick:()=>e("/fitness/goals"),children:[a.jsx(Xt,{className:"w-4 h-4 mr-2"}),"Set Goals"]})]})]})]})})]}),a.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800 border-t shadow-lg",children:a.jsxs("div",{className:"grid grid-cols-5 gap-1 p-2",children:[a.jsxs(U,{variant:"ghost",className:"flex-col h-16 gap-1",onClick:()=>e("/fitness"),children:[a.jsx(Sn,{className:"w-5 h-5"}),a.jsx("span",{className:"text-xs",children:"Home"})]}),a.jsxs(U,{variant:"ghost",className:"flex-col h-16 gap-1",onClick:()=>e("/fitness/activity"),children:[a.jsx(gd,{className:"w-5 h-5"}),a.jsx("span",{className:"text-xs",children:"Activity"})]}),a.jsxs(U,{variant:"ghost",className:"flex-col h-16 gap-1",onClick:()=>e("/fitness/workout"),children:[a.jsx(ko,{className:"w-5 h-5"}),a.jsx("span",{className:"text-xs",children:"Workout"})]}),a.jsxs(U,{variant:"ghost",className:"flex-col h-16 gap-1",onClick:()=>e("/fitness/nutrition"),children:[a.jsx(W1,{className:"w-5 h-5"}),a.jsx("span",{className:"text-xs",children:"Nutrition"})]}),a.jsxs(U,{variant:"ghost",className:"flex-col h-16 gap-1",onClick:()=>e("/fitness/achievements"),children:[a.jsx(us,{className:"w-5 h-5"}),a.jsx("span",{className:"text-xs",children:"Rewards"})]})]})}),a.jsx("div",{className:"h-20 md:hidden"}),a.jsx(ot,{open:l,onOpenChange:c,children:a.jsxs(nt,{children:[a.jsxs(rt,{children:[a.jsx(st,{children:"Edit Daily Goals"}),a.jsx(dt,{children:"Customize your daily targets for steps, activity, water, and calories"})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"stepsGoal",children:"Daily Steps Goal"}),a.jsx(re,{id:"stepsGoal",type:"number",placeholder:"10000",value:S.stepsGoal,onChange:P=>k({...S,stepsGoal:P.target.value})}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Recommended: 8,000 - 12,000 steps"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"activeMinutesGoal",children:"Active Minutes Goal"}),a.jsx(re,{id:"activeMinutesGoal",type:"number",placeholder:"30",value:S.activeMinutesGoal,onChange:P=>k({...S,activeMinutesGoal:P.target.value})}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Recommended: 30 - 60 minutes"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"waterGoal",children:"Daily Water Goal (ml)"}),a.jsx(re,{id:"waterGoal",type:"number",placeholder:"2000",value:S.waterGoal,onChange:P=>k({...S,waterGoal:P.target.value})}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Recommended: 2,000 - 3,000 ml"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"calorieGoal",children:"Daily Calorie Goal"}),a.jsx(re,{id:"calorieGoal",type:"number",placeholder:"2000",value:S.calorieGoal,onChange:P=>k({...S,calorieGoal:P.target.value})}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Adjust based on your fitness goals"})]})]}),a.jsxs(Wt,{children:[a.jsx(U,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),a.jsxs(U,{onClick:j,children:[a.jsx(Xt,{className:"w-4 h-4 mr-2"}),"Save Goals"]})]})]})})]})}const SH=[{value:"cardio",label:"Cardio",emoji:""},{value:"strength",label:"Strength Training",emoji:""},{value:"flexibility",label:"Flexibility",emoji:""},{value:"yoga",label:"Yoga",emoji:""},{value:"hiit",label:"HIIT",emoji:""},{value:"sports",label:"Sports",emoji:""},{value:"running",label:"Running",emoji:""},{value:"cycling",label:"Cycling",emoji:""},{value:"swimming",label:"Swimming",emoji:""},{value:"walking",label:"Walking",emoji:""},{value:"custom",label:"Custom",emoji:""}],NH=[{value:"low",label:"Low",color:"bg-green-100 text-green-800"},{value:"moderate",label:"Moderate",color:"bg-yellow-100 text-yellow-800"},{value:"high",label:"High",color:"bg-orange-100 text-orange-800"},{value:"extreme",label:"Extreme",color:"bg-red-100 text-red-800"}],kH=[{value:"terrible",label:"Terrible",emoji:""},{value:"bad",label:"Bad",emoji:""},{value:"okay",label:"Okay",emoji:""},{value:"good",label:"Good",emoji:""},{value:"great",label:"Great",emoji:""},{value:"amazing",label:"Amazing",emoji:""}];function mtt(){const e=Ct(),{data:t,addWorkout:n,deleteWorkout:r}=vh(),[s,i]=v.useState(!1),[o,l]=v.useState({date:new Date().toISOString().split("T")[0],type:"cardio",name:"",duration:"",caloriesBurned:"",intensity:"moderate",feeling:"good",notes:""}),c=()=>{if(!o.name||!o.duration){J.error("Please fill in workout name and duration");return}const x=parseInt(o.duration),b=parseInt(o.caloriesBurned)||Math.floor(x*5);n({date:o.date,type:o.type,name:o.name,duration:x,caloriesBurned:b,exercises:[],intensity:o.intensity,feeling:o.feeling,notes:o.notes}),J.success("Workout logged successfully! "),i(!1),u()},u=()=>{l({date:new Date().toISOString().split("T")[0],type:"cardio",name:"",duration:"",caloriesBurned:"",intensity:"moderate",feeling:"good",notes:""})},d=x=>{window.confirm("Are you sure you want to delete this workout?")&&(r(x),J.success("Workout deleted"))},h=t.workouts.reduce((x,b)=>(x[b.date]||(x[b.date]=[]),x[b.date].push(b),x),{}),f=Object.keys(h).sort((x,b)=>b.localeCompare(x)),p=t.workouts.length,m=t.workouts.reduce((x,b)=>x+b.duration,0),g=t.workouts.reduce((x,b)=>x+b.caloriesBurned,0),y=t.workouts.filter(x=>{const b=new Date(x.date),w=new Date;return w.setDate(w.getDate()-7),b>=w}).length;return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-blue-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b sticky top-0 z-10",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>e("/fitness"),children:a.jsx(Jn,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[a.jsx(ko,{className:"w-6 h-6 text-purple-500"}),"Workout Tracker"]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Track and manage your workouts"})]})]}),a.jsxs(U,{onClick:()=>i(!0),children:[a.jsx(We,{className:"w-4 h-4 mr-2"}),"Add Workout"]})]})})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6 space-y-6 pb-24 md:pb-6",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs(te,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(ko,{className:"w-4 h-4 text-purple-500"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Workouts"})]}),a.jsx("div",{className:"text-2xl font-bold",children:p})]}),a.jsxs(te,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(kl,{className:"w-4 h-4 text-blue-500"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Time"})]}),a.jsx("div",{className:"text-2xl font-bold",children:m}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"minutes"})]}),a.jsxs(te,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(jl,{className:"w-4 h-4 text-orange-500"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"Calories Burned"})]}),a.jsx("div",{className:"text-2xl font-bold",children:g.toLocaleString()})]}),a.jsxs(te,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Sn,{className:"w-4 h-4 text-green-500"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"This Week"})]}),a.jsx("div",{className:"text-2xl font-bold",children:y}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"workouts"})]})]}),f.length===0?a.jsxs(te,{className:"p-12 text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"p-4 rounded-full bg-purple-100 dark:bg-purple-900",children:a.jsx(ko,{className:"w-12 h-12 text-purple-500"})})}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No workouts yet"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Start your fitness journey by logging your first workout!"}),a.jsxs(U,{onClick:()=>i(!0),children:[a.jsx(We,{className:"w-4 h-4 mr-2"}),"Log Your First Workout"]})]}):a.jsx("div",{className:"space-y-6",children:f.map(x=>{const b=h[x],w=new Date(x),N=x===new Date().toISOString().split("T")[0];return a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(qr,{className:"w-4 h-4 text-muted-foreground"}),a.jsx("h3",{className:"font-semibold",children:N?"Today":w.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})}),a.jsxs(ve,{variant:"secondary",children:[b.length," workouts"]})]}),a.jsx("div",{className:"space-y-3",children:b.map(S=>{const k=SH.find(C=>C.value===S.type),j=NH.find(C=>C.value===S.intensity),_=kH.find(C=>C.value===S.feeling);return a.jsx(te,{className:"p-4 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:"text-xl",children:k==null?void 0:k.emoji}),a.jsx("h4",{className:"font-semibold text-lg",children:S.name}),a.jsx(ve,{className:j==null?void 0:j.color,children:S.intensity})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-3",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Duration"}),a.jsxs("div",{className:"font-medium",children:[S.duration," min"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Calories"}),a.jsx("div",{className:"font-medium",children:S.caloriesBurned})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Type"}),a.jsx("div",{className:"font-medium",children:k==null?void 0:k.label})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Feeling"}),a.jsxs("div",{className:"font-medium",children:[_==null?void 0:_.emoji," ",_==null?void 0:_.label]})]})]}),S.notes&&a.jsx("div",{className:"text-sm text-muted-foreground mt-2 p-2 bg-secondary rounded",children:S.notes}),a.jsxs("div",{className:"mt-2 text-sm font-medium text-blue-500",children:["+",S.xpEarned," XP Earned"]})]}),a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>d(S.id),className:"text-red-500 hover:text-red-700",children:a.jsx(Jt,{className:"w-4 h-4"})})]})},S.id)})})]},x)})})]}),a.jsx(ot,{open:s,onOpenChange:i,children:a.jsxs(nt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(rt,{children:[a.jsx(st,{children:"Log Workout"}),a.jsx(dt,{children:"Record your workout details to track your progress and earn XP"})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"date",children:"Date"}),a.jsx(re,{id:"date",type:"date",value:o.date,onChange:x=>l({...o,date:x.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"type",children:"Workout Type"}),a.jsxs(Ee,{value:o.type,onValueChange:x=>l({...o,type:x}),children:[a.jsx(je,{children:a.jsx(Ce,{})}),a.jsx(_e,{children:SH.map(x=>a.jsxs(Q,{value:x.value,children:[x.emoji," ",x.label]},x.value))})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"name",children:"Workout Name"}),a.jsx(re,{id:"name",placeholder:"e.g., Morning Run, Chest Day, Yoga Session",value:o.name,onChange:x=>l({...o,name:x.target.value})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"duration",children:"Duration (minutes)"}),a.jsx(re,{id:"duration",type:"number",placeholder:"30",value:o.duration,onChange:x=>l({...o,duration:x.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"calories",children:"Calories Burned (optional)"}),a.jsx(re,{id:"calories",type:"number",placeholder:"Auto-calculated if empty",value:o.caloriesBurned,onChange:x=>l({...o,caloriesBurned:x.target.value})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{children:"Intensity"}),a.jsx("div",{className:"grid grid-cols-4 gap-2",children:NH.map(x=>a.jsx(U,{variant:o.intensity===x.value?"default":"outline",onClick:()=>l({...o,intensity:x.value}),className:"w-full",children:x.label},x.value))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{children:"How did you feel?"}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:kH.map(x=>a.jsxs(U,{variant:o.feeling===x.value?"default":"outline",onClick:()=>l({...o,feeling:x.value}),className:"w-full",children:[x.emoji," ",x.label]},x.value))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"notes",children:"Notes (optional)"}),a.jsx(ft,{id:"notes",placeholder:"How was the workout? Any personal records?",value:o.notes,onChange:x=>l({...o,notes:x.target.value}),rows:3})]})]}),a.jsxs(Wt,{children:[a.jsx(U,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),a.jsxs(U,{onClick:c,children:[a.jsx(We,{className:"w-4 h-4 mr-2"}),"Log Workout"]})]})]})})]})}const qb=[{value:"breakfast",label:"Breakfast",emoji:""},{value:"lunch",label:"Lunch",emoji:""},{value:"dinner",label:"Dinner",emoji:""},{value:"snack",label:"Snack",emoji:""}];function gtt(){const e=Ct(),{updateNutritionLog:t,getTodayNutrition:n}=vh(),[r,s]=v.useState(!1),[i,o]=v.useState(new Date().toISOString().split("T")[0]),l=n()||{date:i,meals:[],waterIntake:0,waterGoal:2e3,totalCalories:0,calorieGoal:2e3,macros:{protein:0,carbs:0,fats:0},macroGoals:{protein:150,carbs:200,fats:65}},[c,u]=v.useState({type:"breakfast",foodName:"",calories:"",protein:"",carbs:"",fats:""}),d=N=>{const S=l.waterIntake+N;t({...l,waterIntake:S}),J.success(`Added ${N}ml of water! `)},h=()=>{if(!c.foodName||!c.calories){J.error("Please enter food name and calories");return}const N=parseInt(c.calories),S=parseInt(c.protein)||0,k=parseInt(c.carbs)||0,j=parseInt(c.fats)||0,_={id:crypto.randomUUID(),type:c.type,time:new Date().toISOString(),foods:[{id:crypto.randomUUID(),name:c.foodName,calories:N,protein:S,carbs:k,fats:j,servingSize:"1 serving",servings:1}],totalCalories:N,macros:{protein:S,carbs:k,fats:j}},C=[...l.meals,_],A=C.reduce((M,P)=>M+P.totalCalories,0),O=C.reduce((M,P)=>({protein:M.protein+P.macros.protein,carbs:M.carbs+P.macros.carbs,fats:M.fats+P.macros.fats}),{protein:0,carbs:0,fats:0});t({...l,meals:C,totalCalories:A,macros:O}),J.success("Meal logged successfully! "),s(!1),f()},f=()=>{u({type:"breakfast",foodName:"",calories:"",protein:"",carbs:"",fats:""})},p=N=>{const S=l.meals.filter(_=>_.id!==N),k=S.reduce((_,C)=>_+C.totalCalories,0),j=S.reduce((_,C)=>({protein:_.protein+C.macros.protein,carbs:_.carbs+C.macros.carbs,fats:_.fats+C.macros.fats}),{protein:0,carbs:0,fats:0});t({...l,meals:S,totalCalories:k,macros:j}),J.success("Meal deleted")},m=l.totalCalories/l.calorieGoal*100,g=l.waterIntake/l.waterGoal*100,y=l.macros.protein/l.macroGoals.protein*100,x=l.macros.carbs/l.macroGoals.carbs*100,b=l.macros.fats/l.macroGoals.fats*100,w=l.meals.reduce((N,S)=>(N[S.type]||(N[S.type]=[]),N[S.type].push(S),N),{});return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-white to-yellow-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b sticky top-0 z-10",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>e("/fitness"),children:a.jsx(Jn,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[a.jsx(W1,{className:"w-6 h-6 text-green-500"}),"Nutrition Tracker"]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Track meals and hydration"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(re,{type:"date",value:i,onChange:N=>o(N.target.value),className:"w-auto"}),a.jsxs(U,{onClick:()=>s(!0),children:[a.jsx(We,{className:"w-4 h-4 mr-2"}),"Add Meal"]})]})]})})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6 space-y-6 pb-24 md:pb-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(te,{className:"p-6",children:[a.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[a.jsx(jl,{className:"w-5 h-5 text-orange-500"}),"Calories"]}),a.jsx("div",{className:"flex items-center justify-center",children:a.jsx(Nc,{progress:m,size:150,color:"#F59E0B",value:l.totalCalories.toString(),label:`Goal: ${l.calorieGoal} cal`})}),a.jsx("div",{className:"mt-4 text-center text-sm text-muted-foreground",children:l.calorieGoal-l.totalCalories>0?`${l.calorieGoal-l.totalCalories} cal remaining`:`${l.totalCalories-l.calorieGoal} cal over goal`})]}),a.jsxs(te,{className:"p-6",children:[a.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[a.jsx(ib,{className:"w-5 h-5 text-blue-500"}),"Hydration"]}),a.jsx("div",{className:"flex items-center justify-center",children:a.jsx(Nc,{progress:g,size:150,color:"#06B6D4",value:`${l.waterIntake}`,label:`Goal: ${l.waterGoal} ml`})}),a.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-2",children:[a.jsxs(U,{variant:"outline",size:"sm",onClick:()=>d(250),className:"flex items-center gap-1",children:[a.jsx(ib,{className:"w-4 h-4"}),"+250ml"]}),a.jsxs(U,{variant:"outline",size:"sm",onClick:()=>d(500),className:"flex items-center gap-1",children:[a.jsx(ib,{className:"w-4 h-4"}),"+500ml"]}),a.jsxs(U,{variant:"outline",size:"sm",onClick:()=>d(1e3),className:"flex items-center gap-1",children:[a.jsx(ib,{className:"w-4 h-4"}),"+1L"]})]})]})]}),a.jsxs(te,{className:"p-6",children:[a.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[a.jsx(Sn,{className:"w-5 h-5 text-purple-500"}),"Macronutrients"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium",children:"Protein"}),a.jsxs("span",{className:"text-sm text-muted-foreground",children:[l.macros.protein,"g / ",l.macroGoals.protein,"g"]})]}),a.jsx(Sr,{value:y,className:"h-3"}),a.jsxs("div",{className:"mt-1 text-xs text-center text-muted-foreground",children:[Math.round(y),"%"]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium",children:"Carbs"}),a.jsxs("span",{className:"text-sm text-muted-foreground",children:[l.macros.carbs,"g / ",l.macroGoals.carbs,"g"]})]}),a.jsx(Sr,{value:x,className:"h-3"}),a.jsxs("div",{className:"mt-1 text-xs text-center text-muted-foreground",children:[Math.round(x),"%"]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium",children:"Fats"}),a.jsxs("span",{className:"text-sm text-muted-foreground",children:[l.macros.fats,"g / ",l.macroGoals.fats,"g"]})]}),a.jsx(Sr,{value:b,className:"h-3"}),a.jsxs("div",{className:"mt-1 text-xs text-center text-muted-foreground",children:[Math.round(b),"%"]})]})]})]}),a.jsxs(te,{className:"p-6",children:[a.jsx("h3",{className:"font-semibold mb-4",children:"Today's Meals"}),l.meals.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(W1,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"No meals logged yet"}),a.jsxs(U,{onClick:()=>s(!0),children:[a.jsx(We,{className:"w-4 h-4 mr-2"}),"Log Your First Meal"]})]}):a.jsxs(Pa,{defaultValue:"all",className:"w-full",children:[a.jsxs(Ko,{className:"grid w-full grid-cols-5",children:[a.jsx(Mt,{value:"all",children:"All"}),qb.map(N=>a.jsx(Mt,{value:N.value,children:N.emoji},N.value))]}),a.jsx(bn,{value:"all",className:"space-y-3 mt-4",children:qb.map(N=>{const S=w[N.value]||[];return S.length===0?null:a.jsxs("div",{children:[a.jsxs("h4",{className:"text-sm font-semibold text-muted-foreground mb-2",children:[N.emoji," ",N.label]}),S.map(k=>a.jsx(te,{className:"p-4 mb-2",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium mb-2",children:k.foods.map(j=>j.name).join(", ")}),a.jsxs("div",{className:"grid grid-cols-4 gap-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Calories:"})," ",a.jsx("span",{className:"font-medium",children:k.totalCalories})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Protein:"})," ",a.jsxs("span",{className:"font-medium",children:[k.macros.protein,"g"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Carbs:"})," ",a.jsxs("span",{className:"font-medium",children:[k.macros.carbs,"g"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Fats:"})," ",a.jsxs("span",{className:"font-medium",children:[k.macros.fats,"g"]})]})]}),a.jsx("div",{className:"text-xs text-muted-foreground mt-2",children:new Date(k.time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>p(k.id),className:"text-red-500 hover:text-red-700",children:a.jsx(Jt,{className:"w-4 h-4"})})]})},k.id))]},N.value)})}),qb.map(N=>a.jsx(bn,{value:N.value,className:"space-y-3 mt-4",children:(w[N.value]||[]).length===0?a.jsx("div",{className:"text-center py-8",children:a.jsxs("p",{className:"text-muted-foreground",children:["No ",N.label.toLowerCase()," logged"]})}):(w[N.value]||[]).map(S=>a.jsx(te,{className:"p-4",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium mb-2",children:S.foods.map(k=>k.name).join(", ")}),a.jsxs("div",{className:"grid grid-cols-4 gap-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Calories:"})," ",a.jsx("span",{className:"font-medium",children:S.totalCalories})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Protein:"})," ",a.jsxs("span",{className:"font-medium",children:[S.macros.protein,"g"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Carbs:"})," ",a.jsxs("span",{className:"font-medium",children:[S.macros.carbs,"g"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Fats:"})," ",a.jsxs("span",{className:"font-medium",children:[S.macros.fats,"g"]})]})]})]}),a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>p(S.id),className:"text-red-500 hover:text-red-700",children:a.jsx(Jt,{className:"w-4 h-4"})})]})},S.id))},N.value))]})]})]}),a.jsx(ot,{open:r,onOpenChange:s,children:a.jsxs(nt,{children:[a.jsxs(rt,{children:[a.jsx(st,{children:"Log Meal"}),a.jsx(dt,{children:"Add food to track your nutrition"})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"mealType",children:"Meal Type"}),a.jsxs(Ee,{value:c.type,onValueChange:N=>u({...c,type:N}),children:[a.jsx(je,{children:a.jsx(Ce,{})}),a.jsx(_e,{children:qb.map(N=>a.jsxs(Q,{value:N.value,children:[N.emoji," ",N.label]},N.value))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"foodName",children:"Food Name"}),a.jsx(re,{id:"foodName",placeholder:"e.g., Chicken Breast, Oatmeal",value:c.foodName,onChange:N=>u({...c,foodName:N.target.value})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"calories",children:"Calories"}),a.jsx(re,{id:"calories",type:"number",placeholder:"250",value:c.calories,onChange:N=>u({...c,calories:N.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"protein",children:"Protein (g)"}),a.jsx(re,{id:"protein",type:"number",placeholder:"25",value:c.protein,onChange:N=>u({...c,protein:N.target.value})})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"carbs",children:"Carbs (g)"}),a.jsx(re,{id:"carbs",type:"number",placeholder:"30",value:c.carbs,onChange:N=>u({...c,carbs:N.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"fats",children:"Fats (g)"}),a.jsx(re,{id:"fats",type:"number",placeholder:"10",value:c.fats,onChange:N=>u({...c,fats:N.target.value})})]})]})]}),a.jsxs(Wt,{children:[a.jsx(U,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),a.jsxs(U,{onClick:h,children:[a.jsx(We,{className:"w-4 h-4 mr-2"}),"Log Meal"]})]})]})})]})}const aT=({achievement:e,size:t="md",showProgress:n=!1,className:r})=>{const s=!!e.unlockedAt,i={sm:"w-12 h-12",md:"w-16 h-16",lg:"w-24 h-24"},o=c=>{switch(c){case"bronze":return"from-orange-700 to-orange-500";case"silver":return"from-gray-400 to-gray-300";case"gold":return"from-yellow-500 to-yellow-300";case"platinum":return"from-purple-500 to-pink-500"}},l=c=>{switch(c){case"bronze":return"border-orange-500";case"silver":return"border-gray-400";case"gold":return"border-yellow-500";case"platinum":return"border-purple-500"}};return a.jsxs("div",{className:me("relative group",r),children:[a.jsxs("div",{className:me("relative flex items-center justify-center rounded-full border-4",i[t],s?me("bg-gradient-to-br",o(e.tier),l(e.tier)):"bg-gray-200 border-gray-300 opacity-50"),children:[s?a.jsx(Hk,{className:me("text-white",t==="sm"?"w-6 h-6":t==="md"?"w-8 h-8":"w-12 h-12")}):a.jsx(ym,{className:me("text-gray-500",t==="sm"?"w-6 h-6":t==="md"?"w-8 h-8":"w-12 h-12")}),!s&&n&&e.progress!==void 0&&a.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 bg-white rounded-full px-2 py-0.5 border border-gray-300",children:a.jsxs("span",{className:"text-xs font-medium",children:[Math.round(e.progress/e.requirement*100),"%"]})})]}),a.jsx(te,{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 p-3 w-48 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10 shadow-lg",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"font-semibold text-sm mb-1",children:e.name}),a.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:e.description}),a.jsxs(ve,{variant:"secondary",className:"text-xs",children:[e.xpReward," XP"]}),!s&&e.progress!==void 0&&a.jsxs("div",{className:"mt-2 text-xs",children:["Progress: ",e.progress," / ",e.requirement]}),s&&e.unlockedAt&&a.jsxs("div",{className:"mt-2 text-xs text-green-600 font-medium",children:["Unlocked ",new Date(e.unlockedAt).toLocaleDateString()]})]})})]})},Kb=[{id:"first_workout",name:"First Steps",description:"Complete your first workout",icon:"dumbbell",category:"workout",tier:"bronze",xpReward:50,requirement:1},{id:"10_workouts",name:"Getting Started",description:"Complete 10 workouts",icon:"dumbbell",category:"workout",tier:"silver",xpReward:100,requirement:10},{id:"50_workouts",name:"Fitness Enthusiast",description:"Complete 50 workouts",icon:"dumbbell",category:"workout",tier:"gold",xpReward:250,requirement:50},{id:"100_workouts",name:"Workout Warrior",description:"Complete 100 workouts",icon:"dumbbell",category:"workout",tier:"platinum",xpReward:500,requirement:100},{id:"3_day_streak",name:"On a Roll",description:"Maintain a 3-day workout streak",icon:"flame",category:"streak",tier:"bronze",xpReward:50,requirement:3},{id:"7_day_streak",name:"Week Warrior",description:"Maintain a 7-day workout streak",icon:"flame",category:"streak",tier:"silver",xpReward:150,requirement:7},{id:"30_day_streak",name:"Consistency King",description:"Maintain a 30-day workout streak",icon:"flame",category:"streak",tier:"gold",xpReward:300,requirement:30},{id:"100_day_streak",name:"Legendary Streak",description:"Maintain a 100-day workout streak",icon:"flame",category:"streak",tier:"platinum",xpReward:1e3,requirement:100},{id:"10k_steps",name:"Step Master",description:"Reach 10,000 steps in a day",icon:"footsteps",category:"activity",tier:"bronze",xpReward:50,requirement:1},{id:"10k_steps_week",name:"Walking Champion",description:"Reach 10,000 steps for 7 consecutive days",icon:"footsteps",category:"activity",tier:"silver",xpReward:150,requirement:7},{id:"marathon_distance",name:"Marathon Runner",description:"Walk or run a cumulative 42.2 km",icon:"runner",category:"activity",tier:"gold",xpReward:300,requirement:42200},{id:"hydration_hero",name:"Hydration Hero",description:"Meet your water goal for 7 consecutive days",icon:"droplet",category:"nutrition",tier:"bronze",xpReward:100,requirement:7},{id:"macro_master",name:"Macro Master",description:"Hit all macro goals in a single day",icon:"chart",category:"nutrition",tier:"silver",xpReward:150,requirement:1},{id:"calorie_tracker",name:"Calorie Conscious",description:"Log meals for 30 consecutive days",icon:"apple",category:"nutrition",tier:"gold",xpReward:250,requirement:30},{id:"sleep_champion",name:"Sleep Champion",description:"Get 8+ hours of sleep for 7 consecutive days",icon:"moon",category:"health",tier:"silver",xpReward:150,requirement:7},{id:"weight_goal",name:"Goal Crusher",description:"Reach your weight goal",icon:"target",category:"health",tier:"gold",xpReward:500,requirement:1},{id:"early_adopter",name:"Early Adopter",description:"Start your fitness journey",icon:"star",category:"special",tier:"bronze",xpReward:25,requirement:1},{id:"data_enthusiast",name:"Data Enthusiast",description:"Log all metrics in a single day",icon:"chart",category:"special",tier:"silver",xpReward:100,requirement:1},{id:"overachiever",name:"Overachiever",description:"Exceed all daily goals in one day",icon:"sparkles",category:"special",tier:"gold",xpReward:200,requirement:1}];function ytt(){const e=Ct(),{data:t}=vh(),n=Kb.map(c=>{var h;const u=t.achievements.find(f=>f.id===c.id);if(u)return{...c,...u};let d=0;switch(c.id){case"first_workout":case"10_workouts":case"50_workouts":case"100_workouts":d=t.workouts.length;break;case"3_day_streak":case"7_day_streak":case"30_day_streak":case"100_day_streak":d=((h=t.streaks.workout)==null?void 0:h.currentStreak)||0;break;default:d=0}return{...c,progress:d}}),r=n.filter(c=>c.unlockedAt),s=n.filter(c=>!c.unlockedAt),i={workout:n.filter(c=>c.category==="workout"),streak:n.filter(c=>c.category==="streak"),activity:n.filter(c=>c.category==="activity"),nutrition:n.filter(c=>c.category==="nutrition"),health:n.filter(c=>c.category==="health"),special:n.filter(c=>c.category==="special")},o=r.reduce((c,u)=>c+u.xpReward,0),l=Math.round(r.length/Kb.length*100);return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 via-white to-orange-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b sticky top-0 z-10",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>e("/fitness"),children:a.jsx(Jn,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[a.jsx(us,{className:"w-6 h-6 text-yellow-500"}),"Achievements"]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.length," / ",Kb.length," unlocked"]})]})]})})})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6 space-y-6 pb-24 md:pb-6",children:[a.jsx(die,{level:t.user.level}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(te,{className:"p-6",children:a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"p-3 rounded-lg bg-yellow-100 dark:bg-yellow-900",children:a.jsx(us,{className:"w-6 h-6 text-yellow-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold",children:r.length}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Achievements Unlocked"})]})]})}),a.jsx(te,{className:"p-6",children:a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"p-3 rounded-lg bg-blue-100 dark:bg-blue-900",children:a.jsx(mi,{className:"w-6 h-6 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold",children:o.toLocaleString()}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Total XP Earned"})]})]})}),a.jsx(te,{className:"p-6",children:a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"p-3 rounded-lg bg-purple-100 dark:bg-purple-900",children:a.jsx(Sn,{className:"w-6 h-6 text-purple-600"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"text-2xl font-bold",children:[l,"%"]}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Completion Rate"})]})]})})]}),a.jsxs(te,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"font-semibold",children:"Overall Progress"}),a.jsxs("span",{className:"text-sm text-muted-foreground",children:[r.length," / ",Kb.length]})]}),a.jsx(Sr,{value:l,className:"h-3"})]}),a.jsx(te,{className:"p-6",children:a.jsxs(Pa,{defaultValue:"all",className:"w-full",children:[a.jsxs(Ko,{className:"grid w-full grid-cols-7",children:[a.jsx(Mt,{value:"all",children:"All"}),a.jsx(Mt,{value:"workout",children:"Workout"}),a.jsx(Mt,{value:"streak",children:"Streak"}),a.jsx(Mt,{value:"activity",children:"Activity"}),a.jsx(Mt,{value:"nutrition",children:"Nutrition"}),a.jsx(Mt,{value:"health",children:"Health"}),a.jsx(Mt,{value:"special",children:"Special"})]}),a.jsx(bn,{value:"all",className:"mt-6",children:a.jsxs("div",{className:"space-y-6",children:[r.length>0&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[a.jsx(Hk,{className:"w-5 h-5 text-yellow-500"}),"Unlocked (",r.length,")"]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:r.map(c=>a.jsx(aT,{achievement:c,size:"md"},c.id))})]}),s.length>0&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[a.jsx(ym,{className:"w-5 h-5 text-gray-400"}),"Locked (",s.length,")"]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:s.map(c=>a.jsx(aT,{achievement:c,size:"md",showProgress:!0},c.id))})]})]})}),Object.entries(i).map(([c,u])=>a.jsx(bn,{value:c,className:"mt-6",children:a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:u.map(d=>a.jsx(aT,{achievement:d,size:"md",showProgress:!d.unlockedAt},d.id))})},c))]})}),s.length>0&&a.jsx(te,{className:"p-6 bg-gradient-to-r from-blue-500 to-purple-500 text-white border-0",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Na,{className:"w-8 h-8"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg",children:"Keep Going!"}),a.jsxs("p",{className:"text-sm opacity-90",children:["You have ",s.length," more achievements to unlock. Stay consistent and reach your goals!"]})]})]})})]})]})}const Yb=[{value:"terrible",label:"Terrible",emoji:"",color:"bg-red-500"},{value:"bad",label:"Bad",emoji:"",color:"bg-orange-500"},{value:"okay",label:"Okay",emoji:"",color:"bg-yellow-500"},{value:"good",label:"Good",emoji:"",color:"bg-green-500"},{value:"great",label:"Great",emoji:"",color:"bg-blue-500"},{value:"fantastic",label:"Fantastic",emoji:"",color:"bg-purple-500"}];function xtt(){var b;const e=Ct(),{data:t,addMoodLog:n,addSleepLog:r}=vh(),[s,i]=v.useState(!1),[o,l]=v.useState(!1),[c,u]=v.useState({mood:"good",stress:5,energy:5,notes:""}),[d,h]=v.useState({date:new Date().toISOString().split("T")[0],bedtime:"22:00",waketime:"06:00",quality:3,notes:""}),f=()=>{n({date:new Date().toISOString().split("T")[0],time:new Date().toISOString(),mood:c.mood,stress:c.stress,energy:c.energy,emotions:[],notes:c.notes}),J.success("Mood logged successfully! "),i(!1),u({mood:"good",stress:5,energy:5,notes:""})},p=()=>{const w=new Date(`${d.date}T${d.bedtime}`),N=new Date(`${d.date}T${d.waketime}`);N<w&&N.setDate(N.getDate()+1);const S=(N.getTime()-w.getTime())/(1e3*60*60);r({date:d.date,bedtime:w.toISOString(),waketime:N.toISOString(),duration:Math.round(S*10)/10,quality:d.quality,notes:d.notes,feltRested:d.quality>=3}),J.success("Sleep logged successfully! "),l(!1)},m=t.wellness.mood.slice(0,7),g=t.health.sleep.slice(0,7),y=m.length>0?Yb.findIndex(w=>w.value===m[0].mood)+1:0,x=g.length>0?g.reduce((w,N)=>w+N.duration,0)/g.length:0;return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-pink-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b sticky top-0 z-10",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>e("/fitness"),children:a.jsx(Jn,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[a.jsx($d,{className:"w-6 h-6 text-pink-500"}),"Wellness Tracker"]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Track mood, sleep, and mental health"})]})]})})})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6 space-y-6 pb-24 md:pb-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs(U,{onClick:()=>i(!0),className:"h-24 flex-col gap-2",variant:"outline",children:[a.jsx(Ig,{className:"w-8 h-8"}),a.jsx("span",{children:"Log Mood"})]}),a.jsxs(U,{onClick:()=>l(!0),className:"h-24 flex-col gap-2",variant:"outline",children:[a.jsx(ob,{className:"w-8 h-8"}),a.jsx("span",{children:"Log Sleep"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(te,{className:"p-6",children:a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(Ig,{className:"w-6 h-6 text-yellow-500"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg Mood"}),a.jsx("div",{className:"text-2xl font-bold",children:y>0?(b=Yb[y-1])==null?void 0:b.emoji:""})]})]})}),a.jsx(te,{className:"p-6",children:a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(ob,{className:"w-6 h-6 text-blue-500"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg Sleep"}),a.jsx("div",{className:"text-2xl font-bold",children:x>0?`${x.toFixed(1)}h`:""})]})]})}),a.jsx(te,{className:"p-6",children:a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(xpe,{className:"w-6 h-6 text-purple-500"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Check-ins"}),a.jsx("div",{className:"text-2xl font-bold",children:t.wellness.mood.length})]})]})})]}),a.jsxs(te,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[a.jsx(Ig,{className:"w-5 h-5 text-yellow-500"}),"Recent Mood Logs"]}),a.jsxs(U,{variant:"ghost",size:"sm",onClick:()=>i(!0),children:[a.jsx(We,{className:"w-4 h-4 mr-2"}),"Add"]})]}),m.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(Ig,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),a.jsx("p",{children:"No mood logs yet. Start tracking your mood!"})]}):a.jsx("div",{className:"space-y-3",children:m.map(w=>{const N=Yb.find(S=>S.value===w.mood);return a.jsxs(te,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-3xl",children:N==null?void 0:N.emoji}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:N==null?void 0:N.label}),a.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(w.date).toLocaleDateString()})]})]}),a.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[a.jsxs("div",{children:["Stress: ",w.stress,"/10"]}),a.jsxs("div",{children:["Energy: ",w.energy,"/10"]})]})]}),w.notes&&a.jsx("div",{className:"mt-3 text-sm text-muted-foreground p-2 bg-secondary rounded",children:w.notes})]},w.id)})})]}),a.jsxs(te,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[a.jsx(ob,{className:"w-5 h-5 text-blue-500"}),"Recent Sleep Logs"]}),a.jsxs(U,{variant:"ghost",size:"sm",onClick:()=>l(!0),children:[a.jsx(We,{className:"w-4 h-4 mr-2"}),"Add"]})]}),g.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(ob,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),a.jsx("p",{children:"No sleep logs yet. Start tracking your sleep!"})]}):a.jsx("div",{className:"space-y-3",children:g.map(w=>a.jsxs(te,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:new Date(w.date).toLocaleDateString()}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:[w.duration,"h sleep  Quality: ","".repeat(w.quality)]})]}),a.jsxs("div",{className:"text-right text-sm text-muted-foreground",children:[a.jsx("div",{children:new Date(w.bedtime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),a.jsx("div",{children:"to"}),a.jsx("div",{children:new Date(w.waketime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]}),w.notes&&a.jsx("div",{className:"mt-3 text-sm text-muted-foreground p-2 bg-secondary rounded",children:w.notes})]},w.id))})]})]}),a.jsx(ot,{open:s,onOpenChange:i,children:a.jsxs(nt,{children:[a.jsxs(rt,{children:[a.jsx(st,{children:"Log Mood"}),a.jsx(dt,{children:"How are you feeling today?"})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{children:"Mood"}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:Yb.map(w=>a.jsxs(U,{variant:c.mood===w.value?"default":"outline",onClick:()=>u({...c,mood:w.value}),className:"h-20 flex-col gap-1",children:[a.jsx("span",{className:"text-2xl",children:w.emoji}),a.jsx("span",{className:"text-xs",children:w.label})]},w.value))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(K,{children:["Stress Level: ",c.stress,"/10"]}),a.jsx(re,{type:"range",min:"1",max:"10",value:c.stress,onChange:w=>u({...c,stress:parseInt(w.target.value)})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(K,{children:["Energy Level: ",c.energy,"/10"]}),a.jsx(re,{type:"range",min:"1",max:"10",value:c.energy,onChange:w=>u({...c,energy:parseInt(w.target.value)})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{children:"Notes (optional)"}),a.jsx(ft,{placeholder:"What's on your mind?",value:c.notes,onChange:w=>u({...c,notes:w.target.value}),rows:3})]})]}),a.jsxs(Wt,{children:[a.jsx(U,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),a.jsxs(U,{onClick:f,children:[a.jsx(We,{className:"w-4 h-4 mr-2"}),"Log Mood"]})]})]})}),a.jsx(ot,{open:o,onOpenChange:l,children:a.jsxs(nt,{children:[a.jsxs(rt,{children:[a.jsx(st,{children:"Log Sleep"}),a.jsx(dt,{children:"Record your sleep details"})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{children:"Date"}),a.jsx(re,{type:"date",value:d.date,onChange:w=>h({...d,date:w.target.value})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{children:"Bedtime"}),a.jsx(re,{type:"time",value:d.bedtime,onChange:w=>h({...d,bedtime:w.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{children:"Wake Time"}),a.jsx(re,{type:"time",value:d.waketime,onChange:w=>h({...d,waketime:w.target.value})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{children:"Sleep Quality"}),a.jsx("div",{className:"grid grid-cols-5 gap-2",children:[1,2,3,4,5].map(w=>a.jsx(U,{variant:d.quality===w?"default":"outline",onClick:()=>h({...d,quality:w}),children:"".repeat(w)},w))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{children:"Notes (optional)"}),a.jsx(ft,{placeholder:"How did you sleep?",value:d.notes,onChange:w=>h({...d,notes:w.target.value}),rows:3})]})]}),a.jsxs(Wt,{children:[a.jsx(U,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),a.jsxs(U,{onClick:p,children:[a.jsx(We,{className:"w-4 h-4 mr-2"}),"Log Sleep"]})]})]})})]})}function vtt(){const e=Ct(),{data:t,updateDailyActivity:n,getTodayActivity:r}=vh(),[s,i]=v.useState(!1),[o,l]=v.useState(new Date().toISOString().split("T")[0]),c=r()||{date:o,steps:0,stepsGoal:1e4,activeMinutes:0,activeMinutesGoal:30,caloriesBurned:0,distance:0,sedentaryMinutes:0},[u,d]=v.useState({steps:c.steps.toString(),activeMinutes:c.activeMinutes.toString(),caloriesBurned:c.caloriesBurned.toString(),distance:c.distance.toString()}),h=()=>{const w=parseInt(u.steps)||0,N=parseInt(u.activeMinutes)||0,S=parseInt(u.caloriesBurned)||0,k=parseFloat(u.distance)||0;n({date:o,steps:w,stepsGoal:c.stepsGoal,activeMinutes:N,activeMinutesGoal:c.activeMinutesGoal,caloriesBurned:S,distance:k,sedentaryMinutes:c.sedentaryMinutes}),J.success("Activity logged successfully! "),i(!1)},f=w=>{const N=c.steps+w,S=N*8e-4,k=Math.floor(N*.04);n({...c,steps:N,distance:c.distance+S,caloriesBurned:c.caloriesBurned+k}),J.success(`Added ${w} steps! `)},p=w=>{const N=c.activeMinutes+w,S=Math.floor(w*5);n({...c,activeMinutes:N,caloriesBurned:c.caloriesBurned+S}),J.success(`Added ${w} active minutes! `)},m=t.dailyActivities.sort((w,N)=>N.date.localeCompare(w.date)).slice(0,7),g=m.reduce((w,N)=>({totalSteps:w.totalSteps+N.steps,totalMinutes:w.totalMinutes+N.activeMinutes,totalCalories:w.totalCalories+N.caloriesBurned,totalDistance:w.totalDistance+N.distance}),{totalSteps:0,totalMinutes:0,totalCalories:0,totalDistance:0}),y=m.length>0?Math.floor(g.totalSteps/m.length):0,x=c.steps/c.stepsGoal*100,b=c.activeMinutes/c.activeMinutesGoal*100;return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b sticky top-0 z-10",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>e("/fitness"),children:a.jsx(Jn,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[a.jsx(gd,{className:"w-6 h-6 text-blue-500"}),"Activity Tracker"]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Track your daily movement and activity"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(re,{type:"date",value:o,onChange:w=>l(w.target.value),className:"w-auto"}),a.jsxs(U,{onClick:()=>{d({steps:c.steps.toString(),activeMinutes:c.activeMinutes.toString(),caloriesBurned:c.caloriesBurned.toString(),distance:c.distance.toString()}),i(!0)},children:[a.jsx(gi,{className:"w-4 h-4 mr-2"}),"Edit Activity"]})]})]})})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6 space-y-6 pb-24 md:pb-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(te,{className:"p-6",children:[a.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[a.jsx(jpe,{className:"w-5 h-5 text-blue-500"}),"Steps Today"]}),a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(Nc,{progress:x,size:180,color:"#3B82F6",value:c.steps.toLocaleString(),label:`Goal: ${c.stepsGoal.toLocaleString()} steps`})}),a.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[a.jsx(U,{variant:"outline",size:"sm",onClick:()=>f(1e3),children:"+1K"}),a.jsx(U,{variant:"outline",size:"sm",onClick:()=>f(2500),children:"+2.5K"}),a.jsx(U,{variant:"outline",size:"sm",onClick:()=>f(5e3),children:"+5K"})]})]}),a.jsxs(te,{className:"p-6",children:[a.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[a.jsx(kl,{className:"w-5 h-5 text-green-500"}),"Active Minutes"]}),a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(Nc,{progress:b,size:180,color:"#10B981",value:c.activeMinutes.toString(),label:`Goal: ${c.activeMinutesGoal} minutes`})}),a.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[a.jsx(U,{variant:"outline",size:"sm",onClick:()=>p(10),children:"+10 min"}),a.jsx(U,{variant:"outline",size:"sm",onClick:()=>p(20),children:"+20 min"}),a.jsx(U,{variant:"outline",size:"sm",onClick:()=>p(30),children:"+30 min"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs(te,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(jl,{className:"w-4 h-4 text-orange-500"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"Calories"})]}),a.jsx("div",{className:"text-2xl font-bold",children:c.caloriesBurned}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"burned"})]}),a.jsxs(te,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Dpe,{className:"w-4 h-4 text-purple-500"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"Distance"})]}),a.jsx("div",{className:"text-2xl font-bold",children:c.distance.toFixed(2)}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"km"})]}),a.jsxs(te,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Sn,{className:"w-4 h-4 text-blue-500"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"Avg Steps"})]}),a.jsx("div",{className:"text-2xl font-bold",children:y.toLocaleString()}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"last 7 days"})]}),a.jsxs(te,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(gd,{className:"w-4 h-4 text-green-500"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"Weekly"})]}),a.jsx("div",{className:"text-2xl font-bold",children:g.totalMinutes}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"active min"})]})]}),a.jsxs(te,{className:"p-6",children:[a.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[a.jsx(qr,{className:"w-5 h-5 text-purple-500"}),"7-Day Summary"]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Total Steps"}),a.jsx("div",{className:"text-2xl font-bold text-blue-500",children:g.totalSteps.toLocaleString()})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Total Minutes"}),a.jsx("div",{className:"text-2xl font-bold text-green-500",children:g.totalMinutes})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Total Calories"}),a.jsx("div",{className:"text-2xl font-bold text-orange-500",children:g.totalCalories.toLocaleString()})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Total Distance"}),a.jsxs("div",{className:"text-2xl font-bold text-purple-500",children:[g.totalDistance.toFixed(2)," km"]})]})]})]}),a.jsxs(te,{className:"p-6",children:[a.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[a.jsx(Sn,{className:"w-5 h-5 text-blue-500"}),"Recent Activity"]}),m.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(gd,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),a.jsx("p",{children:"No activity logged yet. Start tracking your daily movement!"})]}):a.jsx("div",{className:"space-y-3",children:m.map(w=>{const N=new Date(w.date),S=w.date===new Date().toISOString().split("T")[0],k=w.steps/w.stepsGoal*100;return a.jsxs(te,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:S?"Today":N.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:[Math.round(k),"% of steps goal"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-500",children:w.steps.toLocaleString()}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"steps"})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Active:"})," ",a.jsxs("span",{className:"font-medium",children:[w.activeMinutes," min"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Calories:"})," ",a.jsx("span",{className:"font-medium",children:w.caloriesBurned})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Distance:"})," ",a.jsxs("span",{className:"font-medium",children:[w.distance.toFixed(2)," km"]})]})]}),a.jsx("div",{className:"mt-3",children:a.jsx("div",{className:"w-full bg-secondary rounded-full h-2",children:a.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all",style:{width:`${Math.min(100,k)}%`}})})})]},w.date)})})]})]}),a.jsx(ot,{open:s,onOpenChange:i,children:a.jsxs(nt,{children:[a.jsxs(rt,{children:[a.jsx(st,{children:"Edit Activity"}),a.jsxs(dt,{children:["Manually update your activity data for ",o]})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"steps",children:"Steps"}),a.jsx(re,{id:"steps",type:"number",placeholder:"0",value:u.steps,onChange:w=>d({...u,steps:w.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"activeMinutes",children:"Active Minutes"}),a.jsx(re,{id:"activeMinutes",type:"number",placeholder:"0",value:u.activeMinutes,onChange:w=>d({...u,activeMinutes:w.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"caloriesBurned",children:"Calories Burned"}),a.jsx(re,{id:"caloriesBurned",type:"number",placeholder:"0",value:u.caloriesBurned,onChange:w=>d({...u,caloriesBurned:w.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"distance",children:"Distance (km)"}),a.jsx(re,{id:"distance",type:"number",step:"0.01",placeholder:"0.00",value:u.distance,onChange:w=>d({...u,distance:w.target.value})})]})]}),a.jsxs(Wt,{children:[a.jsx(U,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),a.jsxs(U,{onClick:h,children:[a.jsx(We,{className:"w-4 h-4 mr-2"}),"Save Activity"]})]})]})})]})}const Xb=[{value:"weight",label:"Weight Goal",emoji:"",unit:"kg"},{value:"fitness",label:"Fitness Milestone",emoji:"",unit:""},{value:"habit",label:"Habit Goal",emoji:"",unit:"days"},{value:"nutrition",label:"Nutrition Goal",emoji:"",unit:""},{value:"activity",label:"Activity Goal",emoji:"",unit:""}];function btt(){const e=Ct(),{data:t,addGoal:n,updateGoal:r,deleteGoal:s}=vh(),[i,o]=v.useState(!1),[l,c]=v.useState(!1),[u,d]=v.useState(null),[h,f]=v.useState({type:"weight",name:"",description:"",target:"",current:"",unit:"kg",targetDate:""}),p=()=>{f({type:"weight",name:"",description:"",target:"",current:"",unit:"kg",targetDate:""})},m=()=>{if(!h.name||!h.target){J.error("Please fill in goal name and target");return}const _=parseFloat(h.target),C=parseFloat(h.current)||0;n({type:h.type,name:h.name,description:h.description,target:_,current:C,unit:h.unit,startDate:new Date().toISOString().split("T")[0],targetDate:h.targetDate,milestones:[],isCompleted:!1}),J.success("Goal created! "),o(!1),p()},g=(_,C)=>{const A=t.goals.find(M=>M.id===_);if(!A)return;const O=C>=A.target;r(_,{current:C,isCompleted:O,completedAt:O?new Date().toISOString():void 0}),O&&!A.isCompleted?J.success("Goal completed! Congratulations! "):J.success("Progress updated! ")},y=()=>{u&&(r(u.id,{name:h.name,description:h.description,target:parseFloat(h.target),targetDate:h.targetDate}),J.success("Goal updated! "),c(!1),d(null),p())},x=_=>{window.confirm("Are you sure you want to delete this goal?")&&(s(_),J.success("Goal deleted"))},b=_=>{d(_),f({type:_.type,name:_.name,description:_.description||"",target:_.target.toString(),current:_.current.toString(),unit:_.unit,targetDate:_.targetDate}),c(!0)},w=t.goals.filter(_=>!_.isCompleted),N=t.goals.filter(_=>_.isCompleted),S=_=>Math.min(100,_.current/_.target*100),k=_=>{const C=new Date,O=new Date(_).getTime()-C.getTime();return Math.ceil(O/(1e3*60*60*24))},j=_=>Xb.find(C=>C.value===_)||Xb[0];return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-white to-blue-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b sticky top-0 z-10",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>e("/fitness"),children:a.jsx(Jn,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[a.jsx(Xt,{className:"w-6 h-6 text-green-500"}),"Fitness Goals"]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Set and track your fitness goals"})]})]}),a.jsxs(U,{onClick:()=>o(!0),children:[a.jsx(We,{className:"w-4 h-4 mr-2"}),"New Goal"]})]})})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6 space-y-6 pb-24 md:pb-6",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs(te,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Xt,{className:"w-4 h-4 text-blue-500"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Goals"})]}),a.jsx("div",{className:"text-2xl font-bold",children:t.goals.length})]}),a.jsxs(te,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Sn,{className:"w-4 h-4 text-green-500"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"Active"})]}),a.jsx("div",{className:"text-2xl font-bold",children:w.length})]}),a.jsxs(te,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Ro,{className:"w-4 h-4 text-purple-500"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"Completed"})]}),a.jsx("div",{className:"text-2xl font-bold",children:N.length})]}),a.jsxs(te,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(us,{className:"w-4 h-4 text-yellow-500"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"Success Rate"})]}),a.jsxs("div",{className:"text-2xl font-bold",children:[t.goals.length>0?Math.round(N.length/t.goals.length*100):0,"%"]})]})]}),a.jsx(te,{className:"p-6",children:a.jsxs(Pa,{defaultValue:"active",className:"w-full",children:[a.jsxs(Ko,{className:"grid w-full grid-cols-2",children:[a.jsxs(Mt,{value:"active",children:["Active Goals (",w.length,")"]}),a.jsxs(Mt,{value:"completed",children:["Completed (",N.length,")"]})]}),a.jsx(bn,{value:"active",className:"mt-6",children:w.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"p-4 rounded-full bg-green-100 dark:bg-green-900",children:a.jsx(Xt,{className:"w-12 h-12 text-green-500"})})}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Active Goals"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Set your first fitness goal to start your journey!"}),a.jsxs(U,{onClick:()=>o(!0),children:[a.jsx(We,{className:"w-4 h-4 mr-2"}),"Create Your First Goal"]})]}):a.jsx("div",{className:"space-y-4",children:w.map(_=>{const C=j(_.type),A=S(_),O=_.targetDate?k(_.targetDate):null;return a.jsxs(te,{className:"p-6 hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:"text-2xl",children:C.emoji}),a.jsx("h3",{className:"text-xl font-semibold",children:_.name}),a.jsx(ve,{variant:"secondary",children:C.label})]}),_.description&&a.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:_.description})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>b(_),children:a.jsx(gi,{className:"w-4 h-4"})}),a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>x(_.id),className:"text-red-500 hover:text-red-700",children:a.jsx(Jt,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium",children:"Progress"}),a.jsxs("span",{className:"text-sm text-muted-foreground",children:[_.current," / ",_.target," ",_.unit]})]}),a.jsx(Sr,{value:A,className:"h-3"}),a.jsxs("div",{className:"text-xs text-center text-muted-foreground mt-1",children:[Math.round(A),"% Complete"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(re,{type:"number",placeholder:`Current: ${_.current}`,id:`progress-${_.id}`,className:"flex-1"}),a.jsx(U,{onClick:()=>{const M=document.getElementById(`progress-${_.id}`),P=parseFloat(M.value);P&&!isNaN(P)&&(g(_.id,P),M.value="")},children:"Update"})]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(qr,{className:"w-4 h-4"}),a.jsxs("span",{children:["Started ",new Date(_.startDate).toLocaleDateString()]})]}),O!==null&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Gk,{className:"w-4 h-4"}),a.jsx("span",{className:O<7?"text-red-500 font-medium":O<30?"text-yellow-600 font-medium":"",children:O>0?`${O} days left`:O===0?"Due today!":"Overdue"})]})]})]})]},_.id)})})}),a.jsx(bn,{value:"completed",className:"mt-6",children:N.length===0?a.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[a.jsx(us,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),a.jsx("p",{children:"No completed goals yet. Keep working towards your active goals!"})]}):a.jsx("div",{className:"space-y-4",children:N.map(_=>{const C=j(_.type);return a.jsx(te,{className:"p-6 border-green-200 dark:border-green-900 bg-green-50 dark:bg-green-950/20",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Ro,{className:"w-6 h-6 text-green-500"}),a.jsx("span",{className:"text-xl",children:C.emoji}),a.jsx("h3",{className:"text-xl font-semibold",children:_.name}),a.jsx(ve,{className:"bg-green-500",children:"Completed"})]}),_.description&&a.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:_.description}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[a.jsxs("div",{children:["Achieved: ",_.current," ",_.unit]}),_.completedAt&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(us,{className:"w-4 h-4 text-yellow-500"}),a.jsxs("span",{children:["Completed ",new Date(_.completedAt).toLocaleDateString()]})]})]})]}),a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>x(_.id),className:"text-red-500 hover:text-red-700",children:a.jsx(Jt,{className:"w-4 h-4"})})]})},_.id)})})})]})})]}),a.jsx(ot,{open:i,onOpenChange:o,children:a.jsxs(nt,{className:"max-w-2xl",children:[a.jsxs(rt,{children:[a.jsx(st,{children:"Create New Goal"}),a.jsx(dt,{children:"Set a new fitness goal and track your progress"})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"goalType",children:"Goal Type"}),a.jsxs(Ee,{value:h.type,onValueChange:_=>{const C=Xb.find(A=>A.value===_);f({...h,type:_,unit:(C==null?void 0:C.unit)||""})},children:[a.jsx(je,{children:a.jsx(Ce,{})}),a.jsx(_e,{children:Xb.map(_=>a.jsxs(Q,{value:_.value,children:[_.emoji," ",_.label]},_.value))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"goalName",children:"Goal Name"}),a.jsx(re,{id:"goalName",placeholder:"e.g., Lose 10kg, Run 5km, Workout 5x per week",value:h.name,onChange:_=>f({...h,name:_.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"goalDescription",children:"Description (optional)"}),a.jsx(ft,{id:"goalDescription",placeholder:"What motivates you to achieve this goal?",value:h.description,onChange:_=>f({...h,description:_.target.value}),rows:3})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"current",children:"Current Value"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(re,{id:"current",type:"number",placeholder:"0",value:h.current,onChange:_=>f({...h,current:_.target.value})}),h.unit&&a.jsx("span",{className:"flex items-center px-3 bg-secondary rounded-md text-sm",children:h.unit})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"target",children:"Target Value"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(re,{id:"target",type:"number",placeholder:"100",value:h.target,onChange:_=>f({...h,target:_.target.value})}),h.unit&&a.jsx("span",{className:"flex items-center px-3 bg-secondary rounded-md text-sm",children:h.unit})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"targetDate",children:"Target Date"}),a.jsx(re,{id:"targetDate",type:"date",value:h.targetDate,onChange:_=>f({...h,targetDate:_.target.value})})]})]}),a.jsxs(Wt,{children:[a.jsx(U,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),a.jsxs(U,{onClick:m,children:[a.jsx(We,{className:"w-4 h-4 mr-2"}),"Create Goal"]})]})]})}),a.jsx(ot,{open:l,onOpenChange:c,children:a.jsxs(nt,{className:"max-w-2xl",children:[a.jsxs(rt,{children:[a.jsx(st,{children:"Edit Goal"}),a.jsx(dt,{children:"Update your goal details"})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"editGoalName",children:"Goal Name"}),a.jsx(re,{id:"editGoalName",value:h.name,onChange:_=>f({...h,name:_.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"editGoalDescription",children:"Description"}),a.jsx(ft,{id:"editGoalDescription",value:h.description,onChange:_=>f({...h,description:_.target.value}),rows:3})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"editTarget",children:"Target Value"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(re,{id:"editTarget",type:"number",value:h.target,onChange:_=>f({...h,target:_.target.value})}),h.unit&&a.jsx("span",{className:"flex items-center px-3 bg-secondary rounded-md text-sm",children:h.unit})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"editTargetDate",children:"Target Date"}),a.jsx(re,{id:"editTargetDate",type:"date",value:h.targetDate,onChange:_=>f({...h,targetDate:_.target.value})})]})]}),a.jsxs(Wt,{children:[a.jsx(U,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),a.jsxs(U,{onClick:y,children:[a.jsx(gi,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})]})})]})}const Vc=[{id:"first-note",name:"First Steps",description:"Create your first note",icon:"",requirement:1},{id:"note-taker-10",name:"Note Taker",description:"Create 10 notes",icon:"",requirement:10},{id:"note-master-50",name:"Note Master",description:"Create 50 notes",icon:"",requirement:50},{id:"note-legend-100",name:"Note Legend",description:"Create 100 notes",icon:"",requirement:100},{id:"wordsmith-1k",name:"Wordsmith",description:"Write 1,000 words total",icon:"",requirement:1e3},{id:"wordsmith-10k",name:"Wordsmith Master",description:"Write 10,000 words total",icon:"",requirement:1e4},{id:"wordsmith-50k",name:"Novelist",description:"Write 50,000 words total",icon:"",requirement:5e4},{id:"streak-3",name:"Getting Consistent",description:"Write for 3 days in a row",icon:"",requirement:3},{id:"streak-7",name:"Week Writer",description:"Write for 7 days in a row",icon:"",requirement:7},{id:"streak-30",name:"Monthly Dedication",description:"Write for 30 days in a row",icon:"",requirement:30},{id:"long-note",name:"Essay Writer",description:"Write a note with 500+ words",icon:"",requirement:500},{id:"organized",name:"Organized Mind",description:"Use tags on 10 notes",icon:"",requirement:10},{id:"favorite-collector",name:"Favorite Collector",description:"Mark 5 notes as favorite",icon:"",requirement:5},{id:"artist",name:"Visual Thinker",description:"Add drawings to 10 notes",icon:"",requirement:10}],wtt=e=>{let t=5;const n=Math.min(Math.floor(e.wordCount/10),50);return t+=n,e.wordCount>=500&&(t+=20),e.tags&&e.tags.length>0&&(t+=Math.min(e.tags.length*5,15)),e.drawingData&&e.drawingData.length>0&&(t+=10),e.isFavorite&&(t+=5),e.streak&&e.streak.currentStreak>0&&(t+=e.streak.currentStreak*2),t},hie=e=>e<100?1:e<300?2:e<600?3:e<1e3?4:e<1500?5:e<2100?6:e<2800?7:e<3600?8:e<4500?9:Math.floor(e/500)+1,jH=e=>{const t=[100,300,600,1e3,1500,2100,2800,3600,4500];return e<t.length?t[e]:e*500},TM=(e,t,n)=>{switch(e.id){case"first-note":case"note-taker-10":case"note-master-50":case"note-legend-100":return t.notesCreated>=e.requirement;case"wordsmith-1k":case"wordsmith-10k":case"wordsmith-50k":return t.totalWords>=e.requirement;case"streak-3":case"streak-7":case"streak-30":return t.currentStreak>=e.requirement;case"long-note":return n.some(o=>o.wordCount>=e.requirement);case"organized":return n.filter(o=>o.tags&&o.tags.length>0).length>=e.requirement;case"favorite-collector":return n.filter(o=>o.isFavorite).length>=e.requirement;case"artist":return n.filter(o=>o.drawingData&&o.drawingData.length>0).length>=e.requirement;default:return!1}},Stt=e=>{const t=new Date;if(t.setHours(0,0,0,0),!e.streak)return e.streak={currentStreak:1,longestStreak:1,writingDates:[t],lastWriteDate:t},e;const n=e.streak.lastWriteDate?new Date(e.streak.lastWriteDate):null;if(n){n.setHours(0,0,0,0);const r=Math.floor((t.getTime()-n.getTime())/(1e3*60*60*24));if(r===0)return e;r===1?(e.streak.currentStreak++,e.streak.longestStreak=Math.max(e.streak.longestStreak,e.streak.currentStreak)):e.streak.currentStreak=1}return e.streak.writingDates.push(t),e.streak.lastWriteDate=t,e},lT=e=>({id:e.id,title:e.title,content:e.content,plainText:e.plain_text,notebookId:e.notebook_id||null,tags:e.tags||[],createdAt:new Date(e.created_at),updatedAt:new Date(e.updated_at),isFavorite:e.is_favorite,isArchived:e.is_archived,isPinned:e.is_pinned,wordCount:e.word_count,characterCount:e.character_count,drawingData:e.drawing_data||[],points:e.points,streak:e.streak}),_H=e=>({id:e.id,name:e.name,description:e.description,icon:e.icon,color:e.color,createdAt:new Date(e.created_at),updatedAt:new Date(e.updated_at),noteCount:e.note_count,order:e.display_order}),EH=e=>({id:e.id,name:e.name,color:e.color,createdAt:new Date(e.created_at),noteCount:e.note_count}),Ntt=e=>e?{enableGamification:e.enable_gamification,userStats:e.user_stats}:{enableGamification:!0,userStats:{totalPoints:0,level:1,badges:Vc.map(t=>({...t})),notesCreated:0,totalWords:0,currentStreak:0,longestStreak:0}},CH=(e,t)=>({user_id:t,enable_gamification:e.enableGamification,user_stats:e.userStats});function ktt(){const[e,t]=v.useState([]),[n,r]=v.useState([]),[s,i]=v.useState([]),[o,l]=v.useState(!1),[c,u]=v.useState(null),[d,h]=v.useState({enableGamification:!0,userStats:{totalPoints:0,level:1,badges:Vc.map(M=>({...M})),notesCreated:0,totalWords:0,currentStreak:0,longestStreak:0}}),[f,p]=v.useState(null);v.useEffect(()=>{(async()=>{const{data:{session:P}}=await Le.auth.getSession();P!=null&&P.user&&p(P.user.id)})()},[]),v.useEffect(()=>{if(!f)return;(async()=>{try{const{data:P,error:E}=await Le.from("notes").select("*").eq("user_id",f).order("updated_at",{ascending:!1});if(E)throw E;const I=(P||[]).map(lT);t(I);const{data:T,error:R}=await Le.from("notebooks").select("*").eq("user_id",f).order("display_order",{ascending:!0});if(R)throw R;const L=(T||[]).map(_H);r(L);const{data:D,error:F}=await Le.from("note_tags").select("*").eq("user_id",f).order("name",{ascending:!0});if(F)throw F;const z=(D||[]).map(EH);i(z);const{data:B,error:$}=await Le.from("notes_settings").select("*").eq("user_id",f).single();if($&&$.code!=="PGRST116")throw $;h(Ntt(B)),l(!0)}catch(P){console.error("Error fetching notes data:",P),J.error("Failed to load notes"),l(!0)}})()},[f]);const m=v.useCallback(async(M="Untitled Note")=>{if(!f)throw new Error("User not authenticated");const P={user_id:f,title:M,content:"",plain_text:"",notebook_id:void 0,tags:[],is_favorite:!1,is_archived:!1,is_pinned:!1,word_count:0,character_count:0,drawing_data:[]};try{const{data:E,error:I}=await Le.from("notes").insert(P).select().single();if(I)throw I;const T=lT(E);return t(R=>[T,...R]),u(T.id),T}catch(E){throw console.error("Error creating note:",E),J.error("Failed to create note"),E}},[f]),g=v.useCallback(async(M,P)=>{if(f)try{const E={};P.title!==void 0&&(E.title=P.title),P.content!==void 0&&(E.content=P.content),P.plainText!==void 0&&(E.plain_text=P.plainText),P.notebookId!==void 0&&(E.notebook_id=P.notebookId),P.tags!==void 0&&(E.tags=P.tags),P.isFavorite!==void 0&&(E.is_favorite=P.isFavorite),P.isArchived!==void 0&&(E.is_archived=P.isArchived),P.isPinned!==void 0&&(E.is_pinned=P.isPinned),P.wordCount!==void 0&&(E.word_count=P.wordCount),P.characterCount!==void 0&&(E.character_count=P.characterCount),P.drawingData!==void 0&&(E.drawing_data=P.drawingData),P.points!==void 0&&(E.points=P.points),P.streak!==void 0&&(E.streak=P.streak);const{data:I,error:T}=await Le.from("notes").update(E).eq("id",M).eq("user_id",f).select().single();if(T)throw T;const R=lT(I);t(L=>L.map(D=>D.id===M?R:D))}catch(E){console.error("Error updating note:",E),J.error("Failed to update note")}},[f]),y=v.useCallback(async M=>{if(f)try{const{error:P}=await Le.from("notes").delete().eq("id",M).eq("user_id",f);if(P)throw P;t(E=>E.filter(I=>I.id!==M)),c===M&&u(null)}catch(P){console.error("Error deleting note:",P),J.error("Failed to delete note")}},[f,c]),x=v.useCallback(async M=>e.find(E=>E.id===M)||null,[e]),b=v.useCallback(async M=>{const P=e.find(E=>E.id===M);P&&await g(M,{isFavorite:!P.isFavorite})},[e,g]),w=v.useCallback(async M=>{const P=e.find(E=>E.id===M);P&&await g(M,{isArchived:!P.isArchived})},[e,g]),N=v.useCallback(async M=>{const P=e.find(E=>E.id===M);P&&await g(M,{isPinned:!P.isPinned})},[e,g]),S=v.useCallback(async M=>{if(!M.trim())return e;const P=M.toLowerCase();return e.filter(E=>E.title.toLowerCase().includes(P)||E.plainText.toLowerCase().includes(P))},[e]),k=v.useCallback((M,P)=>{let E=[...e];if(M&&(M.notebookId!==void 0&&(E=E.filter(I=>I.notebookId===M.notebookId)),M.tags&&M.tags.length>0&&(E=E.filter(I=>M.tags.some(T=>I.tags.includes(T)))),M.isFavorite!==void 0&&(E=E.filter(I=>I.isFavorite===M.isFavorite)),M.isArchived!==void 0&&(E=E.filter(I=>I.isArchived===M.isArchived)),M.searchQuery)){const I=M.searchQuery.toLowerCase();E=E.filter(T=>T.title.toLowerCase().includes(I)||T.plainText.toLowerCase().includes(I))}return P&&E.sort((I,T)=>{let R=0;switch(P.sortBy){case"title":R=I.title.localeCompare(T.title);break;case"createdAt":R=new Date(I.createdAt).getTime()-new Date(T.createdAt).getTime();break;case"updatedAt":default:R=new Date(I.updatedAt).getTime()-new Date(T.updatedAt).getTime();break}return P.direction==="asc"?R:-R}),E.sort((I,T)=>I.isPinned&&!T.isPinned?-1:!I.isPinned&&T.isPinned?1:0)},[e]),j=v.useCallback(async M=>{if(!f)throw new Error("User not authenticated");const P={user_id:f,name:M,note_count:0,display_order:n.length};try{const{data:E,error:I}=await Le.from("notebooks").insert(P).select().single();if(I)throw I;const T=_H(E);return r(R=>[...R,T]),T}catch(E){throw console.error("Error creating notebook:",E),J.error("Failed to create notebook"),E}},[f,n]),_=v.useCallback(async(M,P)=>{if(!f)throw new Error("User not authenticated");const E=s.find(T=>T.name.toLowerCase()===M.toLowerCase());if(E)return E;const I={user_id:f,name:M,color:P,note_count:0};try{const{data:T,error:R}=await Le.from("note_tags").insert(I).select().single();if(R)throw R;const L=EH(T);return i(D=>[...D,L]),L}catch(T){throw console.error("Error creating tag:",T),J.error("Failed to create tag"),T}},[f,s]),C=v.useCallback(async(M,P)=>{const E=e.find(I=>I.id===M);E&&(await _(P),E.tags.includes(P)||await g(M,{tags:[...E.tags,P]}))},[e,_,g]),A=v.useCallback(async(M,P)=>{const E=e.find(I=>I.id===M);E&&await g(M,{tags:E.tags.filter(I=>I!==P)})},[e,g]),O=v.useCallback(async M=>{if(f)try{const P={...d,...M},{data:E}=await Le.from("notes_settings").select("id").eq("user_id",f).single();if(E){const{error:I}=await Le.from("notes_settings").update(CH(P,f)).eq("user_id",f);if(I)throw I}else{const{error:I}=await Le.from("notes_settings").insert(CH(P,f));if(I)throw I}h(P)}catch(P){console.error("Error updating settings:",P),J.error("Failed to update settings")}},[f,d]);return{notes:e,notebooks:n,tags:s,isLoaded:o,activeNoteId:c,setActiveNoteId:u,settings:d,createNote:m,updateNote:g,deleteNote:y,getNote:x,toggleFavorite:b,toggleArchive:w,togglePin:N,searchNotes:S,filterAndSortNotes:k,createNotebook:j,createTag:_,addTagToNote:C,removeTagFromNote:A,updateSettings:O}}function zr(e){this.content=e}zr.prototype={constructor:zr,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,s=r.find(e),i=r.content.slice();return s==-1?i.push(n||e,t):(i[s+1]=t,n&&(i[s]=n)),new zr(i)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new zr(n)},addToStart:function(e,t){return new zr([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new zr(n)},addBefore:function(e,t,n){var r=this.remove(t),s=r.content.slice(),i=r.find(e);return s.splice(i==-1?s.length:i,0,t,n),new zr(s)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=zr.from(e),e.size?new zr(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=zr.from(e),e.size?new zr(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=zr.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};zr.from=function(e){if(e instanceof zr)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new zr(t)};function fie(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let s=e.child(r),i=t.child(r);if(s==i){n+=s.nodeSize;continue}if(!s.sameMarkup(i))return n;if(s.isText&&s.text!=i.text){for(let o=0;s.text[o]==i.text[o];o++)n++;return n}if(s.content.size||i.content.size){let o=fie(s.content,i.content,n+1);if(o!=null)return o}n+=s.nodeSize}}function pie(e,t,n,r){for(let s=e.childCount,i=t.childCount;;){if(s==0||i==0)return s==i?null:{a:n,b:r};let o=e.child(--s),l=t.child(--i),c=o.nodeSize;if(o==l){n-=c,r-=c;continue}if(!o.sameMarkup(l))return{a:n,b:r};if(o.isText&&o.text!=l.text){let u=0,d=Math.min(o.text.length,l.text.length);for(;u<d&&o.text[o.text.length-u-1]==l.text[l.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(o.content.size||l.content.size){let u=pie(o.content,l.content,n-1,r-1);if(u)return u}n-=c,r-=c}}class he{constructor(t,n){if(this.content=t,this.size=n||0,n==null)for(let r=0;r<t.length;r++)this.size+=t[r].nodeSize}nodesBetween(t,n,r,s=0,i){for(let o=0,l=0;l<n;o++){let c=this.content[o],u=l+c.nodeSize;if(u>t&&r(c,s+l,i||null,o)!==!1&&c.content.size){let d=l+1;c.nodesBetween(Math.max(0,t-d),Math.min(c.content.size,n-d),r,s+d)}l=u}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,r,s){let i="",o=!0;return this.nodesBetween(t,n,(l,c)=>{let u=l.isText?l.text.slice(Math.max(t,c)-c,n-c):l.isLeaf?s?typeof s=="function"?s(l):s:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&u||l.isTextblock)&&r&&(o?o=!1:i+=r),i+=u},0),i}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,r=t.firstChild,s=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(r)&&(s[s.length-1]=n.withText(n.text+r.text),i=1);i<t.content.length;i++)s.push(t.content[i]);return new he(s,this.size+t.size)}cut(t,n=this.size){if(t==0&&n==this.size)return this;let r=[],s=0;if(n>t)for(let i=0,o=0;o<n;i++){let l=this.content[i],c=o+l.nodeSize;c>t&&((o<t||c>n)&&(l.isText?l=l.cut(Math.max(0,t-o),Math.min(l.text.length,n-o)):l=l.cut(Math.max(0,t-o-1),Math.min(l.content.size,n-o-1))),r.push(l),s+=l.nodeSize),o=c}return new he(r,s)}cutByIndex(t,n){return t==n?he.empty:t==0&&n==this.content.length?this:new he(this.content.slice(t,n))}replaceChild(t,n){let r=this.content[t];if(r==n)return this;let s=this.content.slice(),i=this.size+n.nodeSize-r.nodeSize;return s[t]=n,new he(s,i)}addToStart(t){return new he([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new he(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,r=0;n<this.content.length;n++){let s=this.content[n];t(s,r,n),r+=s.nodeSize}}findDiffStart(t,n=0){return fie(this,t,n)}findDiffEnd(t,n=this.size,r=t.size){return pie(this,t,n,r)}findIndex(t){if(t==0)return Jb(0,t);if(t==this.size)return Jb(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let n=0,r=0;;n++){let s=this.child(n),i=r+s.nodeSize;if(i>=t)return i==t?Jb(n+1,i):Jb(n,r);r=i}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return he.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new he(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return he.empty;let n,r=0;for(let s=0;s<t.length;s++){let i=t[s];r+=i.nodeSize,s&&i.isText&&t[s-1].sameMarkup(i)?(n||(n=t.slice(0,s)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new he(n||t,r)}static from(t){if(!t)return he.empty;if(t instanceof he)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new he([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}he.empty=new he([],0);const cT={index:0,offset:0};function Jb(e,t){return cT.index=e,cT.offset=t,cT}function SN(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!SN(e[r],t[r]))return!1}else{for(let r in e)if(!(r in t)||!SN(e[r],t[r]))return!1;for(let r in t)if(!(r in e))return!1}return!0}let en=class AM{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,r=!1;for(let s=0;s<t.length;s++){let i=t[s];if(this.eq(i))return t;if(this.type.excludes(i.type))n||(n=t.slice(0,s));else{if(i.type.excludes(this.type))return t;!r&&i.type.rank>this.type.rank&&(n||(n=t.slice(0,s)),n.push(this),r=!0),n&&n.push(i)}}return n||(n=t.slice()),r||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&SN(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=t.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let s=r.create(n.attrs);return r.checkAttrs(s.attrs),s}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(n[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return AM.none;if(t instanceof AM)return[t];let n=t.slice();return n.sort((r,s)=>r.type.rank-s.type.rank),n}};en.none=[];class NN extends Error{}class Te{constructor(t,n,r){this.content=t,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let r=gie(this.content,t+this.openStart,n);return r&&new Te(r,this.openStart,this.openEnd)}removeBetween(t,n){return new Te(mie(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return Te.empty;let r=n.openStart||0,s=n.openEnd||0;if(typeof r!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Te(he.fromJSON(t,n.content),r,s)}static maxOpen(t,n=!0){let r=0,s=0;for(let i=t.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)r++;for(let i=t.lastChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.lastChild)s++;return new Te(t,r,s)}}Te.empty=new Te(he.empty,0,0);function mie(e,t,n){let{index:r,offset:s}=e.findIndex(t),i=e.maybeChild(r),{index:o,offset:l}=e.findIndex(n);if(s==t||i.isText){if(l!=n&&!e.child(o).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=o)throw new RangeError("Removing non-flat range");return e.replaceChild(r,i.copy(mie(i.content,t-s-1,n-s-1)))}function gie(e,t,n,r){let{index:s,offset:i}=e.findIndex(t),o=e.maybeChild(s);if(i==t||o.isText)return r&&!r.canReplace(s,s,n)?null:e.cut(0,t).append(n).append(e.cut(t));let l=gie(o.content,t-i-1,n,o);return l&&e.replaceChild(s,o.copy(l))}function jtt(e,t,n){if(n.openStart>e.depth)throw new NN("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new NN("Inconsistent open depths");return yie(e,t,n,0)}function yie(e,t,n,r){let s=e.index(r),i=e.node(r);if(s==t.index(r)&&r<e.depth-n.openStart){let o=yie(e,t,n,r+1);return i.copy(i.content.replaceChild(s,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==r&&t.depth==r){let o=e.parent,l=o.content;return kd(o,l.cut(0,e.parentOffset).append(n.content).append(l.cut(t.parentOffset)))}else{let{start:o,end:l}=_tt(n,e);return kd(i,vie(e,o,l,t,r))}else return kd(i,kN(e,t,r))}function xie(e,t){if(!t.type.compatibleContent(e.type))throw new NN("Cannot join "+t.type.name+" onto "+e.type.name)}function OM(e,t,n){let r=e.node(n);return xie(r,t.node(n)),r}function Nd(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function ky(e,t,n,r){let s=(t||e).node(n),i=0,o=t?t.index(n):s.childCount;e&&(i=e.index(n),e.depth>n?i++:e.textOffset&&(Nd(e.nodeAfter,r),i++));for(let l=i;l<o;l++)Nd(s.child(l),r);t&&t.depth==n&&t.textOffset&&Nd(t.nodeBefore,r)}function kd(e,t){return e.type.checkContent(t),e.copy(t)}function vie(e,t,n,r,s){let i=e.depth>s&&OM(e,t,s+1),o=r.depth>s&&OM(n,r,s+1),l=[];return ky(null,e,s,l),i&&o&&t.index(s)==n.index(s)?(xie(i,o),Nd(kd(i,vie(e,t,n,r,s+1)),l)):(i&&Nd(kd(i,kN(e,t,s+1)),l),ky(t,n,s,l),o&&Nd(kd(o,kN(n,r,s+1)),l)),ky(r,null,s,l),new he(l)}function kN(e,t,n){let r=[];if(ky(null,e,n,r),e.depth>n){let s=OM(e,t,n+1);Nd(kd(s,kN(e,t,n+1)),r)}return ky(t,null,n,r),new he(r)}function _tt(e,t){let n=t.depth-e.openStart,s=t.node(n).copy(e.content);for(let i=n-1;i>=0;i--)s=t.node(i).copy(he.from(s));return{start:s.resolveNoCache(e.openStart+n),end:s.resolveNoCache(s.content.size-e.openEnd-n)}}class iv{constructor(t,n,r){this.pos=t,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],s=t.child(n);return r?t.child(n).cut(r):s}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):t==0?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let r=this.path[n*3],s=n==0?0:this.path[n*3-1]+1;for(let i=0;i<t;i++)s+=r.child(i).nodeSize;return s}marks(){let t=this.parent,n=this.index();if(t.content.size==0)return en.none;if(this.textOffset)return t.child(n).marks;let r=t.maybeChild(n-1),s=t.maybeChild(n);if(!r){let l=r;r=s,s=l}let i=r.marks;for(var o=0;o<i.length;o++)i[o].type.spec.inclusive===!1&&(!s||!i[o].isInSet(s.marks))&&(i=i[o--].removeFromSet(i));return i}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,s=t.parent.maybeChild(t.index());for(var i=0;i<r.length;i++)r[i].type.spec.inclusive===!1&&(!s||!r[i].isInSet(s.marks))&&(r=r[i--].removeFromSet(r));return r}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!n||n(this.node(r))))return new jN(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");let r=[],s=0,i=n;for(let o=t;;){let{index:l,offset:c}=o.content.findIndex(i),u=i-c;if(r.push(o,l,s+c),!u||(o=o.child(l),o.isText))break;i=u-1,s+=c+1}return new iv(n,r,i)}static resolveCached(t,n){let r=TH.get(t);if(r)for(let i=0;i<r.elts.length;i++){let o=r.elts[i];if(o.pos==n)return o}else TH.set(t,r=new Ett);let s=r.elts[r.i]=iv.resolve(t,n);return r.i=(r.i+1)%Ctt,s}}class Ett{constructor(){this.elts=[],this.i=0}}const Ctt=12,TH=new WeakMap;class jN{constructor(t,n,r){this.$from=t,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Ttt=Object.create(null);let Gc=class MM{constructor(t,n,r,s=en.none){this.type=t,this.attrs=n,this.marks=s,this.content=r||he.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,r,s=0){this.content.nodesBetween(t,n,r,s,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,r,s){return this.content.textBetween(t,n,r,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,r){return this.type==t&&SN(this.attrs,n||t.defaultAttrs||Ttt)&&en.sameSet(this.marks,r||en.none)}copy(t=null){return t==this.content?this:new MM(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new MM(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,r=!1){if(t==n)return Te.empty;let s=this.resolve(t),i=this.resolve(n),o=r?0:s.sharedDepth(n),l=s.start(o),u=s.node(o).content.cut(s.pos-l,i.pos-l);return new Te(u,s.depth-o,i.depth-o)}replace(t,n,r){return jtt(this.resolve(t),this.resolve(n),r)}nodeAt(t){for(let n=this;;){let{index:r,offset:s}=n.content.findIndex(t);if(n=n.maybeChild(r),!n)return null;if(s==t||n.isText)return n;t-=s+1}}childAfter(t){let{index:n,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(n),index:n,offset:r};let s=this.content.child(n-1);return{node:s,index:n-1,offset:r-s.nodeSize}}resolve(t){return iv.resolveCached(this,t)}resolveNoCache(t){return iv.resolve(this,t)}rangeHasMark(t,n,r){let s=!1;return n>t&&this.nodesBetween(t,n,i=>(r.isInSet(i.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),bie(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,r=he.empty,s=0,i=r.childCount){let o=this.contentMatchAt(t).matchFragment(r,s,i),l=o&&o.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let c=s;c<i;c++)if(!this.type.allowsMarks(r.child(c).marks))return!1;return!0}canReplaceWith(t,n,r,s){if(s&&!this.type.allowsMarks(s))return!1;let i=this.contentMatchAt(t).matchType(r),o=i&&i.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=en.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),t=r.addToSet(t)}if(!en.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(n=>n.toJSON())),t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,r)}let s=he.fromJSON(t,n.content),i=t.nodeType(n.type).create(n.attrs,s,r);return i.type.checkAttrs(i.attrs),i}};Gc.prototype.text=void 0;class _N extends Gc{constructor(t,n,r,s){if(super(t,n,null,s),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):bie(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new _N(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new _N(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return t==0&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function bie(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class Jd{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){let r=new Att(t,n);if(r.next==null)return Jd.empty;let s=wie(r);r.next&&r.err("Unexpected trailing text");let i=Ltt(Itt(s));return $tt(i,r),i}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,r=t.childCount){let s=this;for(let i=n;s&&i<r;i++)s=s.matchType(t.child(i).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let r=0;r<t.next.length;r++)if(this.next[n].type==t.next[r].type)return!0;return!1}fillBefore(t,n=!1,r=0){let s=[this];function i(o,l){let c=o.matchFragment(t,r);if(c&&(!n||c.validEnd))return he.from(l.map(u=>u.createAndFill()));for(let u=0;u<o.next.length;u++){let{type:d,next:h}=o.next[u];if(!(d.isText||d.hasRequiredAttrs())&&s.indexOf(h)==-1){s.push(h);let f=i(h,l.concat(d));if(f)return f}}return null}return i(this,[])}findWrapping(t){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==t)return this.wrapCache[r+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let s=r.shift(),i=s.match;if(i.matchType(t)){let o=[];for(let l=s;l.type;l=l.via)o.push(l.type);return o.reverse()}for(let o=0;o<i.next.length;o++){let{type:l,next:c}=i.next[o];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!s.type||c.validEnd)&&(r.push({match:l.contentMatch,type:l,via:s}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function n(r){t.push(r);for(let s=0;s<r.next.length;s++)t.indexOf(r.next[s].next)==-1&&n(r.next[s].next)}return n(this),t.map((r,s)=>{let i=s+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)i+=(o?", ":"")+r.next[o].type.name+"->"+t.indexOf(r.next[o].next);return i}).join(`
`)}}Jd.empty=new Jd(!0);class Att{constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function wie(e){let t=[];do t.push(Ott(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function Ott(e){let t=[];do t.push(Mtt(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function Mtt(e){let t=Rtt(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=Ptt(e,t);else break;return t}function AH(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function Ptt(e,t){let n=AH(e),r=n;return e.eat(",")&&(e.next!="}"?r=AH(e):r=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function Dtt(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let s=[];for(let i in n){let o=n[i];o.isInGroup(t)&&s.push(o)}return s.length==0&&e.err("No node type or group '"+t+"' found"),s}function Rtt(e){if(e.eat("(")){let t=wie(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=Dtt(e,e.next).map(n=>(e.inline==null?e.inline=n.isInline:e.inline!=n.isInline&&e.err("Mixing inline and block content"),{type:"name",value:n}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function Itt(e){let t=[[]];return s(i(e,0),n()),t;function n(){return t.push([])-1}function r(o,l,c){let u={term:c,to:l};return t[o].push(u),u}function s(o,l){o.forEach(c=>c.to=l)}function i(o,l){if(o.type=="choice")return o.exprs.reduce((c,u)=>c.concat(i(u,l)),[]);if(o.type=="seq")for(let c=0;;c++){let u=i(o.exprs[c],l);if(c==o.exprs.length-1)return u;s(u,l=n())}else if(o.type=="star"){let c=n();return r(l,c),s(i(o.expr,c),c),[r(c)]}else if(o.type=="plus"){let c=n();return s(i(o.expr,l),c),s(i(o.expr,c),c),[r(c)]}else{if(o.type=="opt")return[r(l)].concat(i(o.expr,l));if(o.type=="range"){let c=l;for(let u=0;u<o.min;u++){let d=n();s(i(o.expr,c),d),c=d}if(o.max==-1)s(i(o.expr,c),c);else for(let u=o.min;u<o.max;u++){let d=n();r(c,d),s(i(o.expr,c),d),c=d}return[r(c)]}else{if(o.type=="name")return[r(l,void 0,o.value)];throw new Error("Unknown expr type")}}}}function Sie(e,t){return t-e}function OH(e,t){let n=[];return r(t),n.sort(Sie);function r(s){let i=e[s];if(i.length==1&&!i[0].term)return r(i[0].to);n.push(s);for(let o=0;o<i.length;o++){let{term:l,to:c}=i[o];!l&&n.indexOf(c)==-1&&r(c)}}}function Ltt(e){let t=Object.create(null);return n(OH(e,0));function n(r){let s=[];r.forEach(o=>{e[o].forEach(({term:l,to:c})=>{if(!l)return;let u;for(let d=0;d<s.length;d++)s[d][0]==l&&(u=s[d][1]);OH(e,c).forEach(d=>{u||s.push([l,u=[]]),u.indexOf(d)==-1&&u.push(d)})})});let i=t[r.join(",")]=new Jd(r.indexOf(e.length-1)>-1);for(let o=0;o<s.length;o++){let l=s[o][1].sort(Sie);i.next.push({type:s[o][0],next:t[l.join(",")]||n(l)})}return i}}function $tt(e,t){for(let n=0,r=[e];n<r.length;n++){let s=r[n],i=!s.validEnd,o=[];for(let l=0;l<s.next.length;l++){let{type:c,next:u}=s.next[l];o.push(c.name),i&&!(c.isText||c.hasRequiredAttrs())&&(i=!1),r.indexOf(u)==-1&&r.push(u)}i&&t.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Nie(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function kie(e,t){let n=Object.create(null);for(let r in e){let s=t&&t[r];if(s===void 0){let i=e[r];if(i.hasDefault)s=i.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=s}return n}function jie(e,t,n,r){for(let s in t)if(!(s in e))throw new RangeError(`Unsupported attribute ${s} for ${n} of type ${s}`);for(let s in e){let i=e[s];i.validate&&i.validate(t[s])}}function _ie(e,t){let n=Object.create(null);if(t)for(let r in t)n[r]=new Ftt(e,r,t[r]);return n}let MH=class Eie{constructor(t,n,r){this.name=t,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=_ie(t,r.attrs),this.defaultAttrs=Nie(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Jd.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:kie(this.attrs,t)}create(t=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Gc(this,this.computeAttrs(t),he.from(n),en.setFrom(r))}createChecked(t=null,n,r){return n=he.from(n),this.checkContent(n),new Gc(this,this.computeAttrs(t),n,en.setFrom(r))}createAndFill(t=null,n,r){if(t=this.computeAttrs(t),n=he.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let s=this.contentMatch.matchFragment(n),i=s&&s.fillBefore(he.empty,!0);return i?new Gc(this,t,n.append(i),en.setFrom(r)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){jie(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let n;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?n&&n.push(t[r]):n||(n=t.slice(0,r));return n?n.length?n:en.none:t}static compile(t,n){let r=Object.create(null);t.forEach((i,o)=>r[i]=new Eie(i,n,o));let s=n.spec.topNode||"doc";if(!r[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let i in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function Btt(e,t,n){let r=n.split("|");return s=>{let i=s===null?"null":typeof s;if(r.indexOf(i)<0)throw new RangeError(`Expected value of type ${r} for attribute ${t} on type ${e}, got ${i}`)}}class Ftt{constructor(t,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?Btt(t,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class M_{constructor(t,n,r,s){this.name=t,this.rank=n,this.schema=r,this.spec=s,this.attrs=_ie(t,s.attrs),this.excluded=null;let i=Nie(this.attrs);this.instance=i?new en(this,i):null}create(t=null){return!t&&this.instance?this.instance:new en(this,kie(this.attrs,t))}static compile(t,n){let r=Object.create(null),s=0;return t.forEach((i,o)=>r[i]=new M_(i,s++,n,o)),r}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}checkAttrs(t){jie(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}class Cie{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let s in t)n[s]=t[s];n.nodes=zr.from(t.nodes),n.marks=zr.from(t.marks||{}),this.nodes=MH.compile(this.spec.nodes,this),this.marks=M_.compile(this.spec.marks,this);let r=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let i=this.nodes[s],o=i.spec.content||"",l=i.spec.marks;if(i.contentMatch=r[o]||(r[o]=Jd.parse(o,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=l=="_"?null:l?PH(this,l.split(" ")):l==""||!i.inlineContent?[]:null}for(let s in this.marks){let i=this.marks[s],o=i.spec.excludes;i.excluded=o==null?[i]:o==""?[]:PH(this,o.split(" "))}this.nodeFromJSON=s=>Gc.fromJSON(this,s),this.markFromJSON=s=>en.fromJSON(this,s),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,n=null,r,s){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof MH){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(n,r,s)}text(t,n){let r=this.nodes.text;return new _N(r,r.defaultAttrs,t,en.setFrom(n))}mark(t,n){return typeof t=="string"&&(t=this.marks[t]),t.create(n)}nodeType(t){let n=this.nodes[t];if(!n)throw new RangeError("Unknown node type: "+t);return n}}function PH(e,t){let n=[];for(let r=0;r<t.length;r++){let s=t[r],i=e.marks[s],o=i;if(i)n.push(i);else for(let l in e.marks){let c=e.marks[l];(s=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(s)>-1)&&n.push(o=c)}if(!o)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}function ztt(e){return e.tag!=null}function Utt(e){return e.style!=null}class qc{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(s=>{if(ztt(s))this.tags.push(s);else if(Utt(s)){let i=/[^=]*/.exec(s.style)[0];r.indexOf(i)<0&&r.push(i),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let i=t.nodes[s.node];return i.contentMatch.matchType(i)})}parse(t,n={}){let r=new RH(this,n,!1);return r.addAll(t,en.none,n.from,n.to),r.finish()}parseSlice(t,n={}){let r=new RH(this,n,!0);return r.addAll(t,en.none,n.from,n.to),Te.maxOpen(r.finish())}matchTag(t,n,r){for(let s=r?this.tags.indexOf(r)+1:0;s<this.tags.length;s++){let i=this.tags[s];if(Vtt(t,i.tag)&&(i.namespace===void 0||t.namespaceURI==i.namespace)&&(!i.context||n.matchesContext(i.context))){if(i.getAttrs){let o=i.getAttrs(t);if(o===!1)continue;i.attrs=o||void 0}return i}}}matchStyle(t,n,r,s){for(let i=s?this.styles.indexOf(s)+1:0;i<this.styles.length;i++){let o=this.styles[i],l=o.style;if(!(l.indexOf(t)!=0||o.context&&!r.matchesContext(o.context)||l.length>t.length&&(l.charCodeAt(t.length)!=61||l.slice(t.length+1)!=n))){if(o.getAttrs){let c=o.getAttrs(n);if(c===!1)continue;o.attrs=c||void 0}return o}}}static schemaRules(t){let n=[];function r(s){let i=s.priority==null?50:s.priority,o=0;for(;o<n.length;o++){let l=n[o];if((l.priority==null?50:l.priority)<i)break}n.splice(o,0,s)}for(let s in t.marks){let i=t.marks[s].spec.parseDOM;i&&i.forEach(o=>{r(o=IH(o)),o.mark||o.ignore||o.clearMark||(o.mark=s)})}for(let s in t.nodes){let i=t.nodes[s].spec.parseDOM;i&&i.forEach(o=>{r(o=IH(o)),o.node||o.ignore||o.mark||(o.node=s)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new qc(t,qc.schemaRules(t)))}}const Tie={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Htt={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Aie={ol:!0,ul:!0},ov=1,PM=2,jy=4;function DH(e,t,n){return t!=null?(t?ov:0)|(t==="full"?PM:0):e&&e.whitespace=="pre"?ov|PM:n&~jy}class Qb{constructor(t,n,r,s,i,o){this.type=t,this.attrs=n,this.marks=r,this.solid=s,this.options=o,this.content=[],this.activeMarks=en.none,this.match=i||(o&jy?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(he.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,s;return(s=r.findWrapping(t.type))?(this.match=r,s):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&ov)){let r=this.content[this.content.length-1],s;if(r&&r.isText&&(s=/[ \t\r\n\u000c]+$/.exec(r.text))){let i=r;r.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-s[0].length))}}let n=he.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(he.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!Tie.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class RH{constructor(t,n,r){this.parser=t,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let s=n.topNode,i,o=DH(null,n.preserveWhitespace,0)|(r?jy:0);s?i=new Qb(s.type,s.attrs,en.none,!0,n.topMatch||s.type.contentMatch,o):r?i=new Qb(null,null,en.none,!0,null,o):i=new Qb(t.schema.topNodeType,null,en.none,!0,null,o),this.nodes=[i],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,n){t.nodeType==3?this.addTextNode(t,n):t.nodeType==1&&this.addElement(t,n)}addTextNode(t,n){let r=t.nodeValue,s=this.top,i=s.options&PM?"full":this.localPreserveWS||(s.options&ov)>0,{schema:o}=this.parser;if(i==="full"||s.inlineContext(t)||/[^ \t\r\n\u000c]/.test(r)){if(i)if(i==="full")r=r.replace(/\r\n?/g,`
`);else if(o.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(o.linebreakReplacement.create())){let l=r.split(/\r?\n|\r/);for(let c=0;c<l.length;c++)c&&this.insertNode(o.linebreakReplacement.create(),n,!0),l[c]&&this.insertNode(o.text(l[c]),n,!/\S/.test(l[c]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let l=s.content[s.content.length-1],c=t.previousSibling;(!l||c&&c.nodeName=="BR"||l.isText&&/[ \t\r\n\u000c]$/.test(l.text))&&(r=r.slice(1))}r&&this.insertNode(o.text(r),n,!/\S/.test(r)),this.findInText(t)}else this.findInside(t)}addElement(t,n,r){let s=this.localPreserveWS,i=this.top;(t.tagName=="PRE"||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let o=t.nodeName.toLowerCase(),l;Aie.hasOwnProperty(o)&&this.parser.normalizeLists&&Wtt(t);let c=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(l=this.parser.matchTag(t,this,r));e:if(c?c.ignore:Htt.hasOwnProperty(o))this.findInside(t),this.ignoreFallback(t,n);else if(!c||c.skip||c.closeParent){c&&c.closeParent?this.open=Math.max(0,this.open-1):c&&c.skip.nodeType&&(t=c.skip);let u,d=this.needsBlock;if(Tie.hasOwnProperty(o))i.content.length&&i.content[0].isInline&&this.open&&(this.open--,i=this.top),u=!0,i.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,n);break e}let h=c&&c.skip?n:this.readStyles(t,n);h&&this.addAll(t,h),u&&this.sync(i),this.needsBlock=d}else{let u=this.readStyles(t,n);u&&this.addElementByRule(t,c,u,c.consuming===!1?l:void 0)}this.localPreserveWS=s}leafFallback(t,n){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),n)}ignoreFallback(t,n){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(t,n){let r=t.style;if(r&&r.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let i=this.parser.matchedStyles[s],o=r.getPropertyValue(i);if(o)for(let l=void 0;;){let c=this.parser.matchStyle(i,o,this,l);if(!c)break;if(c.ignore)return null;if(c.clearMark?n=n.filter(u=>!c.clearMark(u)):n=n.concat(this.parser.schema.marks[c.mark].create(c.attrs)),c.consuming===!1)l=c;else break}}return n}addElementByRule(t,n,r,s){let i,o;if(n.node)if(o=this.parser.schema.nodes[n.node],o.isLeaf)this.insertNode(o.create(n.attrs),r,t.nodeName=="BR")||this.leafFallback(t,r);else{let c=this.enter(o,n.attrs||null,r,n.preserveWhitespace);c&&(i=!0,r=c)}else{let c=this.parser.schema.marks[n.mark];r=r.concat(c.create(n.attrs))}let l=this.top;if(o&&o.isLeaf)this.findInside(t);else if(s)this.addElement(t,r,s);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(c=>this.insertNode(c,r,!1));else{let c=t;typeof n.contentElement=="string"?c=t.querySelector(n.contentElement):typeof n.contentElement=="function"?c=n.contentElement(t):n.contentElement&&(c=n.contentElement),this.findAround(t,c,!0),this.addAll(c,r),this.findAround(t,c,!1)}i&&this.sync(l)&&this.open--}addAll(t,n,r,s){let i=r||0;for(let o=r?t.childNodes[r]:t.firstChild,l=s==null?null:t.childNodes[s];o!=l;o=o.nextSibling,++i)this.findAtPoint(t,i),this.addDOM(o,n);this.findAtPoint(t,i)}findPlace(t,n,r){let s,i;for(let o=this.open,l=0;o>=0;o--){let c=this.nodes[o],u=c.findWrapping(t);if(u&&(!s||s.length>u.length+l)&&(s=u,i=c,!u.length))break;if(c.solid){if(r)break;l+=2}}if(!s)return null;this.sync(i);for(let o=0;o<s.length;o++)n=this.enterInner(s[o],null,n,!1);return n}insertNode(t,n,r){if(t.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(n=this.enterInner(i,null,n))}let s=this.findPlace(t,n,r);if(s){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(t.type));let o=en.none;for(let l of s.concat(t.marks))(i.type?i.type.allowsMarkType(l.type):LH(l.type,t.type))&&(o=l.addToSet(o));return i.content.push(t.mark(o)),!0}return!1}enter(t,n,r,s){let i=this.findPlace(t.create(n),r,!1);return i&&(i=this.enterInner(t,n,r,!0,s)),i}enterInner(t,n,r,s=!1,i){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(t);let l=DH(t,i,o.options);o.options&jy&&o.content.length==0&&(l|=jy);let c=en.none;return r=r.filter(u=>(o.type?o.type.allowsMarkType(u.type):LH(u.type,t))?(c=u.addToSet(c),!1):!0),this.nodes.push(new Qb(t,n,c,s,null,l)),this.open++,r}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let n=this.open;n>=0;n--){if(this.nodes[n]==t)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=ov)}return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let s=r.length-1;s>=0;s--)t+=r[s].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&t.nodeType==1&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,r){if(t!=n&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&t.nodeType==1&&t.contains(this.find[s].node)&&n.compareDocumentPosition(this.find[s].node)&(r?2:4)&&(this.find[s].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),r=this.options.context,s=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),i=-(r?r.depth+1:0)+(s?0:1),o=(l,c)=>{for(;l>=0;l--){let u=n[l];if(u==""){if(l==n.length-1||l==0)continue;for(;c>=i;c--)if(o(l-1,c))return!0;return!1}else{let d=c>0||c==0&&s?this.nodes[c].type:r&&c>=i?r.node(c-i).type:null;if(!d||d.name!=u&&!d.isInGroup(u))return!1;c--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function Wtt(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let r=t.nodeType==1?t.nodeName.toLowerCase():null;r&&Aie.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):r=="li"?n=t:r&&(n=null)}}function Vtt(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function IH(e){let t={};for(let n in e)t[n]=e[n];return t}function LH(e,t){let n=t.schema.nodes;for(let r in n){let s=n[r];if(!s.allowsMarkType(e))continue;let i=[],o=l=>{i.push(l);for(let c=0;c<l.edgeCount;c++){let{type:u,next:d}=l.edge(c);if(u==t||i.indexOf(d)<0&&o(d))return!0}};if(o(s.contentMatch))return!0}}class bh{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},r){r||(r=uT(n).createDocumentFragment());let s=r,i=[];return t.forEach(o=>{if(i.length||o.marks.length){let l=0,c=0;for(;l<i.length&&c<o.marks.length;){let u=o.marks[c];if(!this.marks[u.type.name]){c++;continue}if(!u.eq(i[l][0])||u.type.spec.spanning===!1)break;l++,c++}for(;l<i.length;)s=i.pop()[1];for(;c<o.marks.length;){let u=o.marks[c++],d=this.serializeMark(u,o.isInline,n);d&&(i.push([u,s]),s.appendChild(d.dom),s=d.contentDOM||d.dom)}}s.appendChild(this.serializeNodeInner(o,n))}),r}serializeNodeInner(t,n){let{dom:r,contentDOM:s}=i1(uT(n),this.nodes[t.type.name](t),null,t.attrs);if(s){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,s)}return r}serializeNode(t,n={}){let r=this.serializeNodeInner(t,n);for(let s=t.marks.length-1;s>=0;s--){let i=this.serializeMark(t.marks[s],t.isInline,n);i&&((i.contentDOM||i.dom).appendChild(r),r=i.dom)}return r}serializeMark(t,n,r={}){let s=this.marks[t.type.name];return s&&i1(uT(r),s(t,n),null,t.attrs)}static renderSpec(t,n,r=null,s){return i1(t,n,r,s)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new bh(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=$H(t.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(t){return $H(t.marks)}}function $H(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function uT(e){return e.document||window.document}const BH=new WeakMap;function Gtt(e){let t=BH.get(e);return t===void 0&&BH.set(e,t=qtt(e)),t}function qtt(e){let t=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")t||(t=[]),t.push(r);else for(let s=0;s<r.length;s++)n(r[s]);else for(let s in r)n(r[s])}return n(e),t}function i1(e,t,n,r){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let s=t[0],i;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(i=Gtt(r))&&i.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=s.indexOf(" ");o>0&&(n=s.slice(0,o),s=s.slice(o+1));let l,c=n?e.createElementNS(n,s):e.createElement(s),u=t[1],d=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){d=2;for(let h in u)if(u[h]!=null){let f=h.indexOf(" ");f>0?c.setAttributeNS(h.slice(0,f),h.slice(f+1),u[h]):h=="style"&&c.style?c.style.cssText=u[h]:c.setAttribute(h,u[h])}}for(let h=d;h<t.length;h++){let f=t[h];if(f===0){if(h<t.length-1||h>d)throw new RangeError("Content hole must be the only child of its parent node");return{dom:c,contentDOM:c}}else{let{dom:p,contentDOM:m}=i1(e,f,n,r);if(c.appendChild(p),m){if(l)throw new RangeError("Multiple content holes");l=m}}}return{dom:c,contentDOM:l}}const Oie=65535,Mie=Math.pow(2,16);function Ktt(e,t){return e+t*Mie}function FH(e){return e&Oie}function Ytt(e){return(e-(e&Oie))/Mie}const Pie=1,Die=2,o1=4,Rie=8;class DM{constructor(t,n,r){this.pos=t,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&Rie)>0}get deletedBefore(){return(this.delInfo&(Pie|o1))>0}get deletedAfter(){return(this.delInfo&(Die|o1))>0}get deletedAcross(){return(this.delInfo&o1)>0}}class ai{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&ai.empty)return ai.empty}recover(t){let n=0,r=FH(t);if(!this.inverted)for(let s=0;s<r;s++)n+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[r*3]+n+Ytt(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,r){let s=0,i=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?s:0);if(c>t)break;let u=this.ranges[l+i],d=this.ranges[l+o],h=c+u;if(t<=h){let f=u?t==c?-1:t==h?1:n:n,p=c+s+(f<0?0:d);if(r)return p;let m=t==(n<0?c:h)?null:Ktt(l/3,t-c),g=t==c?Die:t==h?Pie:o1;return(n<0?t!=c:t!=h)&&(g|=Rie),new DM(p,g,m)}s+=d-u}return r?t+s:new DM(t+s,0,null)}touches(t,n){let r=0,s=FH(n),i=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?r:0);if(c>t)break;let u=this.ranges[l+i],d=c+u;if(t<=d&&l==s*3)return!0;r+=this.ranges[l+o]-u}return!1}forEach(t){let n=this.inverted?2:1,r=this.inverted?1:2;for(let s=0,i=0;s<this.ranges.length;s+=3){let o=this.ranges[s],l=o-(this.inverted?i:0),c=o+(this.inverted?0:i),u=this.ranges[s+n],d=this.ranges[s+r];t(l,l+u,c,c+d),i+=d-u}}invert(){return new ai(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?ai.empty:new ai(t<0?[0,-t,0]:[0,0,t])}}ai.empty=new ai([]);class av{constructor(t,n,r=0,s=t?t.length:0){this.mirror=n,this.from=r,this.to=s,this._maps=t||[],this.ownData=!(t||n)}get maps(){return this._maps}slice(t=0,n=this.maps.length){return new av(this._maps,this.mirror,t,n)}appendMap(t,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(t),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(t){for(let n=0,r=this._maps.length;n<t._maps.length;n++){let s=t.getMirror(n);this.appendMap(t._maps[n],s!=null&&s<n?r+s:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,r=this._maps.length+t._maps.length;n>=0;n--){let s=t.getMirror(n);this.appendMap(t._maps[n].invert(),s!=null&&s>n?r-s-1:void 0)}}invert(){let t=new av;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let r=this.from;r<this.to;r++)t=this._maps[r].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,r){let s=0;for(let i=this.from;i<this.to;i++){let o=this._maps[i],l=o.mapResult(t,n);if(l.recover!=null){let c=this.getMirror(i);if(c!=null&&c>i&&c<this.to){i=c,t=this._maps[c].recover(l.recover);continue}}s|=l.delInfo,t=l.pos}return r?t:new DM(t,s,null)}}const dT=Object.create(null);class ps{getMap(){return ai.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=dT[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in dT)throw new RangeError("Duplicate use of step JSON ID "+t);return dT[t]=n,n.prototype.jsonID=t,n}}class lr{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new lr(t,null)}static fail(t){return new lr(null,t)}static fromReplace(t,n,r,s){try{return lr.ok(t.replace(n,r,s))}catch(i){if(i instanceof NN)return lr.fail(i.message);throw i}}}function TL(e,t,n){let r=[];for(let s=0;s<e.childCount;s++){let i=e.child(s);i.content.size&&(i=i.copy(TL(i.content,t,i))),i.isInline&&(i=t(i,n,s)),r.push(i)}return he.fromArray(r)}class kc extends ps{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=t.resolve(this.from),s=r.node(r.sharedDepth(this.to)),i=new Te(TL(n.content,(o,l)=>!o.isAtom||!l.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),s),n.openStart,n.openEnd);return lr.fromReplace(t,this.from,this.to,i)}invert(){return new Mo(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new kc(n.pos,r.pos,this.mark)}merge(t){return t instanceof kc&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new kc(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new kc(n.from,n.to,t.markFromJSON(n.mark))}}ps.jsonID("addMark",kc);class Mo extends ps{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=new Te(TL(n.content,s=>s.mark(this.mark.removeFromSet(s.marks)),t),n.openStart,n.openEnd);return lr.fromReplace(t,this.from,this.to,r)}invert(){return new kc(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Mo(n.pos,r.pos,this.mark)}merge(t){return t instanceof Mo&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Mo(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Mo(n.from,n.to,t.markFromJSON(n.mark))}}ps.jsonID("removeMark",Mo);class jc extends ps{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return lr.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return lr.fromReplace(t,this.pos,this.pos+1,new Te(he.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let s=0;s<n.marks.length;s++)if(!n.marks[s].isInSet(r))return new jc(this.pos,n.marks[s]);return new jc(this.pos,this.mark)}}return new Qd(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new jc(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new jc(n.pos,t.markFromJSON(n.mark))}}ps.jsonID("addNodeMark",jc);class Qd extends ps{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return lr.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return lr.fromReplace(t,this.pos,this.pos+1,new Te(he.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new jc(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Qd(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Qd(n.pos,t.markFromJSON(n.mark))}}ps.jsonID("removeNodeMark",Qd);class Tr extends ps{constructor(t,n,r,s=!1){super(),this.from=t,this.to=n,this.slice=r,this.structure=s}apply(t){return this.structure&&RM(t,this.from,this.to)?lr.fail("Structure replace would overwrite content"):lr.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new ai([this.from,this.to-this.from,this.slice.size])}invert(t){return new Tr(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Tr(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(t){if(!(t instanceof Tr)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?Te.empty:new Te(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new Tr(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?Te.empty:new Te(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new Tr(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Tr(n.from,n.to,Te.fromJSON(t,n.slice),!!n.structure)}}ps.jsonID("replace",Tr);class Or extends ps{constructor(t,n,r,s,i,o,l=!1){super(),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=s,this.slice=i,this.insert=o,this.structure=l}apply(t){if(this.structure&&(RM(t,this.from,this.gapFrom)||RM(t,this.gapTo,this.to)))return lr.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return lr.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?lr.fromReplace(t,this.from,this.to,r):lr.fail("Content does not fit in gap")}getMap(){return new ai([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new Or(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),s=this.from==this.gapFrom?n.pos:t.map(this.gapFrom,-1),i=this.to==this.gapTo?r.pos:t.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||s<n.pos||i>r.pos?null:new Or(n.pos,r.pos,s,i,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Or(n.from,n.to,n.gapFrom,n.gapTo,Te.fromJSON(t,n.slice),n.insert,!!n.structure)}}ps.jsonID("replaceAround",Or);function RM(e,t,n){let r=e.resolve(t),s=n-t,i=r.depth;for(;s>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,s--;if(s>0){let o=r.node(i).maybeChild(r.indexAfter(i));for(;s>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,s--}}return!1}function Xtt(e,t,n,r){let s=[],i=[],o,l;e.doc.nodesBetween(t,n,(c,u,d)=>{if(!c.isInline)return;let h=c.marks;if(!r.isInSet(h)&&d.type.allowsMarkType(r.type)){let f=Math.max(u,t),p=Math.min(u+c.nodeSize,n),m=r.addToSet(h);for(let g=0;g<h.length;g++)h[g].isInSet(m)||(o&&o.to==f&&o.mark.eq(h[g])?o.to=p:s.push(o=new Mo(f,p,h[g])));l&&l.to==f?l.to=p:i.push(l=new kc(f,p,r))}}),s.forEach(c=>e.step(c)),i.forEach(c=>e.step(c))}function Jtt(e,t,n,r){let s=[],i=0;e.doc.nodesBetween(t,n,(o,l)=>{if(!o.isInline)return;i++;let c=null;if(r instanceof M_){let u=o.marks,d;for(;d=r.isInSet(u);)(c||(c=[])).push(d),u=d.removeFromSet(u)}else r?r.isInSet(o.marks)&&(c=[r]):c=o.marks;if(c&&c.length){let u=Math.min(l+o.nodeSize,n);for(let d=0;d<c.length;d++){let h=c[d],f;for(let p=0;p<s.length;p++){let m=s[p];m.step==i-1&&h.eq(s[p].style)&&(f=m)}f?(f.to=u,f.step=i):s.push({style:h,from:Math.max(l,t),to:u,step:i})}}}),s.forEach(o=>e.step(new Mo(o.from,o.to,o.style)))}function AL(e,t,n,r=n.contentMatch,s=!0){let i=e.doc.nodeAt(t),o=[],l=t+1;for(let c=0;c<i.childCount;c++){let u=i.child(c),d=l+u.nodeSize,h=r.matchType(u.type);if(!h)o.push(new Tr(l,d,Te.empty));else{r=h;for(let f=0;f<u.marks.length;f++)n.allowsMarkType(u.marks[f].type)||e.step(new Mo(l,d,u.marks[f]));if(s&&u.isText&&n.whitespace!="pre"){let f,p=/\r?\n|\r/g,m;for(;f=p.exec(u.text);)m||(m=new Te(he.from(n.schema.text(" ",n.allowedMarks(u.marks))),0,0)),o.push(new Tr(l+f.index,l+f.index+f[0].length,m))}}l=d}if(!r.validEnd){let c=r.fillBefore(he.empty,!0);e.replace(l,l,new Te(c,0,0))}for(let c=o.length-1;c>=0;c--)e.step(o[c])}function Qtt(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function Bm(e){let n=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let r=e.depth,s=0,i=0;;--r){let o=e.$from.node(r),l=e.$from.index(r)+s,c=e.$to.indexAfter(r)-i;if(r<e.depth&&o.canReplace(l,c,n))return r;if(r==0||o.type.spec.isolating||!Qtt(o,l,c))break;l&&(s=1),c<o.childCount&&(i=1)}return null}function Ztt(e,t,n){let{$from:r,$to:s,depth:i}=t,o=r.before(i+1),l=s.after(i+1),c=o,u=l,d=he.empty,h=0;for(let m=i,g=!1;m>n;m--)g||r.index(m)>0?(g=!0,d=he.from(r.node(m).copy(d)),h++):c--;let f=he.empty,p=0;for(let m=i,g=!1;m>n;m--)g||s.after(m+1)<s.end(m)?(g=!0,f=he.from(s.node(m).copy(f)),p++):u++;e.step(new Or(c,u,o,l,new Te(d.append(f),h,p),d.size-h,!0))}function OL(e,t,n=null,r=e){let s=ent(e,t),i=s&&tnt(r,t);return i?s.map(zH).concat({type:t,attrs:n}).concat(i.map(zH)):null}function zH(e){return{type:e,attrs:null}}function ent(e,t){let{parent:n,startIndex:r,endIndex:s}=e,i=n.contentMatchAt(r).findWrapping(t);if(!i)return null;let o=i.length?i[0]:t;return n.canReplaceWith(r,s,o)?i:null}function tnt(e,t){let{parent:n,startIndex:r,endIndex:s}=e,i=n.child(r),o=t.contentMatch.findWrapping(i.type);if(!o)return null;let c=(o.length?o[o.length-1]:t).contentMatch;for(let u=r;c&&u<s;u++)c=c.matchType(n.child(u).type);return!c||!c.validEnd?null:o}function nnt(e,t,n){let r=he.empty;for(let o=n.length-1;o>=0;o--){if(r.size){let l=n[o].type.contentMatch.matchFragment(r);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=he.from(n[o].type.create(n[o].attrs,r))}let s=t.start,i=t.end;e.step(new Or(s,i,s,i,new Te(r,0,0),n.length,!0))}function rnt(e,t,n,r,s){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=e.steps.length;e.doc.nodesBetween(t,n,(o,l)=>{let c=typeof s=="function"?s(o):s;if(o.isTextblock&&!o.hasMarkup(r,c)&&snt(e.doc,e.mapping.slice(i).map(l),r)){let u=null;if(r.schema.linebreakReplacement){let p=r.whitespace=="pre",m=!!r.contentMatch.matchType(r.schema.linebreakReplacement);p&&!m?u=!1:!p&&m&&(u=!0)}u===!1&&Lie(e,o,l,i),AL(e,e.mapping.slice(i).map(l,1),r,void 0,u===null);let d=e.mapping.slice(i),h=d.map(l,1),f=d.map(l+o.nodeSize,1);return e.step(new Or(h,f,h+1,f-1,new Te(he.from(r.create(c,null,o.marks)),0,0),1,!0)),u===!0&&Iie(e,o,l,i),!1}})}function Iie(e,t,n,r){t.forEach((s,i)=>{if(s.isText){let o,l=/\r?\n|\r/g;for(;o=l.exec(s.text);){let c=e.mapping.slice(r).map(n+1+i+o.index);e.replaceWith(c,c+1,t.type.schema.linebreakReplacement.create())}}})}function Lie(e,t,n,r){t.forEach((s,i)=>{if(s.type==s.type.schema.linebreakReplacement){let o=e.mapping.slice(r).map(n+1+i);e.replaceWith(o,o+1,t.type.schema.text(`
`))}})}function snt(e,t,n){let r=e.resolve(t),s=r.index();return r.parent.canReplaceWith(s,s+1,n)}function int(e,t,n,r,s){let i=e.doc.nodeAt(t);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let o=n.create(r,null,s||i.marks);if(i.isLeaf)return e.replaceWith(t,t+i.nodeSize,o);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new Or(t,t+i.nodeSize,t+1,t+i.nodeSize-1,new Te(he.from(o),0,0),1,!0))}function xl(e,t,n=1,r){let s=e.resolve(t),i=s.depth-n,o=r&&r[r.length-1]||s.parent;if(i<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!o.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let u=s.depth-1,d=n-2;u>i;u--,d--){let h=s.node(u),f=s.index(u);if(h.type.spec.isolating)return!1;let p=h.content.cutByIndex(f,h.childCount),m=r&&r[d+1];m&&(p=p.replaceChild(0,m.type.create(m.attrs)));let g=r&&r[d]||h;if(!h.canReplace(f+1,h.childCount)||!g.type.validContent(p))return!1}let l=s.indexAfter(i),c=r&&r[0];return s.node(i).canReplaceWith(l,l,c?c.type:s.node(i+1).type)}function ont(e,t,n=1,r){let s=e.doc.resolve(t),i=he.empty,o=he.empty;for(let l=s.depth,c=s.depth-n,u=n-1;l>c;l--,u--){i=he.from(s.node(l).copy(i));let d=r&&r[u];o=he.from(d?d.type.create(d.attrs,o):s.node(l).copy(o))}e.step(new Tr(t,t,new Te(i.append(o),n,n),!0))}function Nu(e,t){let n=e.resolve(t),r=n.index();return $ie(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function ant(e,t){t.content.size||e.type.compatibleContent(t.type);let n=e.contentMatchAt(e.childCount),{linebreakReplacement:r}=e.type.schema;for(let s=0;s<t.childCount;s++){let i=t.child(s),o=i.type==r?e.type.schema.nodes.text:i.type;if(n=n.matchType(o),!n||!e.type.allowsMarks(i.marks))return!1}return n.validEnd}function $ie(e,t){return!!(e&&t&&!e.isLeaf&&ant(e,t))}function P_(e,t,n=-1){let r=e.resolve(t);for(let s=r.depth;;s--){let i,o,l=r.index(s);if(s==r.depth?(i=r.nodeBefore,o=r.nodeAfter):n>0?(i=r.node(s+1),l++,o=r.node(s).maybeChild(l)):(i=r.node(s).maybeChild(l-1),o=r.node(s+1)),i&&!i.isTextblock&&$ie(i,o)&&r.node(s).canReplace(l,l+1))return t;if(s==0)break;t=n<0?r.before(s):r.after(s)}}function lnt(e,t,n){let r=null,{linebreakReplacement:s}=e.doc.type.schema,i=e.doc.resolve(t-n),o=i.node().type;if(s&&o.inlineContent){let d=o.whitespace=="pre",h=!!o.contentMatch.matchType(s);d&&!h?r=!1:!d&&h&&(r=!0)}let l=e.steps.length;if(r===!1){let d=e.doc.resolve(t+n);Lie(e,d.node(),d.before(),l)}o.inlineContent&&AL(e,t+n-1,o,i.node().contentMatchAt(i.index()),r==null);let c=e.mapping.slice(l),u=c.map(t-n);if(e.step(new Tr(u,c.map(t+n,-1),Te.empty,!0)),r===!0){let d=e.doc.resolve(u);Iie(e,d.node(),d.before(),e.steps.length)}return e}function cnt(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(r.parentOffset==0)for(let s=r.depth-1;s>=0;s--){let i=r.index(s);if(r.node(s).canReplaceWith(i,i,n))return r.before(s+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(let s=r.depth-1;s>=0;s--){let i=r.indexAfter(s);if(r.node(s).canReplaceWith(i,i,n))return r.after(s+1);if(i<r.node(s).childCount)return null}return null}function Bie(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let s=n.content;for(let i=0;i<n.openStart;i++)s=s.firstChild.content;for(let i=1;i<=(n.openStart==0&&n.size?2:1);i++)for(let o=r.depth;o>=0;o--){let l=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,c=r.index(o)+(l>0?1:0),u=r.node(o),d=!1;if(i==1)d=u.canReplace(c,c,s);else{let h=u.contentMatchAt(c).findWrapping(s.firstChild.type);d=h&&u.canReplaceWith(c,c,h[0])}if(d)return l==0?r.pos:l<0?r.before(o+1):r.after(o+1)}return null}function D_(e,t,n=t,r=Te.empty){if(t==n&&!r.size)return null;let s=e.resolve(t),i=e.resolve(n);return Fie(s,i,r)?new Tr(t,n,r):new unt(s,i,r).fit()}function Fie(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}class unt{constructor(t,n,r){this.$from=t,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=he.empty;for(let s=0;s<=t.depth;s++){let i=t.node(s);this.frontier.push({type:i.type,match:i.contentMatchAt(t.indexAfter(s))})}for(let s=t.depth;s>0;s--)this.placed=he.from(t.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,s=this.close(t<0?this.$to:r.doc.resolve(t));if(!s)return null;let i=this.placed,o=r.depth,l=s.depth;for(;o&&l&&i.childCount==1;)i=i.firstChild.content,o--,l--;let c=new Te(i,o,l);return t>-1?new Or(r.pos,t,this.$to.pos,this.$to.end(),c,n):c.size||r.pos!=this.$to.pos?new Tr(r.pos,s.pos,c):null}findFittable(){let t=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,s=this.unplaced.openEnd;r<t;r++){let i=n.firstChild;if(n.childCount>1&&(s=0),i.type.spec.isolating&&s<=r){t=r;break}n=i.content}for(let n=1;n<=2;n++)for(let r=n==1?t:this.unplaced.openStart;r>=0;r--){let s,i=null;r?(i=hT(this.unplaced.content,r-1).firstChild,s=i.content):s=this.unplaced.content;let o=s.firstChild;for(let l=this.depth;l>=0;l--){let{type:c,match:u}=this.frontier[l],d,h=null;if(n==1&&(o?u.matchType(o.type)||(h=u.fillBefore(he.from(o),!1)):i&&c.compatibleContent(i.type)))return{sliceDepth:r,frontierDepth:l,parent:i,inject:h};if(n==2&&o&&(d=u.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:l,parent:i,wrap:d};if(i&&u.matchType(i.type))break}}}openMore(){let{content:t,openStart:n,openEnd:r}=this.unplaced,s=hT(t,n);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new Te(t,n+1,Math.max(r,s.size+n>=t.size-r?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:r}=this.unplaced,s=hT(t,n);if(s.childCount<=1&&n>0){let i=t.size-n<=n+s.size;this.unplaced=new Te(Vg(t,n-1,1),n-1,i?n-1:r)}else this.unplaced=new Te(Vg(t,n,1),n,r)}placeNodes({sliceDepth:t,frontierDepth:n,parent:r,inject:s,wrap:i}){for(;this.depth>n;)this.closeFrontierNode();if(i)for(let g=0;g<i.length;g++)this.openFrontierNode(i[g]);let o=this.unplaced,l=r?r.content:o.content,c=o.openStart-t,u=0,d=[],{match:h,type:f}=this.frontier[n];if(s){for(let g=0;g<s.childCount;g++)d.push(s.child(g));h=h.matchFragment(s)}let p=l.size+t-(o.content.size-o.openEnd);for(;u<l.childCount;){let g=l.child(u),y=h.matchType(g.type);if(!y)break;u++,(u>1||c==0||g.content.size)&&(h=y,d.push(zie(g.mark(f.allowedMarks(g.marks)),u==1?c:0,u==l.childCount?p:-1)))}let m=u==l.childCount;m||(p=-1),this.placed=Gg(this.placed,n,he.from(d)),this.frontier[n].match=h,m&&p<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,y=l;g<p;g++){let x=y.lastChild;this.frontier.push({type:x.type,match:x.contentMatchAt(x.childCount)}),y=x.content}this.unplaced=m?t==0?Te.empty:new Te(Vg(o.content,t-1,1),t-1,p<0?o.openEnd:t-1):new Te(Vg(o.content,t,u),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!fT(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,s=this.$to.after(r);for(;r>1&&s==this.$to.end(--r);)++s;return s}findCloseLevel(t){e:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:r,type:s}=this.frontier[n],i=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),o=fT(t,n,s,r,i);if(o){for(let l=n-1;l>=0;l--){let{match:c,type:u}=this.frontier[l],d=fT(t,l,u,c,!0);if(!d||d.childCount)continue e}return{depth:n,fit:o,move:i?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Gg(this.placed,n.depth,n.fit)),t=n.move;for(let r=n.depth+1;r<=t.depth;r++){let s=t.node(r),i=s.type.contentMatch.fillBefore(s.content,!0,t.index(r));this.openFrontierNode(s.type,s.attrs,i)}return t}openFrontierNode(t,n=null,r){let s=this.frontier[this.depth];s.match=s.match.matchType(t),this.placed=Gg(this.placed,this.depth,he.from(t.create(n,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(he.empty,!0);n.childCount&&(this.placed=Gg(this.placed,this.frontier.length,n))}}function Vg(e,t,n){return t==0?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(Vg(e.firstChild.content,t-1,n)))}function Gg(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(Gg(e.lastChild.content,t-1,n)))}function hT(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function zie(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,zie(r.firstChild,t-1,r.childCount==1?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(he.empty,!0)))),e.copy(r)}function fT(e,t,n,r,s){let i=e.node(t),o=s?e.indexAfter(t):e.index(t);if(o==i.childCount&&!n.compatibleContent(i.type))return null;let l=r.fillBefore(i.content,!0,o);return l&&!dnt(n,i.content,o)?l:null}function dnt(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function hnt(e){return e.spec.defining||e.spec.definingForContent}function fnt(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let s=e.doc.resolve(t),i=e.doc.resolve(n);if(Fie(s,i,r))return e.step(new Tr(t,n,r));let o=Hie(s,i);o[o.length-1]==0&&o.pop();let l=-(s.depth+1);o.unshift(l);for(let f=s.depth,p=s.pos-1;f>0;f--,p--){let m=s.node(f).type.spec;if(m.defining||m.definingAsContext||m.isolating)break;o.indexOf(f)>-1?l=f:s.before(f)==p&&o.splice(1,0,-f)}let c=o.indexOf(l),u=[],d=r.openStart;for(let f=r.content,p=0;;p++){let m=f.firstChild;if(u.push(m),p==r.openStart)break;f=m.content}for(let f=d-1;f>=0;f--){let p=u[f],m=hnt(p.type);if(m&&!p.sameMarkup(s.node(Math.abs(l)-1)))d=f;else if(m||!p.type.isTextblock)break}for(let f=r.openStart;f>=0;f--){let p=(f+d+1)%(r.openStart+1),m=u[p];if(m)for(let g=0;g<o.length;g++){let y=o[(g+c)%o.length],x=!0;y<0&&(x=!1,y=-y);let b=s.node(y-1),w=s.index(y-1);if(b.canReplaceWith(w,w,m.type,m.marks))return e.replace(s.before(y),x?i.after(y):n,new Te(Uie(r.content,0,r.openStart,p),p,r.openEnd))}}let h=e.steps.length;for(let f=o.length-1;f>=0&&(e.replace(t,n,r),!(e.steps.length>h));f--){let p=o[f];p<0||(t=s.before(p),n=i.after(p))}}function Uie(e,t,n,r,s){if(t<n){let i=e.firstChild;e=e.replaceChild(0,i.copy(Uie(i.content,t+1,n,r,i)))}if(t>r){let i=s.contentMatchAt(0),o=i.fillBefore(e).append(e);e=o.append(i.matchFragment(o).fillBefore(he.empty,!0))}return e}function pnt(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let s=cnt(e.doc,t,r.type);s!=null&&(t=n=s)}e.replaceRange(t,n,new Te(he.from(r),0,0))}function mnt(e,t,n){let r=e.doc.resolve(t),s=e.doc.resolve(n),i=Hie(r,s);for(let o=0;o<i.length;o++){let l=i[o],c=o==i.length-1;if(c&&l==0||r.node(l).type.contentMatch.validEnd)return e.delete(r.start(l),s.end(l));if(l>0&&(c||r.node(l-1).canReplace(r.index(l-1),s.indexAfter(l-1))))return e.delete(r.before(l),s.after(l))}for(let o=1;o<=r.depth&&o<=s.depth;o++)if(t-r.start(o)==r.depth-o&&n>r.end(o)&&s.end(o)-n!=s.depth-o&&r.start(o-1)==s.start(o-1)&&r.node(o-1).canReplace(r.index(o-1),s.index(o-1)))return e.delete(r.before(o),n);e.delete(t,n)}function Hie(e,t){let n=[],r=Math.min(e.depth,t.depth);for(let s=r;s>=0;s--){let i=e.start(s);if(i<e.pos-(e.depth-s)||t.end(s)>t.pos+(t.depth-s)||e.node(s).type.spec.isolating||t.node(s).type.spec.isolating)break;(i==t.start(s)||s==e.depth&&s==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&s&&t.start(s-1)==i-1)&&n.push(s)}return n}class Zf extends ps{constructor(t,n,r){super(),this.pos=t,this.attr=n,this.value=r}apply(t){let n=t.nodeAt(this.pos);if(!n)return lr.fail("No node at attribute step's position");let r=Object.create(null);for(let i in n.attrs)r[i]=n.attrs[i];r[this.attr]=this.value;let s=n.type.create(r,null,n.marks);return lr.fromReplace(t,this.pos,this.pos+1,new Te(he.from(s),0,n.isLeaf?0:1))}getMap(){return ai.empty}invert(t){return new Zf(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Zf(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Zf(n.pos,n.attr,n.value)}}ps.jsonID("attr",Zf);class lv extends ps{constructor(t,n){super(),this.attr=t,this.value=n}apply(t){let n=Object.create(null);for(let s in t.attrs)n[s]=t.attrs[s];n[this.attr]=this.value;let r=t.type.create(n,t.content,t.marks);return lr.ok(r)}getMap(){return ai.empty}invert(t){return new lv(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new lv(n.attr,n.value)}}ps.jsonID("docAttr",lv);let rm=class extends Error{};rm=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n};rm.prototype=Object.create(Error.prototype);rm.prototype.constructor=rm;rm.prototype.name="TransformError";class ML{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new av}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new rm(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,r=Te.empty){let s=D_(this.doc,t,n,r);return s&&this.step(s),this}replaceWith(t,n,r){return this.replace(t,n,new Te(he.from(r),0,0))}delete(t,n){return this.replace(t,n,Te.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,r){return fnt(this,t,n,r),this}replaceRangeWith(t,n,r){return pnt(this,t,n,r),this}deleteRange(t,n){return mnt(this,t,n),this}lift(t,n){return Ztt(this,t,n),this}join(t,n=1){return lnt(this,t,n),this}wrap(t,n){return nnt(this,t,n),this}setBlockType(t,n=t,r,s=null){return rnt(this,t,n,r,s),this}setNodeMarkup(t,n,r=null,s){return int(this,t,n,r,s),this}setNodeAttribute(t,n,r){return this.step(new Zf(t,n,r)),this}setDocAttribute(t,n){return this.step(new lv(t,n)),this}addNodeMark(t,n){return this.step(new jc(t,n)),this}removeNodeMark(t,n){let r=this.doc.nodeAt(t);if(!r)throw new RangeError("No node at position "+t);if(n instanceof en)n.isInSet(r.marks)&&this.step(new Qd(t,n));else{let s=r.marks,i,o=[];for(;i=n.isInSet(s);)o.push(new Qd(t,i)),s=i.removeFromSet(s);for(let l=o.length-1;l>=0;l--)this.step(o[l])}return this}split(t,n=1,r){return ont(this,t,n,r),this}addMark(t,n,r){return Xtt(this,t,n,r),this}removeMark(t,n,r){return Jtt(this,t,n,r),this}clearIncompatible(t,n,r){return AL(this,t,n,r),this}}const pT=Object.create(null);class Xe{constructor(t,n,r){this.$anchor=t,this.$head=n,this.ranges=r||[new Wie(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=Te.empty){let r=n.content.lastChild,s=null;for(let l=0;l<n.openEnd;l++)s=r,r=r.lastChild;let i=t.steps.length,o=this.ranges;for(let l=0;l<o.length;l++){let{$from:c,$to:u}=o[l],d=t.mapping.slice(i);t.replaceRange(d.map(c.pos),d.map(u.pos),l?Te.empty:n),l==0&&WH(t,i,(r?r.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(t,n){let r=t.steps.length,s=this.ranges;for(let i=0;i<s.length;i++){let{$from:o,$to:l}=s[i],c=t.mapping.slice(r),u=c.map(o.pos),d=c.map(l.pos);i?t.deleteRange(u,d):(t.replaceRangeWith(u,d,n),WH(t,r,n.isInline?-1:1))}}static findFrom(t,n,r=!1){let s=t.parent.inlineContent?new Ve(t):nf(t.node(0),t.parent,t.pos,t.index(),n,r);if(s)return s;for(let i=t.depth-1;i>=0;i--){let o=n<0?nf(t.node(0),t.node(i),t.before(i+1),t.index(i),n,r):nf(t.node(0),t.node(i),t.after(i+1),t.index(i)+1,n,r);if(o)return o}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new fi(t.node(0))}static atStart(t){return nf(t,t,0,0,1)||new fi(t)}static atEnd(t){return nf(t,t,t.content.size,t.childCount,-1)||new fi(t)}static fromJSON(t,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=pT[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in pT)throw new RangeError("Duplicate use of selection JSON ID "+t);return pT[t]=n,n.prototype.jsonID=t,n}getBookmark(){return Ve.between(this.$anchor,this.$head).getBookmark()}}Xe.prototype.visible=!0;class Wie{constructor(t,n){this.$from=t,this.$to=n}}let UH=!1;function HH(e){!UH&&!e.parent.inlineContent&&(UH=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class Ve extends Xe{constructor(t,n=t){HH(t),HH(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let r=t.resolve(n.map(this.head));if(!r.parent.inlineContent)return Xe.near(r);let s=t.resolve(n.map(this.anchor));return new Ve(s.parent.inlineContent?s:r,r)}replace(t,n=Te.empty){if(super.replace(t,n),n==Te.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof Ve&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new R_(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Ve(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){let s=t.resolve(n);return new this(s,r==n?s:t.resolve(r))}static between(t,n,r){let s=t.pos-n.pos;if((!r||s)&&(r=s>=0?1:-1),!n.parent.inlineContent){let i=Xe.findFrom(n,r,!0)||Xe.findFrom(n,-r,!0);if(i)n=i.$head;else return Xe.near(n,r)}return t.parent.inlineContent||(s==0?t=n:(t=(Xe.findFrom(t,-r,!0)||Xe.findFrom(t,r,!0)).$anchor,t.pos<n.pos!=s<0&&(t=n))),new Ve(t,n)}}Xe.jsonID("text",Ve);class R_{constructor(t,n){this.anchor=t,this.head=n}map(t){return new R_(t.map(this.anchor),t.map(this.head))}resolve(t){return Ve.between(t.resolve(this.anchor),t.resolve(this.head))}}class He extends Xe{constructor(t){let n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);super(t,r),this.node=n}map(t,n){let{deleted:r,pos:s}=n.mapResult(this.anchor),i=t.resolve(s);return r?Xe.near(i):new He(i)}content(){return new Te(he.from(this.node),0,0)}eq(t){return t instanceof He&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new PL(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new He(t.resolve(n.anchor))}static create(t,n){return new He(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}He.prototype.visible=!1;Xe.jsonID("node",He);class PL{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:r}=t.mapResult(this.anchor);return n?new R_(r,r):new PL(r)}resolve(t){let n=t.resolve(this.anchor),r=n.nodeAfter;return r&&He.isSelectable(r)?new He(n):Xe.near(n)}}class fi extends Xe{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=Te.empty){if(n==Te.empty){t.delete(0,t.doc.content.size);let r=Xe.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new fi(t)}map(t){return new fi(t)}eq(t){return t instanceof fi}getBookmark(){return gnt}}Xe.jsonID("all",fi);const gnt={map(){return this},resolve(e){return new fi(e)}};function nf(e,t,n,r,s,i=!1){if(t.inlineContent)return Ve.create(e,n);for(let o=r-(s>0?0:1);s>0?o<t.childCount:o>=0;o+=s){let l=t.child(o);if(l.isAtom){if(!i&&He.isSelectable(l))return He.create(e,n-(s<0?l.nodeSize:0))}else{let c=nf(e,l,n+s,s<0?l.childCount:0,s,i);if(c)return c}n+=l.nodeSize*s}return null}function WH(e,t,n){let r=e.steps.length-1;if(r<t)return;let s=e.steps[r];if(!(s instanceof Tr||s instanceof Or))return;let i=e.mapping.maps[r],o;i.forEach((l,c,u,d)=>{o==null&&(o=d)}),e.setSelection(Xe.near(e.doc.resolve(o),n))}const VH=1,Zb=2,GH=4;class ynt extends ML{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|VH)&~Zb,this.storedMarks=null,this}get selectionSet(){return(this.updated&VH)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=Zb,this}ensureMarks(t){return en.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Zb)>0}addStep(t,n){super.addStep(t,n),this.updated=this.updated&~Zb,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,n=!0){let r=this.selection;return n&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||en.none))),r.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,r){let s=this.doc.type.schema;if(n==null)return t?this.replaceSelectionWith(s.text(t),!0):this.deleteSelection();{if(r==null&&(r=n),!t)return this.deleteRange(n,r);let i=this.storedMarks;if(!i){let o=this.doc.resolve(n);i=r==n?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,s.text(t,i)),!this.selection.empty&&this.selection.to==n+t.length&&this.setSelection(Xe.near(this.selection.$to)),this}}setMeta(t,n){return this.meta[typeof t=="string"?t:t.key]=n,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=GH,this}get scrolledIntoView(){return(this.updated&GH)>0}}function qH(e,t){return!t||!e?e:e.bind(t)}class qg{constructor(t,n,r){this.name=t,this.init=qH(n.init,r),this.apply=qH(n.apply,r)}}const xnt=[new qg("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new qg("selection",{init(e,t){return e.selection||Xe.atStart(t.doc)},apply(e){return e.selection}}),new qg("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new qg("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class mT{constructor(t,n){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=xnt.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new qg(r.key,r.spec.state,r))})}}class Ef{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let s=this.config.plugins[r];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],r=this.applyInner(t),s=null;for(;;){let i=!1;for(let o=0;o<this.config.plugins.length;o++){let l=this.config.plugins[o];if(l.spec.appendTransaction){let c=s?s[o].n:0,u=s?s[o].state:this,d=c<n.length&&l.spec.appendTransaction.call(l,c?n.slice(c):n,u,r);if(d&&r.filterTransaction(d,o)){if(d.setMeta("appendedTransaction",t),!s){s=[];for(let h=0;h<this.config.plugins.length;h++)s.push(h<o?{state:r,n:n.length}:{state:this,n:0})}n.push(d),r=r.applyInner(d),i=!0}s&&(s[o]={state:r,n:n.length})}}if(!i)return{state:r,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Ef(this.config),r=this.config.fields;for(let s=0;s<r.length;s++){let i=r[s];n[i.name]=i.apply(t,this[i.name],this,n)}return n}get tr(){return new ynt(this)}static create(t){let n=new mT(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new Ef(n);for(let s=0;s<n.fields.length;s++)r[n.fields[s].name]=n.fields[s].init(t,r);return r}reconfigure(t){let n=new mT(this.schema,t.plugins),r=n.fields,s=new Ef(n);for(let i=0;i<r.length;i++){let o=r[i].name;s[o]=this.hasOwnProperty(o)?this[o]:r[i].init(t,s)}return s}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),t&&typeof t=="object")for(let r in t){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=t[r],i=s.spec.state;i&&i.toJSON&&(n[r]=i.toJSON.call(s,this[s.key]))}return n}static fromJSON(t,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let s=new mT(t.schema,t.plugins),i=new Ef(s);return s.fields.forEach(o=>{if(o.name=="doc")i.doc=Gc.fromJSON(t.schema,n.doc);else if(o.name=="selection")i.selection=Xe.fromJSON(i.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(i.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(r)for(let l in r){let c=r[l],u=c.spec.state;if(c.key==o.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){i[o.name]=u.fromJSON.call(c,t,n[l],i);return}}i[o.name]=o.init(t,i)}}),i}}function Vie(e,t,n){for(let r in e){let s=e[r];s instanceof Function?s=s.bind(t):r=="handleDOMEvents"&&(s=Vie(s,t,{})),n[r]=s}return n}class an{constructor(t){this.spec=t,this.props={},t.props&&Vie(t.props,this,this.props),this.key=t.key?t.key.key:Gie("plugin")}getState(t){return t[this.key]}}const gT=Object.create(null);function Gie(e){return e in gT?e+"$"+ ++gT[e]:(gT[e]=0,e+"$")}class Cn{constructor(t="key"){this.key=Gie(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const DL=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function qie(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const Kie=(e,t,n)=>{let r=qie(e,n);if(!r)return!1;let s=RL(r);if(!s){let o=r.blockRange(),l=o&&Bm(o);return l==null?!1:(t&&t(e.tr.lift(o,l).scrollIntoView()),!0)}let i=s.nodeBefore;if(roe(e,s,t,-1))return!0;if(r.parent.content.size==0&&(sm(i,"end")||He.isSelectable(i)))for(let o=r.depth;;o--){let l=D_(e.doc,r.before(o),r.after(o),Te.empty);if(l&&l.slice.size<l.to-l.from){if(t){let c=e.tr.step(l);c.setSelection(sm(i,"end")?Xe.findFrom(c.doc.resolve(c.mapping.map(s.pos,-1)),-1):He.create(c.doc,s.pos-i.nodeSize)),t(c.scrollIntoView())}return!0}if(o==1||r.node(o-1).childCount>1)break}return i.isAtom&&s.depth==r.depth-1?(t&&t(e.tr.delete(s.pos-i.nodeSize,s.pos).scrollIntoView()),!0):!1},vnt=(e,t,n)=>{let r=qie(e,n);if(!r)return!1;let s=RL(r);return s?Yie(e,s,t):!1},bnt=(e,t,n)=>{let r=Jie(e,n);if(!r)return!1;let s=IL(r);return s?Yie(e,s,t):!1};function Yie(e,t,n){let r=t.nodeBefore,s=r,i=t.pos-1;for(;!s.isTextblock;i--){if(s.type.spec.isolating)return!1;let d=s.lastChild;if(!d)return!1;s=d}let o=t.nodeAfter,l=o,c=t.pos+1;for(;!l.isTextblock;c++){if(l.type.spec.isolating)return!1;let d=l.firstChild;if(!d)return!1;l=d}let u=D_(e.doc,i,c,Te.empty);if(!u||u.from!=i||u instanceof Tr&&u.slice.size>=c-i)return!1;if(n){let d=e.tr.step(u);d.setSelection(Ve.create(d.doc,i)),n(d.scrollIntoView())}return!0}function sm(e,t,n=!1){for(let r=e;r;r=t=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const Xie=(e,t,n)=>{let{$head:r,empty:s}=e.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;i=RL(r)}let o=i&&i.nodeBefore;return!o||!He.isSelectable(o)?!1:(t&&t(e.tr.setSelection(He.create(e.doc,i.pos-o.nodeSize)).scrollIntoView()),!0)};function RL(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function Jie(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const Qie=(e,t,n)=>{let r=Jie(e,n);if(!r)return!1;let s=IL(r);if(!s)return!1;let i=s.nodeAfter;if(roe(e,s,t,1))return!0;if(r.parent.content.size==0&&(sm(i,"start")||He.isSelectable(i))){let o=D_(e.doc,r.before(),r.after(),Te.empty);if(o&&o.slice.size<o.to-o.from){if(t){let l=e.tr.step(o);l.setSelection(sm(i,"start")?Xe.findFrom(l.doc.resolve(l.mapping.map(s.pos)),1):He.create(l.doc,l.mapping.map(s.pos))),t(l.scrollIntoView())}return!0}}return i.isAtom&&s.depth==r.depth-1?(t&&t(e.tr.delete(s.pos,s.pos+i.nodeSize).scrollIntoView()),!0):!1},Zie=(e,t,n)=>{let{$head:r,empty:s}=e.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;i=IL(r)}let o=i&&i.nodeAfter;return!o||!He.isSelectable(o)?!1:(t&&t(e.tr.setSelection(He.create(e.doc,i.pos)).scrollIntoView()),!0)};function IL(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const wnt=(e,t)=>{let n=e.selection,r=n instanceof He,s;if(r){if(n.node.isTextblock||!Nu(e.doc,n.from))return!1;s=n.from}else if(s=P_(e.doc,n.from,-1),s==null)return!1;if(t){let i=e.tr.join(s);r&&i.setSelection(He.create(i.doc,s-e.doc.resolve(s).nodeBefore.nodeSize)),t(i.scrollIntoView())}return!0},Snt=(e,t)=>{let n=e.selection,r;if(n instanceof He){if(n.node.isTextblock||!Nu(e.doc,n.to))return!1;r=n.to}else if(r=P_(e.doc,n.to,1),r==null)return!1;return t&&t(e.tr.join(r).scrollIntoView()),!0},Nnt=(e,t)=>{let{$from:n,$to:r}=e.selection,s=n.blockRange(r),i=s&&Bm(s);return i==null?!1:(t&&t(e.tr.lift(s,i).scrollIntoView()),!0)},eoe=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function LL(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const knt=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let s=n.node(-1),i=n.indexAfter(-1),o=LL(s.contentMatchAt(i));if(!o||!s.canReplaceWith(i,i,o))return!1;if(t){let l=n.after(),c=e.tr.replaceWith(l,l,o.createAndFill());c.setSelection(Xe.near(c.doc.resolve(l),1)),t(c.scrollIntoView())}return!0},toe=(e,t)=>{let n=e.selection,{$from:r,$to:s}=n;if(n instanceof fi||r.parent.inlineContent||s.parent.inlineContent)return!1;let i=LL(s.parent.contentMatchAt(s.indexAfter()));if(!i||!i.isTextblock)return!1;if(t){let o=(!r.parentOffset&&s.index()<s.parent.childCount?r:s).pos,l=e.tr.insert(o,i.createAndFill());l.setSelection(Ve.create(l.doc,o+1)),t(l.scrollIntoView())}return!0},noe=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if(xl(e.doc,i))return t&&t(e.tr.split(i).scrollIntoView()),!0}let r=n.blockRange(),s=r&&Bm(r);return s==null?!1:(t&&t(e.tr.lift(r,s).scrollIntoView()),!0)};function jnt(e){return(t,n)=>{let{$from:r,$to:s}=t.selection;if(t.selection instanceof He&&t.selection.node.isBlock)return!r.parentOffset||!xl(t.doc,r.pos)?!1:(n&&n(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let i=[],o,l,c=!1,u=!1;for(let p=r.depth;;p--)if(r.node(p).isBlock){c=r.end(p)==r.pos+(r.depth-p),u=r.start(p)==r.pos-(r.depth-p),l=LL(r.node(p-1).contentMatchAt(r.indexAfter(p-1))),i.unshift(c&&l?{type:l}:null),o=p;break}else{if(p==1)return!1;i.unshift(null)}let d=t.tr;(t.selection instanceof Ve||t.selection instanceof fi)&&d.deleteSelection();let h=d.mapping.map(r.pos),f=xl(d.doc,h,i.length,i);if(f||(i[0]=l?{type:l}:null,f=xl(d.doc,h,i.length,i)),!f)return!1;if(d.split(h,i.length,i),!c&&u&&r.node(o).type!=l){let p=d.mapping.map(r.before(o)),m=d.doc.resolve(p);l&&r.node(o-1).canReplaceWith(m.index(),m.index()+1,l)&&d.setNodeMarkup(d.mapping.map(r.before(o)),l)}return n&&n(d.scrollIntoView()),!0}}const _nt=jnt(),Ent=(e,t)=>{let{$from:n,to:r}=e.selection,s,i=n.sharedDepth(r);return i==0?!1:(s=n.before(i),t&&t(e.tr.setSelection(He.create(e.doc,s))),!0)};function Cnt(e,t,n){let r=t.nodeBefore,s=t.nodeAfter,i=t.index();return!r||!s||!r.type.compatibleContent(s.type)?!1:!r.content.size&&t.parent.canReplace(i-1,i)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(i,i+1)||!(s.isTextblock||Nu(e.doc,t.pos))?!1:(n&&n(e.tr.join(t.pos).scrollIntoView()),!0)}function roe(e,t,n,r){let s=t.nodeBefore,i=t.nodeAfter,o,l,c=s.type.spec.isolating||i.type.spec.isolating;if(!c&&Cnt(e,t,n))return!0;let u=!c&&t.parent.canReplace(t.index(),t.index()+1);if(u&&(o=(l=s.contentMatchAt(s.childCount)).findWrapping(i.type))&&l.matchType(o[0]||i.type).validEnd){if(n){let p=t.pos+i.nodeSize,m=he.empty;for(let x=o.length-1;x>=0;x--)m=he.from(o[x].create(null,m));m=he.from(s.copy(m));let g=e.tr.step(new Or(t.pos-1,p,t.pos,p,new Te(m,1,0),o.length,!0)),y=g.doc.resolve(p+2*o.length);y.nodeAfter&&y.nodeAfter.type==s.type&&Nu(g.doc,y.pos)&&g.join(y.pos),n(g.scrollIntoView())}return!0}let d=i.type.spec.isolating||r>0&&c?null:Xe.findFrom(t,1),h=d&&d.$from.blockRange(d.$to),f=h&&Bm(h);if(f!=null&&f>=t.depth)return n&&n(e.tr.lift(h,f).scrollIntoView()),!0;if(u&&sm(i,"start",!0)&&sm(s,"end")){let p=s,m=[];for(;m.push(p),!p.isTextblock;)p=p.lastChild;let g=i,y=1;for(;!g.isTextblock;g=g.firstChild)y++;if(p.canReplace(p.childCount,p.childCount,g.content)){if(n){let x=he.empty;for(let w=m.length-1;w>=0;w--)x=he.from(m[w].copy(x));let b=e.tr.step(new Or(t.pos-m.length,t.pos+i.nodeSize,t.pos+y,t.pos+i.nodeSize-y,new Te(x,m.length,0),0,!0));n(b.scrollIntoView())}return!0}}return!1}function soe(e){return function(t,n){let r=t.selection,s=e<0?r.$from:r.$to,i=s.depth;for(;s.node(i).isInline;){if(!i)return!1;i--}return s.node(i).isTextblock?(n&&n(t.tr.setSelection(Ve.create(t.doc,e<0?s.start(i):s.end(i)))),!0):!1}}const Tnt=soe(-1),Ant=soe(1);function Ont(e,t=null){return function(n,r){let{$from:s,$to:i}=n.selection,o=s.blockRange(i),l=o&&OL(o,e,t);return l?(r&&r(n.tr.wrap(o,l).scrollIntoView()),!0):!1}}function KH(e,t=null){return function(n,r){let s=!1;for(let i=0;i<n.selection.ranges.length&&!s;i++){let{$from:{pos:o},$to:{pos:l}}=n.selection.ranges[i];n.doc.nodesBetween(o,l,(c,u)=>{if(s)return!1;if(!(!c.isTextblock||c.hasMarkup(e,t)))if(c.type==e)s=!0;else{let d=n.doc.resolve(u),h=d.index();s=d.parent.canReplaceWith(h,h+1,e)}})}if(!s)return!1;if(r){let i=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:l},$to:{pos:c}}=n.selection.ranges[o];i.setBlockType(l,c,e,t)}r(i.scrollIntoView())}return!0}}function $L(...e){return function(t,n,r){for(let s=0;s<e.length;s++)if(e[s](t,n,r))return!0;return!1}}$L(DL,Kie,Xie);$L(DL,Qie,Zie);$L(eoe,toe,noe,_nt);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function Mnt(e,t=null){return function(n,r){let{$from:s,$to:i}=n.selection,o=s.blockRange(i);if(!o)return!1;let l=r?n.tr:null;return Pnt(l,o,e,t)?(r&&r(l.scrollIntoView()),!0):!1}}function Pnt(e,t,n,r=null){let s=!1,i=t,o=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(n)&&t.startIndex==0){if(t.$from.index(t.depth-1)==0)return!1;let c=o.resolve(t.start-2);i=new jN(c,c,t.depth),t.endIndex<t.parent.childCount&&(t=new jN(t.$from,o.resolve(t.$to.end(t.depth)),t.depth)),s=!0}let l=OL(i,n,r,t);return l?(e&&Dnt(e,t,l,s,n),!0):!1}function Dnt(e,t,n,r,s){let i=he.empty;for(let d=n.length-1;d>=0;d--)i=he.from(n[d].type.create(n[d].attrs,i));e.step(new Or(t.start-(r?2:0),t.end,t.start,t.end,new Te(i,0,0),n.length,!0));let o=0;for(let d=0;d<n.length;d++)n[d].type==s&&(o=d+1);let l=n.length-o,c=t.start+n.length-(r?2:0),u=t.parent;for(let d=t.startIndex,h=t.endIndex,f=!0;d<h;d++,f=!1)!f&&xl(e.doc,c,l)&&(e.split(c,l),c+=2*l),c+=u.child(d).nodeSize;return e}function Rnt(e){return function(t,n){let{$from:r,$to:s}=t.selection,i=r.blockRange(s,o=>o.childCount>0&&o.firstChild.type==e);return i?n?r.node(i.depth-1).type==e?Int(t,n,e,i):Lnt(t,n,i):!0:!1}}function Int(e,t,n,r){let s=e.tr,i=r.end,o=r.$to.end(r.depth);i<o&&(s.step(new Or(i-1,o,i,o,new Te(he.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new jN(s.doc.resolve(r.$from.pos),s.doc.resolve(o),r.depth));const l=Bm(r);if(l==null)return!1;s.lift(r,l);let c=s.doc.resolve(s.mapping.map(i,-1)-1);return Nu(s.doc,c.pos)&&c.nodeBefore.type==c.nodeAfter.type&&s.join(c.pos),t(s.scrollIntoView()),!0}function Lnt(e,t,n){let r=e.tr,s=n.parent;for(let p=n.end,m=n.endIndex-1,g=n.startIndex;m>g;m--)p-=s.child(m).nodeSize,r.delete(p-1,p+1);let i=r.doc.resolve(n.start),o=i.nodeAfter;if(r.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,c=n.endIndex==s.childCount,u=i.node(-1),d=i.index(-1);if(!u.canReplace(d+(l?0:1),d+1,o.content.append(c?he.empty:he.from(s))))return!1;let h=i.pos,f=h+o.nodeSize;return r.step(new Or(h-(l?1:0),f+(c?1:0),h+1,f-1,new Te((l?he.empty:he.from(s.copy(he.empty))).append(c?he.empty:he.from(s.copy(he.empty))),l?0:1,c?0:1),l?0:1)),t(r.scrollIntoView()),!0}function $nt(e){return function(t,n){let{$from:r,$to:s}=t.selection,i=r.blockRange(s,u=>u.childCount>0&&u.firstChild.type==e);if(!i)return!1;let o=i.startIndex;if(o==0)return!1;let l=i.parent,c=l.child(o-1);if(c.type!=e)return!1;if(n){let u=c.lastChild&&c.lastChild.type==l.type,d=he.from(u?e.create():null),h=new Te(he.from(e.create(null,he.from(l.type.create(null,d)))),u?3:1,0),f=i.start,p=i.end;n(t.tr.step(new Or(f-(u?3:1),p,f,p,h,1,!0)).scrollIntoView())}return!0}}const Ur=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},im=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let IM=null;const Qa=function(e,t,n){let r=IM||(IM=document.createRange());return r.setEnd(e,n??e.nodeValue.length),r.setStart(e,t||0),r},Bnt=function(){IM=null},Zd=function(e,t,n,r){return n&&(YH(e,t,n,r,-1)||YH(e,t,n,r,1))},Fnt=/^(img|br|input|textarea|hr)$/i;function YH(e,t,n,r,s){for(var i;;){if(e==n&&t==r)return!0;if(t==(s<0?0:Ii(e))){let o=e.parentNode;if(!o||o.nodeType!=1||E0(e)||Fnt.test(e.nodeName)||e.contentEditable=="false")return!1;t=Ur(e)+(s<0?0:1),e=o}else if(e.nodeType==1){let o=e.childNodes[t+(s<0?-1:0)];if(o.nodeType==1&&o.contentEditable=="false")if(!((i=o.pmViewDesc)===null||i===void 0)&&i.ignoreForSelection)t+=s;else return!1;else e=o,t=s<0?Ii(e):0}else return!1}}function Ii(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function znt(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=Ii(e)}else if(e.parentNode&&!E0(e))t=Ur(e),e=e.parentNode;else return null}}function Unt(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!E0(e))t=Ur(e)+1,e=e.parentNode;else return null}}function Hnt(e,t,n){for(let r=t==0,s=t==Ii(e);r||s;){if(e==n)return!0;let i=Ur(e);if(e=e.parentNode,!e)return!1;r=r&&i==0,s=s&&i==Ii(e)}}function E0(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const I_=function(e){return e.focusNode&&Zd(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function qu(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function Wnt(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function Vnt(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:Math.min(Ii(r.offsetNode),r.offset)}}catch{}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:Math.min(Ii(r.startContainer),r.startOffset)}}}const Ea=typeof navigator<"u"?navigator:null,XH=typeof document<"u"?document:null,ku=Ea&&Ea.userAgent||"",LM=/Edge\/(\d+)/.exec(ku),ioe=/MSIE \d/.exec(ku),$M=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ku),Ys=!!(ioe||$M||LM),Kc=ioe?document.documentMode:$M?+$M[1]:LM?+LM[1]:0,qi=!Ys&&/gecko\/(\d+)/i.test(ku);qi&&+(/Firefox\/(\d+)/.exec(ku)||[0,0])[1];const BM=!Ys&&/Chrome\/(\d+)/.exec(ku),as=!!BM,ooe=BM?+BM[1]:0,Es=!Ys&&!!Ea&&/Apple Computer/.test(Ea.vendor),om=Es&&(/Mobile\/\w+/.test(ku)||!!Ea&&Ea.maxTouchPoints>2),Oi=om||(Ea?/Mac/.test(Ea.platform):!1),Gnt=Ea?/Win/.test(Ea.platform):!1,cl=/Android \d/.test(ku),C0=!!XH&&"webkitFontSmoothing"in XH.documentElement.style,qnt=C0?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Knt(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function za(e,t){return typeof e=="number"?e:e[t]}function Ynt(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function JH(e,t,n){let r=e.someProp("scrollThreshold")||0,s=e.someProp("scrollMargin")||5,i=e.dom.ownerDocument;for(let o=n||e.dom;o;){if(o.nodeType!=1){o=im(o);continue}let l=o,c=l==i.body,u=c?Knt(i):Ynt(l),d=0,h=0;if(t.top<u.top+za(r,"top")?h=-(u.top-t.top+za(s,"top")):t.bottom>u.bottom-za(r,"bottom")&&(h=t.bottom-t.top>u.bottom-u.top?t.top+za(s,"top")-u.top:t.bottom-u.bottom+za(s,"bottom")),t.left<u.left+za(r,"left")?d=-(u.left-t.left+za(s,"left")):t.right>u.right-za(r,"right")&&(d=t.right-u.right+za(s,"right")),d||h)if(c)i.defaultView.scrollBy(d,h);else{let p=l.scrollLeft,m=l.scrollTop;h&&(l.scrollTop+=h),d&&(l.scrollLeft+=d);let g=l.scrollLeft-p,y=l.scrollTop-m;t={left:t.left-g,top:t.top-y,right:t.right-g,bottom:t.bottom-y}}let f=c?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(f))break;o=f=="absolute"?o.offsetParent:im(o)}}function Xnt(e){let t=e.dom.getBoundingClientRect(),n=Math.max(0,t.top),r,s;for(let i=(t.left+t.right)/2,o=n+1;o<Math.min(innerHeight,t.bottom);o+=5){let l=e.root.elementFromPoint(i,o);if(!l||l==e.dom||!e.dom.contains(l))continue;let c=l.getBoundingClientRect();if(c.top>=n-20){r=l,s=c.top;break}}return{refDOM:r,refTop:s,stack:aoe(e.dom)}}function aoe(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=im(r));return t}function Jnt({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;loe(n,r==0?0:r-t)}function loe(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:s,left:i}=e[n];r.scrollTop!=s+t&&(r.scrollTop=s+t),r.scrollLeft!=i&&(r.scrollLeft=i)}}let qh=null;function Qnt(e){if(e.setActive)return e.setActive();if(qh)return e.focus(qh);let t=aoe(e);e.focus(qh==null?{get preventScroll(){return qh={preventScroll:!0},!0}}:void 0),qh||(qh=!1,loe(t,0))}function coe(e,t){let n,r=2e8,s,i=0,o=t.top,l=t.top,c,u;for(let d=e.firstChild,h=0;d;d=d.nextSibling,h++){let f;if(d.nodeType==1)f=d.getClientRects();else if(d.nodeType==3)f=Qa(d).getClientRects();else continue;for(let p=0;p<f.length;p++){let m=f[p];if(m.top<=o&&m.bottom>=l){o=Math.max(m.bottom,o),l=Math.min(m.top,l);let g=m.left>t.left?m.left-t.left:m.right<t.left?t.left-m.right:0;if(g<r){n=d,r=g,s=g&&n.nodeType==3?{left:m.right<t.left?m.right:m.left,top:t.top}:t,d.nodeType==1&&g&&(i=h+(t.left>=(m.left+m.right)/2?1:0));continue}}else m.top>t.top&&!c&&m.left<=t.left&&m.right>=t.left&&(c=d,u={left:Math.max(m.left,Math.min(m.right,t.left)),top:m.top});!n&&(t.left>=m.right&&t.top>=m.top||t.left>=m.left&&t.top>=m.bottom)&&(i=h+1)}}return!n&&c&&(n=c,s=u,r=0),n&&n.nodeType==3?Znt(n,s):!n||r&&n.nodeType==1?{node:e,offset:i}:coe(n,s)}function Znt(e,t){let n=e.nodeValue.length,r=document.createRange();for(let s=0;s<n;s++){r.setEnd(e,s+1),r.setStart(e,s);let i=Xl(r,1);if(i.top!=i.bottom&&BL(t,i))return{node:e,offset:s+(t.left>=(i.left+i.right)/2?1:0)}}return{node:e,offset:0}}function BL(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function ert(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function trt(e,t,n){let{node:r,offset:s}=coe(t,n),i=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();i=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return e.docView.posFromDOM(r,s,i)}function nrt(e,t,n,r){let s=-1;for(let i=t,o=!1;i!=e.dom;){let l=e.docView.nearestDesc(i,!0),c;if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)&&((c=l.dom.getBoundingClientRect()).width||c.height)&&(l.node.isBlock&&l.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(l.dom.nodeName)&&(!o&&c.left>r.left||c.top>r.top?s=l.posBefore:(!o&&c.right<r.left||c.bottom<r.top)&&(s=l.posAfter),o=!0),!l.contentDOM&&s<0&&!l.node.isText))return(l.node.isBlock?r.top<(c.top+c.bottom)/2:r.left<(c.left+c.right)/2)?l.posBefore:l.posAfter;i=l.dom.parentNode}return s>-1?s:e.docView.posFromDOM(t,n,-1)}function uoe(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let s=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),i=s;;){let o=e.childNodes[i];if(o.nodeType==1){let l=o.getClientRects();for(let c=0;c<l.length;c++){let u=l[c];if(BL(t,u))return uoe(o,t,u)}}if((i=(i+1)%r)==s)break}return e}function rrt(e,t){let n=e.dom.ownerDocument,r,s=0,i=Vnt(n,t.left,t.top);i&&({node:r,offset:s}=i);let o=(e.root.elementFromPoint?e.root:n).elementFromPoint(t.left,t.top),l;if(!o||!e.dom.contains(o.nodeType!=1?o.parentNode:o)){let u=e.dom.getBoundingClientRect();if(!BL(t,u)||(o=uoe(e.dom,t,u),!o))return null}if(Es)for(let u=o;r&&u;u=im(u))u.draggable&&(r=void 0);if(o=ert(o,t),r){if(qi&&r.nodeType==1&&(s=Math.min(s,r.childNodes.length),s<r.childNodes.length)){let d=r.childNodes[s],h;d.nodeName=="IMG"&&(h=d.getBoundingClientRect()).right<=t.left&&h.bottom>t.top&&s++}let u;C0&&s&&r.nodeType==1&&(u=r.childNodes[s-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=t.top&&s--,r==e.dom&&s==r.childNodes.length-1&&r.lastChild.nodeType==1&&t.top>r.lastChild.getBoundingClientRect().bottom?l=e.state.doc.content.size:(s==0||r.nodeType!=1||r.childNodes[s-1].nodeName!="BR")&&(l=nrt(e,r,s,t))}l==null&&(l=trt(e,o,t));let c=e.docView.nearestDesc(o,!0);return{pos:l,inside:c?c.posAtStart-c.border:-1}}function QH(e){return e.top<e.bottom||e.left<e.right}function Xl(e,t){let n=e.getClientRects();if(n.length){let r=n[t<0?0:n.length-1];if(QH(r))return r}return Array.prototype.find.call(n,QH)||e.getBoundingClientRect()}const srt=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function doe(e,t,n){let{node:r,offset:s,atom:i}=e.docView.domFromPos(t,n<0?-1:1),o=C0||qi;if(r.nodeType==3)if(o&&(srt.test(r.nodeValue)||(n<0?!s:s==r.nodeValue.length))){let c=Xl(Qa(r,s,s),n);if(qi&&s&&/\s/.test(r.nodeValue[s-1])&&s<r.nodeValue.length){let u=Xl(Qa(r,s-1,s-1),-1);if(u.top==c.top){let d=Xl(Qa(r,s,s+1),-1);if(d.top!=c.top)return kg(d,d.left<u.left)}}return c}else{let c=s,u=s,d=n<0?1:-1;return n<0&&!s?(u++,d=-1):n>=0&&s==r.nodeValue.length?(c--,d=1):n<0?c--:u++,kg(Xl(Qa(r,c,u),d),d<0)}if(!e.state.doc.resolve(t-(i||0)).parent.inlineContent){if(i==null&&s&&(n<0||s==Ii(r))){let c=r.childNodes[s-1];if(c.nodeType==1)return yT(c.getBoundingClientRect(),!1)}if(i==null&&s<Ii(r)){let c=r.childNodes[s];if(c.nodeType==1)return yT(c.getBoundingClientRect(),!0)}return yT(r.getBoundingClientRect(),n>=0)}if(i==null&&s&&(n<0||s==Ii(r))){let c=r.childNodes[s-1],u=c.nodeType==3?Qa(c,Ii(c)-(o?0:1)):c.nodeType==1&&(c.nodeName!="BR"||!c.nextSibling)?c:null;if(u)return kg(Xl(u,1),!1)}if(i==null&&s<Ii(r)){let c=r.childNodes[s];for(;c.pmViewDesc&&c.pmViewDesc.ignoreForCoords;)c=c.nextSibling;let u=c?c.nodeType==3?Qa(c,0,o?0:1):c.nodeType==1?c:null:null;if(u)return kg(Xl(u,-1),!0)}return kg(Xl(r.nodeType==3?Qa(r):r,-n),n>=0)}function kg(e,t){if(e.width==0)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function yT(e,t){if(e.height==0)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function hoe(e,t,n){let r=e.state,s=e.root.activeElement;r!=t&&e.updateState(t),s!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),s!=e.dom&&s&&s.focus()}}function irt(e,t,n){let r=t.selection,s=n=="up"?r.$from:r.$to;return hoe(e,t,()=>{let{node:i}=e.docView.domFromPos(s.pos,n=="up"?-1:1);for(;;){let l=e.docView.nearestDesc(i,!0);if(!l)break;if(l.node.isBlock){i=l.contentDOM||l.dom;break}i=l.dom.parentNode}let o=doe(e,s.pos,1);for(let l=i.firstChild;l;l=l.nextSibling){let c;if(l.nodeType==1)c=l.getClientRects();else if(l.nodeType==3)c=Qa(l,0,l.nodeValue.length).getClientRects();else continue;for(let u=0;u<c.length;u++){let d=c[u];if(d.bottom>d.top+1&&(n=="up"?o.top-d.top>(d.bottom-o.top)*2:d.bottom-o.bottom>(o.bottom-d.top)*2))return!1}}return!0})}const ort=/[\u0590-\u08ac]/;function art(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let s=r.parentOffset,i=!s,o=s==r.parent.content.size,l=e.domSelection();return l?!ort.test(r.parent.textContent)||!l.modify?n=="left"||n=="backward"?i:o:hoe(e,t,()=>{let{focusNode:c,focusOffset:u,anchorNode:d,anchorOffset:h}=e.domSelectionRange(),f=l.caretBidiLevel;l.modify("move",n,"character");let p=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:m,focusOffset:g}=e.domSelectionRange(),y=m&&!p.contains(m.nodeType==1?m:m.parentNode)||c==m&&u==g;try{l.collapse(d,h),c&&(c!=d||u!=h)&&l.extend&&l.extend(c,u)}catch{}return f!=null&&(l.caretBidiLevel=f),y}):r.pos==r.start()||r.pos==r.end()}let ZH=null,e8=null,t8=!1;function lrt(e,t,n){return ZH==t&&e8==n?t8:(ZH=t,e8=n,t8=n=="up"||n=="down"?irt(e,t,n):art(e,t,n))}const Ki=0,n8=1,sd=2,Ca=3;class T0{constructor(t,n,r,s){this.parent=t,this.children=n,this.dom=r,this.contentDOM=s,this.dirty=Ki,r.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,n,r){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let n=0;n<this.children.length;n++)t+=this.children[n].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let n=0,r=this.posAtStart;;n++){let s=this.children[n];if(s==t)return r;r+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,n,r){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(r<0){let i,o;if(t==this.contentDOM)i=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;i=t.previousSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(o)+o.size:this.posAtStart}else{let i,o;if(t==this.contentDOM)i=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;i=t.nextSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(o):this.posAtEnd}let s;if(t==this.dom&&this.contentDOM)s=n>Ur(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let i=t;;i=i.parentNode){if(i==this.dom){s=!1;break}if(i.previousSibling)break}if(s==null&&n==t.childNodes.length)for(let i=t;;i=i.parentNode){if(i==this.dom){s=!0;break}if(i.nextSibling)break}}return s??r>0?this.posAtEnd:this.posAtStart}nearestDesc(t,n=!1){for(let r=!0,s=t;s;s=s.parentNode){let i=this.getDesc(s),o;if(i&&(!n||i.node))if(r&&(o=i.nodeDOM)&&!(o.nodeType==1?o.contains(t.nodeType==1?t:t.parentNode):o==t))r=!1;else return i}}getDesc(t){let n=t.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(t,n,r){for(let s=t;s;s=s.parentNode){let i=this.getDesc(s);if(i)return i.localPosFromDOM(t,n,r)}return-1}descAt(t){for(let n=0,r=0;n<this.children.length;n++){let s=this.children[n],i=r+s.size;if(r==t&&i!=r){for(;!s.border&&s.children.length;)for(let o=0;o<s.children.length;o++){let l=s.children[o];if(l.size){s=l;break}}return s}if(t<i)return s.descAt(t-r-s.border);r=i}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let r=0,s=0;for(let i=0;r<this.children.length;r++){let o=this.children[r],l=i+o.size;if(l>t||o instanceof poe){s=t-i;break}i=l}if(s)return this.children[r].domFromPos(s-this.children[r].border,n);for(let i;r&&!(i=this.children[r-1]).size&&i instanceof foe&&i.side>=0;r--);if(n<=0){let i,o=!0;for(;i=r?this.children[r-1]:null,!(!i||i.dom.parentNode==this.contentDOM);r--,o=!1);return i&&n&&o&&!i.border&&!i.domAtom?i.domFromPos(i.size,n):{node:this.contentDOM,offset:i?Ur(i.dom)+1:0}}else{let i,o=!0;for(;i=r<this.children.length?this.children[r]:null,!(!i||i.dom.parentNode==this.contentDOM);r++,o=!1);return i&&o&&!i.border&&!i.domAtom?i.domFromPos(0,n):{node:this.contentDOM,offset:i?Ur(i.dom):this.contentDOM.childNodes.length}}}parseRange(t,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,i=-1;for(let o=r,l=0;;l++){let c=this.children[l],u=o+c.size;if(s==-1&&t<=u){let d=o+c.border;if(t>=d&&n<=u-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(t,n,d);t=o;for(let h=l;h>0;h--){let f=this.children[h-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){s=Ur(f.dom)+1;break}t-=f.size}s==-1&&(s=0)}if(s>-1&&(u>n||l==this.children.length-1)){n=u;for(let d=l+1;d<this.children.length;d++){let h=this.children[d];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(-1)){i=Ur(h.dom);break}n+=h.size}i==-1&&(i=this.contentDOM.childNodes.length);break}o=u}return{node:this.contentDOM,from:t,to:n,fromOffset:s,toOffset:i}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[t<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(t)}domAfterPos(t){let{node:n,offset:r}=this.domFromPos(t,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]}setSelection(t,n,r,s=!1){let i=Math.min(t,n),o=Math.max(t,n);for(let p=0,m=0;p<this.children.length;p++){let g=this.children[p],y=m+g.size;if(i>m&&o<y)return g.setSelection(t-m-g.border,n-m-g.border,r,s);m=y}let l=this.domFromPos(t,t?-1:1),c=n==t?l:this.domFromPos(n,n?-1:1),u=r.root.getSelection(),d=r.domSelectionRange(),h=!1;if((qi||Es)&&t==n){let{node:p,offset:m}=l;if(p.nodeType==3){if(h=!!(m&&p.nodeValue[m-1]==`
`),h&&m==p.nodeValue.length)for(let g=p,y;g;g=g.parentNode){if(y=g.nextSibling){y.nodeName=="BR"&&(l=c={node:y.parentNode,offset:Ur(y)+1});break}let x=g.pmViewDesc;if(x&&x.node&&x.node.isBlock)break}}else{let g=p.childNodes[m-1];h=g&&(g.nodeName=="BR"||g.contentEditable=="false")}}if(qi&&d.focusNode&&d.focusNode!=c.node&&d.focusNode.nodeType==1){let p=d.focusNode.childNodes[d.focusOffset];p&&p.contentEditable=="false"&&(s=!0)}if(!(s||h&&Es)&&Zd(l.node,l.offset,d.anchorNode,d.anchorOffset)&&Zd(c.node,c.offset,d.focusNode,d.focusOffset))return;let f=!1;if((u.extend||t==n)&&!(h&&qi)){u.collapse(l.node,l.offset);try{t!=n&&u.extend(c.node,c.offset),f=!0}catch{}}if(!f){if(t>n){let m=l;l=c,c=m}let p=document.createRange();p.setEnd(c.node,c.offset),p.setStart(l.node,l.offset),u.removeAllRanges(),u.addRange(p)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,n){for(let r=0,s=0;s<this.children.length;s++){let i=this.children[s],o=r+i.size;if(r==o?t<=o&&n>=r:t<o&&n>r){let l=r+i.border,c=o-i.border;if(t>=l&&n<=c){this.dirty=t==r||n==o?sd:n8,t==l&&n==c&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=Ca:i.markDirty(t-l,n-l);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?sd:Ca}r=o}this.dirty=sd}markParentsDirty(){let t=1;for(let n=this.parent;n;n=n.parent,t++){let r=t==1?sd:n8;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(t){return!1}}class foe extends T0{constructor(t,n,r,s){let i,o=n.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!i)return s;if(i.parent)return i.parent.posBeforeChild(i)})),!n.type.spec.raw){if(o.nodeType!=1){let l=document.createElement("span");l.appendChild(o),o=l}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(t,[],o,null),this.widget=n,this.widget=n,i=this}matchesWidget(t){return this.dirty==Ki&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let n=this.widget.spec.stopEvent;return n?n(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class crt extends T0{constructor(t,n,r,s){super(t,[],n,null),this.textDOM=r,this.text=s}get size(){return this.text.length}localPosFromDOM(t,n){return t!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class eh extends T0{constructor(t,n,r,s,i){super(t,[],r,s),this.mark=n,this.spec=i}static create(t,n,r,s){let i=s.nodeViews[n.type.name],o=i&&i(n,s,r);return(!o||!o.dom)&&(o=bh.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new eh(t,n,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&Ca||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=Ca&&this.mark.eq(t)}markDirty(t,n){if(super.markDirty(t,n),this.dirty!=Ki){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Ki}}slice(t,n,r){let s=eh.create(this.parent,this.mark,!0,r),i=this.children,o=this.size;n<o&&(i=zM(i,n,o,r)),t>0&&(i=zM(i,0,t,r));for(let l=0;l<i.length;l++)i[l].parent=s;return s.children=i,s}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Yc extends T0{constructor(t,n,r,s,i,o,l,c,u){super(t,[],i,o),this.node=n,this.outerDeco=r,this.innerDeco=s,this.nodeDOM=l}static create(t,n,r,s,i,o){let l=i.nodeViews[n.type.name],c,u=l&&l(n,i,()=>{if(!c)return o;if(c.parent)return c.parent.posBeforeChild(c)},r,s),d=u&&u.dom,h=u&&u.contentDOM;if(n.isText){if(!d)d=document.createTextNode(n.text);else if(d.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else d||({dom:d,contentDOM:h}=bh.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!h&&!n.isText&&d.nodeName!="BR"&&(d.hasAttribute("contenteditable")||(d.contentEditable="false"),n.type.spec.draggable&&(d.draggable=!0));let f=d;return d=yoe(d,r,n),u?c=new urt(t,n,r,s,d,h||null,f,u,i,o+1):n.isText?new L_(t,n,r,s,d,f,i):new Yc(t,n,r,s,d,h||null,f,i,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=()=>he.empty)}return t}matchesNode(t,n,r){return this.dirty==Ki&&t.eq(this.node)&&EN(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,n){let r=this.node.inlineContent,s=n,i=t.composing?this.localCompositionInfo(t,n):null,o=i&&i.pos>-1?i:null,l=i&&i.pos<0,c=new hrt(this,o&&o.node,t);mrt(this.node,this.innerDeco,(u,d,h)=>{u.spec.marks?c.syncToMarks(u.spec.marks,r,t):u.type.side>=0&&!h&&c.syncToMarks(d==this.node.childCount?en.none:this.node.child(d).marks,r,t),c.placeWidget(u,t,s)},(u,d,h,f)=>{c.syncToMarks(u.marks,r,t);let p;c.findNodeMatch(u,d,h,f)||l&&t.state.selection.from>s&&t.state.selection.to<s+u.nodeSize&&(p=c.findIndexWithChild(i.node))>-1&&c.updateNodeAt(u,d,h,p,t)||c.updateNextNode(u,d,h,t,f,s)||c.addNode(u,d,h,t,s),s+=u.nodeSize}),c.syncToMarks([],r,t),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||this.dirty==sd)&&(o&&this.protectLocalComposition(t,o),moe(this.contentDOM,this.children,t),om&&grt(this.dom))}localCompositionInfo(t,n){let{from:r,to:s}=t.state.selection;if(!(t.state.selection instanceof Ve)||r<n||s>n+this.node.content.size)return null;let i=t.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let o=i.nodeValue,l=yrt(this.node.content,o,r-n,s-n);return l<0?null:{node:i,pos:l,text:o}}else return{node:i,pos:-1,text:""}}protectLocalComposition(t,{node:n,pos:r,text:s}){if(this.getDesc(n))return;let i=n;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let o=new crt(this,i,n,s);t.input.compositionNodes.push(o),this.children=zM(this.children,r,r+s.length,t,o)}update(t,n,r,s){return this.dirty==Ca||!t.sameMarkup(this.node)?!1:(this.updateInner(t,n,r,s),!0)}updateInner(t,n,r,s){this.updateOuterDeco(n),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=Ki}updateOuterDeco(t){if(EN(t,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=goe(this.dom,this.nodeDOM,FM(this.outerDeco,this.node,n),FM(t,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function r8(e,t,n,r,s){yoe(r,t,e);let i=new Yc(void 0,e,t,n,r,r,r,s,0);return i.contentDOM&&i.updateChildren(s,0),i}class L_ extends Yc{constructor(t,n,r,s,i,o,l){super(t,n,r,s,i,null,o,l,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,n,r,s){return this.dirty==Ca||this.dirty!=Ki&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Ki||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=t,this.dirty=Ki,!0)}inParent(){let t=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(t,n,r)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,n,r){let s=this.node.cut(t,n),i=document.createTextNode(s.text);return new L_(this.parent,s,this.outerDeco,this.innerDeco,i,i,r)}markDirty(t,n){super.markDirty(t,n),this.dom!=this.nodeDOM&&(t==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Ca)}get domAtom(){return!1}isText(t){return this.node.text==t}}class poe extends T0{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==Ki&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class urt extends Yc{constructor(t,n,r,s,i,o,l,c,u,d){super(t,n,r,s,i,o,l,u,d),this.spec=c}update(t,n,r,s){if(this.dirty==Ca)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let i=this.spec.update(t,n,r);return i&&this.updateInner(t,n,r,s),i}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,n,r,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,n,r,s){this.spec.setSelection?this.spec.setSelection(t,n,r.root):super.setSelection(t,n,r,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function moe(e,t,n){let r=e.firstChild,s=!1;for(let i=0;i<t.length;i++){let o=t[i],l=o.dom;if(l.parentNode==e){for(;l!=r;)r=s8(r),s=!0;r=r.nextSibling}else s=!0,e.insertBefore(l,r);if(o instanceof eh){let c=r?r.previousSibling:e.lastChild;moe(o.contentDOM,o.children,n),r=c?c.nextSibling:e.firstChild}}for(;r;)r=s8(r),s=!0;s&&n.trackWrites==e&&(n.trackWrites=null)}const _y=function(e){e&&(this.nodeName=e)};_y.prototype=Object.create(null);const id=[new _y];function FM(e,t,n){if(e.length==0)return id;let r=n?id[0]:new _y,s=[r];for(let i=0;i<e.length;i++){let o=e[i].type.attrs;if(o){o.nodeName&&s.push(r=new _y(o.nodeName));for(let l in o){let c=o[l];c!=null&&(n&&s.length==1&&s.push(r=new _y(t.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+c:l=="style"?r.style=(r.style?r.style+";":"")+c:l!="nodeName"&&(r[l]=c))}}}return s}function goe(e,t,n,r){if(n==id&&r==id)return t;let s=t;for(let i=0;i<r.length;i++){let o=r[i],l=n[i];if(i){let c;l&&l.nodeName==o.nodeName&&s!=e&&(c=s.parentNode)&&c.nodeName.toLowerCase()==o.nodeName||(c=document.createElement(o.nodeName),c.pmIsDeco=!0,c.appendChild(s),l=id[0]),s=c}drt(s,l||id[0],o)}return s}function drt(e,t,n){for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&e.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],s=n.class?n.class.split(" ").filter(Boolean):[];for(let i=0;i<r.length;i++)s.indexOf(r[i])==-1&&e.classList.remove(r[i]);for(let i=0;i<s.length;i++)r.indexOf(s[i])==-1&&e.classList.add(s[i]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=r.exec(t.style);)e.style.removeProperty(s[1])}n.style&&(e.style.cssText+=n.style)}}function yoe(e,t,n){return goe(e,e,id,FM(t,n,e.nodeType!=1))}function EN(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function s8(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class hrt{constructor(t,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=frt(t.node.content,t)}destroyBetween(t,n){if(t!=n){for(let r=t;r<n;r++)this.top.children[r].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,n,r){let s=0,i=this.stack.length>>1,o=Math.min(i,t.length);for(;s<o&&(s==i-1?this.top:this.stack[s+1<<1]).matchesMark(t[s])&&t[s].type.spec.spanning!==!1;)s++;for(;s<i;)this.destroyRest(),this.top.dirty=Ki,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<t.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let c=this.index;c<Math.min(this.index+3,this.top.children.length);c++){let u=this.top.children[c];if(u.matchesMark(t[i])&&!this.isLocked(u.dom)){l=c;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let c=eh.create(this.top,t[i],n,r);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,i++}}findNodeMatch(t,n,r,s){let i=-1,o;if(s>=this.preMatch.index&&(o=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&o.matchesNode(t,n,r))i=this.top.children.indexOf(o,this.index);else for(let l=this.index,c=Math.min(this.top.children.length,l+5);l<c;l++){let u=this.top.children[l];if(u.matchesNode(t,n,r)&&!this.preMatch.matched.has(u)){i=l;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(t,n,r,s,i){let o=this.top.children[s];return o.dirty==Ca&&o.dom==o.contentDOM&&(o.dirty=sd),o.update(t,n,r,i)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(t){for(;;){let n=t.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=t.pmViewDesc;if(r){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==r)return s}return-1}t=n}}updateNextNode(t,n,r,s,i,o){for(let l=this.index;l<this.top.children.length;l++){let c=this.top.children[l];if(c instanceof Yc){let u=this.preMatch.matched.get(c);if(u!=null&&u!=i)return!1;let d=c.dom,h,f=this.isLocked(d)&&!(t.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==t.text&&c.dirty!=Ca&&EN(n,c.outerDeco));if(!f&&c.update(t,n,r,s))return this.destroyBetween(this.index,l),c.dom!=d&&(this.changed=!0),this.index++,!0;if(!f&&(h=this.recreateWrapper(c,t,n,r,s,o)))return this.destroyBetween(this.index,l),this.top.children[this.index]=h,h.contentDOM&&(h.dirty=sd,h.updateChildren(s,o+1),h.dirty=Ki),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,n,r,s,i,o){if(t.dirty||n.isAtom||!t.children.length||!t.node.content.eq(n.content)||!EN(r,t.outerDeco)||!s.eq(t.innerDeco))return null;let l=Yc.create(this.top,n,r,s,i,o);if(l.contentDOM){l.children=t.children,t.children=[];for(let c of l.children)c.parent=l}return t.destroy(),l}addNode(t,n,r,s,i){let o=Yc.create(this.top,t,n,r,s,i);o.contentDOM&&o.updateChildren(s,i+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(t,n,r){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(t)&&(t==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let i=new foe(this.top,t,n,r);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],n=this.top;for(;t instanceof eh;)n=t,t=n.children[n.children.length-1];(!t||!(t instanceof L_)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((Es||as)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(t,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(t))this.index++;else{let r=document.createElement(t);t=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),t=="BR"&&(r.className="ProseMirror-trailingBreak");let s=new poe(this.top,[],r,null);n!=this.top?n.children.push(s):n.children.splice(this.index++,0,s),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function frt(e,t){let n=t,r=n.children.length,s=e.childCount,i=new Map,o=[];e:for(;s>0;){let l;for(;;)if(r){let u=n.children[r-1];if(u instanceof eh)n=u,r=u.children.length;else{l=u,r--;break}}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let c=l.node;if(c){if(c!=e.child(s-1))break;--s,i.set(l,s),o.push(l)}}return{index:s,matched:i,matches:o.reverse()}}function prt(e,t){return e.type.side-t.type.side}function mrt(e,t,n,r){let s=t.locals(e),i=0;if(s.length==0){for(let u=0;u<e.childCount;u++){let d=e.child(u);r(d,s,t.forChild(i,d),u),i+=d.nodeSize}return}let o=0,l=[],c=null;for(let u=0;;){let d,h;for(;o<s.length&&s[o].to==i;){let y=s[o++];y.widget&&(d?(h||(h=[d])).push(y):d=y)}if(d)if(h){h.sort(prt);for(let y=0;y<h.length;y++)n(h[y],u,!!c)}else n(d,u,!!c);let f,p;if(c)p=-1,f=c,c=null;else if(u<e.childCount)p=u,f=e.child(u++);else break;for(let y=0;y<l.length;y++)l[y].to<=i&&l.splice(y--,1);for(;o<s.length&&s[o].from<=i&&s[o].to>i;)l.push(s[o++]);let m=i+f.nodeSize;if(f.isText){let y=m;o<s.length&&s[o].from<y&&(y=s[o].from);for(let x=0;x<l.length;x++)l[x].to<y&&(y=l[x].to);y<m&&(c=f.cut(y-i),f=f.cut(0,y-i),m=y,p=-1)}else for(;o<s.length&&s[o].to<m;)o++;let g=f.isInline&&!f.isLeaf?l.filter(y=>!y.inline):l.slice();r(f,g,t.forChild(i,f),p),i=m}}function grt(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function yrt(e,t,n,r){for(let s=0,i=0;s<e.childCount&&i<=r;){let o=e.child(s++),l=i;if(i+=o.nodeSize,!o.isText)continue;let c=o.text;for(;s<e.childCount;){let u=e.child(s++);if(i+=u.nodeSize,!u.isText)break;c+=u.text}if(i>=n){if(i>=r&&c.slice(r-t.length-l,r-l)==t)return r-t.length;let u=l<r?c.lastIndexOf(t,r-l-1):-1;if(u>=0&&u+t.length+l>=n)return l+u;if(n==r&&c.length>=r+t.length-l&&c.slice(r-l,r-l+t.length)==t)return r}}return-1}function zM(e,t,n,r,s){let i=[];for(let o=0,l=0;o<e.length;o++){let c=e[o],u=l,d=l+=c.size;u>=n||d<=t?i.push(c):(u<t&&i.push(c.slice(0,t-u,r)),s&&(i.push(s),s=void 0),d>n&&i.push(c.slice(n-u,c.size,r)))}return i}function FL(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let s=e.docView.nearestDesc(n.focusNode),i=s&&s.size==0,o=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let l=r.resolve(o),c,u;if(I_(n)){for(c=o;s&&!s.node;)s=s.parent;let h=s.node;if(s&&h.isAtom&&He.isSelectable(h)&&s.parent&&!(h.isInline&&Hnt(n.focusNode,n.focusOffset,s.dom))){let f=s.posBefore;u=new He(o==f?l:r.resolve(f))}}else{if(n instanceof e.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let h=o,f=o;for(let p=0;p<n.rangeCount;p++){let m=n.getRangeAt(p);h=Math.min(h,e.docView.posFromDOM(m.startContainer,m.startOffset,1)),f=Math.max(f,e.docView.posFromDOM(m.endContainer,m.endOffset,-1))}if(h<0)return null;[c,o]=f==e.state.selection.anchor?[f,h]:[h,f],l=r.resolve(o)}else c=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(c<0)return null}let d=r.resolve(c);if(!u){let h=t=="pointer"||e.state.selection.head<l.pos&&!i?1:-1;u=zL(e,d,l,h)}return u}function xoe(e){return e.editable?e.hasFocus():boe(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function vl(e,t=!1){let n=e.state.selection;if(voe(e,n),!!xoe(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&as){let r=e.domSelectionRange(),s=e.domObserver.currentSelection;if(r.anchorNode&&s.anchorNode&&Zd(r.anchorNode,r.anchorOffset,s.anchorNode,s.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)vrt(e);else{let{anchor:r,head:s}=n,i,o;i8&&!(n instanceof Ve)&&(n.$from.parent.inlineContent||(i=o8(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=o8(e,n.to))),e.docView.setSelection(r,s,e,t),i8&&(i&&a8(i),o&&a8(o)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&xrt(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const i8=Es||as&&ooe<63;function o8(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),s=r<n.childNodes.length?n.childNodes[r]:null,i=r?n.childNodes[r-1]:null;if(Es&&s&&s.contentEditable=="false")return xT(s);if((!s||s.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(s)return xT(s);if(i)return xT(i)}}function xT(e){return e.contentEditable="true",Es&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function a8(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function xrt(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,s=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=s)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!xoe(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function vrt(e){let t=e.domSelection();if(!t)return;let n=e.cursorWrapper.dom,r=n.nodeName=="IMG";r?t.collapse(n.parentNode,Ur(n)+1):t.collapse(n,0),!r&&!e.state.selection.visible&&Ys&&Kc<=11&&(n.disabled=!0,n.disabled=!1)}function voe(e,t){if(t instanceof He){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(l8(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else l8(e)}function l8(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function zL(e,t,n,r){return e.someProp("createSelectionBetween",s=>s(e,t,n))||Ve.between(t,n,r)}function c8(e){return e.editable&&!e.hasFocus()?!1:boe(e)}function boe(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function brt(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return Zd(t.node,t.offset,n.anchorNode,n.anchorOffset)}function UM(e,t){let{$anchor:n,$head:r}=e.selection,s=t>0?n.max(r):n.min(r),i=s.parent.inlineContent?s.depth?e.doc.resolve(t>0?s.after():s.before()):null:s;return i&&Xe.findFrom(i,t)}function tc(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function u8(e,t,n){let r=e.state.selection;if(r instanceof Ve)if(n.indexOf("s")>-1){let{$head:s}=r,i=s.textOffset?null:t<0?s.nodeBefore:s.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let o=e.state.doc.resolve(s.pos+i.nodeSize*(t<0?-1:1));return tc(e,new Ve(r.$anchor,o))}else if(r.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let s=UM(e.state,t);return s&&s instanceof He?tc(e,s):!1}else if(!(Oi&&n.indexOf("m")>-1)){let s=r.$head,i=s.textOffset?null:t<0?s.nodeBefore:s.nodeAfter,o;if(!i||i.isText)return!1;let l=t<0?s.pos-i.nodeSize:s.pos;return i.isAtom||(o=e.docView.descAt(l))&&!o.contentDOM?He.isSelectable(i)?tc(e,new He(t<0?e.state.doc.resolve(s.pos-i.nodeSize):s)):C0?tc(e,new Ve(e.state.doc.resolve(t<0?l:l+i.nodeSize))):!1:!1}}else return!1;else{if(r instanceof He&&r.node.isInline)return tc(e,new Ve(t>0?r.$to:r.$from));{let s=UM(e.state,t);return s?tc(e,s):!1}}}function CN(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function Ey(e,t){let n=e.pmViewDesc;return n&&n.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function Kh(e,t){return t<0?wrt(e):Srt(e)}function wrt(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let s,i,o=!1;for(qi&&n.nodeType==1&&r<CN(n)&&Ey(n.childNodes[r],-1)&&(o=!0);;)if(r>0){if(n.nodeType!=1)break;{let l=n.childNodes[r-1];if(Ey(l,-1))s=n,i=--r;else if(l.nodeType==3)n=l,r=n.nodeValue.length;else break}}else{if(woe(n))break;{let l=n.previousSibling;for(;l&&Ey(l,-1);)s=n.parentNode,i=Ur(l),l=l.previousSibling;if(l)n=l,r=CN(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}o?HM(e,n,r):s&&HM(e,s,i)}function Srt(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let s=CN(n),i,o;for(;;)if(r<s){if(n.nodeType!=1)break;let l=n.childNodes[r];if(Ey(l,1))i=n,o=++r;else break}else{if(woe(n))break;{let l=n.nextSibling;for(;l&&Ey(l,1);)i=l.parentNode,o=Ur(l)+1,l=l.nextSibling;if(l)n=l,r=0,s=CN(n);else{if(n=n.parentNode,n==e.dom)break;r=s=0}}}i&&HM(e,i,o)}function woe(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function Nrt(e,t){for(;e&&t==e.childNodes.length&&!E0(e);)t=Ur(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=0}}function krt(e,t){for(;e&&!t&&!E0(e);)t=Ur(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=e.childNodes.length}}function HM(e,t,n){if(t.nodeType!=3){let i,o;(o=Nrt(t,n))?(t=o,n=0):(i=krt(t,n))&&(t=i,n=i.nodeValue.length)}let r=e.domSelection();if(!r)return;if(I_(r)){let i=document.createRange();i.setEnd(t,n),i.setStart(t,n),r.removeAllRanges(),r.addRange(i)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:s}=e;setTimeout(()=>{e.state==s&&vl(e)},50)}function d8(e,t){let n=e.state.doc.resolve(t);if(!(as||Gnt)&&n.parent.inlineContent){let s=e.coordsAtPos(t);if(t>n.start()){let i=e.coordsAtPos(t-1),o=(i.top+i.bottom)/2;if(o>s.top&&o<s.bottom&&Math.abs(i.left-s.left)>1)return i.left<s.left?"ltr":"rtl"}if(t<n.end()){let i=e.coordsAtPos(t+1),o=(i.top+i.bottom)/2;if(o>s.top&&o<s.bottom&&Math.abs(i.left-s.left)>1)return i.left>s.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function h8(e,t,n){let r=e.state.selection;if(r instanceof Ve&&!r.empty||n.indexOf("s")>-1||Oi&&n.indexOf("m")>-1)return!1;let{$from:s,$to:i}=r;if(!s.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let o=UM(e.state,t);if(o&&o instanceof He)return tc(e,o)}if(!s.parent.inlineContent){let o=t<0?s:i,l=r instanceof fi?Xe.near(o,t):Xe.findFrom(o,t);return l?tc(e,l):!1}return!1}function f8(e,t){if(!(e.state.selection instanceof Ve))return!0;let{$head:n,$anchor:r,empty:s}=e.state.selection;if(!n.sameParent(r))return!0;if(!s)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let i=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let o=e.state.tr;return t<0?o.delete(n.pos-i.nodeSize,n.pos):o.delete(n.pos,n.pos+i.nodeSize),e.dispatch(o),!0}return!1}function p8(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function jrt(e){if(!Es||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&t.nodeType==1&&n==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let r=t.firstChild;p8(e,r,"true"),setTimeout(()=>p8(e,r,"false"),20)}return!1}function _rt(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function Ert(e,t){let n=t.keyCode,r=_rt(t);if(n==8||Oi&&n==72&&r=="c")return f8(e,-1)||Kh(e,-1);if(n==46&&!t.shiftKey||Oi&&n==68&&r=="c")return f8(e,1)||Kh(e,1);if(n==13||n==27)return!0;if(n==37||Oi&&n==66&&r=="c"){let s=n==37?d8(e,e.state.selection.from)=="ltr"?-1:1:-1;return u8(e,s,r)||Kh(e,s)}else if(n==39||Oi&&n==70&&r=="c"){let s=n==39?d8(e,e.state.selection.from)=="ltr"?1:-1:1;return u8(e,s,r)||Kh(e,s)}else{if(n==38||Oi&&n==80&&r=="c")return h8(e,-1,r)||Kh(e,-1);if(n==40||Oi&&n==78&&r=="c")return jrt(e)||h8(e,1,r)||Kh(e,1);if(r==(Oi?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function UL(e,t){e.someProp("transformCopied",p=>{t=p(t,e)});let n=[],{content:r,openStart:s,openEnd:i}=t;for(;s>1&&i>1&&r.childCount==1&&r.firstChild.childCount==1;){s--,i--;let p=r.firstChild;n.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),r=p.content}let o=e.someProp("clipboardSerializer")||bh.fromSchema(e.state.schema),l=Eoe(),c=l.createElement("div");c.appendChild(o.serializeFragment(r,{document:l}));let u=c.firstChild,d,h=0;for(;u&&u.nodeType==1&&(d=_oe[u.nodeName.toLowerCase()]);){for(let p=d.length-1;p>=0;p--){let m=l.createElement(d[p]);for(;c.firstChild;)m.appendChild(c.firstChild);c.appendChild(m),h++}u=c.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${s} ${i}${h?` -${h}`:""} ${JSON.stringify(n)}`);let f=e.someProp("clipboardTextSerializer",p=>p(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:c,text:f,slice:t}}function Soe(e,t,n,r,s){let i=s.parent.type.spec.code,o,l;if(!n&&!t)return null;let c=!!t&&(r||i||!n);if(c){if(e.someProp("transformPastedText",f=>{t=f(t,i||r,e)}),i)return l=new Te(he.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0),e.someProp("transformPasted",f=>{l=f(l,e,!0)}),l;let h=e.someProp("clipboardTextParser",f=>f(t,s,r,e));if(h)l=h;else{let f=s.marks(),{schema:p}=e.state,m=bh.fromSchema(p);o=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(g=>{let y=o.appendChild(document.createElement("p"));g&&y.appendChild(m.serializeNode(p.text(g,f)))})}}else e.someProp("transformPastedHTML",h=>{n=h(n,e)}),o=Ort(n),C0&&Mrt(o);let u=o&&o.querySelector("[data-pm-slice]"),d=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let h=+d[3];h>0;h--){let f=o.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;o=f}if(l||(l=(e.someProp("clipboardParser")||e.someProp("domParser")||qc.fromSchema(e.state.schema)).parseSlice(o,{preserveWhitespace:!!(c||d),context:s,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!Crt.test(f.parentNode.nodeName)?{ignore:!0}:null}})),d)l=Prt(m8(l,+d[1],+d[2]),d[4]);else if(l=Te.maxOpen(Trt(l.content,s),!0),l.openStart||l.openEnd){let h=0,f=0;for(let p=l.content.firstChild;h<l.openStart&&!p.type.spec.isolating;h++,p=p.firstChild);for(let p=l.content.lastChild;f<l.openEnd&&!p.type.spec.isolating;f++,p=p.lastChild);l=m8(l,h,f)}return e.someProp("transformPasted",h=>{l=h(l,e,c)}),l}const Crt=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Trt(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let s=t.node(n).contentMatchAt(t.index(n)),i,o=[];if(e.forEach(l=>{if(!o)return;let c=s.findWrapping(l.type),u;if(!c)return o=null;if(u=o.length&&i.length&&koe(c,i,l,o[o.length-1],0))o[o.length-1]=u;else{o.length&&(o[o.length-1]=joe(o[o.length-1],i.length));let d=Noe(l,c);o.push(d),s=s.matchType(d.type),i=c}}),o)return he.from(o)}return e}function Noe(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,he.from(e));return e}function koe(e,t,n,r,s){if(s<e.length&&s<t.length&&e[s]==t[s]){let i=koe(e,t,n,r.lastChild,s+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));if(r.contentMatchAt(r.childCount).matchType(s==e.length-1?n.type:e[s+1]))return r.copy(r.content.append(he.from(Noe(n,e,s+1))))}}function joe(e,t){if(t==0)return e;let n=e.content.replaceChild(e.childCount-1,joe(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(he.empty,!0);return e.copy(n.append(r))}function WM(e,t,n,r,s,i){let o=t<0?e.firstChild:e.lastChild,l=o.content;return e.childCount>1&&(i=0),s<r-1&&(l=WM(l,t,n,r,s+1,i)),s>=n&&(l=t<0?o.contentMatchAt(0).fillBefore(l,i<=s).append(l):l.append(o.contentMatchAt(o.childCount).fillBefore(he.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,o.copy(l))}function m8(e,t,n){return t<e.openStart&&(e=new Te(WM(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new Te(WM(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const _oe={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let g8=null;function Eoe(){return g8||(g8=document.implementation.createHTMLDocument("title"))}let vT=null;function Art(e){let t=window.trustedTypes;return t?(vT||(vT=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),vT.createHTML(e)):e}function Ort(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n=Eoe().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e),s;if((s=r&&_oe[r[1].toLowerCase()])&&(e=s.map(i=>"<"+i+">").join("")+e+s.map(i=>"</"+i+">").reverse().join("")),n.innerHTML=Art(e),s)for(let i=0;i<s.length;i++)n=n.querySelector(s[i])||n;return n}function Mrt(e){let t=e.querySelectorAll(as?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}function Prt(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,r;try{r=JSON.parse(t)}catch{return e}let{content:s,openStart:i,openEnd:o}=e;for(let l=r.length-2;l>=0;l-=2){let c=n.nodes[r[l]];if(!c||c.hasRequiredAttrs())break;s=he.from(c.create(r[l+1],s)),i++,o++}return new Te(s,i,o)}const Cs={},Ts={},Drt={touchstart:!0,touchmove:!0};class Rrt{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Irt(e){for(let t in Cs){let n=Cs[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=r=>{$rt(e,r)&&!HL(e,r)&&(e.editable||!(r.type in Ts))&&n(e,r)},Drt[t]?{passive:!0}:void 0)}Es&&e.dom.addEventListener("input",()=>null),VM(e)}function _c(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function Lrt(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function VM(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=r=>HL(e,r))})}function HL(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return r?r(e,t)||t.defaultPrevented:!1})}function $rt(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function Brt(e,t){!HL(e,t)&&Cs[t.type]&&(e.editable||!(t.type in Ts))&&Cs[t.type](e,t)}Ts.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=n.keyCode==16||n.shiftKey,!Toe(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!(cl&&as&&n.keyCode==13)))if(n.keyCode!=229&&e.domObserver.forceFlush(),om&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();e.input.lastIOSEnter=r,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==r&&(e.someProp("handleKeyDown",s=>s(e,qu(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",r=>r(e,n))||Ert(e,n)?n.preventDefault():_c(e,"key")};Ts.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};Ts.keypress=(e,t)=>{let n=t;if(Toe(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||Oi&&n.metaKey)return;if(e.someProp("handleKeyPress",s=>s(e,n))){n.preventDefault();return}let r=e.state.selection;if(!(r instanceof Ve)||!r.$from.sameParent(r.$to)){let s=String.fromCharCode(n.charCode),i=()=>e.state.tr.insertText(s).scrollIntoView();!/[\r\n]/.test(s)&&!e.someProp("handleTextInput",o=>o(e,r.$from.pos,r.$to.pos,s,i))&&e.dispatch(i()),n.preventDefault()}};function $_(e){return{left:e.clientX,top:e.clientY}}function Frt(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}function WL(e,t,n,r,s){if(r==-1)return!1;let i=e.state.doc.resolve(r);for(let o=i.depth+1;o>0;o--)if(e.someProp(t,l=>o>i.depth?l(e,n,i.nodeAfter,i.before(o),s,!0):l(e,n,i.node(o),i.before(o),s,!1)))return!0;return!1}function ep(e,t,n){if(e.focused||e.focus(),e.state.selection.eq(t))return;let r=e.state.tr.setSelection(t);r.setMeta("pointer",!0),e.dispatch(r)}function zrt(e,t){if(t==-1)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return r&&r.isAtom&&He.isSelectable(r)?(ep(e,new He(n)),!0):!1}function Urt(e,t){if(t==-1)return!1;let n=e.state.selection,r,s;n instanceof He&&(r=n.node);let i=e.state.doc.resolve(t);for(let o=i.depth+1;o>0;o--){let l=o>i.depth?i.nodeAfter:i.node(o);if(He.isSelectable(l)){r&&n.$from.depth>0&&o>=n.$from.depth&&i.before(n.$from.depth+1)==n.$from.pos?s=i.before(n.$from.depth):s=i.before(o);break}}return s!=null?(ep(e,He.create(e.state.doc,s)),!0):!1}function Hrt(e,t,n,r,s){return WL(e,"handleClickOn",t,n,r)||e.someProp("handleClick",i=>i(e,t,r))||(s?Urt(e,n):zrt(e,n))}function Wrt(e,t,n,r){return WL(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",s=>s(e,t,r))}function Vrt(e,t,n,r){return WL(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",s=>s(e,t,r))||Grt(e,n,r)}function Grt(e,t,n){if(n.button!=0)return!1;let r=e.state.doc;if(t==-1)return r.inlineContent?(ep(e,Ve.create(r,0,r.content.size)),!0):!1;let s=r.resolve(t);for(let i=s.depth+1;i>0;i--){let o=i>s.depth?s.nodeAfter:s.node(i),l=s.before(i);if(o.inlineContent)ep(e,Ve.create(r,l+1,l+1+o.content.size));else if(He.isSelectable(o))ep(e,He.create(r,l));else continue;return!0}}function VL(e){return TN(e)}const Coe=Oi?"metaKey":"ctrlKey";Cs.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=VL(e),s=Date.now(),i="singleClick";s-e.input.lastClick.time<500&&Frt(n,e.input.lastClick)&&!n[Coe]&&e.input.lastClick.button==n.button&&(e.input.lastClick.type=="singleClick"?i="doubleClick":e.input.lastClick.type=="doubleClick"&&(i="tripleClick")),e.input.lastClick={time:s,x:n.clientX,y:n.clientY,type:i,button:n.button};let o=e.posAtCoords($_(n));o&&(i=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new qrt(e,o,n,!!r)):(i=="doubleClick"?Wrt:Vrt)(e,o.pos,o.inside,n)?n.preventDefault():_c(e,"pointer"))};class qrt{constructor(t,n,r,s){this.view=t,this.pos=n,this.event=r,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[Coe],this.allowDefault=r.shiftKey;let i,o;if(n.inside>-1)i=t.state.doc.nodeAt(n.inside),o=n.inside;else{let d=t.state.doc.resolve(n.pos);i=d.parent,o=d.depth?d.before():0}const l=s?null:r.target,c=l?t.docView.nearestDesc(l,!0):null;this.target=c&&c.nodeDOM.nodeType==1?c.nodeDOM:null;let{selection:u}=t.state;(r.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||u instanceof He&&u.from<=o&&u.to>o)&&(this.mightDrag={node:i,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&qi&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),_c(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>vl(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords($_(t))),this.updateAllowDefault(t),this.allowDefault||!n?_c(this.view,"pointer"):Hrt(this.view,n.pos,n.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||Es&&this.mightDrag&&!this.mightDrag.node.isAtom||as&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(ep(this.view,Xe.near(this.view.state.doc.resolve(n.pos))),t.preventDefault()):_c(this.view,"pointer")}move(t){this.updateAllowDefault(t),_c(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}Cs.touchstart=e=>{e.input.lastTouch=Date.now(),VL(e),_c(e,"pointer")};Cs.touchmove=e=>{e.input.lastTouch=Date.now(),_c(e,"pointer")};Cs.contextmenu=e=>VL(e);function Toe(e,t){return e.composing?!0:Es&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const Krt=cl?5e3:-1;Ts.compositionstart=Ts.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$to;if(t.selection instanceof Ve&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))e.markCursor=e.state.storedMarks||n.marks(),TN(e,!0),e.markCursor=null;else if(TN(e,!t.selection.empty),qi&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=e.domSelectionRange();for(let s=r.focusNode,i=r.focusOffset;s&&s.nodeType==1&&i!=0;){let o=i<0?s.lastChild:s.childNodes[i-1];if(!o)break;if(o.nodeType==3){let l=e.domSelection();l&&l.collapse(o,o.nodeValue.length);break}else s=o,i=-1}}e.input.composing=!0}Aoe(e,Krt)};Ts.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,Aoe(e,20))};function Aoe(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>TN(e),t))}function Ooe(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=Xrt());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function Yrt(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=znt(t.focusNode,t.focusOffset),r=Unt(t.focusNode,t.focusOffset);if(n&&r&&n!=r){let s=r.pmViewDesc,i=e.domObserver.lastChangedTextNode;if(n==i||r==i)return i;if(!s||!s.isText(r.nodeValue))return r;if(e.input.compositionNode==r){let o=n.pmViewDesc;if(!(!o||!o.isText(n.nodeValue)))return r}}return n||r}function Xrt(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function TN(e,t=!1){if(!(cl&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),Ooe(e),t||e.docView&&e.docView.dirty){let n=FL(e),r=e.state.selection;return n&&!n.eq(r)?e.dispatch(e.state.tr.setSelection(n)):(e.markCursor||t)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?e.dispatch(e.state.tr.deleteSelection()):e.updateState(e.state),!0}return!1}}function Jrt(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),s=document.createRange();s.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(s),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}const cv=Ys&&Kc<15||om&&qnt<604;Cs.copy=Ts.cut=(e,t)=>{let n=t,r=e.state.selection,s=n.type=="cut";if(r.empty)return;let i=cv?null:n.clipboardData,o=r.content(),{dom:l,text:c}=UL(e,o);i?(n.preventDefault(),i.clearData(),i.setData("text/html",l.innerHTML),i.setData("text/plain",c)):Jrt(e,l),s&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Qrt(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function Zrt(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let s=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?uv(e,r.value,null,s,t):uv(e,r.textContent,r.innerHTML,s,t)},50)}function uv(e,t,n,r,s){let i=Soe(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",c=>c(e,s,i||Te.empty)))return!0;if(!i)return!1;let o=Qrt(i),l=o?e.state.tr.replaceSelectionWith(o,r):e.state.tr.replaceSelection(i);return e.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Moe(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Ts.paste=(e,t)=>{let n=t;if(e.composing&&!cl)return;let r=cv?null:n.clipboardData,s=e.input.shiftKey&&e.input.lastKeyCode!=45;r&&uv(e,Moe(r),r.getData("text/html"),s,n)?n.preventDefault():Zrt(e,n)};class Poe{constructor(t,n,r){this.slice=t,this.move=n,this.node=r}}const est=Oi?"altKey":"ctrlKey";function Doe(e,t){let n=e.someProp("dragCopies",r=>!r(t));return n??!t[est]}Cs.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let s=e.state.selection,i=s.empty?null:e.posAtCoords($_(n)),o;if(!(i&&i.pos>=s.from&&i.pos<=(s instanceof He?s.to-1:s.to))){if(r&&r.mightDrag)o=He.create(e.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let h=e.docView.nearestDesc(n.target,!0);h&&h.node.type.spec.draggable&&h!=e.docView&&(o=He.create(e.state.doc,h.posBefore))}}let l=(o||e.state.selection).content(),{dom:c,text:u,slice:d}=UL(e,l);(!n.dataTransfer.files.length||!as||ooe>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(cv?"Text":"text/html",c.innerHTML),n.dataTransfer.effectAllowed="copyMove",cv||n.dataTransfer.setData("text/plain",u),e.dragging=new Poe(d,Doe(e,n),o)};Cs.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};Ts.dragover=Ts.dragenter=(e,t)=>t.preventDefault();Ts.drop=(e,t)=>{let n=t,r=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let s=e.posAtCoords($_(n));if(!s)return;let i=e.state.doc.resolve(s.pos),o=r&&r.slice;o?e.someProp("transformPasted",m=>{o=m(o,e,!1)}):o=Soe(e,Moe(n.dataTransfer),cv?null:n.dataTransfer.getData("text/html"),!1,i);let l=!!(r&&Doe(e,n));if(e.someProp("handleDrop",m=>m(e,n,o||Te.empty,l))){n.preventDefault();return}if(!o)return;n.preventDefault();let c=o?Bie(e.state.doc,i.pos,o):i.pos;c==null&&(c=i.pos);let u=e.state.tr;if(l){let{node:m}=r;m?m.replace(u):u.deleteSelection()}let d=u.mapping.map(c),h=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,f=u.doc;if(h?u.replaceRangeWith(d,d,o.content.firstChild):u.replaceRange(d,d,o),u.doc.eq(f))return;let p=u.doc.resolve(d);if(h&&He.isSelectable(o.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(o.content.firstChild))u.setSelection(new He(p));else{let m=u.mapping.map(c);u.mapping.maps[u.mapping.maps.length-1].forEach((g,y,x,b)=>m=b),u.setSelection(zL(e,p,u.doc.resolve(m)))}e.focus(),e.dispatch(u.setMeta("uiEvent","drop"))};Cs.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&vl(e)},20))};Cs.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};Cs.beforeinput=(e,t)=>{if(as&&cl&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:r}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=r||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",i=>i(e,qu(8,"Backspace")))))return;let{$cursor:s}=e.state.selection;s&&s.pos>0&&e.dispatch(e.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let e in Ts)Cs[e]=Ts[e];function dv(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class AN{constructor(t,n){this.toDOM=t,this.spec=n||jd,this.side=this.spec.side||0}map(t,n,r,s){let{pos:i,deleted:o}=t.mapResult(n.from+s,this.side<0?-1:1);return o?null:new br(i-r,i-r,this)}valid(){return!0}eq(t){return this==t||t instanceof AN&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&dv(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class Xc{constructor(t,n){this.attrs=t,this.spec=n||jd}map(t,n,r,s){let i=t.map(n.from+s,this.spec.inclusiveStart?-1:1)-r,o=t.map(n.to+s,this.spec.inclusiveEnd?1:-1)-r;return i>=o?null:new br(i,o,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof Xc&&dv(this.attrs,t.attrs)&&dv(this.spec,t.spec)}static is(t){return t.type instanceof Xc}destroy(){}}class GL{constructor(t,n){this.attrs=t,this.spec=n||jd}map(t,n,r,s){let i=t.mapResult(n.from+s,1);if(i.deleted)return null;let o=t.mapResult(n.to+s,-1);return o.deleted||o.pos<=i.pos?null:new br(i.pos-r,o.pos-r,this)}valid(t,n){let{index:r,offset:s}=t.content.findIndex(n.from),i;return s==n.from&&!(i=t.child(r)).isText&&s+i.nodeSize==n.to}eq(t){return this==t||t instanceof GL&&dv(this.attrs,t.attrs)&&dv(this.spec,t.spec)}destroy(){}}class br{constructor(t,n,r){this.from=t,this.to=n,this.type=r}copy(t,n){return new br(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,r){return this.type.map(t,this,n,r)}static widget(t,n,r){return new br(t,t,new AN(n,r))}static inline(t,n,r,s){return new br(t,n,new Xc(r,s))}static node(t,n,r,s){return new br(t,n,new GL(r,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof Xc}get widget(){return this.type instanceof AN}}const rf=[],jd={};class Zt{constructor(t,n){this.local=t.length?t:rf,this.children=n.length?n:rf}static create(t,n){return n.length?ON(n,t,0,jd):es}find(t,n,r){let s=[];return this.findInner(t??0,n??1e9,s,0,r),s}findInner(t,n,r,s,i){for(let o=0;o<this.local.length;o++){let l=this.local[o];l.from<=n&&l.to>=t&&(!i||i(l.spec))&&r.push(l.copy(l.from+s,l.to+s))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>t){let l=this.children[o]+1;this.children[o+2].findInner(t-l,n-l,r,s+l,i)}}map(t,n,r){return this==es||t.maps.length==0?this:this.mapInner(t,n,0,0,r||jd)}mapInner(t,n,r,s,i){let o;for(let l=0;l<this.local.length;l++){let c=this.local[l].map(t,r,s);c&&c.type.valid(n,c)?(o||(o=[])).push(c):i.onRemove&&i.onRemove(this.local[l].spec)}return this.children.length?tst(this.children,o||[],t,n,r,s,i):o?new Zt(o.sort(_d),rf):es}add(t,n){return n.length?this==es?Zt.create(t,n):this.addInner(t,n,0):this}addInner(t,n,r){let s,i=0;t.forEach((l,c)=>{let u=c+r,d;if(d=Ioe(n,l,u)){for(s||(s=this.children.slice());i<s.length&&s[i]<c;)i+=3;s[i]==c?s[i+2]=s[i+2].addInner(l,d,u+1):s.splice(i,0,c,c+l.nodeSize,ON(d,l,u+1,jd)),i+=3}});let o=Roe(i?Loe(n):n,-r);for(let l=0;l<o.length;l++)o[l].type.valid(t,o[l])||o.splice(l--,1);return new Zt(o.length?this.local.concat(o).sort(_d):this.local,s||this.children)}remove(t){return t.length==0||this==es?this:this.removeInner(t,0)}removeInner(t,n){let r=this.children,s=this.local;for(let i=0;i<r.length;i+=3){let o,l=r[i]+n,c=r[i+1]+n;for(let d=0,h;d<t.length;d++)(h=t[d])&&h.from>l&&h.to<c&&(t[d]=null,(o||(o=[])).push(h));if(!o)continue;r==this.children&&(r=this.children.slice());let u=r[i+2].removeInner(o,l+1);u!=es?r[i+2]=u:(r.splice(i,3),i-=3)}if(s.length){for(let i=0,o;i<t.length;i++)if(o=t[i])for(let l=0;l<s.length;l++)s[l].eq(o,n)&&(s==this.local&&(s=this.local.slice()),s.splice(l--,1))}return r==this.children&&s==this.local?this:s.length||r.length?new Zt(s,r):es}forChild(t,n){if(this==es)return this;if(n.isLeaf)return Zt.empty;let r,s;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=t){this.children[l]==t&&(r=this.children[l+2]);break}let i=t+1,o=i+n.content.size;for(let l=0;l<this.local.length;l++){let c=this.local[l];if(c.from<o&&c.to>i&&c.type instanceof Xc){let u=Math.max(i,c.from)-i,d=Math.min(o,c.to)-i;u<d&&(s||(s=[])).push(c.copy(u,d))}}if(s){let l=new Zt(s.sort(_d),rf);return r?new cc([l,r]):l}return r||es}eq(t){if(this==t)return!0;if(!(t instanceof Zt)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0}locals(t){return qL(this.localsInner(t))}localsInner(t){if(this==es)return rf;if(t.inlineContent||!this.local.some(Xc.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Xc||n.push(this.local[r]);return n}forEachSet(t){t(this)}}Zt.empty=new Zt([],[]);Zt.removeOverlap=qL;const es=Zt.empty;class cc{constructor(t){this.members=t}map(t,n){const r=this.members.map(s=>s.map(t,n,jd));return cc.from(r)}forChild(t,n){if(n.isLeaf)return Zt.empty;let r=[];for(let s=0;s<this.members.length;s++){let i=this.members[s].forChild(t,n);i!=es&&(i instanceof cc?r=r.concat(i.members):r.push(i))}return cc.from(r)}eq(t){if(!(t instanceof cc)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,r=!0;for(let s=0;s<this.members.length;s++){let i=this.members[s].localsInner(t);if(i.length)if(!n)n=i;else{r&&(n=n.slice(),r=!1);for(let o=0;o<i.length;o++)n.push(i[o])}}return n?qL(r?n:n.sort(_d)):rf}static from(t){switch(t.length){case 0:return es;case 1:return t[0];default:return new cc(t.every(n=>n instanceof Zt)?t:t.reduce((n,r)=>n.concat(r instanceof Zt?r:r.members),[]))}}forEachSet(t){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(t)}}function tst(e,t,n,r,s,i,o){let l=e.slice();for(let u=0,d=i;u<n.maps.length;u++){let h=0;n.maps[u].forEach((f,p,m,g)=>{let y=g-m-(p-f);for(let x=0;x<l.length;x+=3){let b=l[x+1];if(b<0||f>b+d-h)continue;let w=l[x]+d-h;p>=w?l[x+1]=f<=w?-2:-1:f>=d&&y&&(l[x]+=y,l[x+1]+=y)}h+=y}),d=n.maps[u].map(d,-1)}let c=!1;for(let u=0;u<l.length;u+=3)if(l[u+1]<0){if(l[u+1]==-2){c=!0,l[u+1]=-1;continue}let d=n.map(e[u]+i),h=d-s;if(h<0||h>=r.content.size){c=!0;continue}let f=n.map(e[u+1]+i,-1),p=f-s,{index:m,offset:g}=r.content.findIndex(h),y=r.maybeChild(m);if(y&&g==h&&g+y.nodeSize==p){let x=l[u+2].mapInner(n,y,d+1,e[u]+i+1,o);x!=es?(l[u]=h,l[u+1]=p,l[u+2]=x):(l[u+1]=-2,c=!0)}else c=!0}if(c){let u=nst(l,e,t,n,s,i,o),d=ON(u,r,0,o);t=d.local;for(let h=0;h<l.length;h+=3)l[h+1]<0&&(l.splice(h,3),h-=3);for(let h=0,f=0;h<d.children.length;h+=3){let p=d.children[h];for(;f<l.length&&l[f]<p;)f+=3;l.splice(f,0,d.children[h],d.children[h+1],d.children[h+2])}}return new Zt(t.sort(_d),l)}function Roe(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let s=e[r];n.push(new br(s.from+t,s.to+t,s.type))}return n}function nst(e,t,n,r,s,i,o){function l(c,u){for(let d=0;d<c.local.length;d++){let h=c.local[d].map(r,s,u);h?n.push(h):o.onRemove&&o.onRemove(c.local[d].spec)}for(let d=0;d<c.children.length;d+=3)l(c.children[d+2],c.children[d]+u+1)}for(let c=0;c<e.length;c+=3)e[c+1]==-1&&l(e[c+2],t[c]+i+1);return n}function Ioe(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,s=null;for(let i=0,o;i<e.length;i++)(o=e[i])&&o.from>n&&o.to<r&&((s||(s=[])).push(o),e[i]=null);return s}function Loe(e){let t=[];for(let n=0;n<e.length;n++)e[n]!=null&&t.push(e[n]);return t}function ON(e,t,n,r){let s=[],i=!1;t.forEach((l,c)=>{let u=Ioe(e,l,c+n);if(u){i=!0;let d=ON(u,l,n+c+1,r);d!=es&&s.push(c,c+l.nodeSize,d)}});let o=Roe(i?Loe(e):e,-n).sort(_d);for(let l=0;l<o.length;l++)o[l].type.valid(t,o[l])||(r.onRemove&&r.onRemove(o[l].spec),o.splice(l--,1));return o.length||s.length?new Zt(o,s):es}function _d(e,t){return e.from-t.from||e.to-t.to}function qL(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let s=n+1;s<t.length;s++){let i=t[s];if(i.from==r.from){i.to!=r.to&&(t==e&&(t=e.slice()),t[s]=i.copy(i.from,r.to),y8(t,s+1,i.copy(r.to,i.to)));continue}else{i.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,i.from),y8(t,s,r.copy(i.from,r.to)));break}}}return t}function y8(e,t,n){for(;t<e.length&&_d(n,e[t])>0;)t++;e.splice(t,0,n)}function bT(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=es&&t.push(r)}),e.cursorWrapper&&t.push(Zt.create(e.state.doc,[e.cursorWrapper.deco])),cc.from(t)}const rst={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},sst=Ys&&Kc<=11;class ist{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class ost{constructor(t,n){this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new ist,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let s=0;s<r.length;s++)this.queue.push(r[s]);Ys&&Kc<=11&&r.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),sst&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,rst)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(c8(this.view)){if(this.suppressingSelectionUpdates)return vl(this.view);if(Ys&&Kc<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&Zd(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let n=new Set,r;for(let i=t.focusNode;i;i=im(i))n.add(i);for(let i=t.anchorNode;i;i=im(i))if(n.has(i)){r=i;break}let s=r&&this.view.docView.nearestDesc(r);if(s&&s.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=t.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&c8(t)&&!this.ignoreSelectionChange(r),i=-1,o=-1,l=!1,c=[];if(t.editable)for(let d=0;d<n.length;d++){let h=this.registerMutation(n[d],c);h&&(i=i<0?h.from:Math.min(h.from,i),o=o<0?h.to:Math.max(h.to,o),h.typeOver&&(l=!0))}if(qi&&c.length){let d=c.filter(h=>h.nodeName=="BR");if(d.length==2){let[h,f]=d;h.parentNode&&h.parentNode.parentNode==f.parentNode?f.remove():h.remove()}else{let{focusNode:h}=this.currentSelection;for(let f of d){let p=f.parentNode;p&&p.nodeName=="LI"&&(!h||cst(t,h)!=p)&&f.remove()}}}let u=null;i<0&&s&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&I_(r)&&(u=FL(t))&&u.eq(Xe.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,vl(t),this.currentSelection.set(r),t.scrollToSelection()):(i>-1||s)&&(i>-1&&(t.docView.markDirty(i,o),ast(t)),this.handleDOMChange(i,o,l,c),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(r)||vl(t),this.currentSelection.set(r))}registerMutation(t,n){if(n.indexOf(t.target)>-1)return null;let r=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(r==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!r||r.ignoreMutation(t))return null;if(t.type=="childList"){for(let d=0;d<t.addedNodes.length;d++){let h=t.addedNodes[d];n.push(h),h.nodeType==3&&(this.lastChangedTextNode=h)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};let s=t.previousSibling,i=t.nextSibling;if(Ys&&Kc<=11&&t.addedNodes.length)for(let d=0;d<t.addedNodes.length;d++){let{previousSibling:h,nextSibling:f}=t.addedNodes[d];(!h||Array.prototype.indexOf.call(t.addedNodes,h)<0)&&(s=h),(!f||Array.prototype.indexOf.call(t.addedNodes,f)<0)&&(i=f)}let o=s&&s.parentNode==t.target?Ur(s)+1:0,l=r.localPosFromDOM(t.target,o,-1),c=i&&i.parentNode==t.target?Ur(i):t.target.childNodes.length,u=r.localPosFromDOM(t.target,c,1);return{from:l,to:u}}else return t.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=t.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let x8=new WeakMap,v8=!1;function ast(e){if(!x8.has(e)&&(x8.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=qi,v8)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),v8=!0}}function b8(e,t){let n=t.startContainer,r=t.startOffset,s=t.endContainer,i=t.endOffset,o=e.domAtPos(e.state.selection.anchor);return Zd(o.node,o.offset,s,i)&&([n,r,s,i]=[s,i,n,r]),{anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:i}}function lst(e,t){if(t.getComposedRanges){let s=t.getComposedRanges(e.root)[0];if(s)return b8(e,s)}let n;function r(s){s.preventDefault(),s.stopImmediatePropagation(),n=s.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",r,!0),n?b8(e,n):null}function cst(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let r=e.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function ust(e,t,n){let{node:r,fromOffset:s,toOffset:i,from:o,to:l}=e.docView.parseRange(t,n),c=e.domSelectionRange(),u,d=c.anchorNode;if(d&&e.dom.contains(d.nodeType==1?d:d.parentNode)&&(u=[{node:d,offset:c.anchorOffset}],I_(c)||u.push({node:c.focusNode,offset:c.focusOffset})),as&&e.input.lastKeyCode===8)for(let y=i;y>s;y--){let x=r.childNodes[y-1],b=x.pmViewDesc;if(x.nodeName=="BR"&&!b){i=y;break}if(!b||b.size)break}let h=e.state.doc,f=e.someProp("domParser")||qc.fromSchema(e.state.schema),p=h.resolve(o),m=null,g=f.parse(r,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:s,to:i,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:dst,context:p});if(u&&u[0].pos!=null){let y=u[0].pos,x=u[1]&&u[1].pos;x==null&&(x=y),m={anchor:y+o,head:x+o}}return{doc:g,sel:m,from:o,to:l}}function dst(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(Es&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(e.parentNode.lastChild==e||Es&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const hst=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function fst(e,t,n,r,s){let i=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let j=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,_=FL(e,j);if(_&&!e.state.selection.eq(_)){if(as&&cl&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",A=>A(e,qu(13,"Enter"))))return;let C=e.state.tr.setSelection(_);j=="pointer"?C.setMeta("pointer",!0):j=="key"&&C.scrollIntoView(),i&&C.setMeta("composition",i),e.dispatch(C)}return}let o=e.state.doc.resolve(t),l=o.sharedDepth(n);t=o.before(l+1),n=e.state.doc.resolve(n).after(l+1);let c=e.state.selection,u=ust(e,t,n),d=e.state.doc,h=d.slice(u.from,u.to),f,p;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(f=e.state.selection.to,p="end"):(f=e.state.selection.from,p="start"),e.input.lastKeyCode=null;let m=gst(h.content,u.doc.content,u.from,f,p);if(m&&e.input.domChangeCount++,(om&&e.input.lastIOSEnter>Date.now()-225||cl)&&s.some(j=>j.nodeType==1&&!hst.test(j.nodeName))&&(!m||m.endA>=m.endB)&&e.someProp("handleKeyDown",j=>j(e,qu(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!m)if(r&&c instanceof Ve&&!c.empty&&c.$head.sameParent(c.$anchor)&&!e.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))m={start:c.from,endA:c.to,endB:c.to};else{if(u.sel){let j=w8(e,e.state.doc,u.sel);if(j&&!j.eq(e.state.selection)){let _=e.state.tr.setSelection(j);i&&_.setMeta("composition",i),e.dispatch(_)}}return}e.state.selection.from<e.state.selection.to&&m.start==m.endB&&e.state.selection instanceof Ve&&(m.start>e.state.selection.from&&m.start<=e.state.selection.from+2&&e.state.selection.from>=u.from?m.start=e.state.selection.from:m.endA<e.state.selection.to&&m.endA>=e.state.selection.to-2&&e.state.selection.to<=u.to&&(m.endB+=e.state.selection.to-m.endA,m.endA=e.state.selection.to)),Ys&&Kc<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>u.from&&u.doc.textBetween(m.start-u.from-1,m.start-u.from+1)==" "&&(m.start--,m.endA--,m.endB--);let g=u.doc.resolveNoCache(m.start-u.from),y=u.doc.resolveNoCache(m.endB-u.from),x=d.resolve(m.start),b=g.sameParent(y)&&g.parent.inlineContent&&x.end()>=m.endA;if((om&&e.input.lastIOSEnter>Date.now()-225&&(!b||s.some(j=>j.nodeName=="DIV"||j.nodeName=="P"))||!b&&g.pos<u.doc.content.size&&(!g.sameParent(y)||!g.parent.inlineContent)&&g.pos<y.pos&&!/\S/.test(u.doc.textBetween(g.pos,y.pos,"","")))&&e.someProp("handleKeyDown",j=>j(e,qu(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>m.start&&mst(d,m.start,m.endA,g,y)&&e.someProp("handleKeyDown",j=>j(e,qu(8,"Backspace")))){cl&&as&&e.domObserver.suppressSelectionUpdates();return}as&&m.endB==m.start&&(e.input.lastChromeDelete=Date.now()),cl&&!b&&g.start()!=y.start()&&y.parentOffset==0&&g.depth==y.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==m.endA&&(m.endB-=2,y=u.doc.resolveNoCache(m.endB-u.from),setTimeout(()=>{e.someProp("handleKeyDown",function(j){return j(e,qu(13,"Enter"))})},20));let w=m.start,N=m.endA,S=j=>{let _=j||e.state.tr.replace(w,N,u.doc.slice(m.start-u.from,m.endB-u.from));if(u.sel){let C=w8(e,_.doc,u.sel);C&&!(as&&e.composing&&C.empty&&(m.start!=m.endB||e.input.lastChromeDelete<Date.now()-100)&&(C.head==w||C.head==_.mapping.map(N)-1)||Ys&&C.empty&&C.head==w)&&_.setSelection(C)}return i&&_.setMeta("composition",i),_.scrollIntoView()},k;if(b)if(g.pos==y.pos){Ys&&Kc<=11&&g.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>vl(e),20));let j=S(e.state.tr.delete(w,N)),_=d.resolve(m.start).marksAcross(d.resolve(m.endA));_&&j.ensureMarks(_),e.dispatch(j)}else if(m.endA==m.endB&&(k=pst(g.parent.content.cut(g.parentOffset,y.parentOffset),x.parent.content.cut(x.parentOffset,m.endA-x.start())))){let j=S(e.state.tr);k.type=="add"?j.addMark(w,N,k.mark):j.removeMark(w,N,k.mark),e.dispatch(j)}else if(g.parent.child(g.index()).isText&&g.index()==y.index()-(y.textOffset?0:1)){let j=g.parent.textBetween(g.parentOffset,y.parentOffset),_=()=>S(e.state.tr.insertText(j,w,N));e.someProp("handleTextInput",C=>C(e,w,N,j,_))||e.dispatch(_())}else e.dispatch(S());else e.dispatch(S())}function w8(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:zL(e,t.resolve(n.anchor),t.resolve(n.head))}function pst(e,t){let n=e.firstChild.marks,r=t.firstChild.marks,s=n,i=r,o,l,c;for(let d=0;d<r.length;d++)s=r[d].removeFromSet(s);for(let d=0;d<n.length;d++)i=n[d].removeFromSet(i);if(s.length==1&&i.length==0)l=s[0],o="add",c=d=>d.mark(l.addToSet(d.marks));else if(s.length==0&&i.length==1)l=i[0],o="remove",c=d=>d.mark(l.removeFromSet(d.marks));else return null;let u=[];for(let d=0;d<t.childCount;d++)u.push(c(t.child(d)));if(he.from(u).eq(e))return{mark:l,type:o}}function mst(e,t,n,r,s){if(n-t<=s.pos-r.pos||wT(r,!0,!1)<s.pos)return!1;let i=e.resolve(t);if(!r.parent.isTextblock){let l=i.nodeAfter;return l!=null&&n==t+l.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let o=e.resolve(wT(i,!0,!0));return!o.parent.isTextblock||o.pos>n||wT(o,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function wT(e,t,n){let r=e.depth,s=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,s++,t=!1;if(n){let i=e.node(r).maybeChild(e.indexAfter(r));for(;i&&!i.isLeaf;)i=i.firstChild,s++}return s}function gst(e,t,n,r,s){let i=e.findDiffStart(t,n);if(i==null)return null;let{a:o,b:l}=e.findDiffEnd(t,n+e.size,n+t.size);if(s=="end"){let c=Math.max(0,i-Math.min(o,l));r-=o+c-i}if(o<i&&e.size<t.size){let c=r<=i&&r>=o?i-r:0;i-=c,i&&i<t.size&&S8(t.textBetween(i-1,i+1))&&(i+=c?1:-1),l=i+(l-o),o=i}else if(l<i){let c=r<=i&&r>=l?i-r:0;i-=c,i&&i<e.size&&S8(e.textBetween(i-1,i+1))&&(i+=c?1:-1),o=i+(o-l),l=i}return{start:i,endA:o,endB:l}}function S8(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class $oe{constructor(t,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Rrt,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(E8),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=j8(this),k8(this),this.nodeViews=_8(this),this.docView=r8(this.state.doc,N8(this),bT(this),this.dom,this),this.domObserver=new ost(this,(r,s,i,o)=>fst(this,r,s,i,o)),this.domObserver.start(),Irt(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let n in t)this._props[n]=t[n];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&VM(this);let n=this._props;this._props=t,t.plugins&&(t.plugins.forEach(E8),this.directPlugins=t.plugins),this.updateStateInner(t.state,n)}setProps(t){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in t)n[r]=t[r];this.update(n)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,n){var r;let s=this.state,i=!1,o=!1;t.storedMarks&&this.composing&&(Ooe(this),o=!0),this.state=t;let l=s.plugins!=t.plugins||this._props.plugins!=n.plugins;if(l||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let p=_8(this);xst(p,this.nodeViews)&&(this.nodeViews=p,i=!0)}(l||n.handleDOMEvents!=this._props.handleDOMEvents)&&VM(this),this.editable=j8(this),k8(this);let c=bT(this),u=N8(this),d=s.plugins!=t.plugins&&!s.doc.eq(t.doc)?"reset":t.scrollToSelection>s.scrollToSelection?"to selection":"preserve",h=i||!this.docView.matchesNode(t.doc,u,c);(h||!t.selection.eq(s.selection))&&(o=!0);let f=d=="preserve"&&o&&this.dom.style.overflowAnchor==null&&Xnt(this);if(o){this.domObserver.stop();let p=h&&(Ys||as)&&!this.composing&&!s.selection.empty&&!t.selection.empty&&yst(s.selection,t.selection);if(h){let m=as?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Yrt(this)),(i||!this.docView.update(t.doc,u,c,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=r8(t.doc,u,c,this.dom,this)),m&&!this.trackWrites&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&brt(this))?vl(this,p):(voe(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((r=this.dragging)===null||r===void 0)&&r.node&&!s.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,s),d=="reset"?this.dom.scrollTop=0:d=="to selection"?this.scrollToSelection():f&&Jnt(f)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!(!t||!this.dom.contains(t.nodeType==1?t:t.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof He){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&JH(this,n.getBoundingClientRect(),t)}else JH(this,this.coordsAtPos(this.state.selection.head,1),t)}}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,t)}}updateDraggedNode(t,n){let r=t.node,s=-1;if(this.state.doc.nodeAt(r.from)==r.node)s=r.from;else{let i=r.from+(this.state.doc.content.size-n.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==r.node&&(s=i)}this.dragging=new Poe(t.slice,t.move,s<0?void 0:He.create(this.state.doc,s))}someProp(t,n){let r=this._props&&this._props[t],s;if(r!=null&&(s=n?n(r):r))return s;for(let o=0;o<this.directPlugins.length;o++){let l=this.directPlugins[o].props[t];if(l!=null&&(s=n?n(l):l))return s}let i=this.state.plugins;if(i)for(let o=0;o<i.length;o++){let l=i[o].props[t];if(l!=null&&(s=n?n(l):l))return s}}hasFocus(){if(Ys){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Qnt(this.dom),vl(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return t||document}updateRoot(){this._root=null}posAtCoords(t){return rrt(this,t)}coordsAtPos(t,n=1){return doe(this,t,n)}domAtPos(t,n=0){return this.docView.domFromPos(t,n)}nodeDOM(t){let n=this.docView.descAt(t);return n?n.nodeDOM:null}posAtDOM(t,n,r=-1){let s=this.docView.posFromDOM(t,n,r);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(t,n){return lrt(this,n||this.state,t)}pasteHTML(t,n){return uv(this,"",t,!1,n||new ClipboardEvent("paste"))}pasteText(t,n){return uv(this,t,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(t){return UL(this,t)}destroy(){this.docView&&(Lrt(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],bT(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,Bnt())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return Brt(this,t)}domSelectionRange(){let t=this.domSelection();return t?Es&&this.root.nodeType===11&&Wnt(this.dom.ownerDocument)==this.dom&&lst(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}$oe.prototype.dispatch=function(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))};function N8(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(e.state)),n)for(let r in n)r=="class"?t.class+=" "+n[r]:r=="style"?t.style=(t.style?t.style+";":"")+n[r]:!t[r]&&r!="contenteditable"&&r!="nodeName"&&(t[r]=String(n[r]))}),t.translate||(t.translate="no"),[br.node(0,e.state.doc.content.size,t)]}function k8(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:br.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function j8(e){return!e.someProp("editable",t=>t(e.state)===!1)}function yst(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function _8(e){let t=Object.create(null);function n(r){for(let s in r)Object.prototype.hasOwnProperty.call(t,s)||(t[s]=r[s])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function xst(e,t){let n=0,r=0;for(let s in e){if(e[s]!=t[s])return!0;n++}for(let s in t)r++;return n!=r}function E8(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var ru={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},MN={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},vst=typeof navigator<"u"&&/Mac/.test(navigator.platform),bst=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Hr=0;Hr<10;Hr++)ru[48+Hr]=ru[96+Hr]=String(Hr);for(var Hr=1;Hr<=24;Hr++)ru[Hr+111]="F"+Hr;for(var Hr=65;Hr<=90;Hr++)ru[Hr]=String.fromCharCode(Hr+32),MN[Hr]=String.fromCharCode(Hr);for(var ST in ru)MN.hasOwnProperty(ST)||(MN[ST]=ru[ST]);function wst(e){var t=vst&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||bst&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?MN:ru)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const Sst=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),Nst=typeof navigator<"u"&&/Win/.test(navigator.platform);function kst(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");let r,s,i,o;for(let l=0;l<t.length-1;l++){let c=t[l];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))i=!0;else if(/^mod$/i.test(c))Sst?o=!0:s=!0;else throw new Error("Unrecognized modifier name: "+c)}return r&&(n="Alt-"+n),s&&(n="Ctrl-"+n),o&&(n="Meta-"+n),i&&(n="Shift-"+n),n}function jst(e){let t=Object.create(null);for(let n in e)t[kst(n)]=e[n];return t}function NT(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function _st(e){return new an({props:{handleKeyDown:KL(e)}})}function KL(e){let t=jst(e);return function(n,r){let s=wst(r),i,o=t[NT(s,r)];if(o&&o(n.state,n.dispatch,n))return!0;if(s.length==1&&s!=" "){if(r.shiftKey){let l=t[NT(s,r,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(Nst&&r.ctrlKey&&r.altKey)&&(i=ru[r.keyCode])&&i!=s){let l=t[NT(i,r)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}var Est=Object.defineProperty,YL=(e,t)=>{for(var n in t)Est(e,n,{get:t[n],enumerable:!0})};function B_(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:s}=n,{storedMarks:i}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return i},get selection(){return r},get doc(){return s},get tr(){return r=n.selection,s=n.doc,i=n.storedMarks,n}}}var F_=class{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:n}=this,{view:r}=t,{tr:s}=n,i=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([o,l])=>[o,(...u)=>{const d=l(...u)(i);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(s),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:n,editor:r,state:s}=this,{view:i}=r,o=[],l=!!e,c=e||s.tr,u=()=>(!l&&t&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(c),o.every(h=>h===!0)),d={...Object.fromEntries(Object.entries(n).map(([h,f])=>[h,(...m)=>{const g=this.buildProps(c,t),y=f(...m)(g);return o.push(y),d}])),run:u};return d}createCan(e){const{rawCommands:t,state:n}=this,r=!1,s=e||n.tr,i=this.buildProps(s,r);return{...Object.fromEntries(Object.entries(t).map(([l,c])=>[l,(...u)=>c(...u)({...i,dispatch:void 0})])),chain:()=>this.createChain(s,r)}}buildProps(e,t=!0){const{rawCommands:n,editor:r,state:s}=this,{view:i}=r,o={tr:e,editor:r,view:i,state:B_({state:s,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...u)=>c(...u)(o)]))}};return o}},Boe={};YL(Boe,{blur:()=>Cst,clearContent:()=>Tst,clearNodes:()=>Ast,command:()=>Ost,createParagraphNear:()=>Mst,cut:()=>Pst,deleteCurrentNode:()=>Dst,deleteNode:()=>Rst,deleteRange:()=>Ist,deleteSelection:()=>Lst,enter:()=>$st,exitCode:()=>Bst,extendMarkRange:()=>Fst,first:()=>zst,focus:()=>Hst,forEach:()=>Wst,insertContent:()=>Vst,insertContentAt:()=>Kst,joinBackward:()=>Jst,joinDown:()=>Xst,joinForward:()=>Qst,joinItemBackward:()=>Zst,joinItemForward:()=>eit,joinTextblockBackward:()=>tit,joinTextblockForward:()=>nit,joinUp:()=>Yst,keyboardShortcut:()=>sit,lift:()=>iit,liftEmptyBlock:()=>oit,liftListItem:()=>ait,newlineInCode:()=>lit,resetAttributes:()=>cit,scrollIntoView:()=>uit,selectAll:()=>dit,selectNodeBackward:()=>hit,selectNodeForward:()=>fit,selectParentNode:()=>pit,selectTextblockEnd:()=>mit,selectTextblockStart:()=>git,setContent:()=>yit,setMark:()=>Pit,setMeta:()=>Dit,setNode:()=>Rit,setNodeSelection:()=>Iit,setTextSelection:()=>Lit,sinkListItem:()=>$it,splitBlock:()=>Bit,splitListItem:()=>Fit,toggleList:()=>zit,toggleMark:()=>Uit,toggleNode:()=>Hit,toggleWrap:()=>Wit,undoInputRule:()=>Vit,unsetAllMarks:()=>Git,unsetMark:()=>qit,updateAttributes:()=>Kit,wrapIn:()=>Yit,wrapInList:()=>Xit});var Cst=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window==null?void 0:window.getSelection())==null||n.removeAllRanges())}),!0),Tst=(e=!0)=>({commands:t})=>t.setContent("",{emitUpdate:e}),Ast=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:s}=r;return n&&s.forEach(({$from:i,$to:o})=>{e.doc.nodesBetween(i.pos,o.pos,(l,c)=>{if(l.type.isText)return;const{doc:u,mapping:d}=t,h=u.resolve(d.map(c)),f=u.resolve(d.map(c+l.nodeSize)),p=h.blockRange(f);if(!p)return;const m=Bm(p);if(l.type.isTextblock){const{defaultType:g}=h.parent.contentMatchAt(h.index());t.setNodeMarkup(p.start,g)}(m||m===0)&&t.lift(p,m)})}),!0},Ost=e=>t=>e(t),Mst=()=>({state:e,dispatch:t})=>toe(e,t),Pst=(e,t)=>({editor:n,tr:r})=>{const{state:s}=n,i=s.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);const o=r.mapping.map(t);return r.insert(o,i.content),r.setSelection(new Ve(r.doc.resolve(Math.max(o-1,0)))),!0},Dst=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const s=e.selection.$anchor;for(let i=s.depth;i>0;i-=1)if(s.node(i).type===r.type){if(t){const l=s.before(i),c=s.after(i);e.delete(l,c).scrollIntoView()}return!0}return!1};function dr(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}var Rst=e=>({tr:t,state:n,dispatch:r})=>{const s=dr(e,n.schema),i=t.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===s){if(r){const c=i.before(o),u=i.after(o);t.delete(c,u).scrollIntoView()}return!0}return!1},Ist=e=>({tr:t,dispatch:n})=>{const{from:r,to:s}=e;return n&&t.delete(r,s),!0},Lst=()=>({state:e,dispatch:t})=>DL(e,t),$st=()=>({commands:e})=>e.keyboardShortcut("Enter"),Bst=()=>({state:e,dispatch:t})=>knt(e,t);function XL(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function PN(e,t,n={strict:!0}){const r=Object.keys(t);return r.length?r.every(s=>n.strict?t[s]===e[s]:XL(t[s])?t[s].test(e[s]):t[s]===e[s]):!0}function Foe(e,t,n={}){return e.find(r=>r.type===t&&PN(Object.fromEntries(Object.keys(n).map(s=>[s,r.attrs[s]])),n))}function C8(e,t,n={}){return!!Foe(e,t,n)}function JL(e,t,n){var r;if(!e||!t)return;let s=e.parent.childAfter(e.parentOffset);if((!s.node||!s.node.marks.some(d=>d.type===t))&&(s=e.parent.childBefore(e.parentOffset)),!s.node||!s.node.marks.some(d=>d.type===t)||(n=n||((r=s.node.marks[0])==null?void 0:r.attrs),!Foe([...s.node.marks],t,n)))return;let o=s.index,l=e.start()+s.offset,c=o+1,u=l+s.node.nodeSize;for(;o>0&&C8([...e.parent.child(o-1).marks],t,n);)o-=1,l-=e.parent.child(o).nodeSize;for(;c<e.parent.childCount&&C8([...e.parent.child(c).marks],t,n);)u+=e.parent.child(c).nodeSize,c+=1;return{from:l,to:u}}function Ll(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}var Fst=(e,t={})=>({tr:n,state:r,dispatch:s})=>{const i=Ll(e,r.schema),{doc:o,selection:l}=n,{$from:c,from:u,to:d}=l;if(s){const h=JL(c,i,t);if(h&&h.from<=u&&h.to>=d){const f=Ve.create(o,h.from,h.to);n.setSelection(f)}}return!0},zst=e=>t=>{const n=typeof e=="function"?e(t):e;for(let r=0;r<n.length;r+=1)if(n[r](t))return!0;return!1};function QL(e){return e instanceof Ve}function ul(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function zoe(e,t=null){if(!t)return null;const n=Xe.atStart(e),r=Xe.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return r;const s=n.from,i=r.to;return t==="all"?Ve.create(e,ul(0,s,i),ul(e.content.size,s,i)):Ve.create(e,ul(t,s,i),ul(t,s,i))}function Ust(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function ZL(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var Hst=(e=null,t={})=>({editor:n,view:r,tr:s,dispatch:i})=>{t={scrollIntoView:!0,...t};const o=()=>{(ZL()||Ust())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),t!=null&&t.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&e===null||e===!1)return!0;if(i&&e===null&&!QL(n.state.selection))return o(),!0;const l=zoe(s.doc,e)||n.state.selection,c=n.state.selection.eq(l);return i&&(c||s.setSelection(l),c&&s.storedMarks&&s.setStoredMarks(s.storedMarks),o()),!0},Wst=(e,t)=>n=>e.every((r,s)=>t(r,{...n,index:s})),Vst=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),Uoe=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):r.nodeType===1&&Uoe(r)}return e};function ew(e){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${e}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return Uoe(n)}function hv(e,t,n){if(e instanceof Gc||e instanceof he)return e;n={slice:!0,parseOptions:{},...n};const r=typeof e=="object"&&e!==null,s=typeof e=="string";if(r)try{if(Array.isArray(e)&&e.length>0)return he.fromArray(e.map(l=>t.nodeFromJSON(l)));const o=t.nodeFromJSON(e);return n.errorOnInvalidContent&&o.check(),o}catch(i){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:i});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",i),hv("",t,n)}if(s){if(n.errorOnInvalidContent){let o=!1,l="";const c=new Cie({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:u=>(o=!0,l=typeof u=="string"?u:u.outerHTML,null)}]}})});if(n.slice?qc.fromSchema(c).parseSlice(ew(e),n.parseOptions):qc.fromSchema(c).parse(ew(e),n.parseOptions),n.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${l}`)})}const i=qc.fromSchema(t);return n.slice?i.parseSlice(ew(e),n.parseOptions).content:i.parse(ew(e),n.parseOptions)}return hv("",t,n)}function Gst(e,t,n){const r=e.steps.length-1;if(r<t)return;const s=e.steps[r];if(!(s instanceof Tr||s instanceof Or))return;const i=e.mapping.maps[r];let o=0;i.forEach((l,c,u,d)=>{o===0&&(o=d)}),e.setSelection(Xe.near(e.doc.resolve(o),n))}var qst=e=>!("type"in e),Kst=(e,t,n)=>({tr:r,dispatch:s,editor:i})=>{var o;if(s){n={parseOptions:i.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let l;const c=y=>{i.emit("contentError",{editor:i,error:y,disableCollaboration:()=>{"collaboration"in i.storage&&typeof i.storage.collaboration=="object"&&i.storage.collaboration&&(i.storage.collaboration.isDisabled=!0)}})},u={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!i.options.enableContentCheck&&i.options.emitContentError)try{hv(t,i.schema,{parseOptions:u,errorOnInvalidContent:!0})}catch(y){c(y)}try{l=hv(t,i.schema,{parseOptions:u,errorOnInvalidContent:(o=n.errorOnInvalidContent)!=null?o:i.options.enableContentCheck})}catch(y){return c(y),!1}let{from:d,to:h}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},f=!0,p=!0;if((qst(l)?l:[l]).forEach(y=>{y.check(),f=f?y.isText&&y.marks.length===0:!1,p=p?y.isBlock:!1}),d===h&&p){const{parent:y}=r.doc.resolve(d);y.isTextblock&&!y.type.spec.code&&!y.childCount&&(d-=1,h+=1)}let g;if(f){if(Array.isArray(t))g=t.map(y=>y.text||"").join("");else if(t instanceof he){let y="";t.forEach(x=>{x.text&&(y+=x.text)}),g=y}else typeof t=="object"&&t&&t.text?g=t.text:g=t;r.insertText(g,d,h)}else{g=l;const y=r.doc.resolve(d),x=y.node(),b=y.parentOffset===0,w=x.isText||x.isTextblock,N=x.content.size>0;b&&w&&N&&(d=Math.max(0,d-1)),r.replaceWith(d,h,g)}n.updateSelection&&Gst(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:d,text:g}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:d,text:g})}return!0},Yst=()=>({state:e,dispatch:t})=>wnt(e,t),Xst=()=>({state:e,dispatch:t})=>Snt(e,t),Jst=()=>({state:e,dispatch:t})=>Kie(e,t),Qst=()=>({state:e,dispatch:t})=>Qie(e,t),Zst=()=>({state:e,dispatch:t,tr:n})=>{try{const r=P_(e.doc,e.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},eit=()=>({state:e,dispatch:t,tr:n})=>{try{const r=P_(e.doc,e.selection.$from.pos,1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},tit=()=>({state:e,dispatch:t})=>vnt(e,t),nit=()=>({state:e,dispatch:t})=>bnt(e,t);function Hoe(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function rit(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let r,s,i,o;for(let l=0;l<t.length-1;l+=1){const c=t[l];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))i=!0;else if(/^mod$/i.test(c))ZL()||Hoe()?o=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${c}`)}return r&&(n=`Alt-${n}`),s&&(n=`Ctrl-${n}`),o&&(n=`Meta-${n}`),i&&(n=`Shift-${n}`),n}var sit=e=>({editor:t,view:n,tr:r,dispatch:s})=>{const i=rit(e).split(/-(?!$)/),o=i.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),l=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),c=t.captureTransaction(()=>{n.someProp("handleKeyDown",u=>u(n,l))});return c==null||c.steps.forEach(u=>{const d=u.map(r.mapping);d&&s&&r.maybeStep(d)}),!0};function su(e,t,n={}){const{from:r,to:s,empty:i}=e.selection,o=t?dr(t,e.schema):null,l=[];e.doc.nodesBetween(r,s,(h,f)=>{if(h.isText)return;const p=Math.max(r,f),m=Math.min(s,f+h.nodeSize);l.push({node:h,from:p,to:m})});const c=s-r,u=l.filter(h=>o?o.name===h.node.type.name:!0).filter(h=>PN(h.node.attrs,n,{strict:!1}));return i?!!u.length:u.reduce((h,f)=>h+f.to-f.from,0)>=c}var iit=(e,t={})=>({state:n,dispatch:r})=>{const s=dr(e,n.schema);return su(n,s,t)?Nnt(n,r):!1},oit=()=>({state:e,dispatch:t})=>noe(e,t),ait=e=>({state:t,dispatch:n})=>{const r=dr(e,t.schema);return Rnt(r)(t,n)},lit=()=>({state:e,dispatch:t})=>eoe(e,t);function z_(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function T8(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((r,s)=>(n.includes(s)||(r[s]=e[s]),r),{})}var cit=(e,t)=>({tr:n,state:r,dispatch:s})=>{let i=null,o=null;const l=z_(typeof e=="string"?e:e.name,r.schema);return l?(l==="node"&&(i=dr(e,r.schema)),l==="mark"&&(o=Ll(e,r.schema)),s&&n.selection.ranges.forEach(c=>{r.doc.nodesBetween(c.$from.pos,c.$to.pos,(u,d)=>{i&&i===u.type&&n.setNodeMarkup(d,void 0,T8(u.attrs,t)),o&&u.marks.length&&u.marks.forEach(h=>{o===h.type&&n.addMark(d,d+u.nodeSize,o.create(T8(h.attrs,t)))})})}),!0):!1},uit=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),dit=()=>({tr:e,dispatch:t})=>{if(t){const n=new fi(e.doc);e.setSelection(n)}return!0},hit=()=>({state:e,dispatch:t})=>Xie(e,t),fit=()=>({state:e,dispatch:t})=>Zie(e,t),pit=()=>({state:e,dispatch:t})=>Ent(e,t),mit=()=>({state:e,dispatch:t})=>Ant(e,t),git=()=>({state:e,dispatch:t})=>Tnt(e,t);function GM(e,t,n={},r={}){return hv(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var yit=(e,{errorOnInvalidContent:t,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:s,tr:i,dispatch:o,commands:l})=>{const{doc:c}=i;if(r.preserveWhitespace!=="full"){const u=GM(e,s.schema,r,{errorOnInvalidContent:t??s.options.enableContentCheck});return o&&i.replaceWith(0,c.content.size,u).setMeta("preventUpdate",!n),!0}return o&&i.setMeta("preventUpdate",!n),l.insertContentAt({from:0,to:c.content.size},e,{parseOptions:r,errorOnInvalidContent:t??s.options.enableContentCheck})};function Woe(e,t){const n=Ll(t,e.schema),{from:r,to:s,empty:i}=e.selection,o=[];i?(e.storedMarks&&o.push(...e.storedMarks),o.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,s,c=>{o.push(...c.marks)});const l=o.find(c=>c.type.name===n.name);return l?{...l.attrs}:{}}function Voe(e,t){const n=new ML(e);return t.forEach(r=>{r.steps.forEach(s=>{n.step(s)})}),n}function xit(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function qM(e,t){const n=[];return e.descendants((r,s)=>{t(r)&&n.push({node:r,pos:s})}),n}function vit(e,t,n){const r=[];return e.nodesBetween(t.from,t.to,(s,i)=>{n(s)&&r.push({node:s,pos:i})}),r}function Goe(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function U_(e){return t=>Goe(t.$from,e)}function Ue(e,t,n){return e.config[t]===void 0&&e.parent?Ue(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind({...n,parent:e.parent?Ue(e.parent,t,n):null}):e.config[t]}function e$(e){return e.map(t=>{const n={name:t.name,options:t.options,storage:t.storage},r=Ue(t,"addExtensions",n);return r?[t,...e$(r())]:t}).flat(10)}function t$(e,t){const n=bh.fromSchema(t).serializeFragment(e),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(n),s.innerHTML}function qoe(e){return typeof e=="function"}function Lt(e,t=void 0,...n){return qoe(e)?t?e.bind(t)(...n):e(...n):e}function bit(e={}){return Object.keys(e).length===0&&e.constructor===Object}function fv(e){const t=e.filter(s=>s.type==="extension"),n=e.filter(s=>s.type==="node"),r=e.filter(s=>s.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:r}}function Koe(e){const t=[],{nodeExtensions:n,markExtensions:r}=fv(e),s=[...n,...r],i={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(o=>{const l={name:o.name,options:o.options,storage:o.storage,extensions:s},c=Ue(o,"addGlobalAttributes",l);if(!c)return;c().forEach(d=>{d.types.forEach(h=>{Object.entries(d.attributes).forEach(([f,p])=>{t.push({type:h,name:f,attribute:{...i,...p}})})})})}),s.forEach(o=>{const l={name:o.name,options:o.options,storage:o.storage},c=Ue(o,"addAttributes",l);if(!c)return;const u=c();Object.entries(u).forEach(([d,h])=>{const f={...i,...h};typeof(f==null?void 0:f.default)=="function"&&(f.default=f.default()),f!=null&&f.isRequired&&(f==null?void 0:f.default)===void 0&&delete f.default,t.push({type:o.name,name:d,attribute:f})})}),t}function on(...e){return e.filter(t=>!!t).reduce((t,n)=>{const r={...t};return Object.entries(n).forEach(([s,i])=>{if(!r[s]){r[s]=i;return}if(s==="class"){const l=i?String(i).split(" "):[],c=r[s]?r[s].split(" "):[],u=l.filter(d=>!c.includes(d));r[s]=[...c,...u].join(" ")}else if(s==="style"){const l=i?i.split(";").map(d=>d.trim()).filter(Boolean):[],c=r[s]?r[s].split(";").map(d=>d.trim()).filter(Boolean):[],u=new Map;c.forEach(d=>{const[h,f]=d.split(":").map(p=>p.trim());u.set(h,f)}),l.forEach(d=>{const[h,f]=d.split(":").map(p=>p.trim());u.set(h,f)}),r[s]=Array.from(u.entries()).map(([d,h])=>`${d}: ${h}`).join("; ")}else r[s]=i}),r},{})}function DN(e,t){return t.filter(n=>n.type===e.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(e.attrs)||{}:{[n.name]:e.attrs[n.name]}).reduce((n,r)=>on(n,r),{})}function wit(e){return typeof e!="string"?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):e==="true"?!0:e==="false"?!1:e}function A8(e,t){return"style"in e?e:{...e,getAttrs:n=>{const r=e.getAttrs?e.getAttrs(n):e.attrs;if(r===!1)return!1;const s=t.reduce((i,o)=>{const l=o.attribute.parseHTML?o.attribute.parseHTML(n):wit(n.getAttribute(o.name));return l==null?i:{...i,[o.name]:l}},{});return{...r,...s}}}}function O8(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>t==="attrs"&&bit(n)?!1:n!=null))}function M8(e){var t,n,r;const s={};return!((t=e==null?void 0:e.attribute)!=null&&t.isRequired)&&((n=e==null?void 0:e.attribute)==null?void 0:n.default)!==void 0&&(s.default=e.attribute.default),((r=e==null?void 0:e.attribute)==null?void 0:r.validate)!==void 0&&(s.validate=e.attribute.validate),[e.name,s]}function Sit(e,t){var n;const r=Koe(e),{nodeExtensions:s,markExtensions:i}=fv(e),o=(n=s.find(u=>Ue(u,"topNode")))==null?void 0:n.name,l=Object.fromEntries(s.map(u=>{const d=r.filter(x=>x.type===u.name),h={name:u.name,options:u.options,storage:u.storage,editor:t},f=e.reduce((x,b)=>{const w=Ue(b,"extendNodeSchema",h);return{...x,...w?w(u):{}}},{}),p=O8({...f,content:Lt(Ue(u,"content",h)),marks:Lt(Ue(u,"marks",h)),group:Lt(Ue(u,"group",h)),inline:Lt(Ue(u,"inline",h)),atom:Lt(Ue(u,"atom",h)),selectable:Lt(Ue(u,"selectable",h)),draggable:Lt(Ue(u,"draggable",h)),code:Lt(Ue(u,"code",h)),whitespace:Lt(Ue(u,"whitespace",h)),linebreakReplacement:Lt(Ue(u,"linebreakReplacement",h)),defining:Lt(Ue(u,"defining",h)),isolating:Lt(Ue(u,"isolating",h)),attrs:Object.fromEntries(d.map(M8))}),m=Lt(Ue(u,"parseHTML",h));m&&(p.parseDOM=m.map(x=>A8(x,d)));const g=Ue(u,"renderHTML",h);g&&(p.toDOM=x=>g({node:x,HTMLAttributes:DN(x,d)}));const y=Ue(u,"renderText",h);return y&&(p.toText=y),[u.name,p]})),c=Object.fromEntries(i.map(u=>{const d=r.filter(y=>y.type===u.name),h={name:u.name,options:u.options,storage:u.storage,editor:t},f=e.reduce((y,x)=>{const b=Ue(x,"extendMarkSchema",h);return{...y,...b?b(u):{}}},{}),p=O8({...f,inclusive:Lt(Ue(u,"inclusive",h)),excludes:Lt(Ue(u,"excludes",h)),group:Lt(Ue(u,"group",h)),spanning:Lt(Ue(u,"spanning",h)),code:Lt(Ue(u,"code",h)),attrs:Object.fromEntries(d.map(M8))}),m=Lt(Ue(u,"parseHTML",h));m&&(p.parseDOM=m.map(y=>A8(y,d)));const g=Ue(u,"renderHTML",h);return g&&(p.toDOM=y=>g({mark:y,HTMLAttributes:DN(y,d)})),[u.name,p]}));return new Cie({topNode:o,nodes:l,marks:c})}function Nit(e){const t=e.filter((n,r)=>e.indexOf(n)!==r);return Array.from(new Set(t))}function n$(e){return e.sort((n,r)=>{const s=Ue(n,"priority")||100,i=Ue(r,"priority")||100;return s>i?-1:s<i?1:0})}function Yoe(e){const t=n$(e$(e)),n=Nit(t.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),t}function Xoe(e,t,n){const{from:r,to:s}=t,{blockSeparator:i=`

`,textSerializers:o={}}=n||{};let l="";return e.nodesBetween(r,s,(c,u,d,h)=>{var f;c.isBlock&&u>r&&(l+=i);const p=o==null?void 0:o[c.type.name];if(p)return d&&(l+=p({node:c,pos:u,parent:d,index:h,range:t})),!1;c.isText&&(l+=(f=c==null?void 0:c.text)==null?void 0:f.slice(Math.max(r,u)-u,s-u))}),l}function Joe(e,t){const n={from:0,to:e.content.size};return Xoe(e,n,t)}function r$(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}function kit(e,t){const n=dr(t,e.schema),{from:r,to:s}=e.selection,i=[];e.doc.nodesBetween(r,s,l=>{i.push(l)});const o=i.reverse().find(l=>l.type.name===n.name);return o?{...o.attrs}:{}}function Qoe(e,t){const n=z_(typeof t=="string"?t:t.name,e.schema);return n==="node"?kit(e,t):n==="mark"?Woe(e,t):{}}function jit(e,t=JSON.stringify){const n={};return e.filter(r=>{const s=t(r);return Object.prototype.hasOwnProperty.call(n,s)?!1:n[s]=!0})}function _it(e){const t=jit(e);return t.length===1?t:t.filter((n,r)=>!t.filter((i,o)=>o!==r).some(i=>n.oldRange.from>=i.oldRange.from&&n.oldRange.to<=i.oldRange.to&&n.newRange.from>=i.newRange.from&&n.newRange.to<=i.newRange.to))}function Zoe(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach((s,i)=>{const o=[];if(s.ranges.length)s.forEach((l,c)=>{o.push({from:l,to:c})});else{const{from:l,to:c}=n[i];if(l===void 0||c===void 0)return;o.push({from:l,to:c})}o.forEach(({from:l,to:c})=>{const u=t.slice(i).map(l,-1),d=t.slice(i).map(c),h=t.invert().map(u,-1),f=t.invert().map(d);r.push({oldRange:{from:h,to:f},newRange:{from:u,to:d}})})}),_it(r)}function s$(e,t,n){const r=[];return e===t?n.resolve(e).marks().forEach(s=>{const i=n.resolve(e),o=JL(i,s.type);o&&r.push({mark:s,...o})}):n.nodesBetween(e,t,(s,i)=>{!s||(s==null?void 0:s.nodeSize)===void 0||r.push(...s.marks.map(o=>({from:i,to:i+s.nodeSize,mark:o})))}),r}var Eit=(e,t,n,r=20)=>{const s=e.doc.resolve(n);let i=r,o=null;for(;i>0&&o===null;){const l=s.node(i);(l==null?void 0:l.type.name)===t?o=l:i-=1}return[o,i]};function kT(e,t){return t.nodes[e]||t.marks[e]||null}function a1(e,t,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const s=e.find(i=>i.type===t&&i.name===r);return s?s.attribute.keepOnSplit:!1}))}var Cit=(e,t=500)=>{let n="";const r=e.parentOffset;return e.parent.nodesBetween(Math.max(0,r-t),r,(s,i,o,l)=>{var c,u;const d=((u=(c=s.type.spec).toText)==null?void 0:u.call(c,{node:s,pos:i,parent:o,index:l}))||s.textContent||"%leaf%";n+=s.isAtom&&!s.isText?d:d.slice(0,Math.max(0,r-i))}),n};function KM(e,t,n={}){const{empty:r,ranges:s}=e.selection,i=t?Ll(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(h=>i?i.name===h.type.name:!0).find(h=>PN(h.attrs,n,{strict:!1}));let o=0;const l=[];if(s.forEach(({$from:h,$to:f})=>{const p=h.pos,m=f.pos;e.doc.nodesBetween(p,m,(g,y)=>{if(!g.isText&&!g.marks.length)return;const x=Math.max(p,y),b=Math.min(m,y+g.nodeSize),w=b-x;o+=w,l.push(...g.marks.map(N=>({mark:N,from:x,to:b})))})}),o===0)return!1;const c=l.filter(h=>i?i.name===h.mark.type.name:!0).filter(h=>PN(h.mark.attrs,n,{strict:!1})).reduce((h,f)=>h+f.to-f.from,0),u=l.filter(h=>i?h.mark.type!==i&&h.mark.type.excludes(i):!0).reduce((h,f)=>h+f.to-f.from,0);return(c>0?c+u:c)>=o}function Tit(e,t,n={}){if(!t)return su(e,null,n)||KM(e,null,n);const r=z_(t,e.schema);return r==="node"?su(e,t,n):r==="mark"?KM(e,t,n):!1}var Ait=(e,t)=>{const{$from:n,$to:r,$anchor:s}=e.selection;if(t){const i=U_(l=>l.type.name===t)(e.selection);if(!i)return!1;const o=e.doc.resolve(i.pos+1);return s.pos+1===o.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},Oit=e=>{const{$from:t,$to:n}=e.selection;return!(t.parentOffset>0||t.pos!==n.pos)};function P8(e,t){return Array.isArray(t)?t.some(n=>(typeof n=="string"?n:n.name)===e.name):t}function D8(e,t){const{nodeExtensions:n}=fv(t),r=n.find(o=>o.name===e);if(!r)return!1;const s={name:r.name,options:r.options,storage:r.storage},i=Lt(Ue(r,"group",s));return typeof i!="string"?!1:i.split(" ").includes("list")}function H_(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((r=e.text)!=null?r:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let s=!0;return e.content.forEach(i=>{s!==!1&&(H_(i,{ignoreWhitespace:n,checkChildren:t})||(s=!1))}),s}return!1}function eae(e){return e instanceof He}function tae(e,t,n){const s=e.state.doc.content.size,i=ul(t,0,s),o=ul(n,0,s),l=e.coordsAtPos(i),c=e.coordsAtPos(o,-1),u=Math.min(l.top,c.top),d=Math.max(l.bottom,c.bottom),h=Math.min(l.left,c.left),f=Math.max(l.right,c.right),p=f-h,m=d-u,x={top:u,bottom:d,left:h,right:f,width:p,height:m,x:h,y:u};return{...x,toJSON:()=>x}}function Mit(e,t,n){var r;const{selection:s}=t;let i=null;if(QL(s)&&(i=s.$cursor),i){const l=(r=e.storedMarks)!=null?r:i.marks();return i.parent.type.allowsMarkType(n)&&(!!n.isInSet(l)||!l.some(u=>u.type.excludes(n)))}const{ranges:o}=s;return o.some(({$from:l,$to:c})=>{let u=l.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(l.pos,c.pos,(d,h,f)=>{if(u)return!1;if(d.isInline){const p=!f||f.type.allowsMarkType(n),m=!!n.isInSet(d.marks)||!d.marks.some(g=>g.type.excludes(n));u=p&&m}return!u}),u})}var Pit=(e,t={})=>({tr:n,state:r,dispatch:s})=>{const{selection:i}=n,{empty:o,ranges:l}=i,c=Ll(e,r.schema);if(s)if(o){const u=Woe(r,c);n.addStoredMark(c.create({...u,...t}))}else l.forEach(u=>{const d=u.$from.pos,h=u.$to.pos;r.doc.nodesBetween(d,h,(f,p)=>{const m=Math.max(p,d),g=Math.min(p+f.nodeSize,h);f.marks.find(x=>x.type===c)?f.marks.forEach(x=>{c===x.type&&n.addMark(m,g,c.create({...x.attrs,...t}))}):n.addMark(m,g,c.create(t))})});return Mit(r,n,c)},Dit=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),Rit=(e,t={})=>({state:n,dispatch:r,chain:s})=>{const i=dr(e,n.schema);let o;return n.selection.$anchor.sameParent(n.selection.$head)&&(o=n.selection.$anchor.parent.attrs),i.isTextblock?s().command(({commands:l})=>KH(i,{...o,...t})(n)?!0:l.clearNodes()).command(({state:l})=>KH(i,{...o,...t})(l,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},Iit=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,s=ul(e,0,r.content.size),i=He.create(r,s);t.setSelection(i)}return!0},Lit=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,{from:s,to:i}=typeof e=="number"?{from:e,to:e}:e,o=Ve.atStart(r).from,l=Ve.atEnd(r).to,c=ul(s,o,l),u=ul(i,o,l),d=Ve.create(r,c,u);t.setSelection(d)}return!0},$it=e=>({state:t,dispatch:n})=>{const r=dr(e,t.schema);return $nt(r)(t,n)};function R8(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(s=>t==null?void 0:t.includes(s.type.name));e.tr.ensureMarks(r)}}var Bit=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:s})=>{const{selection:i,doc:o}=t,{$from:l,$to:c}=i,u=s.extensionManager.attributes,d=a1(u,l.node().type.name,l.node().attrs);if(i instanceof He&&i.node.isBlock)return!l.parentOffset||!xl(o,l.pos)?!1:(r&&(e&&R8(n,s.extensionManager.splittableMarks),t.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;const h=c.parentOffset===c.parent.content.size,f=l.depth===0?void 0:xit(l.node(-1).contentMatchAt(l.indexAfter(-1)));let p=h&&f?[{type:f,attrs:d}]:void 0,m=xl(t.doc,t.mapping.map(l.pos),1,p);if(!p&&!m&&xl(t.doc,t.mapping.map(l.pos),1,f?[{type:f}]:void 0)&&(m=!0,p=f?[{type:f,attrs:d}]:void 0),r){if(m&&(i instanceof Ve&&t.deleteSelection(),t.split(t.mapping.map(l.pos),1,p),f&&!h&&!l.parentOffset&&l.parent.type!==f)){const g=t.mapping.map(l.before()),y=t.doc.resolve(g);l.node(-1).canReplaceWith(y.index(),y.index()+1,f)&&t.setNodeMarkup(t.mapping.map(l.before()),f)}e&&R8(n,s.extensionManager.splittableMarks),t.scrollIntoView()}return m},Fit=(e,t={})=>({tr:n,state:r,dispatch:s,editor:i})=>{var o;const l=dr(e,r.schema),{$from:c,$to:u}=r.selection,d=r.selection.node;if(d&&d.isBlock||c.depth<2||!c.sameParent(u))return!1;const h=c.node(-1);if(h.type!==l)return!1;const f=i.extensionManager.attributes;if(c.parent.content.size===0&&c.node(-1).childCount===c.indexAfter(-1)){if(c.depth===2||c.node(-3).type!==l||c.index(-2)!==c.node(-2).childCount-1)return!1;if(s){let x=he.empty;const b=c.index(-1)?1:c.index(-2)?2:3;for(let _=c.depth-b;_>=c.depth-3;_-=1)x=he.from(c.node(_).copy(x));const w=c.indexAfter(-1)<c.node(-2).childCount?1:c.indexAfter(-2)<c.node(-3).childCount?2:3,N={...a1(f,c.node().type.name,c.node().attrs),...t},S=((o=l.contentMatch.defaultType)==null?void 0:o.createAndFill(N))||void 0;x=x.append(he.from(l.createAndFill(null,S)||void 0));const k=c.before(c.depth-(b-1));n.replace(k,c.after(-w),new Te(x,4-b,0));let j=-1;n.doc.nodesBetween(k,n.doc.content.size,(_,C)=>{if(j>-1)return!1;_.isTextblock&&_.content.size===0&&(j=C+1)}),j>-1&&n.setSelection(Ve.near(n.doc.resolve(j))),n.scrollIntoView()}return!0}const p=u.pos===c.end()?h.contentMatchAt(0).defaultType:null,m={...a1(f,h.type.name,h.attrs),...t},g={...a1(f,c.node().type.name,c.node().attrs),...t};n.delete(c.pos,u.pos);const y=p?[{type:l,attrs:m},{type:p,attrs:g}]:[{type:l,attrs:m}];if(!xl(n.doc,c.pos,2))return!1;if(s){const{selection:x,storedMarks:b}=r,{splittableMarks:w}=i.extensionManager,N=b||x.$to.parentOffset&&x.$from.marks();if(n.split(c.pos,2,y).scrollIntoView(),!N||!s)return!0;const S=N.filter(k=>w.includes(k.type.name));n.ensureMarks(S)}return!0},jT=(e,t)=>{const n=U_(o=>o.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const s=e.doc.nodeAt(r);return n.node.type===(s==null?void 0:s.type)&&Nu(e.doc,n.pos)&&e.join(n.pos),!0},_T=(e,t)=>{const n=U_(o=>o.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const s=e.doc.nodeAt(r);return n.node.type===(s==null?void 0:s.type)&&Nu(e.doc,r)&&e.join(r),!0},zit=(e,t,n,r={})=>({editor:s,tr:i,state:o,dispatch:l,chain:c,commands:u,can:d})=>{const{extensions:h,splittableMarks:f}=s.extensionManager,p=dr(e,o.schema),m=dr(t,o.schema),{selection:g,storedMarks:y}=o,{$from:x,$to:b}=g,w=x.blockRange(b),N=y||g.$to.parentOffset&&g.$from.marks();if(!w)return!1;const S=U_(k=>D8(k.type.name,h))(g);if(w.depth>=1&&S&&w.depth-S.depth<=1){if(S.node.type===p)return u.liftListItem(m);if(D8(S.node.type.name,h)&&p.validContent(S.node.content)&&l)return c().command(()=>(i.setNodeMarkup(S.pos,p),!0)).command(()=>jT(i,p)).command(()=>_T(i,p)).run()}return!n||!N||!l?c().command(()=>d().wrapInList(p,r)?!0:u.clearNodes()).wrapInList(p,r).command(()=>jT(i,p)).command(()=>_T(i,p)).run():c().command(()=>{const k=d().wrapInList(p,r),j=N.filter(_=>f.includes(_.type.name));return i.ensureMarks(j),k?!0:u.clearNodes()}).wrapInList(p,r).command(()=>jT(i,p)).command(()=>_T(i,p)).run()},Uit=(e,t={},n={})=>({state:r,commands:s})=>{const{extendEmptyMarkRange:i=!1}=n,o=Ll(e,r.schema);return KM(r,o,t)?s.unsetMark(o,{extendEmptyMarkRange:i}):s.setMark(o,t)},Hit=(e,t,n={})=>({state:r,commands:s})=>{const i=dr(e,r.schema),o=dr(t,r.schema),l=su(r,i,n);let c;return r.selection.$anchor.sameParent(r.selection.$head)&&(c=r.selection.$anchor.parent.attrs),l?s.setNode(o,c):s.setNode(i,{...c,...n})},Wit=(e,t={})=>({state:n,commands:r})=>{const s=dr(e,n.schema);return su(n,s,t)?r.lift(s):r.wrapIn(s,t)},Vit=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const s=n[r];let i;if(s.spec.isInputRules&&(i=s.getState(e))){if(t){const o=e.tr,l=i.transform;for(let c=l.steps.length-1;c>=0;c-=1)o.step(l.steps[c].invert(l.docs[c]));if(i.text){const c=o.doc.resolve(i.from).marks();o.replaceWith(i.from,i.to,e.schema.text(i.text,c))}else o.delete(i.from,i.to)}return!0}}return!1},Git=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:s}=n;return r||t&&s.forEach(i=>{e.removeMark(i.$from.pos,i.$to.pos)}),!0},qit=(e,t={})=>({tr:n,state:r,dispatch:s})=>{var i;const{extendEmptyMarkRange:o=!1}=t,{selection:l}=n,c=Ll(e,r.schema),{$from:u,empty:d,ranges:h}=l;if(!s)return!0;if(d&&o){let{from:f,to:p}=l;const m=(i=u.marks().find(y=>y.type===c))==null?void 0:i.attrs,g=JL(u,c,m);g&&(f=g.from,p=g.to),n.removeMark(f,p,c)}else h.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,c)});return n.removeStoredMark(c),!0},Kit=(e,t={})=>({tr:n,state:r,dispatch:s})=>{let i=null,o=null;const l=z_(typeof e=="string"?e:e.name,r.schema);return l?(l==="node"&&(i=dr(e,r.schema)),l==="mark"&&(o=Ll(e,r.schema)),s&&n.selection.ranges.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;let h,f,p,m;n.selection.empty?r.doc.nodesBetween(u,d,(g,y)=>{i&&i===g.type&&(p=Math.max(y,u),m=Math.min(y+g.nodeSize,d),h=y,f=g)}):r.doc.nodesBetween(u,d,(g,y)=>{y<u&&i&&i===g.type&&(p=Math.max(y,u),m=Math.min(y+g.nodeSize,d),h=y,f=g),y>=u&&y<=d&&(i&&i===g.type&&n.setNodeMarkup(y,void 0,{...g.attrs,...t}),o&&g.marks.length&&g.marks.forEach(x=>{if(o===x.type){const b=Math.max(y,u),w=Math.min(y+g.nodeSize,d);n.addMark(b,w,o.create({...x.attrs,...t}))}}))}),f&&(h!==void 0&&n.setNodeMarkup(h,void 0,{...f.attrs,...t}),o&&f.marks.length&&f.marks.forEach(g=>{o===g.type&&n.addMark(p,m,o.create({...g.attrs,...t}))}))}),!0):!1},Yit=(e,t={})=>({state:n,dispatch:r})=>{const s=dr(e,n.schema);return Ont(s,t)(n,r)},Xit=(e,t={})=>({state:n,dispatch:r})=>{const s=dr(e,n.schema);return Mnt(s,t)(n,r)},Jit=class{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const n=this.callbacks[e];return n&&n.forEach(r=>r.apply(this,t)),this}off(e,t){const n=this.callbacks[e];return n&&(t?this.callbacks[e]=n.filter(r=>r!==t):delete this.callbacks[e]),this}once(e,t){const n=(...r)=>{this.off(e,n),t.apply(this,r)};return this.on(e,n)}removeAllListeners(){this.callbacks={}}},W_=class{constructor(e){var t;this.find=e.find,this.handler=e.handler,this.undoable=(t=e.undoable)!=null?t:!0}},Qit=(e,t)=>{if(XL(t))return t.exec(e);const n=t(e);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=e,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function tw(e){var t;const{editor:n,from:r,to:s,text:i,rules:o,plugin:l}=e,{view:c}=n;if(c.composing)return!1;const u=c.state.doc.resolve(r);if(u.parent.type.spec.code||(t=u.nodeBefore||u.nodeAfter)!=null&&t.marks.find(f=>f.type.spec.code))return!1;let d=!1;const h=Cit(u)+i;return o.forEach(f=>{if(d)return;const p=Qit(h,f.find);if(!p)return;const m=c.state.tr,g=B_({state:c.state,transaction:m}),y={from:r-(p[0].length-i.length),to:s},{commands:x,chain:b,can:w}=new F_({editor:n,state:g});f.handler({state:g,range:y,match:p,commands:x,chain:b,can:w})===null||!m.steps.length||(f.undoable&&m.setMeta(l,{transform:m,from:r,to:s,text:i}),c.dispatch(m),d=!0)}),d}function Zit(e){const{editor:t,rules:n}=e,r=new an({state:{init(){return null},apply(s,i,o){const l=s.getMeta(r);if(l)return l;const c=s.getMeta("applyInputRules");return!!c&&setTimeout(()=>{let{text:d}=c;typeof d=="string"?d=d:d=t$(he.from(d),o.schema);const{from:h}=c,f=h+d.length;tw({editor:t,from:h,to:f,text:d,rules:n,plugin:r})}),s.selectionSet||s.docChanged?null:i}},props:{handleTextInput(s,i,o,l){return tw({editor:t,from:i,to:o,text:l,rules:n,plugin:r})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:i}=s.state.selection;i&&tw({editor:t,from:i.pos,to:i.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(s,i){if(i.key!=="Enter")return!1;const{$cursor:o}=s.state.selection;return o?tw({editor:t,from:o.pos,to:o.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function eot(e){return Object.prototype.toString.call(e).slice(8,-1)}function nw(e){return eot(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function nae(e,t){const n={...e};return nw(e)&&nw(t)&&Object.keys(t).forEach(r=>{nw(t[r])&&nw(e[r])?n[r]=nae(e[r],t[r]):n[r]=t[r]}),n}var i$=class{constructor(e={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...e},this.name=this.config.name}get options(){return{...Lt(Ue(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Lt(Ue(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(e={}){const t=this.extend({...this.config,addOptions:()=>nae(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new this.constructor({...this.config,...e});return t.parent=this,this.child=t,t.name="name"in e?e.name:t.parent.name,t}},$l=class rae extends i${constructor(){super(...arguments),this.type="mark"}static create(t={}){const n=typeof t=="function"?t():t;return new rae(n)}static handleExit({editor:t,mark:n}){const{tr:r}=t.state,s=t.state.selection.$from;if(s.pos===s.end()){const o=s.marks();if(!!!o.find(u=>(u==null?void 0:u.type.name)===n.name))return!1;const c=o.find(u=>(u==null?void 0:u.type.name)===n.name);return c&&r.removeStoredMark(c),r.insertText(" ",s.pos),t.view.dispatch(r),!0}return!1}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}};function tot(e){return typeof e=="number"}var not=class{constructor(e){this.find=e.find,this.handler=e.handler}},rot=(e,t,n)=>{if(XL(t))return[...e.matchAll(t)];const r=t(e,n);return r?r.map(s=>{const i=[s.text];return i.index=s.index,i.input=e,i.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(s.replaceWith)),i}):[]};function sot(e){const{editor:t,state:n,from:r,to:s,rule:i,pasteEvent:o,dropEvent:l}=e,{commands:c,chain:u,can:d}=new F_({editor:t,state:n}),h=[];return n.doc.nodesBetween(r,s,(p,m)=>{var g,y,x,b,w;if((y=(g=p.type)==null?void 0:g.spec)!=null&&y.code||!(p.isText||p.isTextblock||p.isInline))return;const N=(w=(b=(x=p.content)==null?void 0:x.size)!=null?b:p.nodeSize)!=null?w:0,S=Math.max(r,m),k=Math.min(s,m+N);if(S>=k)return;const j=p.isText?p.text||"":p.textBetween(S-m,k-m,void 0,"");rot(j,i.find,o).forEach(C=>{if(C.index===void 0)return;const A=S+C.index+1,O=A+C[0].length,M={from:n.tr.mapping.map(A),to:n.tr.mapping.map(O)},P=i.handler({state:n,range:M,match:C,commands:c,chain:u,can:d,pasteEvent:o,dropEvent:l});h.push(P)})}),h.every(p=>p!==null)}var rw=null,iot=e=>{var t;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(t=n.clipboardData)==null||t.setData("text/html",e),n};function oot(e){const{editor:t,rules:n}=e;let r=null,s=!1,i=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l;try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}const c=({state:d,from:h,to:f,rule:p,pasteEvt:m})=>{const g=d.tr,y=B_({state:d,transaction:g});if(!(!sot({editor:t,state:y,from:Math.max(h-1,0),to:f.b-1,rule:p,pasteEvent:m,dropEvent:l})||!g.steps.length)){try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,g}};return n.map(d=>new an({view(h){const f=m=>{var g;r=(g=h.dom.parentElement)!=null&&g.contains(m.target)?h.dom.parentElement:null,r&&(rw=t)},p=()=>{rw&&(rw=null)};return window.addEventListener("dragstart",f),window.addEventListener("dragend",p),{destroy(){window.removeEventListener("dragstart",f),window.removeEventListener("dragend",p)}}},props:{handleDOMEvents:{drop:(h,f)=>{if(i=r===h.dom.parentElement,l=f,!i){const p=rw;p!=null&&p.isEditable&&setTimeout(()=>{const m=p.state.selection;m&&p.commands.deleteRange({from:m.from,to:m.to})},10)}return!1},paste:(h,f)=>{var p;const m=(p=f.clipboardData)==null?void 0:p.getData("text/html");return o=f,s=!!(m!=null&&m.includes("data-pm-slice")),!1}}},appendTransaction:(h,f,p)=>{const m=h[0],g=m.getMeta("uiEvent")==="paste"&&!s,y=m.getMeta("uiEvent")==="drop"&&!i,x=m.getMeta("applyPasteRules"),b=!!x;if(!g&&!y&&!b)return;if(b){let{text:S}=x;typeof S=="string"?S=S:S=t$(he.from(S),p.schema);const{from:k}=x,j=k+S.length,_=iot(S);return c({rule:d,state:p,from:k,to:{b:j},pasteEvt:_})}const w=f.doc.content.findDiffStart(p.doc.content),N=f.doc.content.findDiffEnd(p.doc.content);if(!(!tot(w)||!N||w===N.b))return c({rule:d,state:p,from:w,to:N,pasteEvt:o})}}))}var V_=class{constructor(e,t){this.splittableMarks=[],this.editor=t,this.baseExtensions=e,this.extensions=Yoe(e),this.schema=Sit(this.extensions,t),this.setupExtensions()}get commands(){return this.extensions.reduce((e,t)=>{const n={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:kT(t.name,this.schema)},r=Ue(t,"addCommands",n);return r?{...e,...r()}:e},{})}get plugins(){const{editor:e}=this;return n$([...this.extensions].reverse()).flatMap(r=>{const s={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:e,type:kT(r.name,this.schema)},i=[],o=Ue(r,"addKeyboardShortcuts",s);let l={};if(r.type==="mark"&&Ue(r,"exitable",s)&&(l.ArrowRight=()=>$l.handleExit({editor:e,mark:r})),o){const f=Object.fromEntries(Object.entries(o()).map(([p,m])=>[p,()=>m({editor:e})]));l={...l,...f}}const c=_st(l);i.push(c);const u=Ue(r,"addInputRules",s);if(P8(r,e.options.enableInputRules)&&u){const f=u();if(f&&f.length){const p=Zit({editor:e,rules:f}),m=Array.isArray(p)?p:[p];i.push(...m)}}const d=Ue(r,"addPasteRules",s);if(P8(r,e.options.enablePasteRules)&&d){const f=d();if(f&&f.length){const p=oot({editor:e,rules:f});i.push(...p)}}const h=Ue(r,"addProseMirrorPlugins",s);if(h){const f=h();i.push(...f)}return i})}get attributes(){return Koe(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=fv(this.extensions);return Object.fromEntries(t.filter(n=>!!Ue(n,"addNodeView")).map(n=>{const r=this.attributes.filter(c=>c.type===n.name),s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:dr(n.name,this.schema)},i=Ue(n,"addNodeView",s);if(!i)return[];const o=i();if(!o)return[];const l=(c,u,d,h,f)=>{const p=DN(c,r);return o({node:c,view:u,getPos:d,decorations:h,innerDecorations:f,editor:e,extension:n,HTMLAttributes:p})};return[n.name,l]}))}get markViews(){const{editor:e}=this,{markExtensions:t}=fv(this.extensions);return Object.fromEntries(t.filter(n=>!!Ue(n,"addMarkView")).map(n=>{const r=this.attributes.filter(l=>l.type===n.name),s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:Ll(n.name,this.schema)},i=Ue(n,"addMarkView",s);if(!i)return[];const o=(l,c,u)=>{const d=DN(l,r);return i()({mark:l,view:c,inline:u,editor:e,extension:n,HTMLAttributes:d,updateAttributes:h=>{wot(l,e,h)}})};return[n.name,o]}))}setupExtensions(){const e=this.extensions;this.editor.extensionStorage=Object.fromEntries(e.map(t=>[t.name,t.storage])),e.forEach(t=>{var n;const r={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:kT(t.name,this.schema)};t.type==="mark"&&((n=Lt(Ue(t,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(t.name);const s=Ue(t,"onBeforeCreate",r),i=Ue(t,"onCreate",r),o=Ue(t,"onUpdate",r),l=Ue(t,"onSelectionUpdate",r),c=Ue(t,"onTransaction",r),u=Ue(t,"onFocus",r),d=Ue(t,"onBlur",r),h=Ue(t,"onDestroy",r);s&&this.editor.on("beforeCreate",s),i&&this.editor.on("create",i),o&&this.editor.on("update",o),l&&this.editor.on("selectionUpdate",l),c&&this.editor.on("transaction",c),u&&this.editor.on("focus",u),d&&this.editor.on("blur",d),h&&this.editor.on("destroy",h)})}};V_.resolve=Yoe;V_.sort=n$;V_.flatten=e$;var aot={};YL(aot,{ClipboardTextSerializer:()=>iae,Commands:()=>oae,Delete:()=>aae,Drop:()=>lae,Editable:()=>cae,FocusEvents:()=>dae,Keymap:()=>hae,Paste:()=>fae,Tabindex:()=>pae,focusEventsPluginKey:()=>uae});var Ft=class sae extends i${constructor(){super(...arguments),this.type="extension"}static create(t={}){const n=typeof t=="function"?t():t;return new sae(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},iae=Ft.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new an({key:new Cn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:s}=t,{ranges:i}=s,o=Math.min(...i.map(d=>d.$from.pos)),l=Math.max(...i.map(d=>d.$to.pos)),c=r$(n);return Xoe(r,{from:o,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:c})}}})]}}),oae=Ft.create({name:"commands",addCommands(){return{...Boe}}}),aae=Ft.create({name:"delete",onUpdate({transaction:e,appendedTransactions:t}){var n,r,s;const i=()=>{var o,l,c,u;if((u=(c=(l=(o=this.editor.options.coreExtensionOptions)==null?void 0:o.delete)==null?void 0:l.filterTransaction)==null?void 0:c.call(l,e))!=null?u:e.getMeta("y-sync$"))return;const d=Voe(e.before,[e,...t]);Zoe(d).forEach(p=>{d.mapping.mapResult(p.oldRange.from).deletedAfter&&d.mapping.mapResult(p.oldRange.to).deletedBefore&&d.before.nodesBetween(p.oldRange.from,p.oldRange.to,(m,g)=>{const y=g+m.nodeSize-2,x=p.oldRange.from<=g&&y<=p.oldRange.to;this.editor.emit("delete",{type:"node",node:m,from:g,to:y,newFrom:d.mapping.map(g),newTo:d.mapping.map(y),deletedRange:p.oldRange,newRange:p.newRange,partial:!x,editor:this.editor,transaction:e,combinedTransform:d})})});const f=d.mapping;d.steps.forEach((p,m)=>{var g,y;if(p instanceof Mo){const x=f.slice(m).map(p.from,-1),b=f.slice(m).map(p.to),w=f.invert().map(x,-1),N=f.invert().map(b),S=(g=d.doc.nodeAt(x-1))==null?void 0:g.marks.some(j=>j.eq(p.mark)),k=(y=d.doc.nodeAt(b))==null?void 0:y.marks.some(j=>j.eq(p.mark));this.editor.emit("delete",{type:"mark",mark:p.mark,from:p.from,to:p.to,deletedRange:{from:w,to:N},newRange:{from:x,to:b},partial:!!(k||S),editor:this.editor,transaction:e,combinedTransform:d})}})};(s=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||s?setTimeout(i,0):i()}}),lae=Ft.create({name:"drop",addProseMirrorPlugins(){return[new an({key:new Cn("tiptapDrop"),props:{handleDrop:(e,t,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:r})}}})]}}),cae=Ft.create({name:"editable",addProseMirrorPlugins(){return[new an({key:new Cn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),uae=new Cn("focusEvents"),dae=Ft.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new an({key:uae,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),hae=Ft.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:l})=>{const{selection:c,doc:u}=l,{empty:d,$anchor:h}=c,{pos:f,parent:p}=h,m=h.parent.isTextblock&&f>0?l.doc.resolve(f-1):h,g=m.parent.type.spec.isolating,y=h.pos-h.parentOffset,x=g&&m.parent.childCount===1?y===h.pos:Xe.atStart(u).from===f;return!d||!p.type.isTextblock||p.textContent.length||!x||x&&h.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},s={...r},i={...r,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return ZL()||Hoe()?i:s},addProseMirrorPlugins(){return[new an({key:new Cn("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(g=>g.getMeta("composition")))return;const r=e.some(g=>g.docChanged)&&!t.doc.eq(n.doc),s=e.some(g=>g.getMeta("preventClearDocument"));if(!r||s)return;const{empty:i,from:o,to:l}=t.selection,c=Xe.atStart(t.doc).from,u=Xe.atEnd(t.doc).to;if(i||!(o===c&&l===u)||!H_(n.doc))return;const f=n.tr,p=B_({state:n,transaction:f}),{commands:m}=new F_({editor:this.editor,state:p});if(m.clearNodes(),!!f.steps.length)return f}})]}}),fae=Ft.create({name:"paste",addProseMirrorPlugins(){return[new an({key:new Cn("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),pae=Ft.create({name:"tabindex",addProseMirrorPlugins(){return[new an({key:new Cn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),lot=class sf{constructor(t,n,r=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=t,this.editor=n,this.currentNode=s}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var t;return(t=this.actualDepth)!=null?t:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(t){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},t)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(t);return new sf(n,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new sf(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new sf(t,this.editor)}get children(){const t=[];return this.node.content.forEach((n,r)=>{const s=n.isBlock&&!n.isTextblock,i=n.isAtom&&!n.isText,o=this.pos+r+(i?0:1);if(o<0||o>this.resolvedPos.doc.nodeSize-2)return;const l=this.resolvedPos.doc.resolve(o);if(!s&&l.depth<=this.depth)return;const c=new sf(l,this.editor,s,s?n:null);s&&(c.actualDepth=this.depth+1),t.push(new sf(l,this.editor,s,s?n:null))}),t}get firstChild(){return this.children[0]||null}get lastChild(){const t=this.children;return t[t.length-1]||null}closest(t,n={}){let r=null,s=this.parent;for(;s&&!r;){if(s.node.type.name===t)if(Object.keys(n).length>0){const i=s.node.attrs,o=Object.keys(n);for(let l=0;l<o.length;l+=1){const c=o[l];if(i[c]!==n[c])break}}else r=s;s=s.parent}return r}querySelector(t,n={}){return this.querySelectorAll(t,n,!0)[0]||null}querySelectorAll(t,n={},r=!1){let s=[];if(!this.children||this.children.length===0)return s;const i=Object.keys(n);return this.children.forEach(o=>{r&&s.length>0||(o.node.type.name===t&&i.every(c=>n[c]===o.node.attrs[c])&&s.push(o),!(r&&s.length>0)&&(s=s.concat(o.querySelectorAll(t,n,r))))}),s}setAttribute(t){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...t}),this.editor.view.dispatch(n)}},cot=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function uot(e,t,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const s=document.createElement("style");return t&&s.setAttribute("nonce",t),s.setAttribute("data-tiptap-style",""),s.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(s),s}var dot=class extends Jit{constructor(e={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:s,moved:i})=>this.options.onDrop(r,s,i)),this.on("paste",({event:r,slice:s})=>this.options.onPaste(r,s)),this.on("delete",this.options.onDelete);const t=this.createDoc(),n=zoe(t,this.options.autofocus);this.editorState=Ef.create({doc:t,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(e){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(e),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const e=this.editorView.dom;e!=null&&e.editor&&delete e.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(e){console.warn("Failed to remove CSS element:",e)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=uot(cot,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:e=>{this.editorState=e},dispatch:e=>{this.dispatchTransaction(e)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(e,t)=>{if(this.editorView)return this.editorView[t];if(t==="state")return this.editorState;if(t in e)return Reflect.get(e,t);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${t}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(e,t){const n=qoe(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let n=t;if([].concat(e).forEach(s=>{const i=typeof s=="string"?`${s}$`:s.key;n=n.filter(o=>!o.key.startsWith(i))}),t.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var e,t;const r=[...this.options.enableCoreExtensions?[cae,iae.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)==null?void 0:e.clipboardTextSerializer)==null?void 0:t.blockSeparator}),oae,dae,hae,pae,lae,fae,aae].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new V_(r,this)}createCommandManager(){this.commandManager=new F_({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let e;try{e=GM(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(t){if(!(t instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(t.message))throw t;this.emit("contentError",{editor:this,error:t,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),e=GM(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return e}createView(e){var t;this.editorView=new $oe(e,{...this.options.editorProps,attributes:{role:"textbox",...(t=this.options.editorProps)==null?void 0:t.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(u=>{var d;return(d=this.capturedTransaction)==null?void 0:d.step(u)});return}const{state:t,transactions:n}=this.state.applyTransaction(e),r=!this.state.selection.eq(t.selection),s=n.includes(e),i=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),!s)return;this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const o=n.findLast(u=>u.getMeta("focus")||u.getMeta("blur")),l=o==null?void 0:o.getMeta("focus"),c=o==null?void 0:o.getMeta("blur");l&&this.emit("focus",{editor:this,event:l.event,transaction:o}),c&&this.emit("blur",{editor:this,event:c.event,transaction:o}),!(e.getMeta("preventUpdate")||!n.some(u=>u.docChanged)||i.doc.eq(t.doc))&&this.emit("update",{editor:this,transaction:e,appendedTransactions:n.slice(1)})}getAttributes(e){return Qoe(this.state,e)}isActive(e,t){const n=typeof e=="string"?e:null,r=typeof e=="string"?t:e;return Tit(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return t$(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:n={}}=e||{};return Joe(this.state.doc,{blockSeparator:t,textSerializers:{...r$(this.schema),...n}})}get isEmpty(){return H_(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var e,t;return(t=(e=this.editorView)==null?void 0:e.isDestroyed)!=null?t:!0}$node(e,t){var n;return((n=this.$doc)==null?void 0:n.querySelector(e,t))||null}$nodes(e,t){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new lot(t,this)}get $doc(){return this.$pos(0)}};function th(e){return new W_({find:e.find,handler:({state:t,range:n,match:r})=>{const s=Lt(e.getAttributes,void 0,r);if(s===!1||s===null)return null;const{tr:i}=t,o=r[r.length-1],l=r[0];if(o){const c=l.search(/\S/),u=n.from+l.indexOf(o),d=u+o.length;if(s$(n.from,n.to,t.doc).filter(p=>p.mark.type.excluded.find(g=>g===e.type&&g!==p.mark.type)).filter(p=>p.to>u).length)return null;d<n.to&&i.delete(d,n.to),u>n.from&&i.delete(n.from+c,u);const f=n.from+c+o.length;i.addMark(n.from+c,f,e.type.create(s||{})),i.removeStoredMark(e.type)}},undoable:e.undoable})}function mae(e){return new W_({find:e.find,handler:({state:t,range:n,match:r})=>{const s=Lt(e.getAttributes,void 0,r)||{},{tr:i}=t,o=n.from;let l=n.to;const c=e.type.create(s);if(r[1]){const u=r[0].lastIndexOf(r[1]);let d=o+u;d>l?d=l:l=d+r[1].length;const h=r[0][r[0].length-1];i.insertText(h,o+r[0].length-1),i.replaceWith(d,l,c)}else if(r[0]){const u=e.type.isInline?o:o-1;i.insert(u,e.type.create(s)).delete(i.mapping.map(o),i.mapping.map(l))}i.scrollIntoView()},undoable:e.undoable})}function YM(e){return new W_({find:e.find,handler:({state:t,range:n,match:r})=>{const s=t.doc.resolve(n.from),i=Lt(e.getAttributes,void 0,r)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),e.type))return null;t.tr.delete(n.from,n.to).setBlockType(n.from,n.from,e.type,i)},undoable:e.undoable})}function am(e){return new W_({find:e.find,handler:({state:t,range:n,match:r,chain:s})=>{const i=Lt(e.getAttributes,void 0,r)||{},o=t.tr.delete(n.from,n.to),c=o.doc.resolve(n.from).blockRange(),u=c&&OL(c,e.type,i);if(!u)return null;if(o.wrap(c,u),e.keepMarks&&e.editor){const{selection:h,storedMarks:f}=t,{splittableMarks:p}=e.editor.extensionManager,m=f||h.$to.parentOffset&&h.$from.marks();if(m){const g=m.filter(y=>p.includes(y.type.name));o.ensureMarks(g)}}if(e.keepAttributes){const h=e.type.name==="bulletList"||e.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(h,i).run()}const d=o.doc.resolve(n.from-1).nodeBefore;d&&d.type===e.type&&Nu(o.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(r,d))&&o.join(n.from-1)},undoable:e.undoable})}var hot=e=>"touches"in e,fot=class{constructor(e){this.directions=["bottom-left","bottom-right","top-left","top-right"],this.minSize={height:8,width:8},this.preserveAspectRatio=!1,this.classNames={container:"",wrapper:"",handle:"",resizing:""},this.initialWidth=0,this.initialHeight=0,this.aspectRatio=1,this.isResizing=!1,this.activeHandle=null,this.startX=0,this.startY=0,this.startWidth=0,this.startHeight=0,this.isShiftKeyPressed=!1,this.handleMouseMove=o=>{if(!this.isResizing||!this.activeHandle)return;const l=o.clientX-this.startX,c=o.clientY-this.startY;this.handleResize(l,c)},this.handleTouchMove=o=>{if(!this.isResizing||!this.activeHandle)return;const l=o.touches[0];if(!l)return;const c=l.clientX-this.startX,u=l.clientY-this.startY;this.handleResize(c,u)},this.handleMouseUp=()=>{if(!this.isResizing)return;const o=this.element.offsetWidth,l=this.element.offsetHeight;this.onCommit(o,l),this.isResizing=!1,this.activeHandle=null,this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},this.handleKeyDown=o=>{o.key==="Shift"&&(this.isShiftKeyPressed=!0)},this.handleKeyUp=o=>{o.key==="Shift"&&(this.isShiftKeyPressed=!1)};var t,n,r,s,i;this.node=e.node,this.element=e.element,this.contentElement=e.contentElement,this.getPos=e.getPos,this.onResize=e.onResize,this.onCommit=e.onCommit,this.onUpdate=e.onUpdate,(t=e.options)!=null&&t.min&&(this.minSize={...this.minSize,...e.options.min}),(n=e.options)!=null&&n.max&&(this.maxSize=e.options.max),(r=e==null?void 0:e.options)!=null&&r.directions&&(this.directions=e.options.directions),(s=e.options)!=null&&s.preserveAspectRatio&&(this.preserveAspectRatio=e.options.preserveAspectRatio),(i=e.options)!=null&&i.className&&(this.classNames={container:e.options.className.container||"",wrapper:e.options.className.wrapper||"",handle:e.options.className.handle||"",resizing:e.options.className.resizing||""}),this.wrapper=this.createWrapper(),this.container=this.createContainer(),this.applyInitialSize(),this.attachHandles()}get dom(){return this.container}get contentDOM(){return this.contentElement}update(e,t,n){return e.type!==this.node.type?!1:(this.node=e,this.onUpdate?this.onUpdate(e,t,n):!0)}destroy(){this.isResizing&&(this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),this.isResizing=!1,this.activeHandle=null),this.container.remove()}createContainer(){const e=document.createElement("div");return e.dataset.resizeContainer="",e.dataset.node=this.node.type.name,e.style.display="flex",e.style.justifyContent="flex-start",e.style.alignItems="flex-start",this.classNames.container&&(e.className=this.classNames.container),e.appendChild(this.wrapper),e}createWrapper(){const e=document.createElement("div");return e.style.position="relative",e.style.display="block",e.dataset.resizeWrapper="",this.classNames.wrapper&&(e.className=this.classNames.wrapper),e.appendChild(this.element),e}createHandle(e){const t=document.createElement("div");return t.dataset.resizeHandle=e,t.style.position="absolute",this.classNames.handle&&(t.className=this.classNames.handle),t}positionHandle(e,t){const n=t.includes("top"),r=t.includes("bottom"),s=t.includes("left"),i=t.includes("right");n&&(e.style.top="0"),r&&(e.style.bottom="0"),s&&(e.style.left="0"),i&&(e.style.right="0"),(t==="top"||t==="bottom")&&(e.style.left="0",e.style.right="0"),(t==="left"||t==="right")&&(e.style.top="0",e.style.bottom="0")}attachHandles(){this.directions.forEach(e=>{const t=this.createHandle(e);this.positionHandle(t,e),t.addEventListener("mousedown",n=>this.handleResizeStart(n,e)),t.addEventListener("touchstart",n=>this.handleResizeStart(n,e)),this.wrapper.appendChild(t)})}applyInitialSize(){const e=this.node.attrs.width,t=this.node.attrs.height;e?(this.element.style.width=`${e}px`,this.initialWidth=e):this.initialWidth=this.element.offsetWidth,t?(this.element.style.height=`${t}px`,this.initialHeight=t):this.initialHeight=this.element.offsetHeight,this.initialWidth>0&&this.initialHeight>0&&(this.aspectRatio=this.initialWidth/this.initialHeight)}handleResizeStart(e,t){e.preventDefault(),e.stopPropagation(),this.isResizing=!0,this.activeHandle=t,hot(e)?(this.startX=e.touches[0].clientX,this.startY=e.touches[0].clientY):(this.startX=e.clientX,this.startY=e.clientY),this.startWidth=this.element.offsetWidth,this.startHeight=this.element.offsetHeight,this.startWidth>0&&this.startHeight>0&&(this.aspectRatio=this.startWidth/this.startHeight),this.getPos(),this.container.dataset.resizeState="true",this.classNames.resizing&&this.container.classList.add(this.classNames.resizing),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}handleResize(e,t){if(!this.activeHandle)return;const n=this.preserveAspectRatio||this.isShiftKeyPressed,{width:r,height:s}=this.calculateNewDimensions(this.activeHandle,e,t),i=this.applyConstraints(r,s,n);this.element.style.width=`${i.width}px`,this.element.style.height=`${i.height}px`,this.onResize&&this.onResize(i.width,i.height)}calculateNewDimensions(e,t,n){let r=this.startWidth,s=this.startHeight;const i=e.includes("right"),o=e.includes("left"),l=e.includes("bottom"),c=e.includes("top");return i?r=this.startWidth+t:o&&(r=this.startWidth-t),l?s=this.startHeight+n:c&&(s=this.startHeight-n),(e==="right"||e==="left")&&(r=this.startWidth+(i?t:-t)),(e==="top"||e==="bottom")&&(s=this.startHeight+(l?n:-n)),this.preserveAspectRatio||this.isShiftKeyPressed?this.applyAspectRatio(r,s,e):{width:r,height:s}}applyConstraints(e,t,n){var r,s,i,o;if(!n){let u=Math.max(this.minSize.width,e),d=Math.max(this.minSize.height,t);return(r=this.maxSize)!=null&&r.width&&(u=Math.min(this.maxSize.width,u)),(s=this.maxSize)!=null&&s.height&&(d=Math.min(this.maxSize.height,d)),{width:u,height:d}}let l=e,c=t;return l<this.minSize.width&&(l=this.minSize.width,c=l/this.aspectRatio),c<this.minSize.height&&(c=this.minSize.height,l=c*this.aspectRatio),(i=this.maxSize)!=null&&i.width&&l>this.maxSize.width&&(l=this.maxSize.width,c=l/this.aspectRatio),(o=this.maxSize)!=null&&o.height&&c>this.maxSize.height&&(c=this.maxSize.height,l=c*this.aspectRatio),{width:l,height:c}}applyAspectRatio(e,t,n){const r=n==="left"||n==="right",s=n==="top"||n==="bottom";return r?{width:e,height:e/this.aspectRatio}:s?{width:t*this.aspectRatio,height:t}:{width:e,height:e/this.aspectRatio}}};function pot(e,t){const{selection:n}=e,{$from:r}=n;if(n instanceof He){const i=r.index();return r.parent.canReplaceWith(i,i+1,t)}let s=r.depth;for(;s>=0;){const i=r.index(s);if(r.node(s).contentMatchAt(i).matchType(t))return!0;s-=1}return!1}var mot={};YL(mot,{createAtomBlockMarkdownSpec:()=>got,createBlockMarkdownSpec:()=>yot,createInlineMarkdownSpec:()=>bot,parseAttributes:()=>o$,parseIndentedBlocks:()=>XM,renderNestedMarkdownContent:()=>l$,serializeAttributes:()=>a$});function o$(e){if(!(e!=null&&e.trim()))return{};const t={},n=[],r=e.replace(/["']([^"']*)["']/g,u=>(n.push(u),`__QUOTED_${n.length-1}__`)),s=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(s){const u=s.map(d=>d.trim().slice(1));t.class=u.join(" ")}const i=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);i&&(t.id=i[1]);const o=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(o)).forEach(([,u,d])=>{var h;const f=parseInt(((h=d.match(/__QUOTED_(\d+)__/))==null?void 0:h[1])||"0",10),p=n[f];p&&(t[u]=p.slice(1,-1))});const c=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return c&&c.split(/\s+/).filter(Boolean).forEach(d=>{d.match(/^[a-zA-Z][\w-]*$/)&&(t[d]=!0)}),t}function a$(e){if(!e||Object.keys(e).length===0)return"";const t=[];return e.class&&String(e.class).split(/\s+/).filter(Boolean).forEach(r=>t.push(`.${r}`)),e.id&&t.push(`#${e.id}`),Object.entries(e).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?t.push(n):r!==!1&&r!=null&&t.push(`${n}="${String(r)}"`))}),t.join(" ")}function got(e){const{nodeName:t,name:n,parseAttributes:r=o$,serializeAttributes:s=a$,defaultAttributes:i={},requiredAttributes:o=[],allowedAttributes:l}=e,c=n||t,u=d=>{if(!l)return d;const h={};return l.forEach(f=>{f in d&&(h[f]=d[f])}),h};return{parseMarkdown:(d,h)=>{const f={...i,...d.attributes};return h.createNode(t,f,[])},markdownTokenizer:{name:t,level:"block",start(d){var h;const f=new RegExp(`^:::${c}(?:\\s|$)`,"m"),p=(h=d.match(f))==null?void 0:h.index;return p!==void 0?p:-1},tokenize(d,h,f){const p=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),m=d.match(p);if(!m)return;const g=m[1]||"",y=r(g);if(!o.find(b=>!(b in y)))return{type:t,raw:m[0],attributes:y}}},renderMarkdown:d=>{const h=u(d.attrs||{}),f=s(h),p=f?` {${f}}`:"";return`:::${c}${p} :::`}}}function yot(e){const{nodeName:t,name:n,getContent:r,parseAttributes:s=o$,serializeAttributes:i=a$,defaultAttributes:o={},content:l="block",allowedAttributes:c}=e,u=n||t,d=h=>{if(!c)return h;const f={};return c.forEach(p=>{p in h&&(f[p]=h[p])}),f};return{parseMarkdown:(h,f)=>{let p;if(r){const g=r(h);p=typeof g=="string"?[{type:"text",text:g}]:g}else l==="block"?p=f.parseChildren(h.tokens||[]):p=f.parseInline(h.tokens||[]);const m={...o,...h.attributes};return f.createNode(t,m,p)},markdownTokenizer:{name:t,level:"block",start(h){var f;const p=new RegExp(`^:::${u}`,"m"),m=(f=h.match(p))==null?void 0:f.index;return m!==void 0?m:-1},tokenize(h,f,p){var m;const g=new RegExp(`^:::${u}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),y=h.match(g);if(!y)return;const[x,b=""]=y,w=s(b);let N=1;const S=x.length;let k="";const j=/^:::([\w-]*)(\s.*)?/gm,_=h.slice(S);for(j.lastIndex=0;;){const C=j.exec(_);if(C===null)break;const A=C.index,O=C[1];if(!((m=C[2])!=null&&m.endsWith(":::"))){if(O)N+=1;else if(N-=1,N===0){const M=_.slice(0,A);k=M.trim();const P=h.slice(0,S+A+C[0].length);let E=[];if(k)if(l==="block")for(E=p.blockTokens(M),E.forEach(I=>{I.text&&(!I.tokens||I.tokens.length===0)&&(I.tokens=p.inlineTokens(I.text))});E.length>0;){const I=E[E.length-1];if(I.type==="paragraph"&&(!I.text||I.text.trim()===""))E.pop();else break}else E=p.inlineTokens(k);return{type:t,raw:P,attributes:w,content:k,tokens:E}}}}}},renderMarkdown:(h,f)=>{const p=d(h.attrs||{}),m=i(p),g=m?` {${m}}`:"",y=f.renderChildren(h.content||[],`

`);return`:::${u}${g}

${y}

:::`}}}function xot(e){if(!e.trim())return{};const t={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(e);for(;r!==null;){const[,s,i,o]=r;t[s]=i||o,r=n.exec(e)}return t}function vot(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,n])=>`${t}="${n}"`).join(" ")}function bot(e){const{nodeName:t,name:n,getContent:r,parseAttributes:s=xot,serializeAttributes:i=vot,defaultAttributes:o={},selfClosing:l=!1,allowedAttributes:c}=e,u=n||t,d=f=>{if(!c)return f;const p={};return c.forEach(m=>{m in f&&(p[m]=f[m])}),p},h=u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(f,p)=>{const m={...o,...f.attributes};if(l)return p.createNode(t,m);const g=r?r(f):f.content||"";return g?p.createNode(t,m,[p.createTextNode(g)]):p.createNode(t,m,[])},markdownTokenizer:{name:t,level:"inline",start(f){const p=l?new RegExp(`\\[${h}\\s*[^\\]]*\\]`):new RegExp(`\\[${h}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${h}\\]`),m=f.match(p),g=m==null?void 0:m.index;return g!==void 0?g:-1},tokenize(f,p,m){const g=l?new RegExp(`^\\[${h}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${h}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${h}\\]`),y=f.match(g);if(!y)return;let x="",b="";if(l){const[,N]=y;b=N}else{const[,N,S]=y;b=N,x=S||""}const w=s(b.trim());return{type:t,raw:y[0],content:x.trim(),attributes:w}}},renderMarkdown:f=>{let p="";r?p=r(f):f.content&&f.content.length>0&&(p=f.content.filter(x=>x.type==="text").map(x=>x.text).join(""));const m=d(f.attrs||{}),g=i(m),y=g?` ${g}`:"";return l?`[${u}${y}]`:`[${u}${y}]${p}[/${u}]`}}}function XM(e,t,n){var r,s,i,o;const l=e.split(`
`),c=[];let u="",d=0;const h=t.baseIndentSize||2;for(;d<l.length;){const f=l[d],p=f.match(t.itemPattern);if(!p){if(c.length>0)break;if(f.trim()===""){d+=1;continue}else return}const m=t.extractItemData(p),{indentLevel:g,mainContent:y}=m;u=`${u}${f}
`;const x=[y];for(d+=1;d<l.length;){const S=l[d];if(S.trim()===""){const j=l.slice(d+1).findIndex(A=>A.trim()!=="");if(j===-1)break;if((((s=(r=l[d+1+j].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:s.length)||0)>g){x.push(S),u=`${u}${S}
`,d+=1;continue}else break}if((((o=(i=S.match(/^(\s*)/))==null?void 0:i[1])==null?void 0:o.length)||0)>g)x.push(S),u=`${u}${S}
`,d+=1;else break}let b;const w=x.slice(1);if(w.length>0){const S=w.map(k=>k.slice(g+h)).join(`
`);S.trim()&&(t.customNestedParser?b=t.customNestedParser(S):b=n.blockTokens(S))}const N=t.createToken(m,b);c.push(N)}if(c.length!==0)return{items:c,raw:u.trim()}}function l$(e,t,n,r){if(!e||!Array.isArray(e.content))return"";const s=typeof n=="function"?n(r):n,[i,...o]=e.content,l=t.renderChildren([i]),c=[`${s}${l}`];return o&&o.length>0&&o.forEach(u=>{const d=t.renderChildren([u]);if(d){const h=d.split(`
`).map(f=>f?t.indent(f):"").join(`
`);c.push(h)}}),c.join(`
`)}function wot(e,t,n={}){const{state:r}=t,{doc:s,tr:i}=r,o=e;s.descendants((l,c)=>{const u=i.mapping.map(c),d=i.mapping.map(c)+l.nodeSize;let h=null;if(l.marks.forEach(p=>{if(p!==o)return!1;h=p}),!h)return;let f=!1;if(Object.keys(n).forEach(p=>{n[p]!==h.attrs[p]&&(f=!0)}),f){const p=e.type.create({...e.attrs,...n});i.removeMark(u,d,e.type),i.addMark(u,d,p)}}),i.docChanged&&t.view.dispatch(i)}var Ir=class gae extends i${constructor(){super(...arguments),this.type="node"}static create(t={}){const n=typeof t=="function"?t():t;return new gae(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}};function iu(e){return new not({find:e.find,handler:({state:t,range:n,match:r,pasteEvent:s})=>{const i=Lt(e.getAttributes,void 0,r,s);if(i===!1||i===null)return null;const{tr:o}=t,l=r[r.length-1],c=r[0];let u=n.to;if(l){const d=c.search(/\S/),h=n.from+c.indexOf(l),f=h+l.length;if(s$(n.from,n.to,t.doc).filter(m=>m.mark.type.excluded.find(y=>y===e.type&&y!==m.mark.type)).filter(m=>m.to>h).length)return null;f<n.to&&o.delete(f,n.to),h>n.from&&o.delete(n.from+d,h),u=n.from+d+l.length,o.addMark(n.from+d,u,e.type.create(i||{})),o.removeStoredMark(e.type)}}})}var Sot=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,s,i;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!e(t[s],n[s]))return!1;return!0}if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(s of t.entries())if(!n.has(s[0]))return!1;for(s of t.entries())if(!e(s[1],n.get(s[0])))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(s of t.entries())if(!n.has(s[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if(r=t.length,r!=n.length)return!1;for(s=r;s--!==0;)if(t[s]!==n[s])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(i=Object.keys(t),r=i.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=r;s--!==0;){var o=i[s];if(!(o==="_owner"&&t.$$typeof)&&!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n};const Not=Dt(Sot);var kot=(...e)=>t=>{e.forEach(n=>{typeof n=="function"?n(t):n&&(n.current=t)})},jot=({contentComponent:e})=>{const t=bj.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getServerSnapshot);return a.jsx(a.Fragment,{children:Object.values(t)})};function _ot(){const e=new Set;let t={};return{subscribe(n){return e.add(n),()=>{e.delete(n)}},getSnapshot(){return t},getServerSnapshot(){return t},setRenderer(n,r){t={...t,[n]:CD.createPortal(r.reactElement,r.element,n)},e.forEach(s=>s())},removeRenderer(n){const r={...t};delete r[n],t=r,e.forEach(s=>s())}}}var Eot=class extends H.Component{constructor(e){var t;super(e),this.editorContentRef=H.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((t=e.editor)!=null&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(e.view.dom),e.setOptions({element:t}),e.contentComponent=_ot(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var e;const t=this.props.editor;if(t){this.initialized=!1,t.isDestroyed||t.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),t.contentComponent=null;try{if(!((e=t.view.dom)!=null&&e.firstChild))return;const n=document.createElement("div");n.append(t.view.dom),t.setOptions({element:n})}catch{}}}render(){const{editor:e,innerRef:t,...n}=this.props;return a.jsxs(a.Fragment,{children:[a.jsx("div",{ref:kot(t,this.editorContentRef),...n}),(e==null?void 0:e.contentComponent)&&a.jsx(jot,{contentComponent:e.contentComponent})]})}},Cot=v.forwardRef((e,t)=>{const n=H.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[e.editor]);return H.createElement(Eot,{key:n,innerRef:t,...e})}),Tot=H.memo(Cot),Aot=typeof window<"u"?v.useLayoutEffect:v.useEffect,Oot=class{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",t),()=>{n.off("transaction",t)}}}};function Mot(e){var t;const[n]=v.useState(()=>new Oot(e.editor)),r=wre.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,e.selector,(t=e.equalityFn)!=null?t:Not);return Aot(()=>n.watch(e.editor),[e.editor,n]),v.useDebugValue(r),r}var Pot=!1,JM=typeof window>"u",Dot=JM||!!(typeof window<"u"&&window.next),Rot=class yae{constructor(t){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=t,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(t){this.editor=t,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?JM||Dot?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const t={...this.options.current,onBeforeCreate:(...r)=>{var s,i;return(i=(s=this.options.current).onBeforeCreate)==null?void 0:i.call(s,...r)},onBlur:(...r)=>{var s,i;return(i=(s=this.options.current).onBlur)==null?void 0:i.call(s,...r)},onCreate:(...r)=>{var s,i;return(i=(s=this.options.current).onCreate)==null?void 0:i.call(s,...r)},onDestroy:(...r)=>{var s,i;return(i=(s=this.options.current).onDestroy)==null?void 0:i.call(s,...r)},onFocus:(...r)=>{var s,i;return(i=(s=this.options.current).onFocus)==null?void 0:i.call(s,...r)},onSelectionUpdate:(...r)=>{var s,i;return(i=(s=this.options.current).onSelectionUpdate)==null?void 0:i.call(s,...r)},onTransaction:(...r)=>{var s,i;return(i=(s=this.options.current).onTransaction)==null?void 0:i.call(s,...r)},onUpdate:(...r)=>{var s,i;return(i=(s=this.options.current).onUpdate)==null?void 0:i.call(s,...r)},onContentError:(...r)=>{var s,i;return(i=(s=this.options.current).onContentError)==null?void 0:i.call(s,...r)},onDrop:(...r)=>{var s,i;return(i=(s=this.options.current).onDrop)==null?void 0:i.call(s,...r)},onPaste:(...r)=>{var s,i;return(i=(s=this.options.current).onPaste)==null?void 0:i.call(s,...r)},onDelete:(...r)=>{var s,i;return(i=(s=this.options.current).onDelete)==null?void 0:i.call(s,...r)}};return new dot(t)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(t){return this.subscriptions.add(t),()=>{this.subscriptions.delete(t)}}static compareOptions(t,n){return Object.keys(t).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&t.extensions&&n.extensions?t.extensions.length!==n.extensions.length?!1:t.extensions.every((s,i)=>{var o;return s===((o=n.extensions)==null?void 0:o[i])}):t[r]===n[r])}onRender(t){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&t.length===0?yae.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(t),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(t){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=t;return}if(this.previousDeps.length===t.length&&this.previousDeps.every((r,s)=>r===t[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=t}scheduleDestroy(){const t=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===t){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===t&&this.setEditor(null))},1)}};function Iot(e={},t=[]){const n=v.useRef(e);n.current=e;const[r]=v.useState(()=>new Rot(n)),s=bj.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return v.useDebugValue(s),v.useEffect(r.onRender(t)),Mot({editor:s,selector:({transactionNumber:i})=>e.shouldRerenderOnTransaction===!1||e.shouldRerenderOnTransaction===void 0?null:e.immediatelyRender&&i===0?0:i+1}),s}var xae=v.createContext({editor:null});xae.Consumer;var vae=()=>v.useContext(xae),Lot=v.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),$ot=()=>v.useContext(Lot);H.forwardRef((e,t)=>{const{onDragStart:n}=$ot(),r=e.as||"div";return a.jsx(r,{...e,ref:t,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...e.style}})});H.createContext({markViewContentRef:()=>{}});var RN=(e,t)=>{if(e==="slot")return 0;if(e instanceof Function)return e(t);const{children:n,...r}=t??{};if(e==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[e,r,n]},Bot=/^\s*>\s$/,Fot=Ir.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:e}){return RN("blockquote",{...on(this.options.HTMLAttributes,e),children:RN("slot",{})})},parseMarkdown:(e,t)=>t.createNode("blockquote",void 0,t.parseChildren(e.tokens||[])),renderMarkdown:(e,t)=>{if(!e.content)return"";const n=">",r=[];return e.content.forEach(s=>{const l=t.renderChildren([s]).split(`
`).map(c=>c.trim()===""?n:`${n} ${c}`);r.push(l.join(`
`))}),r.join(`
${n}
`)},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[am({find:Bot,type:this.type})]}}),zot=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,Uot=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,Hot=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,Wot=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Vot=$l.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return RN("strong",{...on(this.options.HTMLAttributes,e),children:RN("slot",{})})},markdownTokenName:"strong",parseMarkdown:(e,t)=>t.applyMark("bold",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`**${t.renderChildren(e)}**`,addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[th({find:zot,type:this.type}),th({find:Hot,type:this.type})]},addPasteRules(){return[iu({find:Uot,type:this.type}),iu({find:Wot,type:this.type})]}}),Got=/(^|[^`])`([^`]+)`(?!`)$/,qot=/(^|[^`])`([^`]+)`(?!`)/g,Kot=$l.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:e}){return["code",on(this.options.HTMLAttributes,e),0]},markdownTokenName:"codespan",parseMarkdown:(e,t)=>t.applyMark("code",[{type:"text",text:e.text||""}]),renderMarkdown:(e,t)=>e.content?`\`${t.renderChildren(e.content)}\``:"",addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[th({find:Got,type:this.type})]},addPasteRules(){return[iu({find:qot,type:this.type})]}}),ET=4,Yot=/^```([a-z]+)?[\s\n]$/,Xot=/^~~~([a-z]+)?[\s\n]$/,bae=Ir.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:ET,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:e=>{var t;const{languageClassPrefix:n}=this.options;if(!n)return null;const i=[...((t=e.firstElementChild)==null?void 0:t.classList)||[]].filter(o=>o.startsWith(n)).map(o=>o.replace(n,""))[0];return i||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:e,HTMLAttributes:t}){return["pre",on(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(e,t)=>{var n;return((n=e.raw)==null?void 0:n.startsWith("```"))===!1&&e.codeBlockStyle!=="indented"?[]:t.createNode("codeBlock",{language:e.lang||null},e.text?[t.createTextNode(e.text)]:[])},renderMarkdown:(e,t)=>{var n;let r="";const s=((n=e.attrs)==null?void 0:n.language)||"";return e.content?r=[`\`\`\`${s}`,t.renderChildren(e.content),"```"].join(`
`):r=`\`\`\`${s}

\`\`\``,r},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,n=t.pos===1;return!e||t.parent.type.name!==this.name?!1:n||!t.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const n=(t=this.options.tabSize)!=null?t:ET,{state:r}=e,{selection:s}=r,{$from:i,empty:o}=s;if(i.parent.type!==this.type)return!1;const l=" ".repeat(n);return o?e.commands.insertContent(l):e.commands.command(({tr:c})=>{const{from:u,to:d}=s,p=r.doc.textBetween(u,d,`
`,`
`).split(`
`).map(m=>l+m).join(`
`);return c.replaceWith(u,d,r.schema.text(p)),!0})},"Shift-Tab":({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const n=(t=this.options.tabSize)!=null?t:ET,{state:r}=e,{selection:s}=r,{$from:i,empty:o}=s;return i.parent.type!==this.type?!1:o?e.commands.command(({tr:l})=>{var c;const{pos:u}=i,d=i.start(),h=i.end(),p=r.doc.textBetween(d,h,`
`,`
`).split(`
`);let m=0,g=0;const y=u-d;for(let k=0;k<p.length;k+=1){if(g+p[k].length>=y){m=k;break}g+=p[k].length+1}const b=((c=p[m].match(/^ */))==null?void 0:c[0])||"",w=Math.min(b.length,n);if(w===0)return!0;let N=d;for(let k=0;k<m;k+=1)N+=p[k].length+1;return l.delete(N,N+w),u-N<=w&&l.setSelection(Ve.create(l.doc,N)),!0}):e.commands.command(({tr:l})=>{const{from:c,to:u}=s,f=r.doc.textBetween(c,u,`
`,`
`).split(`
`).map(p=>{var m;const g=((m=p.match(/^ */))==null?void 0:m[0])||"",y=Math.min(g.length,n);return p.slice(y)}).join(`
`);return l.replaceWith(c,u,r.schema.text(f)),!0})},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:n}=t,{$from:r,empty:s}=n;if(!s||r.parent.type!==this.type)return!1;const i=r.parentOffset===r.parent.nodeSize-2,o=r.parent.textContent.endsWith(`

`);return!i||!o?!1:e.chain().command(({tr:l})=>(l.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:n,doc:r}=t,{$from:s,empty:i}=n;if(!i||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const l=s.after();return l===void 0?!1:r.nodeAt(l)?e.commands.command(({tr:u})=>(u.setSelection(Xe.near(r.resolve(l))),!0)):e.commands.exitCode()}}},addInputRules(){return[YM({find:Yot,type:this.type,getAttributes:e=>({language:e[1]})}),YM({find:Xot,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new an({key:new Cn("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData||this.editor.isActive(this.type.name))return!1;const n=t.clipboardData.getData("text/plain"),r=t.clipboardData.getData("vscode-editor-data"),s=r?JSON.parse(r):void 0,i=s==null?void 0:s.mode;if(!n||!i)return!1;const{tr:o,schema:l}=e.state,c=l.text(n.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:i},c)),o.selection.$from.parent.type!==this.type&&o.setSelection(Ve.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),e.dispatch(o),!0}}})]}}),Jot=bae,Qot=Ir.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`

`):""}),Zot=Ir.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:e}){return["br",on(this.options.HTMLAttributes,e)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:n,editor:r})=>e.first([()=>e.exitCode(),()=>e.command(()=>{const{selection:s,storedMarks:i}=n;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:l}=r.extensionManager,c=i||s.$to.parentOffset&&s.$from.marks();return t().insertContent({type:this.name}).command(({tr:u,dispatch:d})=>{if(d&&c&&o){const h=c.filter(f=>l.includes(f.type.name));u.ensureMarks(h)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),eat=Ir.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,on(this.options.HTMLAttributes,t),0]},parseMarkdown:(e,t)=>t.createNode("heading",{level:e.depth||1},t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>{var n;const r=(n=e.attrs)!=null&&n.level?parseInt(e.attrs.level,10):1,s="#".repeat(r);return e.content?`${s} ${t.renderChildren(e.content)}`:""},addCommands(){return{setHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.setNode(this.name,e):!1,toggleHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.toggleNode(this.name,"paragraph",e):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>YM({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}}),tat=Ir.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:e}){return["hr",on(this.options.HTMLAttributes,e)]},markdownTokenName:"hr",parseMarkdown:(e,t)=>t.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:e,state:t})=>{if(!pot(t,t.schema.nodes[this.name]))return!1;const{selection:n}=t,{$to:r}=n,s=e();return eae(n)?s.insertContentAt(r.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({state:i,tr:o,dispatch:l})=>{if(l){const{$to:c}=o.selection,u=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?o.setSelection(Ve.create(o.doc,c.pos+1)):c.nodeAfter.isBlock?o.setSelection(He.create(o.doc,c.pos)):o.setSelection(Ve.create(o.doc,c.pos));else{const d=i.schema.nodes[this.options.nextNodeType]||c.parent.type.contentMatch.defaultType,h=d==null?void 0:d.create();h&&(o.insert(u,h),o.setSelection(Ve.create(o.doc,u+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[mae({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),nat=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,rat=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,sat=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,iat=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,oat=$l.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",on(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(e,t)=>t.applyMark("italic",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`*${t.renderChildren(e)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[th({find:nat,type:this.type}),th({find:sat,type:this.type})]},addPasteRules(){return[iu({find:rat,type:this.type}),iu({find:iat,type:this.type})]}});const aat="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",lat="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",QM="numeric",ZM="ascii",eP="alpha",Cy="asciinumeric",Kg="alphanumeric",tP="domain",wae="emoji",cat="scheme",uat="slashscheme",CT="whitespace";function dat(e,t){return e in t||(t[e]=[]),t[e]}function od(e,t,n){t[QM]&&(t[Cy]=!0,t[Kg]=!0),t[ZM]&&(t[Cy]=!0,t[eP]=!0),t[Cy]&&(t[Kg]=!0),t[eP]&&(t[Kg]=!0),t[Kg]&&(t[tP]=!0),t[wae]&&(t[tP]=!0);for(const r in t){const s=dat(r,n);s.indexOf(e)<0&&s.push(e)}}function hat(e,t){const n={};for(const r in t)t[r].indexOf(e)>=0&&(n[r]=!0);return n}function Bs(e=null){this.j={},this.jr=[],this.jd=null,this.t=e}Bs.groups={};Bs.prototype={accepts(){return!!this.t},go(e){const t=this,n=t.j[e];if(n)return n;for(let r=0;r<t.jr.length;r++){const s=t.jr[r][0],i=t.jr[r][1];if(i&&s.test(e))return i}return t.jd},has(e,t=!1){return t?e in this.j:!!this.go(e)},ta(e,t,n,r){for(let s=0;s<e.length;s++)this.tt(e[s],t,n,r)},tr(e,t,n,r){r=r||Bs.groups;let s;return t&&t.j?s=t:(s=new Bs(t),n&&r&&od(t,n,r)),this.jr.push([e,s]),s},ts(e,t,n,r){let s=this;const i=e.length;if(!i)return s;for(let o=0;o<i-1;o++)s=s.tt(e[o]);return s.tt(e[i-1],t,n,r)},tt(e,t,n,r){r=r||Bs.groups;const s=this;if(t&&t.j)return s.j[e]=t,t;const i=t;let o,l=s.go(e);if(l?(o=new Bs,Object.assign(o.j,l.j),o.jr.push.apply(o.jr,l.jr),o.jd=l.jd,o.t=l.t):o=new Bs,i){if(r)if(o.t&&typeof o.t=="string"){const c=Object.assign(hat(o.t,r),n);od(i,c,r)}else n&&od(i,n,r);o.t=i}return s.j[e]=o,o}};const ct=(e,t,n,r,s)=>e.ta(t,n,r,s),zn=(e,t,n,r,s)=>e.tr(t,n,r,s),I8=(e,t,n,r,s)=>e.ts(t,n,r,s),ye=(e,t,n,r,s)=>e.tt(t,n,r,s),Ga="WORD",nP="UWORD",Sae="ASCIINUMERICAL",Nae="ALPHANUMERICAL",pv="LOCALHOST",rP="TLD",sP="UTLD",l1="SCHEME",of="SLASH_SCHEME",c$="NUM",iP="WS",u$="NL",Ty="OPENBRACE",Ay="CLOSEBRACE",IN="OPENBRACKET",LN="CLOSEBRACKET",$N="OPENPAREN",BN="CLOSEPAREN",FN="OPENANGLEBRACKET",zN="CLOSEANGLEBRACKET",UN="FULLWIDTHLEFTPAREN",HN="FULLWIDTHRIGHTPAREN",WN="LEFTCORNERBRACKET",VN="RIGHTCORNERBRACKET",GN="LEFTWHITECORNERBRACKET",qN="RIGHTWHITECORNERBRACKET",KN="FULLWIDTHLESSTHAN",YN="FULLWIDTHGREATERTHAN",XN="AMPERSAND",JN="APOSTROPHE",QN="ASTERISK",nc="AT",ZN="BACKSLASH",ek="BACKTICK",tk="CARET",uc="COLON",d$="COMMA",nk="DOLLAR",ia="DOT",rk="EQUALS",h$="EXCLAMATION",Ci="HYPHEN",Oy="PERCENT",sk="PIPE",ik="PLUS",ok="POUND",My="QUERY",f$="QUOTE",kae="FULLWIDTHMIDDLEDOT",p$="SEMI",oa="SLASH",Py="TILDE",ak="UNDERSCORE",jae="EMOJI",lk="SYM";var _ae=Object.freeze({__proto__:null,ALPHANUMERICAL:Nae,AMPERSAND:XN,APOSTROPHE:JN,ASCIINUMERICAL:Sae,ASTERISK:QN,AT:nc,BACKSLASH:ZN,BACKTICK:ek,CARET:tk,CLOSEANGLEBRACKET:zN,CLOSEBRACE:Ay,CLOSEBRACKET:LN,CLOSEPAREN:BN,COLON:uc,COMMA:d$,DOLLAR:nk,DOT:ia,EMOJI:jae,EQUALS:rk,EXCLAMATION:h$,FULLWIDTHGREATERTHAN:YN,FULLWIDTHLEFTPAREN:UN,FULLWIDTHLESSTHAN:KN,FULLWIDTHMIDDLEDOT:kae,FULLWIDTHRIGHTPAREN:HN,HYPHEN:Ci,LEFTCORNERBRACKET:WN,LEFTWHITECORNERBRACKET:GN,LOCALHOST:pv,NL:u$,NUM:c$,OPENANGLEBRACKET:FN,OPENBRACE:Ty,OPENBRACKET:IN,OPENPAREN:$N,PERCENT:Oy,PIPE:sk,PLUS:ik,POUND:ok,QUERY:My,QUOTE:f$,RIGHTCORNERBRACKET:VN,RIGHTWHITECORNERBRACKET:qN,SCHEME:l1,SEMI:p$,SLASH:oa,SLASH_SCHEME:of,SYM:lk,TILDE:Py,TLD:rP,UNDERSCORE:ak,UTLD:sP,UWORD:nP,WORD:Ga,WS:iP});const Ua=/[a-z]/,jg=new RegExp("\\p{L}","u"),TT=new RegExp("\\p{Emoji}","u"),Ha=/\d/,AT=/\s/,L8="\r",OT=`
`,fat="",pat="",MT="";let sw=null,iw=null;function mat(e=[]){const t={};Bs.groups=t;const n=new Bs;sw==null&&(sw=$8(aat)),iw==null&&(iw=$8(lat)),ye(n,"'",JN),ye(n,"{",Ty),ye(n,"}",Ay),ye(n,"[",IN),ye(n,"]",LN),ye(n,"(",$N),ye(n,")",BN),ye(n,"<",FN),ye(n,">",zN),ye(n,"",UN),ye(n,"",HN),ye(n,"",WN),ye(n,"",VN),ye(n,"",GN),ye(n,"",qN),ye(n,"",KN),ye(n,"",YN),ye(n,"&",XN),ye(n,"*",QN),ye(n,"@",nc),ye(n,"`",ek),ye(n,"^",tk),ye(n,":",uc),ye(n,",",d$),ye(n,"$",nk),ye(n,".",ia),ye(n,"=",rk),ye(n,"!",h$),ye(n,"-",Ci),ye(n,"%",Oy),ye(n,"|",sk),ye(n,"+",ik),ye(n,"#",ok),ye(n,"?",My),ye(n,'"',f$),ye(n,"/",oa),ye(n,";",p$),ye(n,"~",Py),ye(n,"_",ak),ye(n,"\\",ZN),ye(n,"",kae);const r=zn(n,Ha,c$,{[QM]:!0});zn(r,Ha,r);const s=zn(r,Ua,Sae,{[Cy]:!0}),i=zn(r,jg,Nae,{[Kg]:!0}),o=zn(n,Ua,Ga,{[ZM]:!0});zn(o,Ha,s),zn(o,Ua,o),zn(s,Ha,s),zn(s,Ua,s);const l=zn(n,jg,nP,{[eP]:!0});zn(l,Ua),zn(l,Ha,i),zn(l,jg,l),zn(i,Ha,i),zn(i,Ua),zn(i,jg,i);const c=ye(n,OT,u$,{[CT]:!0}),u=ye(n,L8,iP,{[CT]:!0}),d=zn(n,AT,iP,{[CT]:!0});ye(n,MT,d),ye(u,OT,c),ye(u,MT,d),zn(u,AT,d),ye(d,L8),ye(d,OT),zn(d,AT,d),ye(d,MT,d);const h=zn(n,TT,jae,{[wae]:!0});ye(h,"#"),zn(h,TT,h),ye(h,fat,h);const f=ye(h,pat);ye(f,"#"),zn(f,TT,h);const p=[[Ua,o],[Ha,s]],m=[[Ua,null],[jg,l],[Ha,i]];for(let g=0;g<sw.length;g++)Gl(n,sw[g],rP,Ga,p);for(let g=0;g<iw.length;g++)Gl(n,iw[g],sP,nP,m);od(rP,{tld:!0,ascii:!0},t),od(sP,{utld:!0,alpha:!0},t),Gl(n,"file",l1,Ga,p),Gl(n,"mailto",l1,Ga,p),Gl(n,"http",of,Ga,p),Gl(n,"https",of,Ga,p),Gl(n,"ftp",of,Ga,p),Gl(n,"ftps",of,Ga,p),od(l1,{scheme:!0,ascii:!0},t),od(of,{slashscheme:!0,ascii:!0},t),e=e.sort((g,y)=>g[0]>y[0]?1:-1);for(let g=0;g<e.length;g++){const y=e[g][0],b=e[g][1]?{[cat]:!0}:{[uat]:!0};y.indexOf("-")>=0?b[tP]=!0:Ua.test(y)?Ha.test(y)?b[Cy]=!0:b[ZM]=!0:b[QM]=!0,I8(n,y,y,b)}return I8(n,"localhost",pv,{ascii:!0}),n.jd=new Bs(lk),{start:n,tokens:Object.assign({groups:t},_ae)}}function Eae(e,t){const n=gat(t.replace(/[A-Z]/g,l=>l.toLowerCase())),r=n.length,s=[];let i=0,o=0;for(;o<r;){let l=e,c=null,u=0,d=null,h=-1,f=-1;for(;o<r&&(c=l.go(n[o]));)l=c,l.accepts()?(h=0,f=0,d=l):h>=0&&(h+=n[o].length,f++),u+=n[o].length,i+=n[o].length,o++;i-=h,o-=f,u-=h,s.push({t:d.t,v:t.slice(i-u,i),s:i-u,e:i})}return s}function gat(e){const t=[],n=e.length;let r=0;for(;r<n;){let s=e.charCodeAt(r),i,o=s<55296||s>56319||r+1===n||(i=e.charCodeAt(r+1))<56320||i>57343?e[r]:e.slice(r,r+2);t.push(o),r+=o.length}return t}function Gl(e,t,n,r,s){let i;const o=t.length;for(let l=0;l<o-1;l++){const c=t[l];e.j[c]?i=e.j[c]:(i=new Bs(r),i.jr=s.slice(),e.j[c]=i),e=i}return i=new Bs(n),i.jr=s.slice(),e.j[t[o-1]]=i,i}function $8(e){const t=[],n=[];let r=0,s="0123456789";for(;r<e.length;){let i=0;for(;s.indexOf(e[r+i])>=0;)i++;if(i>0){t.push(n.join(""));for(let o=parseInt(e.substring(r,r+i),10);o>0;o--)n.pop();r+=i}else n.push(e[r]),r++}return t}const mv={defaultProtocol:"http",events:null,format:B8,formatHref:B8,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function m$(e,t=null){let n=Object.assign({},mv);e&&(n=Object.assign(n,e instanceof m$?e.o:e));const r=n.ignoreTags,s=[];for(let i=0;i<r.length;i++)s.push(r[i].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=s}m$.prototype={o:mv,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,t,n){const r=t!=null;let s=this.o[e];return s&&(typeof s=="object"?(s=n.t in s?s[n.t]:mv[e],typeof s=="function"&&r&&(s=s(t,n))):typeof s=="function"&&r&&(s=s(t,n.t,n)),s)},getObj(e,t,n){let r=this.o[e];return typeof r=="function"&&t!=null&&(r=r(t,n.t,n)),r},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function B8(e){return e}function Cae(e,t){this.t="token",this.v=e,this.tk=t}Cae.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),n=e.get("truncate",t,this),r=e.get("format",t,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e=mv.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,n=this.toHref(e.get("defaultProtocol")),r=e.get("formatHref",n,this),s=e.get("tagName",n,t),i=this.toFormattedString(e),o={},l=e.get("className",n,t),c=e.get("target",n,t),u=e.get("rel",n,t),d=e.getObj("attributes",n,t),h=e.getObj("events",n,t);return o.href=r,l&&(o.class=l),c&&(o.target=c),u&&(o.rel=u),d&&Object.assign(o,d),{tagName:s,attributes:o,content:i,eventListeners:h}}};function G_(e,t){class n extends Cae{constructor(s,i){super(s,i),this.t=e}}for(const r in t)n.prototype[r]=t[r];return n.t=e,n}const F8=G_("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),z8=G_("text"),yat=G_("nl"),ow=G_("url",{isLink:!0,toHref(e=mv.defaultProtocol){return this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==pv&&e[1].t===uc}}),_i=e=>new Bs(e);function xat({groups:e}){const t=e.domain.concat([XN,QN,nc,ZN,ek,tk,nk,rk,Ci,c$,Oy,sk,ik,ok,oa,lk,Py,ak]),n=[JN,uc,d$,ia,h$,Oy,My,f$,p$,FN,zN,Ty,Ay,LN,IN,$N,BN,UN,HN,WN,VN,GN,qN,KN,YN],r=[XN,JN,QN,ZN,ek,tk,nk,rk,Ci,Ty,Ay,Oy,sk,ik,ok,My,oa,lk,Py,ak],s=_i(),i=ye(s,Py);ct(i,r,i),ct(i,e.domain,i);const o=_i(),l=_i(),c=_i();ct(s,e.domain,o),ct(s,e.scheme,l),ct(s,e.slashscheme,c),ct(o,r,i),ct(o,e.domain,o);const u=ye(o,nc);ye(i,nc,u),ye(l,nc,u),ye(c,nc,u);const d=ye(i,ia);ct(d,r,i),ct(d,e.domain,i);const h=_i();ct(u,e.domain,h),ct(h,e.domain,h);const f=ye(h,ia);ct(f,e.domain,h);const p=_i(F8);ct(f,e.tld,p),ct(f,e.utld,p),ye(u,pv,p);const m=ye(h,Ci);ye(m,Ci,m),ct(m,e.domain,h),ct(p,e.domain,h),ye(p,ia,f),ye(p,Ci,m);const g=ye(p,uc);ct(g,e.numeric,F8);const y=ye(o,Ci),x=ye(o,ia);ye(y,Ci,y),ct(y,e.domain,o),ct(x,r,i),ct(x,e.domain,o);const b=_i(ow);ct(x,e.tld,b),ct(x,e.utld,b),ct(b,e.domain,o),ct(b,r,i),ye(b,ia,x),ye(b,Ci,y),ye(b,nc,u);const w=ye(b,uc),N=_i(ow);ct(w,e.numeric,N);const S=_i(ow),k=_i();ct(S,t,S),ct(S,n,k),ct(k,t,S),ct(k,n,k),ye(b,oa,S),ye(N,oa,S);const j=ye(l,uc),_=ye(c,uc),C=ye(_,oa),A=ye(C,oa);ct(l,e.domain,o),ye(l,ia,x),ye(l,Ci,y),ct(c,e.domain,o),ye(c,ia,x),ye(c,Ci,y),ct(j,e.domain,S),ye(j,oa,S),ye(j,My,S),ct(A,e.domain,S),ct(A,t,S),ye(A,oa,S);const O=[[Ty,Ay],[IN,LN],[$N,BN],[FN,zN],[UN,HN],[WN,VN],[GN,qN],[KN,YN]];for(let M=0;M<O.length;M++){const[P,E]=O[M],I=ye(S,P);ye(k,P,I),ye(I,E,S);const T=_i(ow);ct(I,t,T);const R=_i();ct(I,n),ct(T,t,T),ct(T,n,R),ct(R,t,T),ct(R,n,R),ye(T,E,S),ye(R,E,S)}return ye(s,pv,b),ye(s,u$,yat),{start:s,tokens:_ae}}function vat(e,t,n){let r=n.length,s=0,i=[],o=[];for(;s<r;){let l=e,c=null,u=null,d=0,h=null,f=-1;for(;s<r&&!(c=l.go(n[s].t));)o.push(n[s++]);for(;s<r&&(u=c||l.go(n[s].t));)c=null,l=u,l.accepts()?(f=0,h=l):f>=0&&f++,s++,d++;if(f<0)s-=d,s<r&&(o.push(n[s]),s++);else{o.length>0&&(i.push(PT(z8,t,o)),o=[]),s-=f,d-=f;const p=h.t,m=n.slice(s-d,s);i.push(PT(p,t,m))}}return o.length>0&&i.push(PT(z8,t,o)),i}function PT(e,t,n){const r=n[0].s,s=n[n.length-1].e,i=t.slice(r,s);return new e(i,n)}const bat=typeof console<"u"&&console&&console.warn||(()=>{}),wat="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",yn={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function Sat(){return Bs.groups={},yn.scanner=null,yn.parser=null,yn.tokenQueue=[],yn.pluginQueue=[],yn.customSchemes=[],yn.initialized=!1,yn}function U8(e,t=!1){if(yn.initialized&&bat(`linkifyjs: already initialized - will not register custom scheme "${e}" ${wat}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);yn.customSchemes.push([e,t])}function Nat(){yn.scanner=mat(yn.customSchemes);for(let e=0;e<yn.tokenQueue.length;e++)yn.tokenQueue[e][1]({scanner:yn.scanner});yn.parser=xat(yn.scanner.tokens);for(let e=0;e<yn.pluginQueue.length;e++)yn.pluginQueue[e][1]({scanner:yn.scanner,parser:yn.parser});return yn.initialized=!0,yn}function g$(e){return yn.initialized||Nat(),vat(yn.parser.start,e,Eae(yn.scanner.start,e))}g$.scan=Eae;function Tae(e,t=null,n=null){if(t&&typeof t=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);n=t,t=null}const r=new m$(n),s=g$(e),i=[];for(let o=0;o<s.length;o++){const l=s[o];l.isLink&&(!t||l.t===t)&&r.check(l)&&i.push(l.toFormattedObject(r))}return i}var y$="[\0- -\u2029]",kat=new RegExp(y$),jat=new RegExp(`${y$}$`),_at=new RegExp(y$,"g");function Eat(e){return e.length===1?e[0].isLink:e.length===3&&e[1].isLink?["()","[]"].includes(e[0].value+e[2].value):!1}function Cat(e){return new an({key:new Cn("autolink"),appendTransaction:(t,n,r)=>{const s=t.some(u=>u.docChanged)&&!n.doc.eq(r.doc),i=t.some(u=>u.getMeta("preventAutolink"));if(!s||i)return;const{tr:o}=r,l=Voe(n.doc,[...t]);if(Zoe(l).forEach(({newRange:u})=>{const d=vit(r.doc,u,p=>p.isTextblock);let h,f;if(d.length>1)h=d[0],f=r.doc.textBetween(h.pos,h.pos+h.node.nodeSize,void 0," ");else if(d.length){const p=r.doc.textBetween(u.from,u.to," "," ");if(!jat.test(p))return;h=d[0],f=r.doc.textBetween(h.pos,u.to,void 0," ")}if(h&&f){const p=f.split(kat).filter(Boolean);if(p.length<=0)return!1;const m=p[p.length-1],g=h.pos+f.lastIndexOf(m);if(!m)return!1;const y=g$(m).map(x=>x.toObject(e.defaultProtocol));if(!Eat(y))return!1;y.filter(x=>x.isLink).map(x=>({...x,from:g+x.start+1,to:g+x.end+1})).filter(x=>r.schema.marks.code?!r.doc.rangeHasMark(x.from,x.to,r.schema.marks.code):!0).filter(x=>e.validate(x.value)).filter(x=>e.shouldAutoLink(x.value)).forEach(x=>{s$(x.from,x.to,r.doc).some(b=>b.mark.type===e.type)||o.addMark(x.from,x.to,e.type.create({href:x.href}))})}}),!!o.steps.length)return o}})}function Tat(e){return new an({key:new Cn("handleClickLink"),props:{handleClick:(t,n,r)=>{var s,i;if(r.button!==0||!t.editable)return!1;let o=null;if(r.target instanceof HTMLAnchorElement)o=r.target;else{let d=r.target;const h=[];for(;d.nodeName!=="DIV";)h.push(d),d=d.parentNode;o=h.find(f=>f.nodeName==="A")}if(!o)return!1;const l=Qoe(t.state,e.type.name),c=(s=o==null?void 0:o.href)!=null?s:l.href,u=(i=o==null?void 0:o.target)!=null?i:l.target;return e.enableClickSelection&&e.editor.commands.extendMarkRange(e.type.name),o&&c?(window.open(c,u),!0):!1}}})}function Aat(e){return new an({key:new Cn("handlePasteLink"),props:{handlePaste:(t,n,r)=>{const{shouldAutoLink:s}=e,{state:i}=t,{selection:o}=i,{empty:l}=o;if(l)return!1;let c="";r.content.forEach(d=>{c+=d.textContent});const u=Tae(c,{defaultProtocol:e.defaultProtocol}).find(d=>d.isLink&&d.value===c);return!c||!u||s!==void 0&&!s(u.href)?!1:e.editor.commands.setMark(e.type,{href:u.href})}}})}function Cu(e,t){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return t&&t.forEach(r=>{const s=typeof r=="string"?r:r.scheme;s&&n.push(s)}),!e||e.replace(_at,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var Aae=$l.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(e=>{if(typeof e=="string"){U8(e);return}U8(e.scheme,e.optionalSlashes)})},onDestroy(){Sat()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(e,t)=>!!Cu(e,t.protocols),validate:e=>!!e,shouldAutoLink:e=>!!e}},addAttributes(){return{href:{default:null,parseHTML(e){return e.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:e=>{const t=e.getAttribute("href");return!t||!this.options.isAllowedUri(t,{defaultValidate:n=>!!Cu(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:e}){return this.options.isAllowedUri(e.href,{defaultValidate:t=>!!Cu(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",on(this.options.HTMLAttributes,e),0]:["a",on(this.options.HTMLAttributes,{...e,href:""}),0]},markdownTokenName:"link",parseMarkdown:(e,t)=>t.applyMark("link",t.parseInline(e.tokens||[]),{href:e.href,title:e.title||null}),renderMarkdown:(e,t)=>{var n;const r=((n=e.attrs)==null?void 0:n.href)||"";return`[${t.renderChildren(e)}](${r})`},addCommands(){return{setLink:e=>({chain:t})=>{const{href:n}=e;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Cu(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?t().setMark(this.name,e).setMeta("preventAutolink",!0).run():!1},toggleLink:e=>({chain:t})=>{const{href:n}=e||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!Cu(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[iu({find:e=>{const t=[];if(e){const{protocols:n,defaultProtocol:r}=this.options,s=Tae(e).filter(i=>i.isLink&&this.options.isAllowedUri(i.value,{defaultValidate:o=>!!Cu(o,n),protocols:n,defaultProtocol:r}));s.length&&s.forEach(i=>{this.options.shouldAutoLink(i.value)&&t.push({text:i.value,data:{href:i.href},index:i.start})})}return t},type:this.type,getAttributes:e=>{var t;return{href:(t=e.data)==null?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[],{protocols:t,defaultProtocol:n}=this.options;return this.options.autolink&&e.push(Cat({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:s=>!!Cu(s,t),protocols:t,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&e.push(Tat({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&e.push(Aat({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),e}}),Oat=Aae,Mat=Object.defineProperty,Pat=(e,t)=>{for(var n in t)Mat(e,n,{get:t[n],enumerable:!0})},Dat="listItem",H8="textStyle",W8=/^\s*([-+*])\s$/,Oae=Ir.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:e}){return["ul",on(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>e.type!=="list"||e.ordered?[]:{type:"bulletList",content:e.items?t.parseChildren(e.items):[]},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Dat,this.editor.getAttributes(H8)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=am({find:W8,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=am({find:W8,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(H8),editor:this.editor})),[e]}}),Mae=Ir.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",on(this.options.HTMLAttributes,e),0]},markdownTokenName:"list_item",parseMarkdown:(e,t)=>{if(e.type!=="list_item")return[];let n=[];if(e.tokens&&e.tokens.length>0)if(e.tokens.some(s=>s.type==="paragraph"))n=t.parseChildren(e.tokens);else{const s=e.tokens[0];if(s&&s.type==="text"&&s.tokens&&s.tokens.length>0){if(n=[{type:"paragraph",content:t.parseInline(s.tokens)}],e.tokens.length>1){const o=e.tokens.slice(1),l=t.parseChildren(o);n.push(...l)}}else n=t.parseChildren(e.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(e,t,n)=>l$(e,t,r=>r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${r.index+1}. `:"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Rat={};Pat(Rat,{findListItemPos:()=>A0,getNextListDepth:()=>x$,handleBackspace:()=>oP,handleDelete:()=>aP,hasListBefore:()=>Pae,hasListItemAfter:()=>Iat,hasListItemBefore:()=>Dae,listItemHasSubList:()=>Rae,nextListIsDeeper:()=>Iae,nextListIsHigher:()=>Lae});var A0=(e,t)=>{const{$from:n}=t.selection,r=dr(e,t.schema);let s=null,i=n.depth,o=n.pos,l=null;for(;i>0&&l===null;)s=n.node(i),s.type===r?l=i:(i-=1,o-=1);return l===null?null:{$pos:t.doc.resolve(o),depth:l}},x$=(e,t)=>{const n=A0(e,t);if(!n)return!1;const[,r]=Eit(t,e,n.$pos.pos+4);return r},Pae=(e,t,n)=>{const{$anchor:r}=e.selection,s=Math.max(0,r.pos-2),i=e.doc.resolve(s).node();return!(!i||!n.includes(i.type.name))},Dae=(e,t)=>{var n;const{$anchor:r}=t.selection,s=t.doc.resolve(r.pos-2);return!(s.index()===0||((n=s.nodeBefore)==null?void 0:n.type.name)!==e)},Rae=(e,t,n)=>{if(!n)return!1;const r=dr(e,t.schema);let s=!1;return n.descendants(i=>{i.type===r&&(s=!0)}),s},oP=(e,t,n)=>{if(e.commands.undoInputRule())return!0;if(e.state.selection.from!==e.state.selection.to)return!1;if(!su(e.state,t)&&Pae(e.state,t,n)){const{$anchor:l}=e.state.selection,c=e.state.doc.resolve(l.before()-1),u=[];c.node().descendants((f,p)=>{f.type.name===t&&u.push({node:f,pos:p})});const d=u.at(-1);if(!d)return!1;const h=e.state.doc.resolve(c.start()+d.pos+1);return e.chain().cut({from:l.start()-1,to:l.end()+1},h.end()).joinForward().run()}if(!su(e.state,t)||!Oit(e.state))return!1;const r=A0(t,e.state);if(!r)return!1;const i=e.state.doc.resolve(r.$pos.pos-2).node(r.depth),o=Rae(t,e.state,i);return Dae(t,e.state)&&!o?e.commands.joinItemBackward():e.chain().liftListItem(t).run()},Iae=(e,t)=>{const n=x$(e,t),r=A0(e,t);return!r||!n?!1:n>r.depth},Lae=(e,t)=>{const n=x$(e,t),r=A0(e,t);return!r||!n?!1:n<r.depth},aP=(e,t)=>{if(!su(e.state,t)||!Ait(e.state,t))return!1;const{selection:n}=e.state,{$from:r,$to:s}=n;return!n.empty&&r.sameParent(s)?!1:Iae(t,e.state)?e.chain().focus(e.state.selection.from+4).lift(t).joinBackward().run():Lae(t,e.state)?e.chain().joinForward().joinBackward().run():e.commands.joinItemForward()},Iat=(e,t)=>{var n;const{$anchor:r}=t.selection,s=t.doc.resolve(r.pos-r.parentOffset-2);return!(s.index()===s.parent.childCount-1||((n=s.nodeAfter)==null?void 0:n.type.name)!==e)},$ae=Ft.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n})=>{e.state.schema.nodes[n]!==void 0&&aP(e,n)&&(t=!0)}),t},"Mod-Delete":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n})=>{e.state.schema.nodes[n]!==void 0&&aP(e,n)&&(t=!0)}),t},Backspace:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{e.state.schema.nodes[n]!==void 0&&oP(e,n,r)&&(t=!0)}),t},"Mod-Backspace":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{e.state.schema.nodes[n]!==void 0&&oP(e,n,r)&&(t=!0)}),t}}}}),V8=/^(\s*)(\d+)\.\s+(.*)$/,Lat=/^\s/;function $at(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n],i=s.match(V8);if(!i)break;const[,o,l,c]=i,u=o.length;let d=c,h=n+1;const f=[s];for(;h<e.length;){const p=e[h];if(p.match(V8))break;if(p.trim()==="")f.push(p),d+=`
`,h+=1;else if(p.match(Lat))f.push(p),d+=`
${p.slice(u+2)}`,h+=1;else break}t.push({indent:u,number:parseInt(l,10),content:d.trim(),raw:f.join(`
`)}),r=h,n=h}return[t,r]}function Bae(e,t,n){var r;const s=[];let i=0;for(;i<e.length;){const o=e[i];if(o.indent===t){const l=o.content.split(`
`),c=((r=l[0])==null?void 0:r.trim())||"",u=[];c&&u.push({type:"paragraph",raw:c,tokens:n.inlineTokens(c)});const d=l.slice(1).join(`
`).trim();if(d){const p=n.blockTokens(d);u.push(...p)}let h=i+1;const f=[];for(;h<e.length&&e[h].indent>t;)f.push(e[h]),h+=1;if(f.length>0){const p=Math.min(...f.map(g=>g.indent)),m=Bae(f,p,n);u.push({type:"list",ordered:!0,start:f[0].number,items:m,raw:f.map(g=>g.raw).join(`
`)})}s.push({type:"list_item",raw:o.raw,tokens:u}),i=h}else i+=1}return s}function Bat(e,t){return e.map(n=>{if(n.type!=="list_item")return t.parseChildren([n])[0];const r=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(s=>{if(s.type==="paragraph"||s.type==="list"||s.type==="blockquote"||s.type==="code")r.push(...t.parseChildren([s]));else if(s.type==="text"&&s.tokens){const i=t.parseChildren([s]);r.push({type:"paragraph",content:i})}else{const i=t.parseChildren([s]);i.length>0&&r.push(...i)}}),{type:"listItem",content:r}})}var Fat="listItem",G8="textStyle",q8=/^(\d+)\.\s$/,Fae=Ir.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1},type:{default:null,parseHTML:e=>e.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:e}){const{start:t,...n}=e;return t===1?["ol",on(this.options.HTMLAttributes,n),0]:["ol",on(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>{if(e.type!=="list"||!e.ordered)return[];const n=e.start||1,r=e.items?Bat(e.items,t):[];return n!==1?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:e=>{const t=e.match(/^(\s*)(\d+)\.\s+/),n=t==null?void 0:t.index;return n!==void 0?n:-1},tokenize:(e,t,n)=>{var r;const s=e.split(`
`),[i,o]=$at(s);if(i.length===0)return;const l=Bae(i,0,n);return l.length===0?void 0:{type:"list",ordered:!0,start:((r=i[0])==null?void 0:r.number)||1,items:l,raw:s.slice(0,o).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Fat,this.editor.getAttributes(G8)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=am({find:q8,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=am({find:q8,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(G8)}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1],editor:this.editor})),[e]}}),zat=/^\s*(\[([( |x])?\])\s$/,zae=Ir.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:e=>{const t=e.getAttribute("data-checked");return t===""||t==="true"},renderHTML:e=>({"data-checked":e.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:e,HTMLAttributes:t}){return["li",on(this.options.HTMLAttributes,t,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:e.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(e,t)=>{const n=[];if(e.tokens&&e.tokens.length>0?n.push(t.createNode("paragraph",{},t.parseInline(e.tokens))):e.text?n.push(t.createNode("paragraph",{},[t.createNode("text",{text:e.text})])):n.push(t.createNode("paragraph",{},[])),e.nestedTokens&&e.nestedTokens.length>0){const r=t.parseChildren(e.nestedTokens);n.push(...r)}return t.createNode("taskItem",{checked:e.checked||!1},n)},renderMarkdown:(e,t)=>{var n;const s=`- [${(n=e.attrs)!=null&&n.checked?"x":" "}] `;return l$(e,t,s)},addKeyboardShortcuts(){const e={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...e,Tab:()=>this.editor.commands.sinkListItem(this.name)}:e},addNodeView(){return({node:e,HTMLAttributes:t,getPos:n,editor:r})=>{const s=document.createElement("li"),i=document.createElement("label"),o=document.createElement("span"),l=document.createElement("input"),c=document.createElement("div"),u=d=>{var h,f;l.ariaLabel=((f=(h=this.options.a11y)==null?void 0:h.checkboxLabel)==null?void 0:f.call(h,d,l.checked))||`Task item checkbox for ${d.textContent||"empty task item"}`};return u(e),i.contentEditable="false",l.type="checkbox",l.addEventListener("mousedown",d=>d.preventDefault()),l.addEventListener("change",d=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){l.checked=!l.checked;return}const{checked:h}=d.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:f})=>{const p=n();if(typeof p!="number")return!1;const m=f.doc.nodeAt(p);return f.setNodeMarkup(p,void 0,{...m==null?void 0:m.attrs,checked:h}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(e,h)||(l.checked=!l.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([d,h])=>{s.setAttribute(d,h)}),s.dataset.checked=e.attrs.checked,l.checked=e.attrs.checked,i.append(l,o),s.append(i,c),Object.entries(t).forEach(([d,h])=>{s.setAttribute(d,h)}),{dom:s,contentDOM:c,update:d=>d.type!==this.type?!1:(s.dataset.checked=d.attrs.checked,l.checked=d.attrs.checked,u(d),!0)}}},addInputRules(){return[am({find:zat,type:this.type,getAttributes:e=>({checked:e[e.length-1]==="x"})})]}}),Uae=Ir.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:e}){return["ul",on(this.options.HTMLAttributes,e,{"data-type":this.name}),0]},parseMarkdown:(e,t)=>t.createNode("taskList",{},t.parseChildren(e.items||[])),renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(e){var t;const n=(t=e.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:t.index;return n!==void 0?n:-1},tokenize(e,t,n){const r=i=>{const o=XM(i,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:l=>({indentLevel:l[1].length,mainContent:l[4],checked:l[3].toLowerCase()==="x"}),createToken:(l,c)=>({type:"taskItem",raw:"",mainContent:l.mainContent,indentLevel:l.indentLevel,checked:l.checked,text:l.mainContent,tokens:n.inlineTokens(l.mainContent),nestedTokens:c}),customNestedParser:r},n);return o?[{type:"taskList",raw:o.raw,items:o.items}]:n.blockTokens(i)},s=XM(e,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:i=>({indentLevel:i[1].length,mainContent:i[4],checked:i[3].toLowerCase()==="x"}),createToken:(i,o)=>({type:"taskItem",raw:"",mainContent:i.mainContent,indentLevel:i.indentLevel,checked:i.checked,text:i.mainContent,tokens:n.inlineTokens(i.mainContent),nestedTokens:o}),customNestedParser:r},n);if(s)return{type:"taskList",raw:s.raw,items:s.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Ft.create({name:"listKit",addExtensions(){const e=[];return this.options.bulletList!==!1&&e.push(Oae.configure(this.options.bulletList)),this.options.listItem!==!1&&e.push(Mae.configure(this.options.listItem)),this.options.listKeymap!==!1&&e.push($ae.configure(this.options.listKeymap)),this.options.orderedList!==!1&&e.push(Fae.configure(this.options.orderedList)),this.options.taskItem!==!1&&e.push(zae.configure(this.options.taskItem)),this.options.taskList!==!1&&e.push(Uae.configure(this.options.taskList)),e}});var Uat=Ir.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:e}){return["p",on(this.options.HTMLAttributes,e),0]},parseMarkdown:(e,t)=>{const n=e.tokens||[];return n.length===1&&n[0].type==="image"?t.parseChildren([n[0]]):t.createNode("paragraph",void 0,t.parseInline(n))},renderMarkdown:(e,t)=>!e||!Array.isArray(e.content)?"":t.renderChildren(e.content),addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Hat=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,Wat=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Vat=$l.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["s",on(this.options.HTMLAttributes,e),0]},markdownTokenName:"del",parseMarkdown:(e,t)=>t.applyMark("strike",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`~~${t.renderChildren(e)}~~`,addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[th({find:Hat,type:this.type})]},addPasteRules(){return[iu({find:Wat,type:this.type})]}}),Gat=Ir.create({name:"text",group:"inline",parseMarkdown:e=>({type:"text",text:e.text||""}),renderMarkdown:e=>e.text||""}),Hae=$l.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["u",on(this.options.HTMLAttributes,e),0]},parseMarkdown(e,t){return t.applyMark(this.name||"underline",t.parseInline(e.tokens||[]))},renderMarkdown(e,t){return`++${t.renderChildren(e)}++`},markdownTokenizer:{name:"underline",level:"inline",start(e){return e.indexOf("++")},tokenize(e,t,n){const s=/^(\+\+)([\s\S]+?)(\+\+)/.exec(e);if(!s)return;const i=s[2].trim();return{type:"underline",raw:s[0],text:i,tokens:n.inlineTokens(i)}}},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),qat=Hae;function Kat(e={}){return new an({view(t){return new Yat(t,e)}})}class Yat{constructor(t,n){var r;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let i=o=>{this[s](o)};return t.dom.addEventListener(s,i),{name:s,handler:i}})}destroy(){this.handlers.forEach(({name:t,handler:n})=>this.editorView.dom.removeEventListener(t,n))}update(t,n){this.cursorPos!=null&&n.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t=this.editorView.state.doc.resolve(this.cursorPos),n=!t.parent.inlineContent,r,s=this.editorView.dom,i=s.getBoundingClientRect(),o=i.width/s.offsetWidth,l=i.height/s.offsetHeight;if(n){let h=t.nodeBefore,f=t.nodeAfter;if(h||f){let p=this.editorView.nodeDOM(this.cursorPos-(h?h.nodeSize:0));if(p){let m=p.getBoundingClientRect(),g=h?m.bottom:m.top;h&&f&&(g=(g+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let y=this.width/2*l;r={left:m.left,right:m.right,top:g-y,bottom:g+y}}}}if(!r){let h=this.editorView.coordsAtPos(this.cursorPos),f=this.width/2*o;r={left:h.left-f,right:h.left+f,top:h.top,bottom:h.bottom}}let c=this.editorView.dom.offsetParent;this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let u,d;if(!c||c==document.body&&getComputedStyle(c).position=="static")u=-pageXOffset,d=-pageYOffset;else{let h=c.getBoundingClientRect(),f=h.width/c.offsetWidth,p=h.height/c.offsetHeight;u=h.left-c.scrollLeft*f,d=h.top-c.scrollTop*p}this.element.style.left=(r.left-u)/o+"px",this.element.style.top=(r.top-d)/l+"px",this.element.style.width=(r.right-r.left)/o+"px",this.element.style.height=(r.bottom-r.top)/l+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),t)}dragover(t){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),s=r&&r.type.spec.disableDropCursor,i=typeof s=="function"?s(this.editorView,n,t):s;if(n&&!i){let o=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=Bie(this.editorView.state.doc,o,this.editorView.dragging.slice);l!=null&&(o=l)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)}}class Vn extends Xe{constructor(t){super(t,t)}map(t,n){let r=t.resolve(n.map(this.head));return Vn.valid(r)?new Vn(r):Xe.near(r)}content(){return Te.empty}eq(t){return t instanceof Vn&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Vn(t.resolve(n.pos))}getBookmark(){return new v$(this.anchor)}static valid(t){let n=t.parent;if(n.isTextblock||!Xat(t)||!Jat(t))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let s=n.contentMatchAt(t.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(t,n,r=!1){e:for(;;){if(!r&&Vn.valid(t))return t;let s=t.pos,i=null;for(let o=t.depth;;o--){let l=t.node(o);if(n>0?t.indexAfter(o)<l.childCount:t.index(o)>0){i=l.child(n>0?t.indexAfter(o):t.index(o)-1);break}else if(o==0)return null;s+=n;let c=t.doc.resolve(s);if(Vn.valid(c))return c}for(;;){let o=n>0?i.firstChild:i.lastChild;if(!o){if(i.isAtom&&!i.isText&&!He.isSelectable(i)){t=t.doc.resolve(s+i.nodeSize*n),r=!1;continue e}break}i=o,s+=n;let l=t.doc.resolve(s);if(Vn.valid(l))return l}return null}}}Vn.prototype.visible=!1;Vn.findFrom=Vn.findGapCursorFrom;Xe.jsonID("gapcursor",Vn);class v${constructor(t){this.pos=t}map(t){return new v$(t.map(this.pos))}resolve(t){let n=t.resolve(this.pos);return Vn.valid(n)?new Vn(n):Xe.near(n)}}function Wae(e){return e.isAtom||e.spec.isolating||e.spec.createGapCursor}function Xat(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||Wae(s.type))return!0;if(s.inlineContent)return!1}}return!0}function Jat(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||Wae(s.type))return!0;if(s.inlineContent)return!1}}return!0}function Qat(){return new an({props:{decorations:nlt,createSelectionBetween(e,t,n){return t.pos==n.pos&&Vn.valid(n)?new Vn(n):null},handleClick:elt,handleKeyDown:Zat,handleDOMEvents:{beforeinput:tlt}}})}const Zat=KL({ArrowLeft:aw("horiz",-1),ArrowRight:aw("horiz",1),ArrowUp:aw("vert",-1),ArrowDown:aw("vert",1)});function aw(e,t){const n=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(r,s,i){let o=r.selection,l=t>0?o.$to:o.$from,c=o.empty;if(o instanceof Ve){if(!i.endOfTextblock(n)||l.depth==0)return!1;c=!1,l=r.doc.resolve(t>0?l.after():l.before())}let u=Vn.findGapCursorFrom(l,t,c);return u?(s&&s(r.tr.setSelection(new Vn(u))),!0):!1}}function elt(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!Vn.valid(r))return!1;let s=e.posAtCoords({left:n.clientX,top:n.clientY});return s&&s.inside>-1&&He.isSelectable(e.state.doc.nodeAt(s.inside))?!1:(e.dispatch(e.state.tr.setSelection(new Vn(r))),!0)}function tlt(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof Vn))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let s=he.empty;for(let o=r.length-1;o>=0;o--)s=he.from(r[o].createAndFill(null,s));let i=e.state.tr.replace(n.pos,n.pos,new Te(s,0,0));return i.setSelection(Ve.near(i.doc.resolve(n.pos+1))),e.dispatch(i),!1}function nlt(e){if(!(e.selection instanceof Vn))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",Zt.create(e.doc,[br.widget(e.selection.head,t,{key:"gapcursor"})])}var ck=200,Mr=function(){};Mr.prototype.append=function(t){return t.length?(t=Mr.from(t),!this.length&&t||t.length<ck&&this.leafAppend(t)||this.length<ck&&t.leafPrepend(this)||this.appendInner(t)):this};Mr.prototype.prepend=function(t){return t.length?Mr.from(t).append(this):this};Mr.prototype.appendInner=function(t){return new rlt(this,t)};Mr.prototype.slice=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.length),t>=n?Mr.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,n))};Mr.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};Mr.prototype.forEach=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(t,n,r,0):this.forEachInvertedInner(t,n,r,0)};Mr.prototype.map=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var s=[];return this.forEach(function(i,o){return s.push(t(i,o))},n,r),s};Mr.from=function(t){return t instanceof Mr?t:t&&t.length?new Vae(t):Mr.empty};var Vae=function(e){function t(r){e.call(this),this.values=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(s,i){return s==0&&i==this.length?this:new t(this.values.slice(s,i))},t.prototype.getInner=function(s){return this.values[s]},t.prototype.forEachInner=function(s,i,o,l){for(var c=i;c<o;c++)if(s(this.values[c],l+c)===!1)return!1},t.prototype.forEachInvertedInner=function(s,i,o,l){for(var c=i-1;c>=o;c--)if(s(this.values[c],l+c)===!1)return!1},t.prototype.leafAppend=function(s){if(this.length+s.length<=ck)return new t(this.values.concat(s.flatten()))},t.prototype.leafPrepend=function(s){if(this.length+s.length<=ck)return new t(s.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(Mr);Mr.empty=new Vae([]);var rlt=function(e){function t(n,r){e.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},t.prototype.forEachInner=function(r,s,i,o){var l=this.left.length;if(s<l&&this.left.forEachInner(r,s,Math.min(i,l),o)===!1||i>l&&this.right.forEachInner(r,Math.max(s-l,0),Math.min(this.length,i)-l,o+l)===!1)return!1},t.prototype.forEachInvertedInner=function(r,s,i,o){var l=this.left.length;if(s>l&&this.right.forEachInvertedInner(r,s-l,Math.max(i,l)-l,o+l)===!1||i<l&&this.left.forEachInvertedInner(r,Math.min(s,l),i,o)===!1)return!1},t.prototype.sliceInner=function(r,s){if(r==0&&s==this.length)return this;var i=this.left.length;return s<=i?this.left.slice(r,s):r>=i?this.right.slice(r-i,s-i):this.left.slice(r,i).append(this.right.slice(0,s-i))},t.prototype.leafAppend=function(r){var s=this.right.leafAppend(r);if(s)return new t(this.left,s)},t.prototype.leafPrepend=function(r){var s=this.left.leafPrepend(r);if(s)return new t(s,this.right)},t.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new t(this.left,new t(this.right,r)):new t(this,r)},t}(Mr);const slt=500;class Co{constructor(t,n){this.items=t,this.eventCount=n}popEvent(t,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let s,i;n&&(s=this.remapping(r,this.items.length),i=s.maps.length);let o=t.tr,l,c,u=[],d=[];return this.items.forEach((h,f)=>{if(!h.step){s||(s=this.remapping(r,f+1),i=s.maps.length),i--,d.push(h);return}if(s){d.push(new aa(h.map));let p=h.step.map(s.slice(i)),m;p&&o.maybeStep(p).doc&&(m=o.mapping.maps[o.mapping.maps.length-1],u.push(new aa(m,void 0,void 0,u.length+d.length))),i--,m&&s.appendMap(m,i)}else o.maybeStep(h.step);if(h.selection)return l=s?h.selection.map(s.slice(i)):h.selection,c=new Co(this.items.slice(0,r).append(d.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:c,transform:o,selection:l}}addTransform(t,n,r,s){let i=[],o=this.eventCount,l=this.items,c=!s&&l.length?l.get(l.length-1):null;for(let d=0;d<t.steps.length;d++){let h=t.steps[d].invert(t.docs[d]),f=new aa(t.mapping.maps[d],h,n),p;(p=c&&c.merge(f))&&(f=p,d?i.pop():l=l.slice(0,l.length-1)),i.push(f),n&&(o++,n=void 0),s||(c=f)}let u=o-r.depth;return u>olt&&(l=ilt(l,u),o-=u),new Co(l.append(i),o)}remapping(t,n){let r=new av;return this.items.forEach((s,i)=>{let o=s.mirrorOffset!=null&&i-s.mirrorOffset>=t?r.maps.length-s.mirrorOffset:void 0;r.appendMap(s.map,o)},t,n),r}addMaps(t){return this.eventCount==0?this:new Co(this.items.append(t.map(n=>new aa(n))),this.eventCount)}rebased(t,n){if(!this.eventCount)return this;let r=[],s=Math.max(0,this.items.length-n),i=t.mapping,o=t.steps.length,l=this.eventCount;this.items.forEach(f=>{f.selection&&l--},s);let c=n;this.items.forEach(f=>{let p=i.getMirror(--c);if(p==null)return;o=Math.min(o,p);let m=i.maps[p];if(f.step){let g=t.steps[p].invert(t.docs[p]),y=f.selection&&f.selection.map(i.slice(c+1,p));y&&l++,r.push(new aa(m,g,y))}else r.push(new aa(m))},s);let u=[];for(let f=n;f<o;f++)u.push(new aa(i.maps[f]));let d=this.items.slice(0,s).append(u).append(r),h=new Co(d,l);return h.emptyItemCount()>slt&&(h=h.compress(this.items.length-r.length)),h}emptyItemCount(){let t=0;return this.items.forEach(n=>{n.step||t++}),t}compress(t=this.items.length){let n=this.remapping(0,t),r=n.maps.length,s=[],i=0;return this.items.forEach((o,l)=>{if(l>=t)s.push(o),o.selection&&i++;else if(o.step){let c=o.step.map(n.slice(r)),u=c&&c.getMap();if(r--,u&&n.appendMap(u,r),c){let d=o.selection&&o.selection.map(n.slice(r));d&&i++;let h=new aa(u.invert(),c,d),f,p=s.length-1;(f=s.length&&s[p].merge(h))?s[p]=f:s.push(h)}}else o.map&&r--},this.items.length,0),new Co(Mr.from(s.reverse()),i)}}Co.empty=new Co(Mr.empty,0);function ilt(e,t){let n;return e.forEach((r,s)=>{if(r.selection&&t--==0)return n=s,!1}),e.slice(n)}class aa{constructor(t,n,r,s){this.map=t,this.step=n,this.selection=r,this.mirrorOffset=s}merge(t){if(this.step&&t.step&&!t.selection){let n=t.step.merge(this.step);if(n)return new aa(n.getMap().invert(),n,this.selection)}}}class rc{constructor(t,n,r,s,i){this.done=t,this.undone=n,this.prevRanges=r,this.prevTime=s,this.prevComposition=i}}const olt=20;function alt(e,t,n,r){let s=n.getMeta(Ed),i;if(s)return s.historyState;n.getMeta(ult)&&(e=new rc(e.done,e.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return e;if(o&&o.getMeta(Ed))return o.getMeta(Ed).redo?new rc(e.done.addTransform(n,void 0,r,c1(t)),e.undone,K8(n.mapping.maps),e.prevTime,e.prevComposition):new rc(e.done,e.undone.addTransform(n,void 0,r,c1(t)),null,e.prevTime,e.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let l=n.getMeta("composition"),c=e.prevTime==0||!o&&e.prevComposition!=l&&(e.prevTime<(n.time||0)-r.newGroupDelay||!llt(n,e.prevRanges)),u=o?DT(e.prevRanges,n.mapping):K8(n.mapping.maps);return new rc(e.done.addTransform(n,c?t.selection.getBookmark():void 0,r,c1(t)),Co.empty,u,n.time,l??e.prevComposition)}else return(i=n.getMeta("rebased"))?new rc(e.done.rebased(n,i),e.undone.rebased(n,i),DT(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new rc(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),DT(e.prevRanges,n.mapping),e.prevTime,e.prevComposition)}function llt(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((r,s)=>{for(let i=0;i<t.length;i+=2)r<=t[i+1]&&s>=t[i]&&(n=!0)}),n}function K8(e){let t=[];for(let n=e.length-1;n>=0&&t.length==0;n--)e[n].forEach((r,s,i,o)=>t.push(i,o));return t}function DT(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let s=t.map(e[r],1),i=t.map(e[r+1],-1);s<=i&&n.push(s,i)}return n}function clt(e,t,n){let r=c1(t),s=Ed.get(t).spec.config,i=(n?e.undone:e.done).popEvent(t,r);if(!i)return null;let o=i.selection.resolve(i.transform.doc),l=(n?e.done:e.undone).addTransform(i.transform,t.selection.getBookmark(),s,r),c=new rc(n?l:i.remaining,n?i.remaining:l,null,0,-1);return i.transform.setSelection(o).setMeta(Ed,{redo:n,historyState:c})}let RT=!1,Y8=null;function c1(e){let t=e.plugins;if(Y8!=t){RT=!1,Y8=t;for(let n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){RT=!0;break}}return RT}const Ed=new Cn("history"),ult=new Cn("closeHistory");function dlt(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new an({key:Ed,state:{init(){return new rc(Co.empty,Co.empty,null,0,-1)},apply(t,n,r){return alt(n,r,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,n){let r=n.inputType,s=r=="historyUndo"?qae:r=="historyRedo"?Kae:null;return!s||!t.editable?!1:(n.preventDefault(),s(t.state,t.dispatch))}}}})}function Gae(e,t){return(n,r)=>{let s=Ed.getState(n);if(!s||(e?s.undone:s.done).eventCount==0)return!1;if(r){let i=clt(s,n,e);i&&r(t?i.scrollIntoView():i)}return!0}}const qae=Gae(!1,!0),Kae=Gae(!0,!0);Ft.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:e=>e.length,wordCounter:e=>e.split(" ").filter(t=>t!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=e=>{const t=(e==null?void 0:e.node)||this.editor.state.doc;if(((e==null?void 0:e.mode)||this.options.mode)==="textSize"){const r=t.textBetween(0,t.content.size,void 0," ");return this.options.textCounter(r)}return t.nodeSize},this.storage.words=e=>{const t=(e==null?void 0:e.node)||this.editor.state.doc,n=t.textBetween(0,t.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let e=!1;return[new an({key:new Cn("characterCount"),appendTransaction:(t,n,r)=>{if(e)return;const s=this.options.limit;if(s==null||s===0){e=!0;return}const i=this.storage.characters({node:r.doc});if(i>s){const o=i-s,l=0,c=o;console.warn(`[CharacterCount] Initial content exceeded limit of ${s} characters. Content was automatically trimmed.`);const u=r.tr.deleteRange(l,c);return e=!0,u}e=!0},filterTransaction:(t,n)=>{const r=this.options.limit;if(!t.docChanged||r===0||r===null||r===void 0)return!0;const s=this.storage.characters({node:n.doc}),i=this.storage.characters({node:t.doc});if(i<=r||s>r&&i>r&&i<=s)return!0;if(s>r&&i>r&&i>s||!t.getMeta("paste"))return!1;const l=t.selection.$head.pos,c=i-r,u=l-c,d=l;return t.deleteRange(u,d),!(this.storage.characters({node:t.doc})>r)}})]}});var hlt=Ft.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[Kat(this.options)]}});Ft.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new an({key:new Cn("focus"),props:{decorations:({doc:e,selection:t})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:s}=t,i=[];if(!n||!r)return Zt.create(e,[]);let o=0;this.options.mode==="deepest"&&e.descendants((c,u)=>{if(c.isText)return;if(!(s>=u&&s<=u+c.nodeSize-1))return!1;o+=1});let l=0;return e.descendants((c,u)=>{if(c.isText||!(s>=u&&s<=u+c.nodeSize-1))return!1;if(l+=1,this.options.mode==="deepest"&&o-l>0||this.options.mode==="shallowest"&&l>1)return this.options.mode==="deepest";i.push(br.node(u,u+c.nodeSize,{class:this.options.className}))}),Zt.create(e,i)}}})]}});var flt=Ft.create({name:"gapCursor",addProseMirrorPlugins(){return[Qat()]},extendNodeSchema(e){var t;const n={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:(t=Lt(Ue(e,"allowGapCursor",n)))!=null?t:null}}}),plt=Ft.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new an({key:new Cn("placeholder"),props:{decorations:({doc:e,selection:t})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=t,s=[];if(!n)return null;const i=this.editor.isEmpty;return e.descendants((o,l)=>{const c=r>=l&&r<=l+o.nodeSize,u=!o.isLeaf&&H_(o);if((c||!this.options.showOnlyCurrent)&&u){const d=[this.options.emptyNodeClass];i&&d.push(this.options.emptyEditorClass);const h=br.node(l,l+o.nodeSize,{class:d.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:o,pos:l,hasAnchor:c}):this.options.placeholder});s.push(h)}return this.options.includeChildren}),Zt.create(e,s)}}})]}});Ft.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:e,options:t}=this;return[new an({key:new Cn("selection"),props:{decorations(n){return n.selection.empty||e.isFocused||!e.isEditable||eae(n.selection)||e.view.dragging?null:Zt.create(n.doc,[br.inline(n.selection.from,n.selection.to,{class:t.className})])}}})]}});function X8({types:e,node:t}){return t&&Array.isArray(e)&&e.includes(t.type)||(t==null?void 0:t.type)===e}var mlt=Ft.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var e;const t=new Cn(this.name),n=((e=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:e.name)||this.options.node||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,s])=>s).filter(s=>(this.options.notAfter||[]).concat(n).includes(s.name));return[new an({key:t,appendTransaction:(s,i,o)=>{const{doc:l,tr:c,schema:u}=o,d=t.getState(o),h=l.content.size,f=u.nodes[n];if(d)return c.insert(h,f.create())},state:{init:(s,i)=>{const o=i.tr.doc.lastChild;return!X8({node:o,types:r})},apply:(s,i)=>{if(!s.docChanged||s.getMeta("__uniqueIDTransaction"))return i;const o=s.doc.lastChild;return!X8({node:o,types:r})}}})]}}),glt=Ft.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:e,dispatch:t})=>qae(e,t),redo:()=>({state:e,dispatch:t})=>Kae(e,t)}},addProseMirrorPlugins(){return[dlt(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),ylt=Ft.create({name:"starterKit",addExtensions(){var e,t,n,r;const s=[];return this.options.bold!==!1&&s.push(Vot.configure(this.options.bold)),this.options.blockquote!==!1&&s.push(Fot.configure(this.options.blockquote)),this.options.bulletList!==!1&&s.push(Oae.configure(this.options.bulletList)),this.options.code!==!1&&s.push(Kot.configure(this.options.code)),this.options.codeBlock!==!1&&s.push(bae.configure(this.options.codeBlock)),this.options.document!==!1&&s.push(Qot.configure(this.options.document)),this.options.dropcursor!==!1&&s.push(hlt.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&s.push(flt.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&s.push(Zot.configure(this.options.hardBreak)),this.options.heading!==!1&&s.push(eat.configure(this.options.heading)),this.options.undoRedo!==!1&&s.push(glt.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&s.push(tat.configure(this.options.horizontalRule)),this.options.italic!==!1&&s.push(oat.configure(this.options.italic)),this.options.listItem!==!1&&s.push(Mae.configure(this.options.listItem)),this.options.listKeymap!==!1&&s.push($ae.configure((e=this.options)==null?void 0:e.listKeymap)),this.options.link!==!1&&s.push(Aae.configure((t=this.options)==null?void 0:t.link)),this.options.orderedList!==!1&&s.push(Fae.configure(this.options.orderedList)),this.options.paragraph!==!1&&s.push(Uat.configure(this.options.paragraph)),this.options.strike!==!1&&s.push(Vat.configure(this.options.strike)),this.options.text!==!1&&s.push(Gat.configure(this.options.text)),this.options.underline!==!1&&s.push(Hae.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&s.push(mlt.configure((r=this.options)==null?void 0:r.trailingNode)),s}}),xlt=ylt,vlt=plt,blt=Ft.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:e=>{const t=e.style.textAlign;return this.options.alignments.includes(t)?t:this.options.defaultAlignment},renderHTML:e=>e.textAlign?{style:`text-align: ${e.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:e=>({commands:t})=>this.options.alignments.includes(e)?this.options.types.map(n=>t.updateAttributes(n,{textAlign:e})).every(n=>n):!1,unsetTextAlign:()=>({commands:e})=>this.options.types.map(t=>e.resetAttributes(t,"textAlign")).every(t=>t),toggleTextAlign:e=>({editor:t,commands:n})=>this.options.alignments.includes(e)?t.isActive({textAlign:e})?n.unsetTextAlign():n.setTextAlign(e):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),wlt=blt,Slt=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,Nlt=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,klt=$l.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:e=>e.getAttribute("data-color")||e.style.backgroundColor,renderHTML:e=>e.color?{"data-color":e.color,style:`background-color: ${e.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:e}){return["mark",on(this.options.HTMLAttributes,e),0]},renderMarkdown:(e,t)=>`==${t.renderChildren(e)}==`,parseMarkdown:(e,t)=>t.applyMark("highlight",t.parseInline(e.tokens||[])),markdownTokenizer:{name:"highlight",level:"inline",start:e=>e.indexOf("=="),tokenize(e,t,n){const s=/^(==)([^=]+)(==)/.exec(e);if(s){const i=s[2].trim(),o=n.inlineTokens(i);return{type:"highlight",raw:s[0],text:i,tokens:o}}}},addCommands(){return{setHighlight:e=>({commands:t})=>t.setMark(this.name,e),toggleHighlight:e=>({commands:t})=>t.toggleMark(this.name,e),unsetHighlight:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[th({find:Slt,type:this.type})]},addPasteRules(){return[iu({find:Nlt,type:this.type})]}}),jlt=klt,_lt=20,Yae=(e,t=0)=>{const n=[];return!e.children.length||t>_lt||Array.from(e.children).forEach(r=>{r.tagName==="SPAN"?n.push(r):r.children.length&&n.push(...Yae(r,t+1))}),n},Elt=e=>{if(!e.children.length)return;const t=Yae(e);t&&t.forEach(n=>{var r,s;const i=n.getAttribute("style"),o=(s=(r=n.parentElement)==null?void 0:r.closest("span"))==null?void 0:s.getAttribute("style");n.setAttribute("style",`${o};${i}`)})},Xae=$l.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:e=>e.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&Elt(e),{}):!1}]},renderHTML({HTMLAttributes:e}){return["span",on(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleTextStyle:e=>({commands:t})=>t.toggleMark(this.name,e),removeEmptyTextStyle:()=>({tr:e})=>{const{selection:t}=e;return e.doc.nodesBetween(t.from,t.to,(n,r)=>{if(n.isTextblock)return!0;n.marks.filter(s=>s.type===this.type).some(s=>Object.values(s.attrs).some(i=>!!i))||e.removeMark(r,r+n.nodeSize,this.type)}),!0}}}}),Clt=Ft.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:e=>{var t;const n=e.getAttribute("style");if(n){const r=n.split(";").map(s=>s.trim()).filter(Boolean);for(let s=r.length-1;s>=0;s-=1){const i=r[s].split(":");if(i.length>=2){const o=i[0].trim().toLowerCase(),l=i.slice(1).join(":").trim();if(o==="background-color")return l.replace(/['"]+/g,"")}}}return(t=e.style.backgroundColor)==null?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.backgroundColor?{style:`background-color: ${e.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:e=>({chain:t})=>t().setMark("textStyle",{backgroundColor:e}).run(),unsetBackgroundColor:()=>({chain:e})=>e().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),Jae=Ft.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:e=>{var t;const n=e.getAttribute("style");if(n){const r=n.split(";").map(s=>s.trim()).filter(Boolean);for(let s=r.length-1;s>=0;s-=1){const i=r[s].split(":");if(i.length>=2){const o=i[0].trim().toLowerCase(),l=i.slice(1).join(":").trim();if(o==="color")return l.replace(/['"]+/g,"")}}}return(t=e.style.color)==null?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.color?{style:`color: ${e.color}`}:{}}}}]},addCommands(){return{setColor:e=>({chain:t})=>t().setMark("textStyle",{color:e}).run(),unsetColor:()=>({chain:e})=>e().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),Tlt=Ft.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:e=>e.style.fontFamily,renderHTML:e=>e.fontFamily?{style:`font-family: ${e.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:e=>({chain:t})=>t().setMark("textStyle",{fontFamily:e}).run(),unsetFontFamily:()=>({chain:e})=>e().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),Alt=Ft.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:e=>e.style.fontSize,renderHTML:e=>e.fontSize?{style:`font-size: ${e.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:e=>({chain:t})=>t().setMark("textStyle",{fontSize:e}).run(),unsetFontSize:()=>({chain:e})=>e().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),Olt=Ft.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:e=>e.style.lineHeight,renderHTML:e=>e.lineHeight?{style:`line-height: ${e.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:e=>({chain:t})=>t().setMark("textStyle",{lineHeight:e}).run(),unsetLineHeight:()=>({chain:e})=>e().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}});Ft.create({name:"textStyleKit",addExtensions(){const e=[];return this.options.backgroundColor!==!1&&e.push(Clt.configure(this.options.backgroundColor)),this.options.color!==!1&&e.push(Jae.configure(this.options.color)),this.options.fontFamily!==!1&&e.push(Tlt.configure(this.options.fontFamily)),this.options.fontSize!==!1&&e.push(Alt.configure(this.options.fontSize)),this.options.lineHeight!==!1&&e.push(Olt.configure(this.options.lineHeight)),this.options.textStyle!==!1&&e.push(Xae.configure(this.options.textStyle)),e}});var Mlt=Jae,lP,cP;if(typeof WeakMap<"u"){let e=new WeakMap;lP=t=>e.get(t),cP=(t,n)=>(e.set(t,n),n)}else{const e=[];let n=0;lP=r=>{for(let s=0;s<e.length;s+=2)if(e[s]==r)return e[s+1]},cP=(r,s)=>(n==10&&(n=0),e[n++]=r,e[n++]=s)}var qn=class{constructor(e,t,n,r){this.width=e,this.height=t,this.map=n,this.problems=r}findCell(e){for(let t=0;t<this.map.length;t++){const n=this.map[t];if(n!=e)continue;const r=t%this.width,s=t/this.width|0;let i=r+1,o=s+1;for(let l=1;i<this.width&&this.map[t+l]==n;l++)i++;for(let l=1;o<this.height&&this.map[t+this.width*l]==n;l++)o++;return{left:r,top:s,right:i,bottom:o}}throw new RangeError(`No cell with offset ${e} found`)}colCount(e){for(let t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError(`No cell with offset ${e} found`)}nextCell(e,t,n){const{left:r,right:s,top:i,bottom:o}=this.findCell(e);return t=="horiz"?(n<0?r==0:s==this.width)?null:this.map[i*this.width+(n<0?r-1:s)]:(n<0?i==0:o==this.height)?null:this.map[r+this.width*(n<0?i-1:o)]}rectBetween(e,t){const{left:n,right:r,top:s,bottom:i}=this.findCell(e),{left:o,right:l,top:c,bottom:u}=this.findCell(t);return{left:Math.min(n,o),top:Math.min(s,c),right:Math.max(r,l),bottom:Math.max(i,u)}}cellsInRect(e){const t=[],n={};for(let r=e.top;r<e.bottom;r++)for(let s=e.left;s<e.right;s++){const i=r*this.width+s,o=this.map[i];n[o]||(n[o]=!0,!(s==e.left&&s&&this.map[i-1]==o||r==e.top&&r&&this.map[i-this.width]==o)&&t.push(o))}return t}positionAt(e,t,n){for(let r=0,s=0;;r++){const i=s+n.child(r).nodeSize;if(r==e){let o=t+e*this.width;const l=(e+1)*this.width;for(;o<l&&this.map[o]<s;)o++;return o==l?i-1:this.map[o]}s=i}}static get(e){return lP(e)||cP(e,Plt(e))}};function Plt(e){if(e.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+e.type.name);const t=Dlt(e),n=e.childCount,r=[];let s=0,i=null;const o=[];for(let u=0,d=t*n;u<d;u++)r[u]=0;for(let u=0,d=0;u<n;u++){const h=e.child(u);d++;for(let m=0;;m++){for(;s<r.length&&r[s]!=0;)s++;if(m==h.childCount)break;const g=h.child(m),{colspan:y,rowspan:x,colwidth:b}=g.attrs;for(let w=0;w<x;w++){if(w+u>=n){(i||(i=[])).push({type:"overlong_rowspan",pos:d,n:x-w});break}const N=s+w*t;for(let S=0;S<y;S++){r[N+S]==0?r[N+S]=d:(i||(i=[])).push({type:"collision",row:u,pos:d,n:y-S});const k=b&&b[S];if(k){const j=(N+S)%t*2,_=o[j];_==null||_!=k&&o[j+1]==1?(o[j]=k,o[j+1]=1):_==k&&o[j+1]++}}}s+=y,d+=g.nodeSize}const f=(u+1)*t;let p=0;for(;s<f;)r[s++]==0&&p++;p&&(i||(i=[])).push({type:"missing",row:u,n:p}),d++}(t===0||n===0)&&(i||(i=[])).push({type:"zero_sized"});const l=new qn(t,n,r,i);let c=!1;for(let u=0;!c&&u<o.length;u+=2)o[u]!=null&&o[u+1]<n&&(c=!0);return c&&Rlt(l,o,e),l}function Dlt(e){let t=-1,n=!1;for(let r=0;r<e.childCount;r++){const s=e.child(r);let i=0;if(n)for(let o=0;o<r;o++){const l=e.child(o);for(let c=0;c<l.childCount;c++){const u=l.child(c);o+u.attrs.rowspan>r&&(i+=u.attrs.colspan)}}for(let o=0;o<s.childCount;o++){const l=s.child(o);i+=l.attrs.colspan,l.attrs.rowspan>1&&(n=!0)}t==-1?t=i:t!=i&&(t=Math.max(t,i))}return t}function Rlt(e,t,n){e.problems||(e.problems=[]);const r={};for(let s=0;s<e.map.length;s++){const i=e.map[s];if(r[i])continue;r[i]=!0;const o=n.nodeAt(i);if(!o)throw new RangeError(`No cell with offset ${i} found`);let l=null;const c=o.attrs;for(let u=0;u<c.colspan;u++){const d=(s+u)%e.width,h=t[d*2];h!=null&&(!c.colwidth||c.colwidth[u]!=h)&&((l||(l=Ilt(c)))[u]=h)}l&&e.problems.unshift({type:"colwidth mismatch",pos:i,colwidth:l})}}function Ilt(e){if(e.colwidth)return e.colwidth.slice();const t=[];for(let n=0;n<e.colspan;n++)t.push(0);return t}function hs(e){let t=e.cached.tableNodeTypes;if(!t){t=e.cached.tableNodeTypes={};for(const n in e.nodes){const r=e.nodes[n],s=r.spec.tableRole;s&&(t[s]=r)}}return t}var dc=new Cn("selectingCells");function Fm(e){for(let t=e.depth-1;t>0;t--)if(e.node(t).type.spec.tableRole=="row")return e.node(0).resolve(e.before(t+1));return null}function Llt(e){for(let t=e.depth;t>0;t--){const n=e.node(t).type.spec.tableRole;if(n==="cell"||n==="header_cell")return e.node(t)}return null}function Xo(e){const t=e.selection.$head;for(let n=t.depth;n>0;n--)if(t.node(n).type.spec.tableRole=="row")return!0;return!1}function q_(e){const t=e.selection;if("$anchorCell"in t&&t.$anchorCell)return t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell;if("node"in t&&t.node&&t.node.type.spec.tableRole=="cell")return t.$anchor;const n=Fm(t.$head)||$lt(t.$head);if(n)return n;throw new RangeError(`No cell found around position ${t.head}`)}function $lt(e){for(let t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){const r=t.type.spec.tableRole;if(r=="cell"||r=="header_cell")return e.doc.resolve(n)}for(let t=e.nodeBefore,n=e.pos;t;t=t.lastChild,n--){const r=t.type.spec.tableRole;if(r=="cell"||r=="header_cell")return e.doc.resolve(n-t.nodeSize)}}function uP(e){return e.parent.type.spec.tableRole=="row"&&!!e.nodeAfter}function Blt(e){return e.node(0).resolve(e.pos+e.nodeAfter.nodeSize)}function b$(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function Qae(e,t,n){const r=e.node(-1),s=qn.get(r),i=e.start(-1),o=s.nextCell(e.pos-i,t,n);return o==null?null:e.node(0).resolve(i+o)}function nh(e,t,n=1){const r={...e,colspan:e.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(t,n),r.colwidth.some(s=>s>0)||(r.colwidth=null)),r}function Zae(e,t,n=1){const r={...e,colspan:e.colspan+n};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let s=0;s<n;s++)r.colwidth.splice(t,0,0)}return r}function Flt(e,t,n){const r=hs(t.type.schema).header_cell;for(let s=0;s<e.height;s++)if(t.nodeAt(e.map[n+s*e.width]).type!=r)return!1;return!0}var rn=class qa extends Xe{constructor(t,n=t){const r=t.node(-1),s=qn.get(r),i=t.start(-1),o=s.rectBetween(t.pos-i,n.pos-i),l=t.node(0),c=s.cellsInRect(o).filter(d=>d!=n.pos-i);c.unshift(n.pos-i);const u=c.map(d=>{const h=r.nodeAt(d);if(!h)throw RangeError(`No cell with offset ${d} found`);const f=i+d+1;return new Wie(l.resolve(f),l.resolve(f+h.content.size))});super(u[0].$from,u[0].$to,u),this.$anchorCell=t,this.$headCell=n}map(t,n){const r=t.resolve(n.map(this.$anchorCell.pos)),s=t.resolve(n.map(this.$headCell.pos));if(uP(r)&&uP(s)&&b$(r,s)){const i=this.$anchorCell.node(-1)!=r.node(-1);return i&&this.isRowSelection()?qa.rowSelection(r,s):i&&this.isColSelection()?qa.colSelection(r,s):new qa(r,s)}return Ve.between(r,s)}content(){const t=this.$anchorCell.node(-1),n=qn.get(t),r=this.$anchorCell.start(-1),s=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),i={},o=[];for(let c=s.top;c<s.bottom;c++){const u=[];for(let d=c*n.width+s.left,h=s.left;h<s.right;h++,d++){const f=n.map[d];if(i[f])continue;i[f]=!0;const p=n.findCell(f);let m=t.nodeAt(f);if(!m)throw RangeError(`No cell with offset ${f} found`);const g=s.left-p.left,y=p.right-s.right;if(g>0||y>0){let x=m.attrs;if(g>0&&(x=nh(x,0,g)),y>0&&(x=nh(x,x.colspan-y,y)),p.left<s.left){if(m=m.type.createAndFill(x),!m)throw RangeError(`Could not create cell with attrs ${JSON.stringify(x)}`)}else m=m.type.create(x,m.content)}if(p.top<s.top||p.bottom>s.bottom){const x={...m.attrs,rowspan:Math.min(p.bottom,s.bottom)-Math.max(p.top,s.top)};p.top<s.top?m=m.type.createAndFill(x):m=m.type.create(x,m.content)}u.push(m)}o.push(t.child(c).copy(he.from(u)))}const l=this.isColSelection()&&this.isRowSelection()?t:o;return new Te(he.from(l),1,1)}replace(t,n=Te.empty){const r=t.steps.length,s=this.ranges;for(let o=0;o<s.length;o++){const{$from:l,$to:c}=s[o],u=t.mapping.slice(r);t.replace(u.map(l.pos),u.map(c.pos),o?Te.empty:n)}const i=Xe.findFrom(t.doc.resolve(t.mapping.slice(r).map(this.to)),-1);i&&t.setSelection(i)}replaceWith(t,n){this.replace(t,new Te(he.from(n),0,0))}forEachCell(t){const n=this.$anchorCell.node(-1),r=qn.get(n),s=this.$anchorCell.start(-1),i=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-s,this.$headCell.pos-s));for(let o=0;o<i.length;o++)t(n.nodeAt(i[o]),s+i[o])}isColSelection(){const t=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(t,n)>0)return!1;const r=t+this.$anchorCell.nodeAfter.attrs.rowspan,s=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,s)==this.$headCell.node(-1).childCount}static colSelection(t,n=t){const r=t.node(-1),s=qn.get(r),i=t.start(-1),o=s.findCell(t.pos-i),l=s.findCell(n.pos-i),c=t.node(0);return o.top<=l.top?(o.top>0&&(t=c.resolve(i+s.map[o.left])),l.bottom<s.height&&(n=c.resolve(i+s.map[s.width*(s.height-1)+l.right-1]))):(l.top>0&&(n=c.resolve(i+s.map[l.left])),o.bottom<s.height&&(t=c.resolve(i+s.map[s.width*(s.height-1)+o.right-1]))),new qa(t,n)}isRowSelection(){const t=this.$anchorCell.node(-1),n=qn.get(t),r=this.$anchorCell.start(-1),s=n.colCount(this.$anchorCell.pos-r),i=n.colCount(this.$headCell.pos-r);if(Math.min(s,i)>0)return!1;const o=s+this.$anchorCell.nodeAfter.attrs.colspan,l=i+this.$headCell.nodeAfter.attrs.colspan;return Math.max(o,l)==n.width}eq(t){return t instanceof qa&&t.$anchorCell.pos==this.$anchorCell.pos&&t.$headCell.pos==this.$headCell.pos}static rowSelection(t,n=t){const r=t.node(-1),s=qn.get(r),i=t.start(-1),o=s.findCell(t.pos-i),l=s.findCell(n.pos-i),c=t.node(0);return o.left<=l.left?(o.left>0&&(t=c.resolve(i+s.map[o.top*s.width])),l.right<s.width&&(n=c.resolve(i+s.map[s.width*(l.top+1)-1]))):(l.left>0&&(n=c.resolve(i+s.map[l.top*s.width])),o.right<s.width&&(t=c.resolve(i+s.map[s.width*(o.top+1)-1]))),new qa(t,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(t,n){return new qa(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){return new qa(t.resolve(n),t.resolve(r))}getBookmark(){return new zlt(this.$anchorCell.pos,this.$headCell.pos)}};rn.prototype.visible=!1;Xe.jsonID("cell",rn);var zlt=class ele{constructor(t,n){this.anchor=t,this.head=n}map(t){return new ele(t.map(this.anchor),t.map(this.head))}resolve(t){const n=t.resolve(this.anchor),r=t.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&b$(n,r)?new rn(n,r):Xe.near(r,1)}};function Ult(e){if(!(e.selection instanceof rn))return null;const t=[];return e.selection.forEachCell((n,r)=>{t.push(br.node(r,r+n.nodeSize,{class:"selectedCell"}))}),Zt.create(e.doc,t)}function Hlt({$from:e,$to:t}){if(e.pos==t.pos||e.pos<t.pos-6)return!1;let n=e.pos,r=t.pos,s=e.depth;for(;s>=0&&!(e.after(s+1)<e.end(s));s--,n++);for(let i=t.depth;i>=0&&!(t.before(i+1)>t.start(i));i--,r--);return n==r&&/row|table/.test(e.node(s).type.spec.tableRole)}function Wlt({$from:e,$to:t}){let n,r;for(let s=e.depth;s>0;s--){const i=e.node(s);if(i.type.spec.tableRole==="cell"||i.type.spec.tableRole==="header_cell"){n=i;break}}for(let s=t.depth;s>0;s--){const i=t.node(s);if(i.type.spec.tableRole==="cell"||i.type.spec.tableRole==="header_cell"){r=i;break}}return n!==r&&t.parentOffset===0}function Vlt(e,t,n){const r=(t||e).selection,s=(t||e).doc;let i,o;if(r instanceof He&&(o=r.node.type.spec.tableRole)){if(o=="cell"||o=="header_cell")i=rn.create(s,r.from);else if(o=="row"){const l=s.resolve(r.from+1);i=rn.rowSelection(l,l)}else if(!n){const l=qn.get(r.node),c=r.from+1,u=c+l.map[l.width*l.height-1];i=rn.create(s,c+1,u)}}else r instanceof Ve&&Hlt(r)?i=Ve.create(s,r.from):r instanceof Ve&&Wlt(r)&&(i=Ve.create(s,r.$from.start(),r.$from.end()));return i&&(t||(t=e.tr)).setSelection(i),t}var Glt=new Cn("fix-tables");function tle(e,t,n,r){const s=e.childCount,i=t.childCount;e:for(let o=0,l=0;o<i;o++){const c=t.child(o);for(let u=l,d=Math.min(s,o+3);u<d;u++)if(e.child(u)==c){l=u+1,n+=c.nodeSize;continue e}r(c,n),l<s&&e.child(l).sameMarkup(c)?tle(e.child(l),c,n+1,r):c.nodesBetween(0,c.content.size,r,n+1),n+=c.nodeSize}}function nle(e,t){let n;const r=(s,i)=>{s.type.spec.tableRole=="table"&&(n=qlt(e,s,i,n))};return t?t.doc!=e.doc&&tle(t.doc,e.doc,0,r):e.doc.descendants(r),n}function qlt(e,t,n,r){const s=qn.get(t);if(!s.problems)return r;r||(r=e.tr);const i=[];for(let c=0;c<s.height;c++)i.push(0);for(let c=0;c<s.problems.length;c++){const u=s.problems[c];if(u.type=="collision"){const d=t.nodeAt(u.pos);if(!d)continue;const h=d.attrs;for(let f=0;f<h.rowspan;f++)i[u.row+f]+=u.n;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,nh(h,h.colspan-u.n,u.n))}else if(u.type=="missing")i[u.row]+=u.n;else if(u.type=="overlong_rowspan"){const d=t.nodeAt(u.pos);if(!d)continue;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,{...d.attrs,rowspan:d.attrs.rowspan-u.n})}else if(u.type=="colwidth mismatch"){const d=t.nodeAt(u.pos);if(!d)continue;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,{...d.attrs,colwidth:u.colwidth})}else if(u.type=="zero_sized"){const d=r.mapping.map(n);r.delete(d,d+t.nodeSize)}}let o,l;for(let c=0;c<i.length;c++)i[c]&&(o==null&&(o=c),l=c);for(let c=0,u=n+1;c<s.height;c++){const d=t.child(c),h=u+d.nodeSize,f=i[c];if(f>0){let p="cell";d.firstChild&&(p=d.firstChild.type.spec.tableRole);const m=[];for(let y=0;y<f;y++){const x=hs(e.schema)[p].createAndFill();x&&m.push(x)}const g=(c==0||o==c-1)&&l==c?u+1:h-1;r.insert(r.mapping.map(g),m)}u=h}return r.setMeta(Glt,{fixTables:!0})}function Ra(e){const t=e.selection,n=q_(e),r=n.node(-1),s=n.start(-1),i=qn.get(r);return{...t instanceof rn?i.rectBetween(t.$anchorCell.pos-s,t.$headCell.pos-s):i.findCell(n.pos-s),tableStart:s,map:i,table:r}}function rle(e,{map:t,tableStart:n,table:r},s){let i=s>0?-1:0;Flt(t,r,s+i)&&(i=s==0||s==t.width?null:0);for(let o=0;o<t.height;o++){const l=o*t.width+s;if(s>0&&s<t.width&&t.map[l-1]==t.map[l]){const c=t.map[l],u=r.nodeAt(c);e.setNodeMarkup(e.mapping.map(n+c),null,Zae(u.attrs,s-t.colCount(c))),o+=u.attrs.rowspan-1}else{const c=i==null?hs(r.type.schema).cell:r.nodeAt(t.map[l+i]).type,u=t.positionAt(o,s,r);e.insert(e.mapping.map(n+u),c.createAndFill())}}return e}function Klt(e,t){if(!Xo(e))return!1;if(t){const n=Ra(e);t(rle(e.tr,n,n.left))}return!0}function Ylt(e,t){if(!Xo(e))return!1;if(t){const n=Ra(e);t(rle(e.tr,n,n.right))}return!0}function Xlt(e,{map:t,table:n,tableStart:r},s){const i=e.mapping.maps.length;for(let o=0;o<t.height;){const l=o*t.width+s,c=t.map[l],u=n.nodeAt(c),d=u.attrs;if(s>0&&t.map[l-1]==c||s<t.width-1&&t.map[l+1]==c)e.setNodeMarkup(e.mapping.slice(i).map(r+c),null,nh(d,s-t.colCount(c)));else{const h=e.mapping.slice(i).map(r+c);e.delete(h,h+u.nodeSize)}o+=d.rowspan}}function Jlt(e,t){if(!Xo(e))return!1;if(t){const n=Ra(e),r=e.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let s=n.right-1;Xlt(r,n,s),s!=n.left;s--){const i=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!i)throw RangeError("No table found");n.table=i,n.map=qn.get(i)}t(r)}return!0}function Qlt(e,t,n){var r;const s=hs(t.type.schema).header_cell;for(let i=0;i<e.width;i++)if(((r=t.nodeAt(e.map[i+n*e.width]))==null?void 0:r.type)!=s)return!1;return!0}function sle(e,{map:t,tableStart:n,table:r},s){var i;let o=n;for(let u=0;u<s;u++)o+=r.child(u).nodeSize;const l=[];let c=s>0?-1:0;Qlt(t,r,s+c)&&(c=s==0||s==t.height?null:0);for(let u=0,d=t.width*s;u<t.width;u++,d++)if(s>0&&s<t.height&&t.map[d]==t.map[d-t.width]){const h=t.map[d],f=r.nodeAt(h).attrs;e.setNodeMarkup(n+h,null,{...f,rowspan:f.rowspan+1}),u+=f.colspan-1}else{const h=c==null?hs(r.type.schema).cell:(i=r.nodeAt(t.map[d+c*t.width]))==null?void 0:i.type,f=h==null?void 0:h.createAndFill();f&&l.push(f)}return e.insert(o,hs(r.type.schema).row.create(null,l)),e}function Zlt(e,t){if(!Xo(e))return!1;if(t){const n=Ra(e);t(sle(e.tr,n,n.top))}return!0}function ect(e,t){if(!Xo(e))return!1;if(t){const n=Ra(e);t(sle(e.tr,n,n.bottom))}return!0}function tct(e,{map:t,table:n,tableStart:r},s){let i=0;for(let u=0;u<s;u++)i+=n.child(u).nodeSize;const o=i+n.child(s).nodeSize,l=e.mapping.maps.length;e.delete(i+r,o+r);const c=new Set;for(let u=0,d=s*t.width;u<t.width;u++,d++){const h=t.map[d];if(!c.has(h)){if(c.add(h),s>0&&h==t.map[d-t.width]){const f=n.nodeAt(h).attrs;e.setNodeMarkup(e.mapping.slice(l).map(h+r),null,{...f,rowspan:f.rowspan-1}),u+=f.colspan-1}else if(s<t.height&&h==t.map[d+t.width]){const f=n.nodeAt(h),p=f.attrs,m=f.type.create({...p,rowspan:f.attrs.rowspan-1},f.content),g=t.positionAt(s+1,u,n);e.insert(e.mapping.slice(l).map(r+g),m),u+=p.colspan-1}}}}function nct(e,t){if(!Xo(e))return!1;if(t){const n=Ra(e),r=e.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let s=n.bottom-1;tct(r,n,s),s!=n.top;s--){const i=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!i)throw RangeError("No table found");n.table=i,n.map=qn.get(n.table)}t(r)}return!0}function J8(e){const t=e.content;return t.childCount==1&&t.child(0).isTextblock&&t.child(0).childCount==0}function rct({width:e,height:t,map:n},r){let s=r.top*e+r.left,i=s,o=(r.bottom-1)*e+r.left,l=s+(r.right-r.left-1);for(let c=r.top;c<r.bottom;c++){if(r.left>0&&n[i]==n[i-1]||r.right<e&&n[l]==n[l+1])return!0;i+=e,l+=e}for(let c=r.left;c<r.right;c++){if(r.top>0&&n[s]==n[s-e]||r.bottom<t&&n[o]==n[o+e])return!0;s++,o++}return!1}function Q8(e,t){const n=e.selection;if(!(n instanceof rn)||n.$anchorCell.pos==n.$headCell.pos)return!1;const r=Ra(e),{map:s}=r;if(rct(s,r))return!1;if(t){const i=e.tr,o={};let l=he.empty,c,u;for(let d=r.top;d<r.bottom;d++)for(let h=r.left;h<r.right;h++){const f=s.map[d*s.width+h],p=r.table.nodeAt(f);if(!(o[f]||!p))if(o[f]=!0,c==null)c=f,u=p;else{J8(p)||(l=l.append(p.content));const m=i.mapping.map(f+r.tableStart);i.delete(m,m+p.nodeSize)}}if(c==null||u==null)return!0;if(i.setNodeMarkup(c+r.tableStart,null,{...Zae(u.attrs,u.attrs.colspan,r.right-r.left-u.attrs.colspan),rowspan:r.bottom-r.top}),l.size){const d=c+1+u.content.size,h=J8(u)?c+1:d;i.replaceWith(h+r.tableStart,d+r.tableStart,l)}i.setSelection(new rn(i.doc.resolve(c+r.tableStart))),t(i)}return!0}function Z8(e,t){const n=hs(e.schema);return sct(({node:r})=>n[r.type.spec.tableRole])(e,t)}function sct(e){return(t,n)=>{var r;const s=t.selection;let i,o;if(s instanceof rn){if(s.$anchorCell.pos!=s.$headCell.pos)return!1;i=s.$anchorCell.nodeAfter,o=s.$anchorCell.pos}else{if(i=Llt(s.$from),!i)return!1;o=(r=Fm(s.$from))==null?void 0:r.pos}if(i==null||o==null||i.attrs.colspan==1&&i.attrs.rowspan==1)return!1;if(n){let l=i.attrs;const c=[],u=l.colwidth;l.rowspan>1&&(l={...l,rowspan:1}),l.colspan>1&&(l={...l,colspan:1});const d=Ra(t),h=t.tr;for(let p=0;p<d.right-d.left;p++)c.push(u?{...l,colwidth:u&&u[p]?[u[p]]:null}:l);let f;for(let p=d.top;p<d.bottom;p++){let m=d.map.positionAt(p,d.left,d.table);p==d.top&&(m+=i.nodeSize);for(let g=d.left,y=0;g<d.right;g++,y++)g==d.left&&p==d.top||h.insert(f=h.mapping.map(m+d.tableStart,1),e({node:i,row:p,col:g}).createAndFill(c[y]))}h.setNodeMarkup(o,e({node:i,row:d.top,col:d.left}),c[0]),s instanceof rn&&h.setSelection(new rn(h.doc.resolve(s.$anchorCell.pos),f?h.doc.resolve(f):void 0)),n(h)}return!0}}function ict(e,t){return function(n,r){if(!Xo(n))return!1;const s=q_(n);if(s.nodeAfter.attrs[e]===t)return!1;if(r){const i=n.tr;n.selection instanceof rn?n.selection.forEachCell((o,l)=>{o.attrs[e]!==t&&i.setNodeMarkup(l,null,{...o.attrs,[e]:t})}):i.setNodeMarkup(s.pos,null,{...s.nodeAfter.attrs,[e]:t}),r(i)}return!0}}function oct(e){return function(t,n){if(!Xo(t))return!1;if(n){const r=hs(t.schema),s=Ra(t),i=t.tr,o=s.map.cellsInRect(e=="column"?{left:s.left,top:0,right:s.right,bottom:s.map.height}:e=="row"?{left:0,top:s.top,right:s.map.width,bottom:s.bottom}:s),l=o.map(c=>s.table.nodeAt(c));for(let c=0;c<o.length;c++)l[c].type==r.header_cell&&i.setNodeMarkup(s.tableStart+o[c],r.cell,l[c].attrs);if(i.steps.length==0)for(let c=0;c<o.length;c++)i.setNodeMarkup(s.tableStart+o[c],r.header_cell,l[c].attrs);n(i)}return!0}}function eW(e,t,n){const r=t.map.cellsInRect({left:0,top:0,right:e=="row"?t.map.width:1,bottom:e=="column"?t.map.height:1});for(let s=0;s<r.length;s++){const i=t.table.nodeAt(r[s]);if(i&&i.type!==n.header_cell)return!1}return!0}function gv(e,t){return t=t||{useDeprecatedLogic:!1},t.useDeprecatedLogic?oct(e):function(n,r){if(!Xo(n))return!1;if(r){const s=hs(n.schema),i=Ra(n),o=n.tr,l=eW("row",i,s),c=eW("column",i,s),d=(e==="column"?l:e==="row"?c:!1)?1:0,h=e=="column"?{left:0,top:d,right:1,bottom:i.map.height}:e=="row"?{left:d,top:0,right:i.map.width,bottom:1}:i,f=e=="column"?c?s.cell:s.header_cell:e=="row"?l?s.cell:s.header_cell:s.cell;i.map.cellsInRect(h).forEach(p=>{const m=p+i.tableStart,g=o.doc.nodeAt(m);g&&o.setNodeMarkup(m,f,g.attrs)}),r(o)}return!0}}gv("row",{useDeprecatedLogic:!0});gv("column",{useDeprecatedLogic:!0});var act=gv("cell",{useDeprecatedLogic:!0});function lct(e,t){if(t<0){const n=e.nodeBefore;if(n)return e.pos-n.nodeSize;for(let r=e.index(-1)-1,s=e.before();r>=0;r--){const i=e.node(-1).child(r),o=i.lastChild;if(o)return s-1-o.nodeSize;s-=i.nodeSize}}else{if(e.index()<e.parent.childCount-1)return e.pos+e.nodeAfter.nodeSize;const n=e.node(-1);for(let r=e.indexAfter(-1),s=e.after();r<n.childCount;r++){const i=n.child(r);if(i.childCount)return s+1;s+=i.nodeSize}}return null}function tW(e){return function(t,n){if(!Xo(t))return!1;const r=lct(q_(t),e);if(r==null)return!1;if(n){const s=t.doc.resolve(r);n(t.tr.setSelection(Ve.between(s,Blt(s))).scrollIntoView())}return!0}}function cct(e,t){const n=e.selection.$anchor;for(let r=n.depth;r>0;r--)if(n.node(r).type.spec.tableRole=="table")return t&&t(e.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1}function lw(e,t){const n=e.selection;if(!(n instanceof rn))return!1;if(t){const r=e.tr,s=hs(e.schema).cell.createAndFill().content;n.forEachCell((i,o)=>{i.content.eq(s)||r.replace(r.mapping.map(o+1),r.mapping.map(o+i.nodeSize-1),new Te(s,0,0))}),r.docChanged&&t(r)}return!0}function uct(e){if(!e.size)return null;let{content:t,openStart:n,openEnd:r}=e;for(;t.childCount==1&&(n>0&&r>0||t.child(0).type.spec.tableRole=="table");)n--,r--,t=t.child(0).content;const s=t.child(0),i=s.type.spec.tableRole,o=s.type.schema,l=[];if(i=="row")for(let c=0;c<t.childCount;c++){let u=t.child(c).content;const d=c?0:Math.max(0,n-1),h=c<t.childCount-1?0:Math.max(0,r-1);(d||h)&&(u=dP(hs(o).row,new Te(u,d,h)).content),l.push(u)}else if(i=="cell"||i=="header_cell")l.push(n||r?dP(hs(o).row,new Te(t,n,r)).content:t);else return null;return dct(o,l)}function dct(e,t){const n=[];for(let s=0;s<t.length;s++){const i=t[s];for(let o=i.childCount-1;o>=0;o--){const{rowspan:l,colspan:c}=i.child(o).attrs;for(let u=s;u<s+l;u++)n[u]=(n[u]||0)+c}}let r=0;for(let s=0;s<n.length;s++)r=Math.max(r,n[s]);for(let s=0;s<n.length;s++)if(s>=t.length&&t.push(he.empty),n[s]<r){const i=hs(e).cell.createAndFill(),o=[];for(let l=n[s];l<r;l++)o.push(i);t[s]=t[s].append(he.from(o))}return{height:t.length,width:r,rows:t}}function dP(e,t){const n=e.createAndFill();return new ML(n).replace(0,n.content.size,t).doc}function hct({width:e,height:t,rows:n},r,s){if(e!=r){const i=[],o=[];for(let l=0;l<n.length;l++){const c=n[l],u=[];for(let d=i[l]||0,h=0;d<r;h++){let f=c.child(h%c.childCount);d+f.attrs.colspan>r&&(f=f.type.createChecked(nh(f.attrs,f.attrs.colspan,d+f.attrs.colspan-r),f.content)),u.push(f),d+=f.attrs.colspan;for(let p=1;p<f.attrs.rowspan;p++)i[l+p]=(i[l+p]||0)+f.attrs.colspan}o.push(he.from(u))}n=o,e=r}if(t!=s){const i=[];for(let o=0,l=0;o<s;o++,l++){const c=[],u=n[l%t];for(let d=0;d<u.childCount;d++){let h=u.child(d);o+h.attrs.rowspan>s&&(h=h.type.create({...h.attrs,rowspan:Math.max(1,s-h.attrs.rowspan)},h.content)),c.push(h)}i.push(he.from(c))}n=i,t=s}return{width:e,height:t,rows:n}}function fct(e,t,n,r,s,i,o){const l=e.doc.type.schema,c=hs(l);let u,d;if(s>t.width)for(let h=0,f=0;h<t.height;h++){const p=n.child(h);f+=p.nodeSize;const m=[];let g;p.lastChild==null||p.lastChild.type==c.cell?g=u||(u=c.cell.createAndFill()):g=d||(d=c.header_cell.createAndFill());for(let y=t.width;y<s;y++)m.push(g);e.insert(e.mapping.slice(o).map(f-1+r),m)}if(i>t.height){const h=[];for(let m=0,g=(t.height-1)*t.width;m<Math.max(t.width,s);m++){const y=m>=t.width?!1:n.nodeAt(t.map[g+m]).type==c.header_cell;h.push(y?d||(d=c.header_cell.createAndFill()):u||(u=c.cell.createAndFill()))}const f=c.row.create(null,he.from(h)),p=[];for(let m=t.height;m<i;m++)p.push(f);e.insert(e.mapping.slice(o).map(r+n.nodeSize-2),p)}return!!(u||d)}function nW(e,t,n,r,s,i,o,l){if(o==0||o==t.height)return!1;let c=!1;for(let u=s;u<i;u++){const d=o*t.width+u,h=t.map[d];if(t.map[d-t.width]==h){c=!0;const f=n.nodeAt(h),{top:p,left:m}=t.findCell(h);e.setNodeMarkup(e.mapping.slice(l).map(h+r),null,{...f.attrs,rowspan:o-p}),e.insert(e.mapping.slice(l).map(t.positionAt(o,m,n)),f.type.createAndFill({...f.attrs,rowspan:p+f.attrs.rowspan-o})),u+=f.attrs.colspan-1}}return c}function rW(e,t,n,r,s,i,o,l){if(o==0||o==t.width)return!1;let c=!1;for(let u=s;u<i;u++){const d=u*t.width+o,h=t.map[d];if(t.map[d-1]==h){c=!0;const f=n.nodeAt(h),p=t.colCount(h),m=e.mapping.slice(l).map(h+r);e.setNodeMarkup(m,null,nh(f.attrs,o-p,f.attrs.colspan-(o-p))),e.insert(m+f.nodeSize,f.type.createAndFill(nh(f.attrs,0,o-p))),u+=f.attrs.rowspan-1}}return c}function sW(e,t,n,r,s){let i=n?e.doc.nodeAt(n-1):e.doc;if(!i)throw new Error("No table found");let o=qn.get(i);const{top:l,left:c}=r,u=c+s.width,d=l+s.height,h=e.tr;let f=0;function p(){if(i=n?h.doc.nodeAt(n-1):h.doc,!i)throw new Error("No table found");o=qn.get(i),f=h.mapping.maps.length}fct(h,o,i,n,u,d,f)&&p(),nW(h,o,i,n,c,u,l,f)&&p(),nW(h,o,i,n,c,u,d,f)&&p(),rW(h,o,i,n,l,d,c,f)&&p(),rW(h,o,i,n,l,d,u,f)&&p();for(let m=l;m<d;m++){const g=o.positionAt(m,c,i),y=o.positionAt(m,u,i);h.replace(h.mapping.slice(f).map(g+n),h.mapping.slice(f).map(y+n),new Te(s.rows[m-l],0,0))}p(),h.setSelection(new rn(h.doc.resolve(n+o.positionAt(l,c,i)),h.doc.resolve(n+o.positionAt(d-1,u-1,i)))),t(h)}var pct=KL({ArrowLeft:cw("horiz",-1),ArrowRight:cw("horiz",1),ArrowUp:cw("vert",-1),ArrowDown:cw("vert",1),"Shift-ArrowLeft":uw("horiz",-1),"Shift-ArrowRight":uw("horiz",1),"Shift-ArrowUp":uw("vert",-1),"Shift-ArrowDown":uw("vert",1),Backspace:lw,"Mod-Backspace":lw,Delete:lw,"Mod-Delete":lw});function u1(e,t,n){return n.eq(e.selection)?!1:(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function cw(e,t){return(n,r,s)=>{if(!s)return!1;const i=n.selection;if(i instanceof rn)return u1(n,r,Xe.near(i.$headCell,t));if(e!="horiz"&&!i.empty)return!1;const o=ile(s,e,t);if(o==null)return!1;if(e=="horiz")return u1(n,r,Xe.near(n.doc.resolve(i.head+t),t));{const l=n.doc.resolve(o),c=Qae(l,e,t);let u;return c?u=Xe.near(c,1):t<0?u=Xe.near(n.doc.resolve(l.before(-1)),-1):u=Xe.near(n.doc.resolve(l.after(-1)),1),u1(n,r,u)}}}function uw(e,t){return(n,r,s)=>{if(!s)return!1;const i=n.selection;let o;if(i instanceof rn)o=i;else{const c=ile(s,e,t);if(c==null)return!1;o=new rn(n.doc.resolve(c))}const l=Qae(o.$headCell,e,t);return l?u1(n,r,new rn(o.$anchorCell,l)):!1}}function mct(e,t){const n=e.state.doc,r=Fm(n.resolve(t));return r?(e.dispatch(e.state.tr.setSelection(new rn(r))),!0):!1}function gct(e,t,n){if(!Xo(e.state))return!1;let r=uct(n);const s=e.state.selection;if(s instanceof rn){r||(r={width:1,height:1,rows:[he.from(dP(hs(e.state.schema).cell,n))]});const i=s.$anchorCell.node(-1),o=s.$anchorCell.start(-1),l=qn.get(i).rectBetween(s.$anchorCell.pos-o,s.$headCell.pos-o);return r=hct(r,l.right-l.left,l.bottom-l.top),sW(e.state,e.dispatch,o,l,r),!0}else if(r){const i=q_(e.state),o=i.start(-1);return sW(e.state,e.dispatch,o,qn.get(i.node(-1)).findCell(i.pos-o),r),!0}else return!1}function yct(e,t){var n;if(t.ctrlKey||t.metaKey)return;const r=iW(e,t.target);let s;if(t.shiftKey&&e.state.selection instanceof rn)i(e.state.selection.$anchorCell,t),t.preventDefault();else if(t.shiftKey&&r&&(s=Fm(e.state.selection.$anchor))!=null&&((n=IT(e,t))==null?void 0:n.pos)!=s.pos)i(s,t),t.preventDefault();else if(!r)return;function i(c,u){let d=IT(e,u);const h=dc.getState(e.state)==null;if(!d||!b$(c,d))if(h)d=c;else return;const f=new rn(c,d);if(h||!e.state.selection.eq(f)){const p=e.state.tr.setSelection(f);h&&p.setMeta(dc,c.pos),e.dispatch(p)}}function o(){e.root.removeEventListener("mouseup",o),e.root.removeEventListener("dragstart",o),e.root.removeEventListener("mousemove",l),dc.getState(e.state)!=null&&e.dispatch(e.state.tr.setMeta(dc,-1))}function l(c){const u=c,d=dc.getState(e.state);let h;if(d!=null)h=e.state.doc.resolve(d);else if(iW(e,u.target)!=r&&(h=IT(e,t),!h))return o();h&&i(h,u)}e.root.addEventListener("mouseup",o),e.root.addEventListener("dragstart",o),e.root.addEventListener("mousemove",l)}function ile(e,t,n){if(!(e.state.selection instanceof Ve))return null;const{$head:r}=e.state.selection;for(let s=r.depth-1;s>=0;s--){const i=r.node(s);if((n<0?r.index(s):r.indexAfter(s))!=(n<0?0:i.childCount))return null;if(i.type.spec.tableRole=="cell"||i.type.spec.tableRole=="header_cell"){const l=r.before(s),c=t=="vert"?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(c)?l:null}}return null}function iW(e,t){for(;t&&t!=e.dom;t=t.parentNode)if(t.nodeName=="TD"||t.nodeName=="TH")return t;return null}function IT(e,t){const n=e.posAtCoords({left:t.clientX,top:t.clientY});return n&&n?Fm(e.state.doc.resolve(n.pos)):null}var xct=class{constructor(t,n){this.node=t,this.defaultCellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${n}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),hP(t,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type!=this.node.type?!1:(this.node=t,hP(t,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(t){return t.type=="attributes"&&(t.target==this.table||this.colgroup.contains(t.target))}};function hP(e,t,n,r,s,i){var o;let l=0,c=!0,u=t.firstChild;const d=e.firstChild;if(d){for(let h=0,f=0;h<d.childCount;h++){const{colspan:p,colwidth:m}=d.child(h).attrs;for(let g=0;g<p;g++,f++){const y=s==f?i:m&&m[g],x=y?y+"px":"";if(l+=y||r,y||(c=!1),u)u.style.width!=x&&(u.style.width=x),u=u.nextSibling;else{const b=document.createElement("col");b.style.width=x,t.appendChild(b)}}}for(;u;){const h=u.nextSibling;(o=u.parentNode)==null||o.removeChild(u),u=h}c?(n.style.width=l+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=l+"px")}}var li=new Cn("tableColumnResizing");function vct({handleWidth:e=5,cellMinWidth:t=25,defaultCellMinWidth:n=100,View:r=xct,lastColumnResizable:s=!0}={}){const i=new an({key:li,state:{init(o,l){var c,u;const d=(u=(c=i.spec)==null?void 0:c.props)==null?void 0:u.nodeViews,h=hs(l.schema).table.name;return r&&d&&(d[h]=(f,p)=>new r(f,n,p)),new bct(-1,!1)},apply(o,l){return l.apply(o)}},props:{attributes:o=>{const l=li.getState(o);return l&&l.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(o,l)=>{wct(o,l,e,s)},mouseleave:o=>{Sct(o)},mousedown:(o,l)=>{Nct(o,l,t,n)}},decorations:o=>{const l=li.getState(o);if(l&&l.activeHandle>-1)return Cct(o,l.activeHandle)},nodeViews:{}}});return i}var bct=class d1{constructor(t,n){this.activeHandle=t,this.dragging=n}apply(t){const n=this,r=t.getMeta(li);if(r&&r.setHandle!=null)return new d1(r.setHandle,!1);if(r&&r.setDragging!==void 0)return new d1(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&t.docChanged){let s=t.mapping.map(n.activeHandle,-1);return uP(t.doc.resolve(s))||(s=-1),new d1(s,n.dragging)}return n}};function wct(e,t,n,r){if(!e.editable)return;const s=li.getState(e.state);if(s&&!s.dragging){const i=jct(t.target);let o=-1;if(i){const{left:l,right:c}=i.getBoundingClientRect();t.clientX-l<=n?o=oW(e,t,"left",n):c-t.clientX<=n&&(o=oW(e,t,"right",n))}if(o!=s.activeHandle){if(!r&&o!==-1){const l=e.state.doc.resolve(o),c=l.node(-1),u=qn.get(c),d=l.start(-1);if(u.colCount(l.pos-d)+l.nodeAfter.attrs.colspan-1==u.width-1)return}ole(e,o)}}}function Sct(e){if(!e.editable)return;const t=li.getState(e.state);t&&t.activeHandle>-1&&!t.dragging&&ole(e,-1)}function Nct(e,t,n,r){var s;if(!e.editable)return!1;const i=(s=e.dom.ownerDocument.defaultView)!=null?s:window,o=li.getState(e.state);if(!o||o.activeHandle==-1||o.dragging)return!1;const l=e.state.doc.nodeAt(o.activeHandle),c=kct(e,o.activeHandle,l.attrs);e.dispatch(e.state.tr.setMeta(li,{setDragging:{startX:t.clientX,startWidth:c}}));function u(h){i.removeEventListener("mouseup",u),i.removeEventListener("mousemove",d);const f=li.getState(e.state);f!=null&&f.dragging&&(_ct(e,f.activeHandle,aW(f.dragging,h,n)),e.dispatch(e.state.tr.setMeta(li,{setDragging:null})))}function d(h){if(!h.which)return u(h);const f=li.getState(e.state);if(f&&f.dragging){const p=aW(f.dragging,h,n);lW(e,f.activeHandle,p,r)}}return lW(e,o.activeHandle,c,r),i.addEventListener("mouseup",u),i.addEventListener("mousemove",d),t.preventDefault(),!0}function kct(e,t,{colspan:n,colwidth:r}){const s=r&&r[r.length-1];if(s)return s;const i=e.domAtPos(t);let l=i.node.childNodes[i.offset].offsetWidth,c=n;if(r)for(let u=0;u<n;u++)r[u]&&(l-=r[u],c--);return l/c}function jct(e){for(;e&&e.nodeName!="TD"&&e.nodeName!="TH";)e=e.classList&&e.classList.contains("ProseMirror")?null:e.parentNode;return e}function oW(e,t,n,r){const s=n=="right"?-r:r,i=e.posAtCoords({left:t.clientX+s,top:t.clientY});if(!i)return-1;const{pos:o}=i,l=Fm(e.state.doc.resolve(o));if(!l)return-1;if(n=="right")return l.pos;const c=qn.get(l.node(-1)),u=l.start(-1),d=c.map.indexOf(l.pos-u);return d%c.width==0?-1:u+c.map[d-1]}function aW(e,t,n){const r=t.clientX-e.startX;return Math.max(n,e.startWidth+r)}function ole(e,t){e.dispatch(e.state.tr.setMeta(li,{setHandle:t}))}function _ct(e,t,n){const r=e.state.doc.resolve(t),s=r.node(-1),i=qn.get(s),o=r.start(-1),l=i.colCount(r.pos-o)+r.nodeAfter.attrs.colspan-1,c=e.state.tr;for(let u=0;u<i.height;u++){const d=u*i.width+l;if(u&&i.map[d]==i.map[d-i.width])continue;const h=i.map[d],f=s.nodeAt(h).attrs,p=f.colspan==1?0:l-i.colCount(h);if(f.colwidth&&f.colwidth[p]==n)continue;const m=f.colwidth?f.colwidth.slice():Ect(f.colspan);m[p]=n,c.setNodeMarkup(o+h,null,{...f,colwidth:m})}c.docChanged&&e.dispatch(c)}function lW(e,t,n,r){const s=e.state.doc.resolve(t),i=s.node(-1),o=s.start(-1),l=qn.get(i).colCount(s.pos-o)+s.nodeAfter.attrs.colspan-1;let c=e.domAtPos(s.start(-1)).node;for(;c&&c.nodeName!="TABLE";)c=c.parentNode;c&&hP(i,c.firstChild,c,r,l,n)}function Ect(e){return Array(e).fill(0)}function Cct(e,t){var n;const r=[],s=e.doc.resolve(t),i=s.node(-1);if(!i)return Zt.empty;const o=qn.get(i),l=s.start(-1),c=o.colCount(s.pos-l)+s.nodeAfter.attrs.colspan-1;for(let u=0;u<o.height;u++){const d=c+u*o.width;if((c==o.width-1||o.map[d]!=o.map[d+1])&&(u==0||o.map[d]!=o.map[d-o.width])){const h=o.map[d],f=l+h+i.nodeAt(h).nodeSize-1,p=document.createElement("div");p.className="column-resize-handle",(n=li.getState(e))!=null&&n.dragging&&r.push(br.node(l+h,l+h+i.nodeAt(h).nodeSize,{class:"column-resize-dragging"})),r.push(br.widget(f,p))}}return Zt.create(e.doc,r)}function Tct({allowTableNodeSelection:e=!1}={}){return new an({key:dc,state:{init(){return null},apply(t,n){const r=t.getMeta(dc);if(r!=null)return r==-1?null:r;if(n==null||!t.docChanged)return n;const{deleted:s,pos:i}=t.mapping.mapResult(n);return s?null:i}},props:{decorations:Ult,handleDOMEvents:{mousedown:yct},createSelectionBetween(t){return dc.getState(t.state)!=null?t.state.selection:null},handleTripleClick:mct,handleKeyDown:pct,handlePaste:gct},appendTransaction(t,n,r){return Vlt(r,nle(r,n),e)}})}var ale=Ir.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{var t,n;const r=e.getAttribute("colwidth"),s=r?r.split(",").map(i=>parseInt(i,10)):null;if(!s){const i=(t=e.closest("table"))==null?void 0:t.querySelectorAll("colgroup > col"),o=Array.from(((n=e.parentElement)==null?void 0:n.children)||[]).indexOf(e);if(o&&o>-1&&i&&i[o]){const l=i[o].getAttribute("width");return l?[parseInt(l,10)]:null}}return s}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:e}){return["td",on(this.options.HTMLAttributes,e),0]}}),lle=Ir.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{const t=e.getAttribute("colwidth");return t?t.split(",").map(r=>parseInt(r,10)):null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:e}){return["th",on(this.options.HTMLAttributes,e),0]}}),cle=Ir.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:e}){return["tr",on(this.options.HTMLAttributes,e),0]}});function fP(e,t){return t?["width",`${Math.max(t,e)}px`]:["min-width",`${e}px`]}function cW(e,t,n,r,s,i){var o;let l=0,c=!0,u=t.firstChild;const d=e.firstChild;if(d!==null)for(let f=0,p=0;f<d.childCount;f+=1){const{colspan:m,colwidth:g}=d.child(f).attrs;for(let y=0;y<m;y+=1,p+=1){const x=s===p?i:g&&g[y],b=x?`${x}px`:"";if(l+=x||r,x||(c=!1),u){if(u.style.width!==b){const[w,N]=fP(r,x);u.style.setProperty(w,N)}u=u.nextSibling}else{const w=document.createElement("col"),[N,S]=fP(r,x);w.style.setProperty(N,S),t.appendChild(w)}}}for(;u;){const f=u.nextSibling;(o=u.parentNode)==null||o.removeChild(u),u=f}const h=e.attrs.style&&typeof e.attrs.style=="string"&&/\bwidth\s*:/i.test(e.attrs.style);c&&!h?(n.style.width=`${l}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${l}px`)}var Act=class{constructor(e,t){this.node=e,this.cellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),e.attrs.style&&(this.table.style.cssText=e.attrs.style),this.colgroup=this.table.appendChild(document.createElement("colgroup")),cW(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!==this.node.type?!1:(this.node=e,cW(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){const t=e.target,n=this.dom.contains(t),r=this.contentDOM.contains(t);return!!(n&&!r&&(e.type==="attributes"||e.type==="childList"||e.type==="characterData"))}};function Oct(e,t,n,r){let s=0,i=!0;const o=[],l=e.firstChild;if(!l)return{};for(let h=0,f=0;h<l.childCount;h+=1){const{colspan:p,colwidth:m}=l.child(h).attrs;for(let g=0;g<p;g+=1,f+=1){const y=n===f?r:m&&m[g];s+=y||t,y||(i=!1);const[x,b]=fP(t,y);o.push(["col",{style:`${x}: ${b}`}])}}const c=i?`${s}px`:"",u=i?"":`${s}px`;return{colgroup:["colgroup",{},...o],tableWidth:c,tableMinWidth:u}}function uW(e,t){return e.createAndFill()}function Mct(e){if(e.cached.tableNodeTypes)return e.cached.tableNodeTypes;const t={};return Object.keys(e.nodes).forEach(n=>{const r=e.nodes[n];r.spec.tableRole&&(t[r.spec.tableRole]=r)}),e.cached.tableNodeTypes=t,t}function Pct(e,t,n,r,s){const i=Mct(e),o=[],l=[];for(let u=0;u<n;u+=1){const d=uW(i.cell);if(d&&l.push(d),r){const h=uW(i.header_cell);h&&o.push(h)}}const c=[];for(let u=0;u<t;u+=1)c.push(i.row.createChecked(null,r&&u===0?o:l));return i.table.createChecked(null,c)}function Dct(e){return e instanceof rn}var dw=({editor:e})=>{const{selection:t}=e.state;if(!Dct(t))return!1;let n=0;const r=Goe(t.ranges[0].$from,i=>i.type.name==="table");return r==null||r.node.descendants(i=>{if(i.type.name==="table")return!1;["tableCell","tableHeader"].includes(i.type.name)&&(n+=1)}),n===t.ranges.length?(e.commands.deleteTable(),!0):!1},Rct="";function Ict(e){return(e||"").replace(/\s+/g," ").trim()}function Lct(e,t,n={}){var r;const s=(r=n.cellLineSeparator)!=null?r:Rct;if(!e||!e.content||e.content.length===0)return"";const i=[];e.content.forEach(m=>{const g=[];m.content&&m.content.forEach(y=>{let x="";y.content&&Array.isArray(y.content)&&y.content.length>1?x=y.content.map(S=>t.renderChildren(S)).join(s):x=y.content?t.renderChildren(y.content):"";const b=Ict(x),w=y.type==="tableHeader";g.push({text:b,isHeader:w})}),i.push(g)});const o=i.reduce((m,g)=>Math.max(m,g.length),0);if(o===0)return"";const l=new Array(o).fill(0);i.forEach(m=>{var g;for(let y=0;y<o;y+=1){const b=(((g=m[y])==null?void 0:g.text)||"").length;b>l[y]&&(l[y]=b),l[y]<3&&(l[y]=3)}});const c=(m,g)=>m+" ".repeat(Math.max(0,g-m.length)),u=i[0],d=u.some(m=>m.isHeader);let h=`
`;const f=new Array(o).fill(0).map((m,g)=>d&&u[g]&&u[g].text||"");return h+=`| ${f.map((m,g)=>c(m,l[g])).join(" | ")} |
`,h+=`| ${l.map(m=>"-".repeat(Math.max(3,m))).join(" | ")} |
`,(d?i.slice(1):i).forEach(m=>{h+=`| ${new Array(o).fill(0).map((g,y)=>c(m[y]&&m[y].text||"",l[y])).join(" | ")} |
`}),h}var $ct=Lct,ule=Ir.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,renderWrapper:!1,handleWidth:5,cellMinWidth:25,View:Act,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({node:e,HTMLAttributes:t}){const{colgroup:n,tableWidth:r,tableMinWidth:s}=Oct(e,this.options.cellMinWidth),i=t.style;function o(){return i||(r?`width: ${r}`:`min-width: ${s}`)}const l=["table",on(this.options.HTMLAttributes,t,{style:o()}),n,["tbody",0]];return this.options.renderWrapper?["div",{class:"tableWrapper"},l]:l},parseMarkdown:(e,t)=>{const n=[];if(e.header){const r=[];e.header.forEach(s=>{r.push(t.createNode("tableHeader",{},[{type:"paragraph",content:t.parseInline(s.tokens)}]))}),n.push(t.createNode("tableRow",{},r))}return e.rows&&e.rows.forEach(r=>{const s=[];r.forEach(i=>{s.push(t.createNode("tableCell",{},[{type:"paragraph",content:t.parseInline(i.tokens)}]))}),n.push(t.createNode("tableRow",{},s))}),t.createNode("table",void 0,n)},renderMarkdown:(e,t)=>$ct(e,t),addCommands(){return{insertTable:({rows:e=3,cols:t=3,withHeaderRow:n=!0}={})=>({tr:r,dispatch:s,editor:i})=>{const o=Pct(i.schema,e,t,n);if(s){const l=r.selection.from+1;r.replaceSelectionWith(o).scrollIntoView().setSelection(Ve.near(r.doc.resolve(l)))}return!0},addColumnBefore:()=>({state:e,dispatch:t})=>Klt(e,t),addColumnAfter:()=>({state:e,dispatch:t})=>Ylt(e,t),deleteColumn:()=>({state:e,dispatch:t})=>Jlt(e,t),addRowBefore:()=>({state:e,dispatch:t})=>Zlt(e,t),addRowAfter:()=>({state:e,dispatch:t})=>ect(e,t),deleteRow:()=>({state:e,dispatch:t})=>nct(e,t),deleteTable:()=>({state:e,dispatch:t})=>cct(e,t),mergeCells:()=>({state:e,dispatch:t})=>Q8(e,t),splitCell:()=>({state:e,dispatch:t})=>Z8(e,t),toggleHeaderColumn:()=>({state:e,dispatch:t})=>gv("column")(e,t),toggleHeaderRow:()=>({state:e,dispatch:t})=>gv("row")(e,t),toggleHeaderCell:()=>({state:e,dispatch:t})=>act(e,t),mergeOrSplit:()=>({state:e,dispatch:t})=>Q8(e,t)?!0:Z8(e,t),setCellAttribute:(e,t)=>({state:n,dispatch:r})=>ict(e,t)(n,r),goToNextCell:()=>({state:e,dispatch:t})=>tW(1)(e,t),goToPreviousCell:()=>({state:e,dispatch:t})=>tW(-1)(e,t),fixTables:()=>({state:e,dispatch:t})=>(t&&nle(e),!0),setCellSelection:e=>({tr:t,dispatch:n})=>{if(n){const r=rn.create(t.doc,e.anchorCell,e.headCell);t.setSelection(r)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:dw,"Mod-Backspace":dw,Delete:dw,"Mod-Delete":dw}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[vct({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,defaultCellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],Tct({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(e){const t={name:e.name,options:e.options,storage:e.storage};return{tableRole:Lt(Ue(e,"tableRole",t))}}});Ft.create({name:"tableKit",addExtensions(){const e=[];return this.options.table!==!1&&e.push(ule.configure(this.options.table)),this.options.tableCell!==!1&&e.push(ale.configure(this.options.tableCell)),this.options.tableHeader!==!1&&e.push(lle.configure(this.options.tableHeader)),this.options.tableRow!==!1&&e.push(cle.configure(this.options.tableRow)),e}});function dle(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach(t=>{const n=e[t],r=typeof n;(r==="object"||r==="function")&&!Object.isFrozen(n)&&dle(n)}),e}let dW=class{constructor(t){t.data===void 0&&(t.data={}),this.data=t.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}};function hle(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function Ec(e,...t){const n=Object.create(null);for(const r in e)n[r]=e[r];return t.forEach(function(r){for(const s in r)n[s]=r[s]}),n}const Bct="</span>",hW=e=>!!e.scope,Fct=(e,{prefix:t})=>{if(e.startsWith("language:"))return e.replace("language:","language-");if(e.includes(".")){const n=e.split(".");return[`${t}${n.shift()}`,...n.map((r,s)=>`${r}${"_".repeat(s+1)}`)].join(" ")}return`${t}${e}`};class zct{constructor(t,n){this.buffer="",this.classPrefix=n.classPrefix,t.walk(this)}addText(t){this.buffer+=hle(t)}openNode(t){if(!hW(t))return;const n=Fct(t.scope,{prefix:this.classPrefix});this.span(n)}closeNode(t){hW(t)&&(this.buffer+=Bct)}value(){return this.buffer}span(t){this.buffer+=`<span class="${t}">`}}const fW=(e={})=>{const t={children:[]};return Object.assign(t,e),t};class w${constructor(){this.rootNode=fW(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(t){this.top.children.push(t)}openNode(t){const n=fW({scope:t});this.add(n),this.stack.push(n)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(t){return this.constructor._walk(t,this.rootNode)}static _walk(t,n){return typeof n=="string"?t.addText(n):n.children&&(t.openNode(n),n.children.forEach(r=>this._walk(t,r)),t.closeNode(n)),t}static _collapse(t){typeof t!="string"&&t.children&&(t.children.every(n=>typeof n=="string")?t.children=[t.children.join("")]:t.children.forEach(n=>{w$._collapse(n)}))}}class Uct extends w${constructor(t){super(),this.options=t}addText(t){t!==""&&this.add(t)}startScope(t){this.openNode(t)}endScope(){this.closeNode()}__addSublanguage(t,n){const r=t.root;n&&(r.scope=`language:${n}`),this.add(r)}toHTML(){return new zct(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function yv(e){return e?typeof e=="string"?e:e.source:null}function fle(e){return wh("(?=",e,")")}function Hct(e){return wh("(?:",e,")*")}function Wct(e){return wh("(?:",e,")?")}function wh(...e){return e.map(n=>yv(n)).join("")}function Vct(e){const t=e[e.length-1];return typeof t=="object"&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}function S$(...e){return"("+(Vct(e).capture?"":"?:")+e.map(r=>yv(r)).join("|")+")"}function ple(e){return new RegExp(e.toString()+"|").exec("").length-1}function Gct(e,t){const n=e&&e.exec(t);return n&&n.index===0}const qct=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function N$(e,{joinWith:t}){let n=0;return e.map(r=>{n+=1;const s=n;let i=yv(r),o="";for(;i.length>0;){const l=qct.exec(i);if(!l){o+=i;break}o+=i.substring(0,l.index),i=i.substring(l.index+l[0].length),l[0][0]==="\\"&&l[1]?o+="\\"+String(Number(l[1])+s):(o+=l[0],l[0]==="("&&n++)}return o}).map(r=>`(${r})`).join(t)}const Kct=/\b\B/,mle="[a-zA-Z]\\w*",k$="[a-zA-Z_]\\w*",gle="\\b\\d+(\\.\\d+)?",yle="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",xle="\\b(0b[01]+)",Yct="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",Xct=(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=wh(t,/.*\b/,e.binary,/\b.*/)),Ec({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(n,r)=>{n.index!==0&&r.ignoreMatch()}},e)},xv={begin:"\\\\[\\s\\S]",relevance:0},Jct={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[xv]},Qct={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[xv]},Zct={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},K_=function(e,t,n={}){const r=Ec({scope:"comment",begin:e,end:t,contains:[]},n);r.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const s=S$("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return r.contains.push({begin:wh(/[ ]+/,"(",s,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),r},eut=K_("//","$"),tut=K_("/\\*","\\*/"),nut=K_("#","$"),rut={scope:"number",begin:gle,relevance:0},sut={scope:"number",begin:yle,relevance:0},iut={scope:"number",begin:xle,relevance:0},out={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[xv,{begin:/\[/,end:/\]/,relevance:0,contains:[xv]}]},aut={scope:"title",begin:mle,relevance:0},lut={scope:"title",begin:k$,relevance:0},cut={begin:"\\.\\s*"+k$,relevance:0},uut=function(e){return Object.assign(e,{"on:begin":(t,n)=>{n.data._beginMatch=t[1]},"on:end":(t,n)=>{n.data._beginMatch!==t[1]&&n.ignoreMatch()}})};var hw=Object.freeze({__proto__:null,APOS_STRING_MODE:Jct,BACKSLASH_ESCAPE:xv,BINARY_NUMBER_MODE:iut,BINARY_NUMBER_RE:xle,COMMENT:K_,C_BLOCK_COMMENT_MODE:tut,C_LINE_COMMENT_MODE:eut,C_NUMBER_MODE:sut,C_NUMBER_RE:yle,END_SAME_AS_BEGIN:uut,HASH_COMMENT_MODE:nut,IDENT_RE:mle,MATCH_NOTHING_RE:Kct,METHOD_GUARD:cut,NUMBER_MODE:rut,NUMBER_RE:gle,PHRASAL_WORDS_MODE:Zct,QUOTE_STRING_MODE:Qct,REGEXP_MODE:out,RE_STARTERS_RE:Yct,SHEBANG:Xct,TITLE_MODE:aut,UNDERSCORE_IDENT_RE:k$,UNDERSCORE_TITLE_MODE:lut});function dut(e,t){e.input[e.index-1]==="."&&t.ignoreMatch()}function hut(e,t){e.className!==void 0&&(e.scope=e.className,delete e.className)}function fut(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=dut,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,e.relevance===void 0&&(e.relevance=0))}function put(e,t){Array.isArray(e.illegal)&&(e.illegal=S$(...e.illegal))}function mut(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function gut(e,t){e.relevance===void 0&&(e.relevance=1)}const yut=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},e);Object.keys(e).forEach(r=>{delete e[r]}),e.keywords=n.keywords,e.begin=wh(n.beforeMatch,fle(n.begin)),e.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},e.relevance=0,delete n.beforeMatch},xut=["of","and","for","in","not","or","if","then","parent","list","value"],vut="keyword";function vle(e,t,n=vut){const r=Object.create(null);return typeof e=="string"?s(n,e.split(" ")):Array.isArray(e)?s(n,e):Object.keys(e).forEach(function(i){Object.assign(r,vle(e[i],t,i))}),r;function s(i,o){t&&(o=o.map(l=>l.toLowerCase())),o.forEach(function(l){const c=l.split("|");r[c[0]]=[i,but(c[0],c[1])]})}}function but(e,t){return t?Number(t):wut(e)?0:1}function wut(e){return xut.includes(e.toLowerCase())}const pW={},Cd=e=>{console.error(e)},mW=(e,...t)=>{console.log(`WARN: ${e}`,...t)},Yh=(e,t)=>{pW[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),pW[`${e}/${t}`]=!0)},uk=new Error;function ble(e,t,{key:n}){let r=0;const s=e[n],i={},o={};for(let l=1;l<=t.length;l++)o[l+r]=s[l],i[l+r]=!0,r+=ple(t[l-1]);e[n]=o,e[n]._emit=i,e[n]._multi=!0}function Sut(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw Cd("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),uk;if(typeof e.beginScope!="object"||e.beginScope===null)throw Cd("beginScope must be object"),uk;ble(e,e.begin,{key:"beginScope"}),e.begin=N$(e.begin,{joinWith:""})}}function Nut(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw Cd("skip, excludeEnd, returnEnd not compatible with endScope: {}"),uk;if(typeof e.endScope!="object"||e.endScope===null)throw Cd("endScope must be object"),uk;ble(e,e.end,{key:"endScope"}),e.end=N$(e.end,{joinWith:""})}}function kut(e){e.scope&&typeof e.scope=="object"&&e.scope!==null&&(e.beginScope=e.scope,delete e.scope)}function jut(e){kut(e),typeof e.beginScope=="string"&&(e.beginScope={_wrap:e.beginScope}),typeof e.endScope=="string"&&(e.endScope={_wrap:e.endScope}),Sut(e),Nut(e)}function _ut(e){function t(o,l){return new RegExp(yv(o),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(l?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(l,c){c.position=this.position++,this.matchIndexes[this.matchAt]=c,this.regexes.push([c,l]),this.matchAt+=ple(l)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const l=this.regexes.map(c=>c[1]);this.matcherRe=t(N$(l,{joinWith:"|"}),!0),this.lastIndex=0}exec(l){this.matcherRe.lastIndex=this.lastIndex;const c=this.matcherRe.exec(l);if(!c)return null;const u=c.findIndex((h,f)=>f>0&&h!==void 0),d=this.matchIndexes[u];return c.splice(0,u),Object.assign(c,d)}}class r{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(l){if(this.multiRegexes[l])return this.multiRegexes[l];const c=new n;return this.rules.slice(l).forEach(([u,d])=>c.addRule(u,d)),c.compile(),this.multiRegexes[l]=c,c}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(l,c){this.rules.push([l,c]),c.type==="begin"&&this.count++}exec(l){const c=this.getMatcher(this.regexIndex);c.lastIndex=this.lastIndex;let u=c.exec(l);if(this.resumingScanAtSamePosition()&&!(u&&u.index===this.lastIndex)){const d=this.getMatcher(0);d.lastIndex=this.lastIndex+1,u=d.exec(l)}return u&&(this.regexIndex+=u.position+1,this.regexIndex===this.count&&this.considerAll()),u}}function s(o){const l=new r;return o.contains.forEach(c=>l.addRule(c.begin,{rule:c,type:"begin"})),o.terminatorEnd&&l.addRule(o.terminatorEnd,{type:"end"}),o.illegal&&l.addRule(o.illegal,{type:"illegal"}),l}function i(o,l){const c=o;if(o.isCompiled)return c;[hut,mut,jut,yut].forEach(d=>d(o,l)),e.compilerExtensions.forEach(d=>d(o,l)),o.__beforeBegin=null,[fut,put,gut].forEach(d=>d(o,l)),o.isCompiled=!0;let u=null;return typeof o.keywords=="object"&&o.keywords.$pattern&&(o.keywords=Object.assign({},o.keywords),u=o.keywords.$pattern,delete o.keywords.$pattern),u=u||/\w+/,o.keywords&&(o.keywords=vle(o.keywords,e.case_insensitive)),c.keywordPatternRe=t(u,!0),l&&(o.begin||(o.begin=/\B|\b/),c.beginRe=t(c.begin),!o.end&&!o.endsWithParent&&(o.end=/\B|\b/),o.end&&(c.endRe=t(c.end)),c.terminatorEnd=yv(c.end)||"",o.endsWithParent&&l.terminatorEnd&&(c.terminatorEnd+=(o.end?"|":"")+l.terminatorEnd)),o.illegal&&(c.illegalRe=t(o.illegal)),o.contains||(o.contains=[]),o.contains=[].concat(...o.contains.map(function(d){return Eut(d==="self"?o:d)})),o.contains.forEach(function(d){i(d,c)}),o.starts&&i(o.starts,l),c.matcher=s(c),c}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=Ec(e.classNameAliases||{}),i(e)}function wle(e){return e?e.endsWithParent||wle(e.starts):!1}function Eut(e){return e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map(function(t){return Ec(e,{variants:null},t)})),e.cachedVariants?e.cachedVariants:wle(e)?Ec(e,{starts:e.starts?Ec(e.starts):null}):Object.isFrozen(e)?Ec(e):e}var Cut="11.11.1";class Tut extends Error{constructor(t,n){super(t),this.name="HTMLInjectionError",this.html=n}}const LT=hle,gW=Ec,yW=Symbol("nomatch"),Aut=7,Sle=function(e){const t=Object.create(null),n=Object.create(null),r=[];let s=!0;const i="Could not find the language '{}', did you forget to load/include a language module?",o={disableAutodetect:!0,name:"Plain text",contains:[]};let l={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:Uct};function c(T){return l.noHighlightRe.test(T)}function u(T){let R=T.className+" ";R+=T.parentNode?T.parentNode.className:"";const L=l.languageDetectRe.exec(R);if(L){const D=_(L[1]);return D||(mW(i.replace("{}",L[1])),mW("Falling back to no-highlight mode for this block.",T)),D?L[1]:"no-highlight"}return R.split(/\s+/).find(D=>c(D)||_(D))}function d(T,R,L){let D="",F="";typeof R=="object"?(D=T,L=R.ignoreIllegals,F=R.language):(Yh("10.7.0","highlight(lang, code, ...args) has been deprecated."),Yh("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),F=T,D=R),L===void 0&&(L=!0);const z={code:D,language:F};E("before:highlight",z);const B=z.result?z.result:h(z.language,z.code,L);return B.code=z.code,E("after:highlight",B),B}function h(T,R,L,D){const F=Object.create(null);function z(fe,Ne){return fe.keywords[Ne]}function B(){if(!ne.keywords){qe.addText(De);return}let fe=0;ne.keywordPatternRe.lastIndex=0;let Ne=ne.keywordPatternRe.exec(De),ae="";for(;Ne;){ae+=De.substring(fe,Ne.index);const Oe=Se.case_insensitive?Ne[0].toLowerCase():Ne[0],at=z(ne,Oe);if(at){const[yt,ln]=at;if(qe.addText(ae),ae="",F[Oe]=(F[Oe]||0)+1,F[Oe]<=Aut&&(gt+=ln),yt.startsWith("_"))ae+=Ne[0];else{const Tt=Se.classNameAliases[yt]||yt;V(Ne[0],Tt)}}else ae+=Ne[0];fe=ne.keywordPatternRe.lastIndex,Ne=ne.keywordPatternRe.exec(De)}ae+=De.substring(fe),qe.addText(ae)}function $(){if(De==="")return;let fe=null;if(typeof ne.subLanguage=="string"){if(!t[ne.subLanguage]){qe.addText(De);return}fe=h(ne.subLanguage,De,!0,Je[ne.subLanguage]),Je[ne.subLanguage]=fe._top}else fe=p(De,ne.subLanguage.length?ne.subLanguage:null);ne.relevance>0&&(gt+=fe.relevance),qe.__addSublanguage(fe._emitter,fe.language)}function W(){ne.subLanguage!=null?$():B(),De=""}function V(fe,Ne){fe!==""&&(qe.startScope(Ne),qe.addText(fe),qe.endScope())}function Y(fe,Ne){let ae=1;const Oe=Ne.length-1;for(;ae<=Oe;){if(!fe._emit[ae]){ae++;continue}const at=Se.classNameAliases[fe[ae]]||fe[ae],yt=Ne[ae];at?V(yt,at):(De=yt,B(),De=""),ae++}}function G(fe,Ne){return fe.scope&&typeof fe.scope=="string"&&qe.openNode(Se.classNameAliases[fe.scope]||fe.scope),fe.beginScope&&(fe.beginScope._wrap?(V(De,Se.classNameAliases[fe.beginScope._wrap]||fe.beginScope._wrap),De=""):fe.beginScope._multi&&(Y(fe.beginScope,Ne),De="")),ne=Object.create(fe,{parent:{value:ne}}),ne}function Z(fe,Ne,ae){let Oe=Gct(fe.endRe,ae);if(Oe){if(fe["on:end"]){const at=new dW(fe);fe["on:end"](Ne,at),at.isMatchIgnored&&(Oe=!1)}if(Oe){for(;fe.endsParent&&fe.parent;)fe=fe.parent;return fe}}if(fe.endsWithParent)return Z(fe.parent,Ne,ae)}function q(fe){return ne.matcher.regexIndex===0?(De+=fe[0],1):(In=!0,0)}function ee(fe){const Ne=fe[0],ae=fe.rule,Oe=new dW(ae),at=[ae.__beforeBegin,ae["on:begin"]];for(const yt of at)if(yt&&(yt(fe,Oe),Oe.isMatchIgnored))return q(Ne);return ae.skip?De+=Ne:(ae.excludeBegin&&(De+=Ne),W(),!ae.returnBegin&&!ae.excludeBegin&&(De=Ne)),G(ae,fe),ae.returnBegin?0:Ne.length}function se(fe){const Ne=fe[0],ae=R.substring(fe.index),Oe=Z(ne,fe,ae);if(!Oe)return yW;const at=ne;ne.endScope&&ne.endScope._wrap?(W(),V(Ne,ne.endScope._wrap)):ne.endScope&&ne.endScope._multi?(W(),Y(ne.endScope,fe)):at.skip?De+=Ne:(at.returnEnd||at.excludeEnd||(De+=Ne),W(),at.excludeEnd&&(De=Ne));do ne.scope&&qe.closeNode(),!ne.skip&&!ne.subLanguage&&(gt+=ne.relevance),ne=ne.parent;while(ne!==Oe.parent);return Oe.starts&&G(Oe.starts,fe),at.returnEnd?0:Ne.length}function X(){const fe=[];for(let Ne=ne;Ne!==Se;Ne=Ne.parent)Ne.scope&&fe.unshift(Ne.scope);fe.forEach(Ne=>qe.openNode(Ne))}let de={};function pe(fe,Ne){const ae=Ne&&Ne[0];if(De+=fe,ae==null)return W(),0;if(de.type==="begin"&&Ne.type==="end"&&de.index===Ne.index&&ae===""){if(De+=R.slice(Ne.index,Ne.index+1),!s){const Oe=new Error(`0 width match regex (${T})`);throw Oe.languageName=T,Oe.badRule=de.rule,Oe}return 1}if(de=Ne,Ne.type==="begin")return ee(Ne);if(Ne.type==="illegal"&&!L){const Oe=new Error('Illegal lexeme "'+ae+'" for mode "'+(ne.scope||"<unnamed>")+'"');throw Oe.mode=ne,Oe}else if(Ne.type==="end"){const Oe=se(Ne);if(Oe!==yW)return Oe}if(Ne.type==="illegal"&&ae==="")return De+=`
`,1;if(qt>1e5&&qt>Ne.index*3)throw new Error("potential infinite loop, way more iterations than matches");return De+=ae,ae.length}const Se=_(T);if(!Se)throw Cd(i.replace("{}",T)),new Error('Unknown language: "'+T+'"');const be=_ut(Se);let Ae="",ne=D||be;const Je={},qe=new l.__emitter(l);X();let De="",gt=0,St=0,qt=0,In=!1;try{if(Se.__emitTokens)Se.__emitTokens(R,qe);else{for(ne.matcher.considerAll();;){qt++,In?In=!1:ne.matcher.considerAll(),ne.matcher.lastIndex=St;const fe=ne.matcher.exec(R);if(!fe)break;const Ne=R.substring(St,fe.index),ae=pe(Ne,fe);St=fe.index+ae}pe(R.substring(St))}return qe.finalize(),Ae=qe.toHTML(),{language:T,value:Ae,relevance:gt,illegal:!1,_emitter:qe,_top:ne}}catch(fe){if(fe.message&&fe.message.includes("Illegal"))return{language:T,value:LT(R),illegal:!0,relevance:0,_illegalBy:{message:fe.message,index:St,context:R.slice(St-100,St+100),mode:fe.mode,resultSoFar:Ae},_emitter:qe};if(s)return{language:T,value:LT(R),illegal:!1,relevance:0,errorRaised:fe,_emitter:qe,_top:ne};throw fe}}function f(T){const R={value:LT(T),illegal:!1,relevance:0,_top:o,_emitter:new l.__emitter(l)};return R._emitter.addText(T),R}function p(T,R){R=R||l.languages||Object.keys(t);const L=f(T),D=R.filter(_).filter(A).map(W=>h(W,T,!1));D.unshift(L);const F=D.sort((W,V)=>{if(W.relevance!==V.relevance)return V.relevance-W.relevance;if(W.language&&V.language){if(_(W.language).supersetOf===V.language)return 1;if(_(V.language).supersetOf===W.language)return-1}return 0}),[z,B]=F,$=z;return $.secondBest=B,$}function m(T,R,L){const D=R&&n[R]||L;T.classList.add("hljs"),T.classList.add(`language-${D}`)}function g(T){let R=null;const L=u(T);if(c(L))return;if(E("before:highlightElement",{el:T,language:L}),T.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",T);return}if(T.children.length>0&&(l.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(T)),l.throwUnescapedHTML))throw new Tut("One of your code blocks includes unescaped HTML.",T.innerHTML);R=T;const D=R.textContent,F=L?d(D,{language:L,ignoreIllegals:!0}):p(D);T.innerHTML=F.value,T.dataset.highlighted="yes",m(T,L,F.language),T.result={language:F.language,re:F.relevance,relevance:F.relevance},F.secondBest&&(T.secondBest={language:F.secondBest.language,relevance:F.secondBest.relevance}),E("after:highlightElement",{el:T,result:F,text:D})}function y(T){l=gW(l,T)}const x=()=>{N(),Yh("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function b(){N(),Yh("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let w=!1;function N(){function T(){N()}if(document.readyState==="loading"){w||window.addEventListener("DOMContentLoaded",T,!1),w=!0;return}document.querySelectorAll(l.cssSelector).forEach(g)}function S(T,R){let L=null;try{L=R(e)}catch(D){if(Cd("Language definition for '{}' could not be registered.".replace("{}",T)),s)Cd(D);else throw D;L=o}L.name||(L.name=T),t[T]=L,L.rawDefinition=R.bind(null,e),L.aliases&&C(L.aliases,{languageName:T})}function k(T){delete t[T];for(const R of Object.keys(n))n[R]===T&&delete n[R]}function j(){return Object.keys(t)}function _(T){return T=(T||"").toLowerCase(),t[T]||t[n[T]]}function C(T,{languageName:R}){typeof T=="string"&&(T=[T]),T.forEach(L=>{n[L.toLowerCase()]=R})}function A(T){const R=_(T);return R&&!R.disableAutodetect}function O(T){T["before:highlightBlock"]&&!T["before:highlightElement"]&&(T["before:highlightElement"]=R=>{T["before:highlightBlock"](Object.assign({block:R.el},R))}),T["after:highlightBlock"]&&!T["after:highlightElement"]&&(T["after:highlightElement"]=R=>{T["after:highlightBlock"](Object.assign({block:R.el},R))})}function M(T){O(T),r.push(T)}function P(T){const R=r.indexOf(T);R!==-1&&r.splice(R,1)}function E(T,R){const L=T;r.forEach(function(D){D[L]&&D[L](R)})}function I(T){return Yh("10.7.0","highlightBlock will be removed entirely in v12.0"),Yh("10.7.0","Please use highlightElement now."),g(T)}Object.assign(e,{highlight:d,highlightAuto:p,highlightAll:N,highlightElement:g,highlightBlock:I,configure:y,initHighlighting:x,initHighlightingOnLoad:b,registerLanguage:S,unregisterLanguage:k,listLanguages:j,getLanguage:_,registerAliases:C,autoDetection:A,inherit:gW,addPlugin:M,removePlugin:P}),e.debugMode=function(){s=!1},e.safeMode=function(){s=!0},e.versionString=Cut,e.regex={concat:wh,lookahead:fle,either:S$,optional:Wct,anyNumberOfTimes:Hct};for(const T in hw)typeof hw[T]=="object"&&dle(hw[T]);return Object.assign(e,hw),e},lm=Sle({});lm.newInstance=()=>Sle({});var Out=lm;lm.HighlightJS=lm;lm.default=lm;const Nle=Dt(Out);function kle(e,t=[]){return e.flatMap(n=>{const r=[...t,...n.properties?n.properties.className:[]];return n.children?kle(n.children,r):{text:n.value,classes:r}})}function xW(e){return e.value||e.children||[]}function Mut(e){return!!Nle.getLanguage(e)}function vW({doc:e,name:t,lowlight:n,defaultLanguage:r}){const s=[];return qM(e,i=>i.type.name===t).forEach(i=>{var o;let l=i.pos+1;const c=i.node.attrs.language||r,u=n.listLanguages(),d=c&&(u.includes(c)||Mut(c)||(o=n.registered)!=null&&o.call(n,c))?xW(n.highlight(c,i.node.textContent)):xW(n.highlightAuto(i.node.textContent));kle(d).forEach(h=>{const f=l+h.text.length;if(h.classes.length){const p=br.inline(l,f,{class:h.classes.join(" ")});s.push(p)}l=f})}),Zt.create(e,s)}function Put(e){return typeof e=="function"}function Dut({name:e,lowlight:t,defaultLanguage:n}){if(!["highlight","highlightAuto","listLanguages"].every(s=>Put(t[s])))throw Error("You should provide an instance of lowlight to use the code-block-lowlight extension");const r=new an({key:new Cn("lowlight"),state:{init:(s,{doc:i})=>vW({doc:i,name:e,lowlight:t,defaultLanguage:n}),apply:(s,i,o,l)=>{const c=o.selection.$head.parent.type.name,u=l.selection.$head.parent.type.name,d=qM(o.doc,f=>f.type.name===e),h=qM(l.doc,f=>f.type.name===e);return s.docChanged&&([c,u].includes(e)||h.length!==d.length||s.steps.some(f=>f.from!==void 0&&f.to!==void 0&&d.some(p=>p.pos>=f.from&&p.pos+p.node.nodeSize<=f.to)))?vW({doc:s.doc,name:e,lowlight:t,defaultLanguage:n}):i.map(s.mapping,s.doc)}},props:{decorations(s){return r.getState(s)}}});return r}var Rut=Jot.extend({addOptions(){var e;return{...(e=this.parent)==null?void 0:e.call(this),lowlight:{},languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:4,HTMLAttributes:{}}},addProseMirrorPlugins(){var e;return[...((e=this.parent)==null?void 0:e.call(this))||[],Dut({name:this.name,lowlight:this.options.lowlight,defaultLanguage:this.options.defaultLanguage})]}}),Iut=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,Lut=Ir.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{},resize:!1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:e}){return["img",on(this.options.HTMLAttributes,e)]},parseMarkdown:(e,t)=>t.createNode("image",{src:e.href,title:e.title,alt:e.text}),renderMarkdown:e=>{var t,n,r,s,i,o;const l=(n=(t=e.attrs)==null?void 0:t.src)!=null?n:"",c=(s=(r=e.attrs)==null?void 0:r.alt)!=null?s:"",u=(o=(i=e.attrs)==null?void 0:i.title)!=null?o:"";return u?`![${c}](${l} "${u}")`:`![${c}](${l})`},addNodeView(){if(!this.options.resize||!this.options.resize.enabled||typeof document>"u"||!this.editor.isEditable)return null;const{directions:e,minWidth:t,minHeight:n,alwaysPreserveAspectRatio:r}=this.options.resize;return({node:s,getPos:i,HTMLAttributes:o})=>{const l=document.createElement("img");Object.entries(o).forEach(([d,h])=>{if(h!=null)switch(d){case"width":case"height":break;default:l.setAttribute(d,h);break}}),l.src=o.src;const c=new fot({element:l,node:s,getPos:i,onResize:(d,h)=>{l.style.width=`${d}px`,l.style.height=`${h}px`},onCommit:(d,h)=>{const f=i();f!==void 0&&this.editor.chain().setNodeSelection(f).updateAttributes(this.name,{width:d,height:h}).run()},onUpdate:(d,h,f)=>d.type===s.type,options:{directions:e,min:{width:t,height:n},preserveAspectRatio:r===!0}}),u=c.dom;return u.style.visibility="hidden",u.style.pointerEvents="none",l.onload=()=>{u.style.visibility="",u.style.pointerEvents=""},c}},addCommands(){return{setImage:e=>({commands:t})=>t.insertContent({type:this.name,attrs:e})}},addInputRules(){return[mae({find:Iut,type:this.type,getAttributes:e=>{const[,,t,n,r]=e;return{src:n,alt:t,title:r}}})]}});function $ut(e){const t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",s="[a-zA-Z_]\\w*::",o="(?!struct)("+r+"|"+t.optional(s)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",l={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},u={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},d={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},h={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(u,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},f={className:"title",begin:t.optional(s)+e.IDENT_RE,relevance:0},p=t.optional(s)+e.IDENT_RE+"\\s*\\(",m=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],g=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],y=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],x=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],N={type:g,keyword:m,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:y},S={className:"function.dispatch",relevance:0,keywords:{_hint:x},begin:t.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,t.lookahead(/(<[^<>]+>|)\s*\(/))},k=[S,h,l,n,e.C_BLOCK_COMMENT_MODE,d,u],j={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:N,contains:k.concat([{begin:/\(/,end:/\)/,keywords:N,contains:k.concat(["self"]),relevance:0}]),relevance:0},_={className:"function",begin:"("+o+"[\\*&\\s]+)+"+p,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:N,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:N,relevance:0},{begin:p,returnBegin:!0,contains:[f],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[u,d]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:N,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,u,d,l,{begin:/\(/,end:/\)/,keywords:N,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,u,d,l]}]},l,n,e.C_BLOCK_COMMENT_MODE,h]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:N,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(j,_,S,k,[h,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:N,contains:["self",l]},{begin:e.IDENT_RE+"::",keywords:N},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function But(e){const t={type:["boolean","byte","word","String"],built_in:["KeyboardController","MouseController","SoftwareSerial","EthernetServer","EthernetClient","LiquidCrystal","RobotControl","GSMVoiceCall","EthernetUDP","EsploraTFT","HttpClient","RobotMotor","WiFiClient","GSMScanner","FileSystem","Scheduler","GSMServer","YunClient","YunServer","IPAddress","GSMClient","GSMModem","Keyboard","Ethernet","Console","GSMBand","Esplora","Stepper","Process","WiFiUDP","GSM_SMS","Mailbox","USBHost","Firmata","PImage","Client","Server","GSMPIN","FileIO","Bridge","Serial","EEPROM","Stream","Mouse","Audio","Servo","File","Task","GPRS","WiFi","Wire","TFT","GSM","SPI","SD"],_hints:["setup","loop","runShellCommandAsynchronously","analogWriteResolution","retrieveCallingNumber","printFirmwareVersion","analogReadResolution","sendDigitalPortPair","noListenOnLocalhost","readJoystickButton","setFirmwareVersion","readJoystickSwitch","scrollDisplayRight","getVoiceCallStatus","scrollDisplayLeft","writeMicroseconds","delayMicroseconds","beginTransmission","getSignalStrength","runAsynchronously","getAsynchronously","listenOnLocalhost","getCurrentCarrier","readAccelerometer","messageAvailable","sendDigitalPorts","lineFollowConfig","countryNameWrite","runShellCommand","readStringUntil","rewindDirectory","readTemperature","setClockDivider","readLightSensor","endTransmission","analogReference","detachInterrupt","countryNameRead","attachInterrupt","encryptionType","readBytesUntil","robotNameWrite","readMicrophone","robotNameRead","cityNameWrite","userNameWrite","readJoystickY","readJoystickX","mouseReleased","openNextFile","scanNetworks","noInterrupts","digitalWrite","beginSpeaker","mousePressed","isActionDone","mouseDragged","displayLogos","noAutoscroll","addParameter","remoteNumber","getModifiers","keyboardRead","userNameRead","waitContinue","processInput","parseCommand","printVersion","readNetworks","writeMessage","blinkVersion","cityNameRead","readMessage","setDataMode","parsePacket","isListening","setBitOrder","beginPacket","isDirectory","motorsWrite","drawCompass","digitalRead","clearScreen","serialEvent","rightToLeft","setTextSize","leftToRight","requestFrom","keyReleased","compassRead","analogWrite","interrupts","WiFiServer","disconnect","playMelody","parseFloat","autoscroll","getPINUsed","setPINUsed","setTimeout","sendAnalog","readSlider","analogRead","beginWrite","createChar","motorsStop","keyPressed","tempoWrite","readButton","subnetMask","debugPrint","macAddress","writeGreen","randomSeed","attachGPRS","readString","sendString","remotePort","releaseAll","mouseMoved","background","getXChange","getYChange","answerCall","getResult","voiceCall","endPacket","constrain","getSocket","writeJSON","getButton","available","connected","findUntil","readBytes","exitValue","readGreen","writeBlue","startLoop","IPAddress","isPressed","sendSysex","pauseMode","gatewayIP","setCursor","getOemKey","tuneWrite","noDisplay","loadImage","switchPIN","onRequest","onReceive","changePIN","playFile","noBuffer","parseInt","overflow","checkPIN","knobRead","beginTFT","bitClear","updateIR","bitWrite","position","writeRGB","highByte","writeRed","setSpeed","readBlue","noStroke","remoteIP","transfer","shutdown","hangCall","beginSMS","endWrite","attached","maintain","noCursor","checkReg","checkPUK","shiftOut","isValid","shiftIn","pulseIn","connect","println","localIP","pinMode","getIMEI","display","noBlink","process","getBand","running","beginSD","drawBMP","lowByte","setBand","release","bitRead","prepare","pointTo","readRed","setMode","noFill","remove","listen","stroke","detach","attach","noTone","exists","buffer","height","bitSet","circle","config","cursor","random","IRread","setDNS","endSMS","getKey","micros","millis","begin","print","write","ready","flush","width","isPIN","blink","clear","press","mkdir","rmdir","close","point","yield","image","BSSID","click","delay","read","text","move","peek","beep","rect","line","open","seek","fill","size","turn","stop","home","find","step","tone","sqrt","RSSI","SSID","end","bit","tan","cos","sin","pow","map","abs","max","min","get","run","put"],literal:["DIGITAL_MESSAGE","FIRMATA_STRING","ANALOG_MESSAGE","REPORT_DIGITAL","REPORT_ANALOG","INPUT_PULLUP","SET_PIN_MODE","INTERNAL2V56","SYSTEM_RESET","LED_BUILTIN","INTERNAL1V1","SYSEX_START","INTERNAL","EXTERNAL","DEFAULT","OUTPUT","INPUT","HIGH","LOW"]},n=$ut(e),r=n.keywords;return r.type=[...r.type,...t.type],r.literal=[...r.literal,...t.literal],r.built_in=[...r.built_in,...t.built_in],r._hints=t._hints,n.name="Arduino",n.aliases=["ino"],n.supersetOf="cpp",n}function Fut(e){const t=e.regex,n={},r={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[n]}]};Object.assign(n,{className:"variable",variants:[{begin:t.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},r]});const s={className:"subst",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]},i=e.inherit(e.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),o={begin:/<<-?\s*(?=\w+)/,starts:{contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},l={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,n,s]};s.contains.push(l);const c={match:/\\"/},u={className:"string",begin:/'/,end:/'/},d={match:/\\'/},h={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},e.NUMBER_MODE,n]},f=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],p=e.SHEBANG({binary:`(${f.join("|")})`,relevance:10}),m={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},g=["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],y=["true","false"],x={match:/(\/[a-z._-]+)+/},b=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],w=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias"],N=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],S=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:g,literal:y,built_in:[...b,...w,"set","shopt",...N,...S]},contains:[p,e.SHEBANG(),m,h,i,o,x,l,c,u,d,n]}}function zut(e){const t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",s="[a-zA-Z_]\\w*::",o="("+r+"|"+t.optional(s)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",l={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},u={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},d={className:"number",variants:[{match:/\b(0b[01']+)/},{match:/(-?)\b([\d']+(\.[\d']*)?|\.[\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)/},{match:/(-?)\b(0[xX][a-fA-F0-9]+(?:'[a-fA-F0-9]+)*(?:\.[a-fA-F0-9]*(?:'[a-fA-F0-9]*)*)?(?:[pP][-+]?[0-9]+)?(l|L)?(u|U)?)/},{match:/(-?)\b\d+(?:'\d+)*(?:\.\d*(?:'\d*)*)?(?:[eE][-+]?\d+)?/}],relevance:0},h={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef elifdef elifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(u,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},f={className:"title",begin:t.optional(s)+e.IDENT_RE,relevance:0},p=t.optional(s)+e.IDENT_RE+"\\s*\\(",y={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","typeof","typeof_unqual","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_BitInt","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal96","_Decimal128","_Decimal64x","_Decimal128x","_Float16","_Float32","_Float64","_Float128","_Float32x","_Float64x","_Float128x","const","static","constexpr","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},x=[h,l,n,e.C_BLOCK_COMMENT_MODE,d,u],b={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:y,contains:x.concat([{begin:/\(/,end:/\)/,keywords:y,contains:x.concat(["self"]),relevance:0}]),relevance:0},w={begin:"("+o+"[\\*&\\s]+)+"+p,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:y,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:y,relevance:0},{begin:p,returnBegin:!0,contains:[e.inherit(f,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:y,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,u,d,l,{begin:/\(/,end:/\)/,keywords:y,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,u,d,l]}]},l,n,e.C_BLOCK_COMMENT_MODE,h]};return{name:"C",aliases:["h"],keywords:y,disableAutodetect:!0,illegal:"</",contains:[].concat(b,w,x,[h,{begin:e.IDENT_RE+"::",keywords:y},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},e.TITLE_MODE]}]),exports:{preprocessor:h,strings:u,keywords:y}}}function Uut(e){const t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",s="[a-zA-Z_]\\w*::",o="(?!struct)("+r+"|"+t.optional(s)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",l={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},u={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},d={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},h={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(u,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},f={className:"title",begin:t.optional(s)+e.IDENT_RE,relevance:0},p=t.optional(s)+e.IDENT_RE+"\\s*\\(",m=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],g=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],y=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],x=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],N={type:g,keyword:m,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:y},S={className:"function.dispatch",relevance:0,keywords:{_hint:x},begin:t.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,t.lookahead(/(<[^<>]+>|)\s*\(/))},k=[S,h,l,n,e.C_BLOCK_COMMENT_MODE,d,u],j={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:N,contains:k.concat([{begin:/\(/,end:/\)/,keywords:N,contains:k.concat(["self"]),relevance:0}]),relevance:0},_={className:"function",begin:"("+o+"[\\*&\\s]+)+"+p,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:N,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:N,relevance:0},{begin:p,returnBegin:!0,contains:[f],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[u,d]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:N,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,u,d,l,{begin:/\(/,end:/\)/,keywords:N,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,u,d,l]}]},l,n,e.C_BLOCK_COMMENT_MODE,h]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:N,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(j,_,S,k,[h,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:N,contains:["self",l]},{begin:e.IDENT_RE+"::",keywords:N},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function Hut(e){const t=["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],n=["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"],r=["default","false","null","true"],s=["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"],i=["add","alias","and","ascending","args","async","await","by","descending","dynamic","equals","file","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","record","remove","required","scoped","select","set","unmanaged","value|0","var","when","where","with","yield"],o={keyword:s.concat(i),built_in:t,literal:r},l=e.inherit(e.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),c={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},u={className:"string",begin:/"""("*)(?!")(.|\n)*?"""\1/,relevance:1},d={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},h=e.inherit(d,{illegal:/\n/}),f={className:"subst",begin:/\{/,end:/\}/,keywords:o},p=e.inherit(f,{illegal:/\n/}),m={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},e.BACKSLASH_ESCAPE,p]},g={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},f]},y=e.inherit(g,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},p]});f.contains=[g,m,d,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,c,e.C_BLOCK_COMMENT_MODE],p.contains=[y,m,h,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,c,e.inherit(e.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];const x={variants:[u,g,m,d,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},b={begin:"<",end:">",contains:[{beginKeywords:"in out"},l]},w=e.IDENT_RE+"(<"+e.IDENT_RE+"(\\s*,\\s*"+e.IDENT_RE+")*>)?(\\[\\])?",N={begin:"@"+e.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:o,illegal:/::/,contains:[e.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]}),e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},x,c,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},l,b,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[l,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[l,b,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+w+"\\s+)+"+e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:o,contains:[{beginKeywords:n.join(" "),relevance:0},{begin:e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[e.TITLE_MODE,b],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,relevance:0,contains:[x,c,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},N]}}const Wut=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),Vut=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],Gut=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],qut=[...Vut,...Gut],Kut=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),Yut=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),Xut=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),Jut=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function Qut(e){const t=e.regex,n=Wut(e),r={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},s="and or not only",i=/@-?\w[\w]*(-\w+)*/,o="[a-zA-Z-][a-zA-Z0-9_-]*",l=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[n.BLOCK_COMMENT,r,n.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+o,relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+Yut.join("|")+")"},{begin:":(:)?("+Xut.join("|")+")"}]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Jut.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[n.BLOCK_COMMENT,n.HEXCOLOR,n.IMPORTANT,n.CSS_NUMBER_MODE,...l,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...l,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},n.FUNCTION_DISPATCH]},{begin:t.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:i},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:s,attribute:Kut.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...l,n.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+qut.join("|")+")\\b"}]}}function Zut(e){const t=e.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:t.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:t.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}}function edt(e){const i={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:i,illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"string",variants:[e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{match:/-?\b0[xX]\.[a-fA-F0-9](_?[a-fA-F0-9])*[pP][+-]?\d(_?\d)*i?/,relevance:0},{match:/-?\b0[xX](_?[a-fA-F0-9])+((\.([a-fA-F0-9](_?[a-fA-F0-9])*)?)?[pP][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b0[oO](_?[0-7])*i?/,relevance:0},{match:/-?\.\d(_?\d)*([eE][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b\d(_?\d)*(\.(\d(_?\d)*)?)?([eE][+-]?\d(_?\d)*)?i?/,relevance:0}]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[e.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:i,illegal:/["']/}]}]}}function tdt(e){const t=e.regex,n=/[_A-Za-z][_0-9A-Za-z]*/;return{name:"GraphQL",aliases:["gql"],case_insensitive:!0,disableAutodetect:!1,keywords:{keyword:["query","mutation","subscription","type","input","schema","directive","interface","union","scalar","fragment","enum","on"],literal:["true","false","null"]},contains:[e.HASH_COMMENT_MODE,e.QUOTE_STRING_MODE,e.NUMBER_MODE,{scope:"punctuation",match:/[.]{3}/,relevance:0},{scope:"punctuation",begin:/[\!\(\)\:\=\[\]\{\|\}]{1}/,relevance:0},{scope:"variable",begin:/\$/,end:/\W/,excludeEnd:!0,relevance:0},{scope:"meta",match:/@\w+/,excludeEnd:!0},{scope:"symbol",begin:t.concat(n,t.lookahead(/\s*:/)),relevance:0}],illegal:[/[;<']/,/BEGIN/]}}function ndt(e){const t=e.regex,n={className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{begin:e.NUMBER_RE}]},r=e.COMMENT();r.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];const s={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},i={className:"literal",begin:/\bon|off|true|false|yes|no\b/},o={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},l={begin:/\[/,end:/\]/,contains:[r,i,s,o,n,"self"],relevance:0},c=/[A-Za-z0-9_-]+/,u=/"(\\"|[^"])*"/,d=/'[^']*'/,h=t.either(c,u,d),f=t.concat(h,"(\\s*\\.\\s*",h,")*",t.lookahead(/\s*=\s*[^#\s]/));return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[r,{className:"section",begin:/\[+/,end:/\]+/},{begin:f,className:"attr",starts:{end:/$/,contains:[r,l,i,s,o,n]}}]}}var af="[0-9](_*[0-9])*",fw=`\\.(${af})`,pw="[0-9a-fA-F](_*[0-9a-fA-F])*",bW={className:"number",variants:[{begin:`(\\b(${af})((${fw})|\\.)?|(${fw}))[eE][+-]?(${af})[fFdD]?\\b`},{begin:`\\b(${af})((${fw})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${fw})[fFdD]?\\b`},{begin:`\\b(${af})[fFdD]\\b`},{begin:`\\b0[xX]((${pw})\\.?|(${pw})?\\.(${pw}))[pP][+-]?(${af})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${pw})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function jle(e,t,n){return n===-1?"":e.replace(t,r=>jle(e,t,n-1))}function rdt(e){const t=e.regex,n="[-a-zA-Z_$][-a-zA-Z_$0-9]*",r=n+jle("(?:<"+n+"~~~(?:\\s*,\\s*"+n+"~~~)*>)?",/~~~/g,2),c={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits","goto","when"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},u={className:"meta",begin:"@"+n,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},d={className:"params",begin:/\(/,end:/\)/,keywords:c,relevance:0,contains:[e.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:c,illegal:/<\/|#/,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[e.BACKSLASH_ESCAPE]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[t.concat(/(?!else)/,n),/\s+/,n,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,n],className:{1:"keyword",3:"title.class"},contains:[d,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+r+"\\s+)",e.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:c,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:c,relevance:0,contains:[u,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,bW,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},bW,u]}}const wW="[A-Za-z$_][0-9A-Za-z$_]*",sdt=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],idt=["true","false","null","undefined","NaN","Infinity"],_le=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],Ele=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],Cle=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],odt=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],adt=[].concat(Cle,_le,Ele);function ldt(e){const t=e.regex,n=(L,{after:D})=>{const F="</"+L[0].slice(1);return L.input.indexOf(F,D)!==-1},r=wW,s={begin:"<>",end:"</>"},i=/<[A-Za-z0-9\\._:-]+\s*\/>/,o={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(L,D)=>{const F=L[0].length+L.index,z=L.input[F];if(z==="<"||z===","){D.ignoreMatch();return}z===">"&&(n(L,{after:F})||D.ignoreMatch());let B;const $=L.input.substring(F);if(B=$.match(/^\s*=/)){D.ignoreMatch();return}if((B=$.match(/^\s+extends\s+/))&&B.index===0){D.ignoreMatch();return}}},l={$pattern:wW,keyword:sdt,literal:idt,built_in:adt,"variable.language":odt},c="[0-9](_?[0-9])*",u=`\\.(${c})`,d="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",h={className:"number",variants:[{begin:`(\\b(${d})((${u})|\\.)?|(${u}))[eE][+-]?(${c})\\b`},{begin:`\\b(${d})\\b((${u})\\b|\\.)?|(${u})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},f={className:"subst",begin:"\\$\\{",end:"\\}",keywords:l,contains:[]},p={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,f],subLanguage:"xml"}},m={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,f],subLanguage:"css"}},g={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,f],subLanguage:"graphql"}},y={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,f]},b={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},w=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,p,m,g,y,{match:/\$\d+/},h];f.contains=w.concat({begin:/\{/,end:/\}/,keywords:l,contains:["self"].concat(w)});const N=[].concat(b,f.contains),S=N.concat([{begin:/(\s*)\(/,end:/\)/,keywords:l,contains:["self"].concat(N)}]),k={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:S},j={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,t.concat(r,"(",t.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},_={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[..._le,...Ele]}},C={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},A={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[k],illegal:/%/},O={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function M(L){return t.concat("(?!",L.join("|"),")")}const P={match:t.concat(/\b/,M([...Cle,"super","import"].map(L=>`${L}\\s*\\(`)),r,t.lookahead(/\s*\(/)),className:"title.function",relevance:0},E={begin:t.concat(/\./,t.lookahead(t.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},I={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},k]},T="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",R={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(T)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[k]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:l,exports:{PARAMS_CONTAINS:S,CLASS_REFERENCE:_},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),C,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,p,m,g,y,b,{match:/\$\d+/},h,_,{scope:"attr",match:r+t.lookahead(":"),relevance:0},R,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[b,e.REGEXP_MODE,{className:"function",begin:T,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:S}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:s.begin,end:s.end},{match:i},{begin:o.begin,"on:begin":o.isTrulyOpeningTag,end:o.end}],subLanguage:"xml",contains:[{begin:o.begin,end:o.end,skip:!0,contains:["self"]}]}]},A,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[k,e.inherit(e.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},E,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[k]},P,O,j,I,{match:/\$[(.]/}]}}function cdt(e){const t={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},n={match:/[{}[\],:]/,className:"punctuation",relevance:0},r=["true","false","null"],s={scope:"literal",beginKeywords:r.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:r},contains:[t,n,e.QUOTE_STRING_MODE,s,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}var lf="[0-9](_*[0-9])*",mw=`\\.(${lf})`,gw="[0-9a-fA-F](_*[0-9a-fA-F])*",udt={className:"number",variants:[{begin:`(\\b(${lf})((${mw})|\\.)?|(${mw}))[eE][+-]?(${lf})[fFdD]?\\b`},{begin:`\\b(${lf})((${mw})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${mw})[fFdD]?\\b`},{begin:`\\b(${lf})[fFdD]\\b`},{begin:`\\b0[xX]((${gw})\\.?|(${gw})?\\.(${gw}))[pP][+-]?(${lf})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${gw})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function ddt(e){const t={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},n={className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},r={className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"@"},s={className:"subst",begin:/\$\{/,end:/\}/,contains:[e.C_NUMBER_MODE]},i={className:"variable",begin:"\\$"+e.UNDERSCORE_IDENT_RE},o={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[i,s]},{begin:"'",end:"'",illegal:/\n/,contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[e.BACKSLASH_ESCAPE,i,s]}]};s.contains.push(o);const l={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+e.UNDERSCORE_IDENT_RE+")?"},c={className:"meta",begin:"@"+e.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[e.inherit(o,{className:"string"}),"self"]}]},u=udt,d=e.COMMENT("/\\*","\\*/",{contains:[e.C_BLOCK_COMMENT_MODE]}),h={variants:[{className:"type",begin:e.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]},f=h;return f.variants[1].contains=[h],h.variants[1].contains=[f],{name:"Kotlin",aliases:["kt","kts"],keywords:t,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),e.C_LINE_COMMENT_MODE,d,n,r,l,c,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:t,relevance:5,contains:[{begin:e.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[e.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:t,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[h,e.C_LINE_COMMENT_MODE,d],relevance:0},e.C_LINE_COMMENT_MODE,d,l,c,o,e.C_NUMBER_MODE]},d]},{begin:[/class|interface|trait/,/\s+/,e.UNDERSCORE_IDENT_RE],beginScope:{3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},e.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,excludeBegin:!0,returnEnd:!0},l,c]},o,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:`
`},u]}}const hdt=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),fdt=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],pdt=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],mdt=[...fdt,...pdt],gdt=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),Tle=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),Ale=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),ydt=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse(),xdt=Tle.concat(Ale).sort().reverse();function vdt(e){const t=hdt(e),n=xdt,r="and or not only",s="[\\w-]+",i="("+s+"|@\\{"+s+"\\})",o=[],l=[],c=function(w){return{className:"string",begin:"~?"+w+".*?"+w}},u=function(w,N,S){return{className:w,begin:N,relevance:S}},d={$pattern:/[a-z-]+/,keyword:r,attribute:gdt.join(" ")},h={begin:"\\(",end:"\\)",contains:l,keywords:d,relevance:0};l.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,c("'"),c('"'),t.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},t.HEXCOLOR,h,u("variable","@@?"+s,10),u("variable","@\\{"+s+"\\}"),u("built_in","~?`[^`]*?`"),{className:"attribute",begin:s+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},t.IMPORTANT,{beginKeywords:"and not"},t.FUNCTION_DISPATCH);const f=l.concat({begin:/\{/,end:/\}/,contains:o}),p={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(l)},m={begin:i+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+ydt.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:l}}]},g={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:d,returnEnd:!0,contains:l,relevance:0}},y={className:"variable",variants:[{begin:"@"+s+"\\s*:",relevance:15},{begin:"@"+s}],starts:{end:"[;}]",returnEnd:!0,contains:f}},x={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:i,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:`[<='$"]`,relevance:0,contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,p,u("keyword","all\\b"),u("variable","@\\{"+s+"\\}"),{begin:"\\b("+mdt.join("|")+")\\b",className:"selector-tag"},t.CSS_NUMBER_MODE,u("selector-tag",i,0),u("selector-id","#"+i),u("selector-class","\\."+i,0),u("selector-tag","&",0),t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+Tle.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+Ale.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:f},{begin:"!important"},t.FUNCTION_DISPATCH]},b={begin:s+`:(:)?(${n.join("|")})`,returnBegin:!0,contains:[x]};return o.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,g,y,b,m,x,p,t.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:`[=>'/<($"]`,contains:o}}function bdt(e){const t="\\[=*\\[",n="\\]=*\\]",r={begin:t,end:n,contains:["self"]},s=[e.COMMENT("--(?!"+t+")","$"),e.COMMENT("--"+t,n,{contains:[r],relevance:10})];return{name:"Lua",aliases:["pluto"],keywords:{$pattern:e.UNDERSCORE_IDENT_RE,literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},contains:s.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[e.inherit(e.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:s}].concat(s)},e.C_NUMBER_MODE,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{className:"string",begin:t,end:n,contains:[r],relevance:5}])}}function wdt(e){const t={className:"variable",variants:[{begin:"\\$\\("+e.UNDERSCORE_IDENT_RE+"\\)",contains:[e.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},n={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,t]},r={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},contains:[t,n]},s={begin:"^"+e.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},i={className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{$pattern:/[\.\w]+/,keyword:".PHONY"}},o={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[t]};return{name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"},contains:[e.HASH_COMMENT_MODE,t,n,r,s,i,o]}}function Sdt(e){const t=e.regex,n={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},r={begin:"^[-\\*]{3,}",end:"$"},s={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},i={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},o={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},l=/[A-Za-z][A-Za-z0-9+.-]*/,c={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:t.concat(/\[.+?\]\(/,l,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},u={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},d={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},h=e.inherit(u,{contains:[]}),f=e.inherit(d,{contains:[]});u.contains.push(f),d.contains.push(h);let p=[n,c];return[u,d,h,f].forEach(x=>{x.contains=x.contains.concat(p)}),p=p.concat(u,d),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:p},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:p}]}]},n,i,u,d,{className:"quote",begin:"^>\\s+",contains:p,end:"$"},s,r,c,o,{scope:"literal",match:/&([a-zA-Z0-9]+|#[0-9]{1,7}|#[Xx][0-9a-fA-F]{1,6});/}]}}function Ndt(e){const t={className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},n=/[a-zA-Z@][a-zA-Z0-9_]*/,l={"variable.language":["this","super"],$pattern:n,keyword:["while","export","sizeof","typedef","const","struct","for","union","volatile","static","mutable","if","do","return","goto","enum","else","break","extern","asm","case","default","register","explicit","typename","switch","continue","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],built_in:["dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"],type:["int","float","char","unsigned","signed","short","long","double","wchar_t","unichar","void","bool","BOOL","id|0","_Bool"]},c={$pattern:n,keyword:["@interface","@class","@protocol","@implementation"]};return{name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],keywords:l,illegal:"</",contains:[t,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.C_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+c.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:c,contains:[e.UNDERSCORE_TITLE_MODE]},{begin:"\\."+e.UNDERSCORE_IDENT_RE,relevance:0}]}}function kdt(e){const t=e.regex,n=["abs","accept","alarm","and","atan2","bind","binmode","bless","break","caller","chdir","chmod","chomp","chop","chown","chr","chroot","class","close","closedir","connect","continue","cos","crypt","dbmclose","dbmopen","defined","delete","die","do","dump","each","else","elsif","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","eval","exec","exists","exit","exp","fcntl","field","fileno","flock","for","foreach","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","goto","grep","gt","hex","if","index","int","ioctl","join","keys","kill","last","lc","lcfirst","length","link","listen","local","localtime","log","lstat","lt","ma","map","method","mkdir","msgctl","msgget","msgrcv","msgsnd","my","ne","next","no","not","oct","open","opendir","or","ord","our","pack","package","pipe","pop","pos","print","printf","prototype","push","q|0","qq","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","require","reset","return","reverse","rewinddir","rindex","rmdir","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sin","sleep","socket","socketpair","sort","splice","split","sprintf","sqrt","srand","stat","state","study","sub","substr","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unless","unlink","unpack","unshift","untie","until","use","utime","values","vec","wait","waitpid","wantarray","warn","when","while","write","x|0","xor","y|0"],r=/[dualxmsipngr]{0,12}/,s={$pattern:/[\w.]+/,keyword:n.join(" ")},i={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:s},o={begin:/->\{/,end:/\}/},l={scope:"attr",match:/\s+:\s*\w+(\s*\(.*?\))?/},c={scope:"variable",variants:[{begin:/\$\d/},{begin:t.concat(/[$%@](?!")(\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")},{begin:/[$%@](?!")[^\s\w{=]|\$=/,relevance:0}],contains:[l]},u={className:"number",variants:[{match:/0?\.[0-9][0-9_]+\b/},{match:/\bv?(0|[1-9][0-9_]*(\.[0-9_]+)?|[1-9][0-9_]*)\b/},{match:/\b0[0-7][0-7_]*\b/},{match:/\b0x[0-9a-fA-F][0-9a-fA-F_]*\b/},{match:/\b0b[0-1][0-1_]*\b/}],relevance:0},d=[e.BACKSLASH_ESCAPE,i,c],h=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],f=(g,y,x="\\1")=>{const b=x==="\\1"?x:t.concat(x,y);return t.concat(t.concat("(?:",g,")"),y,/(?:\\.|[^\\\/])*?/,b,/(?:\\.|[^\\\/])*?/,x,r)},p=(g,y,x)=>t.concat(t.concat("(?:",g,")"),y,/(?:\\.|[^\\\/])*?/,x,r),m=[c,e.HASH_COMMENT_MODE,e.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),o,{className:"string",contains:d,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},u,{begin:"(\\/\\/|"+e.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[e.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:f("s|tr|y",t.either(...h,{capture:!0}))},{begin:f("s|tr|y","\\(","\\)")},{begin:f("s|tr|y","\\[","\\]")},{begin:f("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:p("(?:m|qr)?",/\//,/\//)},{begin:p("m|qr",t.either(...h,{capture:!0}),/\1/)},{begin:p("m|qr",/\(/,/\)/)},{begin:p("m|qr",/\[/,/\]/)},{begin:p("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub method",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE,l]},{className:"class",beginKeywords:"class",end:"[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE,l,u]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return i.contains=m,o.contains=m,{name:"Perl",aliases:["pl","pm"],keywords:s,contains:m}}function jdt(e){const t=e.regex,n=/(?![A-Za-z0-9])(?![$])/,r=t.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,n),s=t.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,n),i=t.concat(/[A-Z]+/,n),o={scope:"variable",match:"\\$+"+r},l={scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},c={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},u=e.inherit(e.APOS_STRING_MODE,{illegal:null}),d=e.inherit(e.QUOTE_STRING_MODE,{illegal:null,contains:e.QUOTE_STRING_MODE.contains.concat(c)}),h={begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:e.QUOTE_STRING_MODE.contains.concat(c),"on:begin":(E,I)=>{I.data._beginMatch=E[1]||E[2]},"on:end":(E,I)=>{I.data._beginMatch!==E[1]&&I.ignoreMatch()}},f=e.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/}),p=`[ 	
]`,m={scope:"string",variants:[d,u,h,f]},g={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},y=["false","null","true"],x=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],b=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],N={keyword:x,literal:(E=>{const I=[];return E.forEach(T=>{I.push(T),T.toLowerCase()===T?I.push(T.toUpperCase()):I.push(T.toLowerCase())}),I})(y),built_in:b},S=E=>E.map(I=>I.replace(/\|\d+$/,"")),k={variants:[{match:[/new/,t.concat(p,"+"),t.concat("(?!",S(b).join("\\b|"),"\\b)"),s],scope:{1:"keyword",4:"title.class"}}]},j=t.concat(r,"\\b(?!\\()"),_={variants:[{match:[t.concat(/::/,t.lookahead(/(?!class\b)/)),j],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[s,t.concat(/::/,t.lookahead(/(?!class\b)/)),j],scope:{1:"title.class",3:"variable.constant"}},{match:[s,t.concat("::",t.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[s,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},C={scope:"attr",match:t.concat(r,t.lookahead(":"),t.lookahead(/(?!::)/))},A={relevance:0,begin:/\(/,end:/\)/,keywords:N,contains:[C,o,_,e.C_BLOCK_COMMENT_MODE,m,g,k]},O={relevance:0,match:[/\b/,t.concat("(?!fn\\b|function\\b|",S(x).join("\\b|"),"|",S(b).join("\\b|"),"\\b)"),r,t.concat(p,"*"),t.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[A]};A.contains.push(O);const M=[C,_,e.C_BLOCK_COMMENT_MODE,m,g,k],P={begin:t.concat(/#\[\s*\\?/,t.either(s,i)),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:y,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:y,keyword:["new","array"]},contains:["self",...M]},...M,{scope:"meta",variants:[{match:s},{match:i}]}]};return{case_insensitive:!1,keywords:N,contains:[P,e.HASH_COMMENT_MODE,e.COMMENT("//","$"),e.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:e.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},l,{scope:"variable.language",match:/\$this\b/},o,O,_,{match:[/const/,/\s/,r],scope:{1:"keyword",3:"variable.constant"}},k,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},e.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:N,contains:["self",P,o,_,e.C_BLOCK_COMMENT_MODE,m,g]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[e.inherit(e.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},e.UNDERSCORE_TITLE_MODE]},m,g]}}function _dt(e){return{name:"PHP template",subLanguage:"xml",contains:[{begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},e.inherit(e.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),e.inherit(e.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]}]}}function Edt(e){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}}function Cdt(e){const t=e.regex,n=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),r=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],l={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:r,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},c={className:"meta",begin:/^(>>>|\.\.\.) /},u={className:"subst",begin:/\{/,end:/\}/,keywords:l,illegal:/#/},d={begin:/\{\{/,relevance:0},h={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,c],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,c],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,c,d,u]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,c,d,u]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,d,u]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,d,u]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},f="[0-9](_?[0-9])*",p=`(\\b(${f}))?\\.(${f})|\\b(${f})\\.`,m=`\\b|${r.join("|")}`,g={className:"number",relevance:0,variants:[{begin:`(\\b(${f})|(${p}))[eE][+-]?(${f})[jJ]?(?=${m})`},{begin:`(${p})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${m})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${m})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${m})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${m})`},{begin:`\\b(${f})[jJ](?=${m})`}]},y={className:"comment",begin:t.lookahead(/# type:/),end:/$/,keywords:l,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},x={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:["self",c,g,h,e.HASH_COMMENT_MODE]}]};return u.contains=[h,g,c],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:l,illegal:/(<\/|\?)|=>/,contains:[c,g,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},h,y,e.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[x]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[g,x,h]}]}}function Tdt(e){return{aliases:["pycon"],contains:[{className:"meta.prompt",starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}}function Adt(e){const t=e.regex,n=/(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,r=t.either(/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,/0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,/(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/),s=/[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,i=t.either(/[()]/,/[{}]/,/\[\[/,/[[\]]/,/\\/,/,/);return{name:"R",keywords:{$pattern:n,keyword:"function if in break next repeat else for while",literal:"NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10",built_in:"LETTERS letters month.abb month.name pi T F abs acos acosh all any anyNA Arg as.call as.character as.complex as.double as.environment as.integer as.logical as.null.default as.numeric as.raw asin asinh atan atanh attr attributes baseenv browser c call ceiling class Conj cos cosh cospi cummax cummin cumprod cumsum digamma dim dimnames emptyenv exp expression floor forceAndCall gamma gc.time globalenv Im interactive invisible is.array is.atomic is.call is.character is.complex is.double is.environment is.expression is.finite is.function is.infinite is.integer is.language is.list is.logical is.matrix is.na is.name is.nan is.null is.numeric is.object is.pairlist is.raw is.recursive is.single is.symbol lazyLoadDBfetch length lgamma list log max min missing Mod names nargs nzchar oldClass on.exit pos.to.env proc.time prod quote range Re rep retracemem return round seq_along seq_len seq.int sign signif sin sinh sinpi sqrt standardGeneric substitute sum switch tan tanh tanpi tracemem trigamma trunc unclass untracemem UseMethod xtfrm"},contains:[e.COMMENT(/#'/,/$/,{contains:[{scope:"doctag",match:/@examples/,starts:{end:t.lookahead(t.either(/\n^#'\s*(?=@[a-zA-Z]+)/,/\n^(?!#')/)),endsParent:!0}},{scope:"doctag",begin:"@param",end:/$/,contains:[{scope:"variable",variants:[{match:n},{match:/`(?:\\.|[^`\\])+`/}],endsParent:!0}]},{scope:"doctag",match:/@[a-zA-Z]+/},{scope:"keyword",match:/\\[a-zA-Z]+/}]}),e.HASH_COMMENT_MODE,{scope:"string",contains:[e.BACKSLASH_ESCAPE],variants:[e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\(/,end:/\)(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\{/,end:/\}(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\[/,end:/\](-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\(/,end:/\)(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\{/,end:/\}(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\[/,end:/\](-*)'/}),{begin:'"',end:'"',relevance:0},{begin:"'",end:"'",relevance:0}]},{relevance:0,variants:[{scope:{1:"operator",2:"number"},match:[s,r]},{scope:{1:"operator",2:"number"},match:[/%[^%]*%/,r]},{scope:{1:"punctuation",2:"number"},match:[i,r]},{scope:{2:"number"},match:[/[^a-zA-Z0-9._]|^/,r]}]},{scope:{3:"operator"},match:[n,/\s+/,/<-/,/\s+/]},{scope:"operator",relevance:0,variants:[{match:s},{match:/%[^%]*%/}]},{scope:"punctuation",relevance:0,match:i},{begin:"`",end:"`",contains:[{begin:/\\./}]}]}}function Odt(e){const t=e.regex,n="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",r=t.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),s=t.concat(r,/(::\w+)*/),o={"variable.constant":["__FILE__","__LINE__","__ENCODING__"],"variable.language":["self","super"],keyword:["alias","and","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield",...["include","extend","prepend","public","private","protected","raise","throw"]],built_in:["proc","lambda","attr_accessor","attr_reader","attr_writer","define_method","private_constant","module_function"],literal:["true","false","nil"]},l={className:"doctag",begin:"@[A-Za-z]+"},c={begin:"#<",end:">"},u=[e.COMMENT("#","$",{contains:[l]}),e.COMMENT("^=begin","^=end",{contains:[l],relevance:10}),e.COMMENT("^__END__",e.MATCH_NOTHING_RE)],d={className:"subst",begin:/#\{/,end:/\}/,keywords:o},h={className:"string",contains:[e.BACKSLASH_ESCAPE,d],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:t.concat(/<<[-~]?'?/,t.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[e.BACKSLASH_ESCAPE,d]})]}]},f="[1-9](_?[0-9])*|0",p="[0-9](_?[0-9])*",m={className:"number",relevance:0,variants:[{begin:`\\b(${f})(\\.(${p}))?([eE][+-]?(${p})|r)?i?\\b`},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},g={variants:[{match:/\(\)/},{className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,keywords:o}]},k=[h,{variants:[{match:[/class\s+/,s,/\s+<\s+/,s]},{match:[/\b(class|module)\s+/,s]}],scope:{2:"title.class",4:"title.class.inherited"},keywords:o},{match:[/(include|extend)\s+/,s],scope:{2:"title.class"},keywords:o},{relevance:0,match:[s,/\.new[. (]/],scope:{1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},{relevance:0,match:r,scope:"title.class"},{match:[/def/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[g]},{begin:e.IDENT_RE+"::"},{className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[h,{begin:n}],relevance:0},m,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|(?!=)/,end:/\|/,excludeBegin:!0,excludeEnd:!0,relevance:0,keywords:o},{begin:"("+e.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[e.BACKSLASH_ESCAPE,d],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(c,u),relevance:0}].concat(c,u);d.contains=k,g.contains=k;const A=[{begin:/^\s*=>/,starts:{end:"$",contains:k}},{className:"meta.prompt",begin:"^("+"[>?]>"+"|"+"[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]"+"|"+"(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>"+")(?=[ ])",starts:{end:"$",keywords:o,contains:k}}];return u.unshift(c),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:o,illegal:/\/\*/,contains:[e.SHEBANG({binary:"ruby"})].concat(A).concat(u).concat(k)}}function Mdt(e){const t=e.regex,n=/(r#)?/,r=t.concat(n,e.UNDERSCORE_IDENT_RE),s=t.concat(n,e.IDENT_RE),i={className:"title.function.invoke",relevance:0,begin:t.concat(/\b/,/(?!let|for|while|if|else|match\b)/,s,t.lookahead(/\s*\(/))},o="([ui](8|16|32|64|128|size)|f(32|64))?",l=["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","union","unsafe","unsized","use","virtual","where","while","yield"],c=["true","false","Some","None","Ok","Err"],u=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","eprintln!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],d=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:e.IDENT_RE+"!?",type:d,keyword:l,literal:c,built_in:u},illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.COMMENT("/\\*","\\*/",{contains:["self"]}),e.inherit(e.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*(?!')/},{scope:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'/,end:/'/,contains:[{scope:"char.escape",match:/\\('|\w|x\w{2}|u\w{4}|U\w{8})/}]}]},{className:"number",variants:[{begin:"\\b0b([01_]+)"+o},{begin:"\\b0o([0-7_]+)"+o},{begin:"\\b0x([A-Fa-f0-9_]+)"+o},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+o}],relevance:0},{begin:[/fn/,/\s+/,r],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE]}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,r],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,r,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{begin:e.IDENT_RE+"::",keywords:{keyword:"Self",built_in:u,type:d}},{className:"punctuation",begin:"->"},i]}}const Pdt=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),Ddt=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],Rdt=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],Idt=[...Ddt,...Rdt],Ldt=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),$dt=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),Bdt=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),Fdt=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function zdt(e){const t=Pdt(e),n=Bdt,r=$dt,s="@[a-z-]+",i="and or not only",l={className:"variable",begin:"(\\$"+"[a-zA-Z-][a-zA-Z0-9_-]*"+")\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,t.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+Idt.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+r.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+n.join("|")+")"},l,{begin:/\(/,end:/\)/,contains:[t.CSS_NUMBER_MODE]},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Fdt.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[t.BLOCK_COMMENT,l,t.HEXCOLOR,t.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.IMPORTANT,t.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:s,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:i,attribute:Ldt.join(" ")},contains:[{begin:s,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},l,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.HEXCOLOR,t.CSS_NUMBER_MODE]},t.FUNCTION_DISPATCH]}}function Udt(e){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}function Hdt(e){const t=e.regex,n=e.COMMENT("--","$"),r={scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},s={begin:/"/,end:/"/,contains:[{match:/""/}]},i=["true","false","unknown"],o=["double precision","large object","with timezone","without timezone"],l=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],c=["add","asc","collation","desc","final","first","last","view"],u=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],d=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],h=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],f=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],p=d,m=[...u,...c].filter(S=>!d.includes(S)),g={scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},y={scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},x={match:t.concat(/\b/,t.either(...p),/\s*\(/),relevance:0,keywords:{built_in:p}};function b(S){return t.concat(/\b/,t.either(...S.map(k=>k.replace(/\s+/,"\\s+"))),/\b/)}const w={scope:"keyword",match:b(f),relevance:0};function N(S,{exceptions:k,when:j}={}){const _=j;return k=k||[],S.map(C=>C.match(/\|\d+$/)||k.includes(C)?C:_(C)?`${C}|0`:C)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:N(m,{when:S=>S.length<3}),literal:i,type:l,built_in:h},contains:[{scope:"type",match:b(o)},w,x,g,r,s,e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE,n,y]}}function Ole(e){return e?typeof e=="string"?e:e.source:null}function _g(e){return Kt("(?=",e,")")}function Kt(...e){return e.map(n=>Ole(n)).join("")}function Wdt(e){const t=e[e.length-1];return typeof t=="object"&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}function xs(...e){return"("+(Wdt(e).capture?"":"?:")+e.map(r=>Ole(r)).join("|")+")"}const j$=e=>Kt(/\b/,e,/\w$/.test(e)?/\b/:/\B/),Vdt=["Protocol","Type"].map(j$),SW=["init","self"].map(j$),Gdt=["Any","Self"],$T=["actor","any","associatedtype","async","await",/as\?/,/as!/,"as","borrowing","break","case","catch","class","consume","consuming","continue","convenience","copy","default","defer","deinit","didSet","distributed","do","dynamic","each","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","macro","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","package","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],NW=["false","nil","true"],qdt=["assignment","associativity","higherThan","left","lowerThan","none","right"],Kdt=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warning"],kW=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],Mle=xs(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),Ple=xs(Mle,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),BT=Kt(Mle,Ple,"*"),Dle=xs(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),dk=xs(Dle,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),na=Kt(Dle,dk,"*"),yw=Kt(/[A-Z]/,dk,"*"),Ydt=["attached","autoclosure",Kt(/convention\(/,xs("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","freestanding","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",Kt(/objc\(/,na,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultBuilder","Sendable","testable","UIApplicationMain","unchecked","unknown","usableFromInline","warn_unqualified_access"],Xdt=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];function Jdt(e){const t={match:/\s+/,relevance:0},n=e.COMMENT("/\\*","\\*/",{contains:["self"]}),r=[e.C_LINE_COMMENT_MODE,n],s={match:[/\./,xs(...Vdt,...SW)],className:{2:"keyword"}},i={match:Kt(/\./,xs(...$T)),relevance:0},o=$T.filter(be=>typeof be=="string").concat(["_|0"]),l=$T.filter(be=>typeof be!="string").concat(Gdt).map(j$),c={variants:[{className:"keyword",match:xs(...l,...SW)}]},u={$pattern:xs(/\b\w+/,/#\w+/),keyword:o.concat(Kdt),literal:NW},d=[s,i,c],h={match:Kt(/\./,xs(...kW)),relevance:0},f={className:"built_in",match:Kt(/\b/,xs(...kW),/(?=\()/)},p=[h,f],m={match:/->/,relevance:0},g={className:"operator",relevance:0,variants:[{match:BT},{match:`\\.(\\.|${Ple})+`}]},y=[m,g],x="([0-9]_*)+",b="([0-9a-fA-F]_*)+",w={className:"number",relevance:0,variants:[{match:`\\b(${x})(\\.(${x}))?([eE][+-]?(${x}))?\\b`},{match:`\\b0x(${b})(\\.(${b}))?([pP][+-]?(${x}))?\\b`},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},N=(be="")=>({className:"subst",variants:[{match:Kt(/\\/,be,/[0\\tnr"']/)},{match:Kt(/\\/,be,/u\{[0-9a-fA-F]{1,8}\}/)}]}),S=(be="")=>({className:"subst",match:Kt(/\\/,be,/[\t ]*(?:[\r\n]|\r\n)/)}),k=(be="")=>({className:"subst",label:"interpol",begin:Kt(/\\/,be,/\(/),end:/\)/}),j=(be="")=>({begin:Kt(be,/"""/),end:Kt(/"""/,be),contains:[N(be),S(be),k(be)]}),_=(be="")=>({begin:Kt(be,/"/),end:Kt(/"/,be),contains:[N(be),k(be)]}),C={className:"string",variants:[j(),j("#"),j("##"),j("###"),_(),_("#"),_("##"),_("###")]},A=[e.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[e.BACKSLASH_ESCAPE]}],O={begin:/\/[^\s](?=[^/\n]*\/)/,end:/\//,contains:A},M=be=>{const Ae=Kt(be,/\//),ne=Kt(/\//,be);return{begin:Ae,end:ne,contains:[...A,{scope:"comment",begin:`#(?!.*${ne})`,end:/$/}]}},P={scope:"regexp",variants:[M("###"),M("##"),M("#"),O]},E={match:Kt(/`/,na,/`/)},I={className:"variable",match:/\$\d+/},T={className:"variable",match:`\\$${dk}+`},R=[E,I,T],L={match:/(@|#(un)?)available/,scope:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:Xdt,contains:[...y,w,C]}]}},D={scope:"keyword",match:Kt(/@/,xs(...Ydt),_g(xs(/\(/,/\s+/)))},F={scope:"meta",match:Kt(/@/,na)},z=[L,D,F],B={match:_g(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:Kt(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,dk,"+")},{className:"type",match:yw,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:Kt(/\s+&\s+/,_g(yw)),relevance:0}]},$={begin:/</,end:/>/,keywords:u,contains:[...r,...d,...z,m,B]};B.contains.push($);const W={match:Kt(na,/\s*:/),keywords:"_|0",relevance:0},V={begin:/\(/,end:/\)/,relevance:0,keywords:u,contains:["self",W,...r,P,...d,...p,...y,w,C,...R,...z,B]},Y={begin:/</,end:/>/,keywords:"repeat each",contains:[...r,B]},G={begin:xs(_g(Kt(na,/\s*:/)),_g(Kt(na,/\s+/,na,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:na}]},Z={begin:/\(/,end:/\)/,keywords:u,contains:[G,...r,...d,...y,w,C,...z,B,V],endsParent:!0,illegal:/["']/},q={match:[/(func|macro)/,/\s+/,xs(E.match,na,BT)],className:{1:"keyword",3:"title.function"},contains:[Y,Z,t],illegal:[/\[/,/%/]},ee={match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},contains:[Y,Z,t],illegal:/\[|%/},se={match:[/operator/,/\s+/,BT],className:{1:"keyword",3:"title"}},X={begin:[/precedencegroup/,/\s+/,yw],className:{1:"keyword",3:"title"},contains:[B],keywords:[...qdt,...NW],end:/}/},de={match:[/class\b/,/\s+/,/func\b/,/\s+/,/\b[A-Za-z_][A-Za-z0-9_]*\b/],scope:{1:"keyword",3:"keyword",5:"title.function"}},pe={match:[/class\b/,/\s+/,/var\b/],scope:{1:"keyword",3:"keyword"}},Se={begin:[/(struct|protocol|class|extension|enum|actor)/,/\s+/,na,/\s*/],beginScope:{1:"keyword",3:"title.class"},keywords:u,contains:[Y,...d,{begin:/:/,end:/\{/,keywords:u,contains:[{scope:"title.class.inherited",match:yw},...d],relevance:0}]};for(const be of C.variants){const Ae=be.contains.find(Je=>Je.label==="interpol");Ae.keywords=u;const ne=[...d,...p,...y,w,C,...R];Ae.contains=[...ne,{begin:/\(/,end:/\)/,contains:["self",...ne]}]}return{name:"Swift",keywords:u,contains:[...r,q,ee,de,pe,Se,se,X,{beginKeywords:"import",end:/$/,contains:[...r],relevance:0},P,...d,...p,...y,w,C,...R,...z,B,V]}}const hk="[A-Za-z$_][0-9A-Za-z$_]*",Rle=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],Ile=["true","false","null","undefined","NaN","Infinity"],Lle=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],$le=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],Ble=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],Fle=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],zle=[].concat(Ble,Lle,$le);function Qdt(e){const t=e.regex,n=(L,{after:D})=>{const F="</"+L[0].slice(1);return L.input.indexOf(F,D)!==-1},r=hk,s={begin:"<>",end:"</>"},i=/<[A-Za-z0-9\\._:-]+\s*\/>/,o={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(L,D)=>{const F=L[0].length+L.index,z=L.input[F];if(z==="<"||z===","){D.ignoreMatch();return}z===">"&&(n(L,{after:F})||D.ignoreMatch());let B;const $=L.input.substring(F);if(B=$.match(/^\s*=/)){D.ignoreMatch();return}if((B=$.match(/^\s+extends\s+/))&&B.index===0){D.ignoreMatch();return}}},l={$pattern:hk,keyword:Rle,literal:Ile,built_in:zle,"variable.language":Fle},c="[0-9](_?[0-9])*",u=`\\.(${c})`,d="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",h={className:"number",variants:[{begin:`(\\b(${d})((${u})|\\.)?|(${u}))[eE][+-]?(${c})\\b`},{begin:`\\b(${d})\\b((${u})\\b|\\.)?|(${u})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},f={className:"subst",begin:"\\$\\{",end:"\\}",keywords:l,contains:[]},p={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,f],subLanguage:"xml"}},m={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,f],subLanguage:"css"}},g={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,f],subLanguage:"graphql"}},y={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,f]},b={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},w=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,p,m,g,y,{match:/\$\d+/},h];f.contains=w.concat({begin:/\{/,end:/\}/,keywords:l,contains:["self"].concat(w)});const N=[].concat(b,f.contains),S=N.concat([{begin:/(\s*)\(/,end:/\)/,keywords:l,contains:["self"].concat(N)}]),k={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:S},j={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,t.concat(r,"(",t.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},_={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...Lle,...$le]}},C={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},A={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[k],illegal:/%/},O={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function M(L){return t.concat("(?!",L.join("|"),")")}const P={match:t.concat(/\b/,M([...Ble,"super","import"].map(L=>`${L}\\s*\\(`)),r,t.lookahead(/\s*\(/)),className:"title.function",relevance:0},E={begin:t.concat(/\./,t.lookahead(t.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},I={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},k]},T="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",R={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(T)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[k]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:l,exports:{PARAMS_CONTAINS:S,CLASS_REFERENCE:_},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),C,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,p,m,g,y,b,{match:/\$\d+/},h,_,{scope:"attr",match:r+t.lookahead(":"),relevance:0},R,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[b,e.REGEXP_MODE,{className:"function",begin:T,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:S}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:s.begin,end:s.end},{match:i},{begin:o.begin,"on:begin":o.isTrulyOpeningTag,end:o.end}],subLanguage:"xml",contains:[{begin:o.begin,end:o.end,skip:!0,contains:["self"]}]}]},A,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[k,e.inherit(e.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},E,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[k]},P,O,j,I,{match:/\$[(.]/}]}}function Zdt(e){const t=e.regex,n=Qdt(e),r=hk,s=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],i={begin:[/namespace/,/\s+/,e.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},o={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:s},contains:[n.exports.CLASS_REFERENCE]},l={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},c=["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"],u={$pattern:hk,keyword:Rle.concat(c),literal:Ile,built_in:zle.concat(s),"variable.language":Fle},d={className:"meta",begin:"@"+r},h=(g,y,x)=>{const b=g.contains.findIndex(w=>w.label===y);if(b===-1)throw new Error("can not find mode to replace");g.contains.splice(b,1,x)};Object.assign(n.keywords,u),n.exports.PARAMS_CONTAINS.push(d);const f=n.contains.find(g=>g.scope==="attr"),p=Object.assign({},f,{match:t.concat(r,t.lookahead(/\s*\?:/))});n.exports.PARAMS_CONTAINS.push([n.exports.CLASS_REFERENCE,f,p]),n.contains=n.contains.concat([d,i,o,p]),h(n,"shebang",e.SHEBANG()),h(n,"use_strict",l);const m=n.contains.find(g=>g.label==="func.def");return m.relevance=0,Object.assign(n,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),n}function eht(e){const t=e.regex,n={className:"string",begin:/"(""|[^/n])"C\b/},r={className:"string",begin:/"/,end:/"/,illegal:/\n/,contains:[{begin:/""/}]},s=/\d{1,2}\/\d{1,2}\/\d{4}/,i=/\d{4}-\d{1,2}-\d{1,2}/,o=/(\d|1[012])(:\d+){0,2} *(AM|PM)/,l=/\d{1,2}(:\d{1,2}){1,2}/,c={className:"literal",variants:[{begin:t.concat(/# */,t.either(i,s),/ *#/)},{begin:t.concat(/# */,l,/ *#/)},{begin:t.concat(/# */,o,/ *#/)},{begin:t.concat(/# */,t.either(i,s),/ +/,t.either(o,l),/ *#/)}]},u={className:"number",relevance:0,variants:[{begin:/\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/},{begin:/\b\d[\d_]*((U?[SIL])|[%&])?/},{begin:/&H[\dA-F_]+((U?[SIL])|[%&])?/},{begin:/&O[0-7_]+((U?[SIL])|[%&])?/},{begin:/&B[01_]+((U?[SIL])|[%&])?/}]},d={className:"label",begin:/^\w+:/},h=e.COMMENT(/'''/,/$/,{contains:[{className:"doctag",begin:/<\/?/,end:/>/}]}),f=e.COMMENT(null,/$/,{variants:[{begin:/'/},{begin:/([\t ]|^)REM(?=\s)/}]});return{name:"Visual Basic .NET",aliases:["vb"],case_insensitive:!0,classNameAliases:{label:"symbol"},keywords:{keyword:"addhandler alias aggregate ansi as async assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into iterator join key let lib loop me mid module mustinherit mustoverride mybase myclass namespace narrowing new next notinheritable notoverridable of off on operator option optional order overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly yield",built_in:"addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort",type:"boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort",literal:"true false nothing"},illegal:"//|\\{|\\}|endif|gosub|variant|wend|^\\$ ",contains:[n,r,c,u,d,h,f,{className:"meta",begin:/[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,end:/$/,keywords:{keyword:"const disable else elseif enable end externalsource if region then"},contains:[f]}]}}function tht(e){e.regex;const t=e.COMMENT(/\(;/,/;\)/);t.contains.push("self");const n=e.COMMENT(/;;/,/$/),r=["anyfunc","block","br","br_if","br_table","call","call_indirect","data","drop","elem","else","end","export","func","global.get","global.set","local.get","local.set","local.tee","get_global","get_local","global","if","import","local","loop","memory","memory.grow","memory.size","module","mut","nop","offset","param","result","return","select","set_global","set_local","start","table","tee_local","then","type","unreachable"],s={begin:[/(?:func|call|call_indirect)/,/\s+/,/\$[^\s)]+/],className:{1:"keyword",3:"title.function"}},i={className:"variable",begin:/\$[\w_]+/},o={match:/(\((?!;)|\))+/,className:"punctuation",relevance:0},l={className:"number",relevance:0,match:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/},c={match:/(i32|i64|f32|f64)(?!\.)/,className:"type"},u={className:"keyword",match:/\b(f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))\b/};return{name:"WebAssembly",keywords:{$pattern:/[\w.]+/,keyword:r},contains:[n,t,{match:[/(?:offset|align)/,/\s*/,/=/],className:{1:"keyword",3:"operator"}},i,o,s,e.QUOTE_STRING_MODE,c,u,l]}}function nht(e){const t=e.regex,n=t.concat(/[\p{L}_]/u,t.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),r=/[\p{L}0-9._:-]+/u,s={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},i={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},o=e.inherit(i,{begin:/\(/,end:/\)/}),l=e.inherit(e.APOS_STRING_MODE,{className:"string"}),c=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),u={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:r,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[s]},{begin:/'/,end:/'/,contains:[s]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[i,c,l,o,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[i,o,c,l]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},s,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[c]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[u],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[u],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:t.concat(/</,t.lookahead(t.concat(n,t.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:u}]},{className:"tag",begin:t.concat(/<\//,t.lookahead(t.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}function rht(e){const t="true false yes no null",n="[\\w#;/?:@&=+$,.~*'()[\\]]+",r={className:"attr",variants:[{begin:/[\w*@][\w*@ :()\./-]*:(?=[ \t]|$)/},{begin:/"[\w*@][\w*@ :()\./-]*":(?=[ \t]|$)/},{begin:/'[\w*@][\w*@ :()\./-]*':(?=[ \t]|$)/}]},s={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},i={className:"string",relevance:0,begin:/'/,end:/'/,contains:[{match:/''/,scope:"char.escape",relevance:0}]},o={className:"string",relevance:0,variants:[{begin:/"/,end:/"/},{begin:/\S+/}],contains:[e.BACKSLASH_ESCAPE,s]},l=e.inherit(o,{variants:[{begin:/'/,end:/'/,contains:[{begin:/''/,relevance:0}]},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),f={className:"number",begin:"\\b"+"[0-9]{4}(-[0-9][0-9]){0,2}"+"([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?"+"(\\.[0-9]*)?"+"([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?"+"\\b"},p={end:",",endsWithParent:!0,excludeEnd:!0,keywords:t,relevance:0},m={begin:/\{/,end:/\}/,contains:[p],illegal:"\\n",relevance:0},g={begin:"\\[",end:"\\]",contains:[p],illegal:"\\n",relevance:0},y=[r,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+n},{className:"type",begin:"!<"+n+">"},{className:"type",begin:"!"+n},{className:"type",begin:"!!"+n},{className:"meta",begin:"&"+e.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+e.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},e.HASH_COMMENT_MODE,{beginKeywords:t,keywords:{literal:t}},f,{className:"number",begin:e.C_NUMBER_RE+"\\b",relevance:0},m,g,i,o],x=[...y];return x.pop(),x.push(l),p.contains=x,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:y}}const sht={arduino:But,bash:Fut,c:zut,cpp:Uut,csharp:Hut,css:Qut,diff:Zut,go:edt,graphql:tdt,ini:ndt,java:rdt,javascript:ldt,json:cdt,kotlin:ddt,less:vdt,lua:bdt,makefile:wdt,markdown:Sdt,objectivec:Ndt,perl:kdt,php:jdt,"php-template":_dt,plaintext:Edt,python:Cdt,"python-repl":Tdt,r:Adt,ruby:Odt,rust:Mdt,scss:zdt,shell:Udt,sql:Hdt,swift:Jdt,typescript:Zdt,vbnet:eht,wasm:tht,xml:nht,yaml:rht},jW={},iht="hljs-";function oht(e){const t=Nle.newInstance();return e&&i(e),{highlight:n,highlightAuto:r,listLanguages:s,register:i,registerAlias:o,registered:l};function n(c,u,d){const h=d||jW,f=typeof h.prefix=="string"?h.prefix:iht;if(!t.getLanguage(c))throw new Error("Unknown language: `"+c+"` is not registered");t.configure({__emitter:aht,classPrefix:f});const p=t.highlight(u,{ignoreIllegals:!0,language:c});if(p.errorRaised)throw new Error("Could not highlight with `Highlight.js`",{cause:p.errorRaised});const m=p._emitter.root,g=m.data;return g.language=p.language,g.relevance=p.relevance,m}function r(c,u){const h=(u||jW).subset||s();let f=-1,p=0,m;for(;++f<h.length;){const g=h[f];if(!t.getLanguage(g))continue;const y=n(g,c,u);y.data&&y.data.relevance!==void 0&&y.data.relevance>p&&(p=y.data.relevance,m=y)}return m||{type:"root",children:[],data:{language:void 0,relevance:p}}}function s(){return t.listLanguages()}function i(c,u){if(typeof c=="string")t.registerLanguage(c,u);else{let d;for(d in c)Object.hasOwn(c,d)&&t.registerLanguage(d,c[d])}}function o(c,u){if(typeof c=="string")t.registerAliases(typeof u=="string"?u:[...u],{languageName:c});else{let d;for(d in c)if(Object.hasOwn(c,d)){const h=c[d];t.registerAliases(typeof h=="string"?h:[...h],{languageName:d})}}}function l(c){return!!t.getLanguage(c)}}class aht{constructor(t){this.options=t,this.root={type:"root",children:[],data:{language:void 0,relevance:0}},this.stack=[this.root]}addText(t){if(t==="")return;const n=this.stack[this.stack.length-1],r=n.children[n.children.length-1];r&&r.type==="text"?r.value+=t:n.children.push({type:"text",value:t})}startScope(t){this.openNode(String(t))}endScope(){this.closeNode()}__addSublanguage(t,n){const r=this.stack[this.stack.length-1],s=t.root.children;n?r.children.push({type:"element",tagName:"span",properties:{className:[n]},children:s}):r.children.push(...s)}openNode(t){const n=this,r=t.split(".").map(function(o,l){return l?o+"_".repeat(l):n.options.classPrefix+o}),s=this.stack[this.stack.length-1],i={type:"element",tagName:"span",properties:{className:r},children:[]};s.children.push(i),this.stack.push(i)}closeNode(){this.stack.pop()}finalize(){}toHTML(){return""}}function lht(e,t){return v.useReducer((n,r)=>t[n][r]??n,e)}var _$="ScrollArea",[Ule]=fs(_$),[cht,ro]=Ule(_$),Hle=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...o}=e,[l,c]=v.useState(null),[u,d]=v.useState(null),[h,f]=v.useState(null),[p,m]=v.useState(null),[g,y]=v.useState(null),[x,b]=v.useState(0),[w,N]=v.useState(0),[S,k]=v.useState(!1),[j,_]=v.useState(!1),C=Ke(t,O=>c(O)),A=Sm(s);return a.jsx(cht,{scope:n,type:r,dir:A,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:h,onContentChange:f,scrollbarX:p,onScrollbarXChange:m,scrollbarXEnabled:S,onScrollbarXEnabledChange:k,scrollbarY:g,onScrollbarYChange:y,scrollbarYEnabled:j,onScrollbarYEnabledChange:_,onCornerWidthChange:b,onCornerHeightChange:N,children:a.jsx($e.div,{dir:A,...o,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});Hle.displayName=_$;var Wle="ScrollAreaViewport",Vle=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=e,o=ro(Wle,n),l=v.useRef(null),c=Ke(t,l,o.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),a.jsx($e.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:a.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});Vle.displayName=Wle;var Ia="ScrollAreaScrollbar",E$=v.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=ro(Ia,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,l=e.orientation==="horizontal";return v.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),s.type==="hover"?a.jsx(uht,{...r,ref:t,forceMount:n}):s.type==="scroll"?a.jsx(dht,{...r,ref:t,forceMount:n}):s.type==="auto"?a.jsx(Gle,{...r,ref:t,forceMount:n}):s.type==="always"?a.jsx(C$,{...r,ref:t}):null});E$.displayName=Ia;var uht=v.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=ro(Ia,e.__scopeScrollArea),[i,o]=v.useState(!1);return v.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),a.jsx(Dr,{present:n||i,children:a.jsx(Gle,{"data-state":i?"visible":"hidden",...r,ref:t})})}),dht=v.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=ro(Ia,e.__scopeScrollArea),i=e.orientation==="horizontal",o=X_(()=>c("SCROLL_END"),100),[l,c]=lht("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),v.useEffect(()=>{const u=s.viewport,d=i?"scrollLeft":"scrollTop";if(u){let h=u[d];const f=()=>{const p=u[d];h!==p&&(c("SCROLL"),o()),h=p};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[s.viewport,i,c,o]),a.jsx(Dr,{present:n||l!=="hidden",children:a.jsx(C$,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:ge(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ge(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Gle=v.forwardRef((e,t)=>{const n=ro(Ia,e.__scopeScrollArea),{forceMount:r,...s}=e,[i,o]=v.useState(!1),l=e.orientation==="horizontal",c=X_(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?u:d)}},10);return cm(n.viewport,c),cm(n.content,c),a.jsx(Dr,{present:r||i,children:a.jsx(C$,{"data-state":i?"visible":"hidden",...s,ref:t})})}),C$=v.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=ro(Ia,e.__scopeScrollArea),i=v.useRef(null),o=v.useRef(0),[l,c]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=Jle(l.viewport,l.content),d={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:f=>i.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function h(f,p){return yht(f,o.current,l,p)}return n==="horizontal"?a.jsx(hht,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollLeft,p=_W(f,l,s.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollLeft=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollLeft=h(f,s.dir))}}):n==="vertical"?a.jsx(fht,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollTop,p=_W(f,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollTop=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollTop=h(f))}}):null}),hht=v.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=ro(Ia,e.__scopeScrollArea),[o,l]=v.useState(),c=v.useRef(null),u=Ke(t,c,i.onScrollbarXChange);return v.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(Kle,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Y_(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(f),Zle(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:pk(o.paddingLeft),paddingEnd:pk(o.paddingRight)}})}})}),fht=v.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=ro(Ia,e.__scopeScrollArea),[o,l]=v.useState(),c=v.useRef(null),u=Ke(t,c,i.onScrollbarYChange);return v.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(Kle,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Y_(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(f),Zle(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:pk(o.paddingTop),paddingEnd:pk(o.paddingBottom)}})}})}),[pht,qle]=Ule(Ia),Kle=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...f}=e,p=ro(Ia,n),[m,g]=v.useState(null),y=Ke(t,C=>g(C)),x=v.useRef(null),b=v.useRef(""),w=p.viewport,N=r.content-r.viewport,S=Kn(d),k=Kn(c),j=X_(h,10);function _(C){if(x.current){const A=C.clientX-x.current.left,O=C.clientY-x.current.top;u({x:A,y:O})}}return v.useEffect(()=>{const C=A=>{const O=A.target;(m==null?void 0:m.contains(O))&&S(A,N)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[w,m,N,S]),v.useEffect(k,[r,k]),cm(m,j),cm(p.content,j),a.jsx(pht,{scope:n,scrollbar:m,hasThumb:s,onThumbChange:Kn(i),onThumbPointerUp:Kn(o),onThumbPositionChange:k,onThumbPointerDown:Kn(l),children:a.jsx($e.div,{...f,ref:y,style:{position:"absolute",...f.style},onPointerDown:ge(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),x.current=m.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),_(C))}),onPointerMove:ge(e.onPointerMove,_),onPointerUp:ge(e.onPointerUp,C=>{const A=C.target;A.hasPointerCapture(C.pointerId)&&A.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=b.current,p.viewport&&(p.viewport.style.scrollBehavior=""),x.current=null})})})}),fk="ScrollAreaThumb",Yle=v.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=qle(fk,e.__scopeScrollArea);return a.jsx(Dr,{present:n||s.hasThumb,children:a.jsx(mht,{ref:t,...r})})}),mht=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,i=ro(fk,n),o=qle(fk,n),{onThumbPositionChange:l}=o,c=Ke(t,h=>o.onThumbChange(h)),u=v.useRef(void 0),d=X_(()=>{u.current&&(u.current(),u.current=void 0)},100);return v.useEffect(()=>{const h=i.viewport;if(h){const f=()=>{if(d(),!u.current){const p=xht(h,l);u.current=p,l()}};return l(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[i.viewport,d,l]),a.jsx($e.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ge(e.onPointerDownCapture,h=>{const p=h.target.getBoundingClientRect(),m=h.clientX-p.left,g=h.clientY-p.top;o.onThumbPointerDown({x:m,y:g})}),onPointerUp:ge(e.onPointerUp,o.onThumbPointerUp)})});Yle.displayName=fk;var T$="ScrollAreaCorner",Xle=v.forwardRef((e,t)=>{const n=ro(T$,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?a.jsx(ght,{...e,ref:t}):null});Xle.displayName=T$;var ght=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=ro(T$,n),[i,o]=v.useState(0),[l,c]=v.useState(0),u=!!(i&&l);return cm(s.scrollbarX,()=>{var h;const d=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),cm(s.scrollbarY,()=>{var h;const d=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?a.jsx($e.div,{...r,ref:t,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function pk(e){return e?parseInt(e,10):0}function Jle(e,t){const n=e/t;return isNaN(n)?0:n}function Y_(e){const t=Jle(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function yht(e,t,n,r="ltr"){const s=Y_(n),i=s/2,o=t||i,l=s-o,c=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,d=n.content-n.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return Qle([c,u],h)(e)}function _W(e,t,n="ltr"){const r=Y_(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,o=t.content-t.viewport,l=i-r,c=n==="ltr"?[0,o]:[o*-1,0],u=gx(e,c);return Qle([0,o],[0,l])(u)}function Qle(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function Zle(e,t){return e>0&&e<t}var xht=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},o=n.left!==i.left,l=n.top!==i.top;(o||l)&&t(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function X_(e,t){const n=Kn(e),r=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),v.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function cm(e,t){const n=Kn(t);rr(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}var ece=Hle,vht=Vle,bht=Xle;const A$=v.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(ece,{ref:r,className:me("relative overflow-hidden",e),...n,children:[a.jsx(vht,{className:"h-full w-full rounded-[inherit]",children:t}),a.jsx(tce,{}),a.jsx(bht,{})]}));A$.displayName=ece.displayName;const tce=v.forwardRef(({className:e,orientation:t="vertical",...n},r)=>a.jsx(E$,{ref:r,orientation:t,className:me("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:a.jsx(Yle,{className:"relative flex-1 rounded-full bg-border"})}));tce.displayName=E$.displayName;const wht=20,EW="clipboard-history";function Sht(){const[e,t]=v.useState([]),[n,r]=v.useState(!1);v.useEffect(()=>{try{const u=localStorage.getItem(EW);u&&t(JSON.parse(u))}catch(u){console.error("Failed to load clipboard history:",u)}},[]);const s=v.useCallback(u=>{try{localStorage.setItem(EW,JSON.stringify(u)),t(u)}catch(d){console.error("Failed to save clipboard history:",d)}},[]);v.useEffect(()=>{const u=async d=>{const h=window.getSelection(),f=h==null?void 0:h.toString().trim();if(f&&f.length>0){const p={id:Date.now().toString(),content:f,timestamp:Date.now()};t(m=>{const g=m.filter(x=>x.content!==f),y=[p,...g].slice(0,wht);return s(y),y})}};return document.addEventListener("copy",u),document.addEventListener("cut",u),()=>{document.removeEventListener("copy",u),document.removeEventListener("cut",u)}},[s]);const i=async u=>{try{await navigator.clipboard.writeText(u),J.success("Copied to clipboard"),r(!1)}catch(d){J.error("Failed to copy"),console.error("Copy failed:",d)}},o=u=>{const d=e.filter(h=>h.id!==u);s(d)},l=()=>{confirm("Clear all clipboard history?")&&(s([]),J.success("Clipboard history cleared"))},c=u=>{const h=Date.now()-u,f=Math.floor(h/6e4),p=Math.floor(h/36e5),m=Math.floor(h/864e5);return f<1?"Just now":f<60?`${f}m ago`:p<24?`${p}h ago`:`${m}d ago`};return a.jsxs(Ff,{open:n,onOpenChange:r,children:[a.jsx(zf,{asChild:!0,children:a.jsxs(U,{variant:"ghost",size:"sm",className:"relative",title:"Clipboard History",children:[a.jsx(WE,{className:"w-4 h-4"}),e.length>0&&a.jsx("span",{className:"absolute -top-1 -right-1 bg-blue-600 text-white text-xs rounded-full w-4 h-4 flex items-center justify-center",children:e.length>9?"9+":e.length})]})}),a.jsxs(vd,{className:"w-96 p-0",align:"end",children:[a.jsxs("div",{className:"p-3 border-b flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(WE,{className:"w-4 h-4"}),a.jsx("h3",{className:"font-semibold text-sm",children:"Clipboard History"})]}),e.length>0&&a.jsx(U,{variant:"ghost",size:"sm",onClick:l,className:"h-7 px-2 text-xs",children:"Clear All"})]}),e.length===0?a.jsxs("div",{className:"p-8 text-center text-gray-500",children:[a.jsx(WE,{className:"w-12 h-12 mx-auto mb-2 text-gray-400"}),a.jsx("p",{className:"text-sm",children:"No clipboard history yet"}),a.jsx("p",{className:"text-xs mt-1",children:"Copy text to see it here"})]}):a.jsx(A$,{className:"h-[400px]",children:a.jsx("div",{className:"p-2 space-y-1",children:e.map(u=>a.jsxs("div",{className:"group p-3 rounded-md hover:bg-gray-100 cursor-pointer flex items-start gap-2",children:[a.jsx(U,{variant:"ghost",size:"sm",onClick:()=>i(u.content),className:"flex-1 h-auto p-0 justify-start text-left hover:bg-transparent",children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm line-clamp-2 break-words",children:u.content}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:c(u.timestamp)})]})}),a.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx(U,{variant:"ghost",size:"sm",onClick:()=>i(u.content),className:"h-7 w-7 p-0",title:"Copy",children:a.jsx(tq,{className:"w-3 h-3"})}),a.jsx(U,{variant:"ghost",size:"sm",onClick:()=>o(u.id),className:"h-7 w-7 p-0 text-red-600 hover:text-red-700",title:"Remove",children:a.jsx(zo,{className:"w-3 h-3"})})]})]},u.id))})})]})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function O0(e){return e+.5|0}const Cc=(e,t,n)=>Math.max(Math.min(e,n),t);function Yg(e){return Cc(O0(e*2.55),0,255)}function Jc(e){return Cc(O0(e*255),0,255)}function el(e){return Cc(O0(e/2.55)/100,0,1)}function CW(e){return Cc(O0(e*100),0,100)}const Ei={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},pP=[..."0123456789ABCDEF"],Nht=e=>pP[e&15],kht=e=>pP[(e&240)>>4]+pP[e&15],xw=e=>(e&240)>>4===(e&15),jht=e=>xw(e.r)&&xw(e.g)&&xw(e.b)&&xw(e.a);function _ht(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&Ei[e[1]]*17,g:255&Ei[e[2]]*17,b:255&Ei[e[3]]*17,a:t===5?Ei[e[4]]*17:255}:(t===7||t===9)&&(n={r:Ei[e[1]]<<4|Ei[e[2]],g:Ei[e[3]]<<4|Ei[e[4]],b:Ei[e[5]]<<4|Ei[e[6]],a:t===9?Ei[e[7]]<<4|Ei[e[8]]:255})),n}const Eht=(e,t)=>e<255?t(e):"";function Cht(e){var t=jht(e)?Nht:kht;return e?"#"+t(e.r)+t(e.g)+t(e.b)+Eht(e.a,t):void 0}const Tht=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function nce(e,t,n){const r=t*Math.min(n,1-n),s=(i,o=(i+e/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function Aht(e,t,n){const r=(s,i=(s+e/60)%6)=>n-n*t*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function Oht(e,t,n){const r=nce(e,1,.5);let s;for(t+n>1&&(s=1/(t+n),t*=s,n*=s),s=0;s<3;s++)r[s]*=1-t-n,r[s]+=t;return r}function Mht(e,t,n,r,s){return e===s?(t-n)/r+(t<n?6:0):t===s?(n-e)/r+2:(e-t)/r+4}function O$(e){const n=e.r/255,r=e.g/255,s=e.b/255,i=Math.max(n,r,s),o=Math.min(n,r,s),l=(i+o)/2;let c,u,d;return i!==o&&(d=i-o,u=l>.5?d/(2-i-o):d/(i+o),c=Mht(n,r,s,d,i),c=c*60+.5),[c|0,u||0,l]}function M$(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(Jc)}function P$(e,t,n){return M$(nce,e,t,n)}function Pht(e,t,n){return M$(Oht,e,t,n)}function Dht(e,t,n){return M$(Aht,e,t,n)}function rce(e){return(e%360+360)%360}function Rht(e){const t=Tht.exec(e);let n=255,r;if(!t)return;t[5]!==r&&(n=t[6]?Yg(+t[5]):Jc(+t[5]));const s=rce(+t[2]),i=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?r=Pht(s,i,o):t[1]==="hsv"?r=Dht(s,i,o):r=P$(s,i,o),{r:r[0],g:r[1],b:r[2],a:n}}function Iht(e,t){var n=O$(e);n[0]=rce(n[0]+t),n=P$(n),e.r=n[0],e.g=n[1],e.b=n[2]}function Lht(e){if(!e)return;const t=O$(e),n=t[0],r=CW(t[1]),s=CW(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${s}%, ${el(e.a)})`:`hsl(${n}, ${r}%, ${s}%)`}const TW={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},AW={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function $ht(){const e={},t=Object.keys(AW),n=Object.keys(TW);let r,s,i,o,l;for(r=0;r<t.length;r++){for(o=l=t[r],s=0;s<n.length;s++)i=n[s],l=l.replace(i,TW[i]);i=parseInt(AW[o],16),e[l]=[i>>16&255,i>>8&255,i&255]}return e}let vw;function Bht(e){vw||(vw=$ht(),vw.transparent=[0,0,0,0]);const t=vw[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const Fht=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function zht(e){const t=Fht.exec(e);let n=255,r,s,i;if(t){if(t[7]!==r){const o=+t[7];n=t[8]?Yg(o):Cc(o*255,0,255)}return r=+t[1],s=+t[3],i=+t[5],r=255&(t[2]?Yg(r):Cc(r,0,255)),s=255&(t[4]?Yg(s):Cc(s,0,255)),i=255&(t[6]?Yg(i):Cc(i,0,255)),{r,g:s,b:i,a:n}}}function Uht(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${el(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const FT=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Xh=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Hht(e,t,n){const r=Xh(el(e.r)),s=Xh(el(e.g)),i=Xh(el(e.b));return{r:Jc(FT(r+n*(Xh(el(t.r))-r))),g:Jc(FT(s+n*(Xh(el(t.g))-s))),b:Jc(FT(i+n*(Xh(el(t.b))-i))),a:e.a+n*(t.a-e.a)}}function bw(e,t,n){if(e){let r=O$(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,t===0?360:1)),r=P$(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function sce(e,t){return e&&Object.assign(t||{},e)}function OW(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Jc(e[3]))):(t=sce(e,{r:0,g:0,b:0,a:1}),t.a=Jc(t.a)),t}function Wht(e){return e.charAt(0)==="r"?zht(e):Rht(e)}class vv{constructor(t){if(t instanceof vv)return t;const n=typeof t;let r;n==="object"?r=OW(t):n==="string"&&(r=_ht(t)||Bht(t)||Wht(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=sce(this._rgb);return t&&(t.a=el(t.a)),t}set rgb(t){this._rgb=OW(t)}rgbString(){return this._valid?Uht(this._rgb):void 0}hexString(){return this._valid?Cht(this._rgb):void 0}hslString(){return this._valid?Lht(this._rgb):void 0}mix(t,n){if(t){const r=this.rgb,s=t.rgb;let i;const o=n===i?.5:n,l=2*o-1,c=r.a-s.a,u=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;i=1-u,r.r=255&u*r.r+i*s.r+.5,r.g=255&u*r.g+i*s.g+.5,r.b=255&u*r.b+i*s.b+.5,r.a=o*r.a+(1-o)*s.a,this.rgb=r}return this}interpolate(t,n){return t&&(this._rgb=Hht(this._rgb,t._rgb,n)),this}clone(){return new vv(this.rgb)}alpha(t){return this._rgb.a=Jc(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=O0(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return bw(this._rgb,2,t),this}darken(t){return bw(this._rgb,2,-t),this}saturate(t){return bw(this._rgb,1,t),this}desaturate(t){return bw(this._rgb,1,-t),this}rotate(t){return Iht(this._rgb,t),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Wa(){}const Vht=(()=>{let e=0;return()=>e++})();function Bt(e){return e==null}function yr(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Ot(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Zi(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function ea(e,t){return Zi(e)?e:t}function pt(e,t){return typeof e>"u"?t:e}const Ght=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,ice=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function xn(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function Ut(e,t,n,r){let s,i,o;if(yr(e))for(i=e.length,s=0;s<i;s++)t.call(n,e[s],s);else if(Ot(e))for(o=Object.keys(e),i=o.length,s=0;s<i;s++)t.call(n,e[o[s]],o[s])}function mk(e,t){let n,r,s,i;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(s=e[n],i=t[n],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function gk(e){if(yr(e))return e.map(gk);if(Ot(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let s=0;for(;s<r;++s)t[n[s]]=gk(e[n[s]]);return t}return e}function oce(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function qht(e,t,n,r){if(!oce(e))return;const s=t[e],i=n[e];Ot(s)&&Ot(i)?bv(s,i,r):t[e]=gk(i)}function bv(e,t,n){const r=yr(t)?t:[t],s=r.length;if(!Ot(e))return e;n=n||{};const i=n.merger||qht;let o;for(let l=0;l<s;++l){if(o=r[l],!Ot(o))continue;const c=Object.keys(o);for(let u=0,d=c.length;u<d;++u)i(c[u],e,o,n)}return e}function Dy(e,t){return bv(e,t,{merger:Kht})}function Kht(e,t,n){if(!oce(e))return;const r=t[e],s=n[e];Ot(r)&&Ot(s)?Dy(r,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=gk(s))}const MW={"":e=>e,x:e=>e.x,y:e=>e.y};function Yht(e){const t=e.split("."),n=[];let r="";for(const s of t)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function Xht(e){const t=Yht(e);return n=>{for(const r of t){if(r==="")break;n=n&&n[r]}return n}}function rh(e,t){return(MW[t]||(MW[t]=Xht(t)))(e)}function D$(e){return e.charAt(0).toUpperCase()+e.slice(1)}const wv=e=>typeof e<"u",ou=e=>typeof e=="function",PW=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function Jht(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Ht=Math.PI,Xn=2*Ht,Qht=Xn+Ht,yk=Number.POSITIVE_INFINITY,Zht=Ht/180,wr=Ht/2,Tu=Ht/4,DW=Ht*2/3,ace=Math.log10,wa=Math.sign;function Ry(e,t,n){return Math.abs(e-t)<n}function RW(e){const t=Math.round(e);e=Ry(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(ace(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function eft(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(n|0)&&t.push(n),t.sort((s,i)=>s-i).pop(),t}function tft(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function Sv(e){return!tft(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function nft(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function rft(e,t,n){let r,s,i;for(r=0,s=e.length;r<s;r++)i=e[r][n],isNaN(i)||(t.min=Math.min(t.min,i),t.max=Math.max(t.max,i))}function dl(e){return e*(Ht/180)}function sft(e){return e*(180/Ht)}function IW(e){if(!Zi(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function lce(e,t){const n=t.x-e.x,r=t.y-e.y,s=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n);return i<-.5*Ht&&(i+=Xn),{angle:i,distance:s}}function mP(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function ift(e,t){return(e-t+Qht)%Xn-Ht}function So(e){return(e%Xn+Xn)%Xn}function Nv(e,t,n,r){const s=So(e),i=So(t),o=So(n),l=So(i-s),c=So(o-s),u=So(s-i),d=So(s-o);return s===i||s===o||r&&i===o||l>c&&u<d}function ls(e,t,n){return Math.max(t,Math.min(n,e))}function oft(e){return ls(e,-32768,32767)}function Tc(e,t,n,r=1e-6){return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function R$(e,t,n){n=n||(o=>e[o]<t);let r=e.length-1,s=0,i;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const ad=(e,t,n,r)=>R$(e,n,r?s=>{const i=e[s][t];return i<n||i===n&&e[s+1][t]===n}:s=>e[s][t]<n),aft=(e,t,n)=>R$(e,n,r=>e[r][t]>=n);function lft(e,t,n){let r=0,s=e.length;for(;r<s&&e[r]<t;)r++;for(;s>r&&e[s-1]>n;)s--;return r>0||s<e.length?e.slice(r,s):e}const cce=["push","pop","shift","splice","unshift"];function cft(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),cce.forEach(n=>{const r="_onData"+D$(n),s=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...i){const o=s.apply(this,i);return e._chartjs.listeners.forEach(l=>{typeof l[r]=="function"&&l[r](...i)}),o}})})}function LW(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(t);s!==-1&&r.splice(s,1),!(r.length>0)&&(cce.forEach(i=>{delete e[i]}),delete e._chartjs)}function uce(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const dce=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function hce(e,t){let n=[],r=!1;return function(...s){n=s,r||(r=!0,dce.call(window,()=>{r=!1,e.apply(t,n)}))}}function uft(e,t){let n;return function(...r){return t?(clearTimeout(n),n=setTimeout(e,t,r)):e.apply(this,r),t}}const I$=e=>e==="start"?"left":e==="end"?"right":"center",Qr=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,dft=(e,t,n,r)=>e===(r?"left":"right")?n:e==="center"?(t+n)/2:t;function hft(e,t,n){const r=t.length;let s=0,i=r;if(e._sorted){const{iScale:o,vScale:l,_parsed:c}=e,u=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,d=o.axis,{min:h,max:f,minDefined:p,maxDefined:m}=o.getUserBounds();if(p){if(s=Math.min(ad(c,d,h).lo,n?r:ad(t,d,o.getPixelForValue(h)).lo),u){const g=c.slice(0,s+1).reverse().findIndex(y=>!Bt(y[l.axis]));s-=Math.max(0,g)}s=ls(s,0,r-1)}if(m){let g=Math.max(ad(c,o.axis,f,!0).hi+1,n?0:ad(t,d,o.getPixelForValue(f),!0).hi+1);if(u){const y=c.slice(g-1).findIndex(x=>!Bt(x[l.axis]));g+=Math.max(0,y)}i=ls(g,s,r)-s}else i=r-s}return{start:s,count:i}}function fft(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,s={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=s,!0;const i=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,s),i}const ww=e=>e===0||e===1,$W=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Xn/n)),BW=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Xn/n)+1,Iy={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*wr)+1,easeOutSine:e=>Math.sin(e*wr),easeInOutSine:e=>-.5*(Math.cos(Ht*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>ww(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>ww(e)?e:$W(e,.075,.3),easeOutElastic:e=>ww(e)?e:BW(e,.075,.3),easeInOutElastic(e){return ww(e)?e:e<.5?.5*$W(e*2,.1125,.45):.5+.5*BW(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Iy.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Iy.easeInBounce(e*2)*.5:Iy.easeOutBounce(e*2-1)*.5+.5};function L$(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function FW(e){return L$(e)?e:new vv(e)}function zT(e){return L$(e)?e:new vv(e).saturate(.5).darken(.1).hexString()}const pft=["x","y","borderWidth","radius","tension"],mft=["color","borderColor","backgroundColor"];function gft(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:mft},numbers:{type:"number",properties:pft}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function yft(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const zW=new Map;function xft(e,t){t=t||{};const n=e+JSON.stringify(t);let r=zW.get(n);return r||(r=new Intl.NumberFormat(e,t),zW.set(n,r)),r}function $$(e,t,n){return xft(t,n).format(e)}const vft={values(e){return yr(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const r=this.chart.options.locale;let s,i=e;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(s="scientific"),i=bft(e,n)}const o=ace(Math.abs(i)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:s,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),$$(e,r,c)}};function bft(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var fce={formatters:vft};function wft(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:fce.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const sh=Object.create(null),gP=Object.create(null);function Ly(e,t){if(!t)return e;const n=t.split(".");for(let r=0,s=n.length;r<s;++r){const i=n[r];e=e[i]||(e[i]=Object.create(null))}return e}function UT(e,t,n){return typeof t=="string"?bv(Ly(e,t),n):bv(Ly(e,""),t)}class Sft{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>zT(s.backgroundColor),this.hoverBorderColor=(r,s)=>zT(s.borderColor),this.hoverColor=(r,s)=>zT(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return UT(this,t,n)}get(t){return Ly(this,t)}describe(t,n){return UT(gP,t,n)}override(t,n){return UT(sh,t,n)}route(t,n,r,s){const i=Ly(this,t),o=Ly(this,r),l="_"+n;Object.defineProperties(i,{[l]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const c=this[l],u=o[s];return Ot(c)?Object.assign({},u,c):pt(c,u)},set(c){this[l]=c}}})}apply(t){t.forEach(n=>n(this))}}var nr=new Sft({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[gft,yft,wft]);function Nft(e){return!e||Bt(e.size)||Bt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function UW(e,t,n,r,s){let i=t[s];return i||(i=t[s]=e.measureText(s).width,n.push(s)),i>r&&(r=i),r}function Au(e,t,n){const r=e.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((t-s)*r)/r+s}function HW(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function yP(e,t,n,r){pce(e,t,n,r,null)}function pce(e,t,n,r,s){let i,o,l,c,u,d,h,f;const p=t.pointStyle,m=t.rotation,g=t.radius;let y=(m||0)*Zht;if(p&&typeof p=="object"&&(i=p.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){e.save(),e.translate(n,r),e.rotate(y),e.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),e.restore();return}if(!(isNaN(g)||g<=0)){switch(e.beginPath(),p){default:s?e.ellipse(n,r,s/2,g,0,0,Xn):e.arc(n,r,g,0,Xn),e.closePath();break;case"triangle":d=s?s/2:g,e.moveTo(n+Math.sin(y)*d,r-Math.cos(y)*g),y+=DW,e.lineTo(n+Math.sin(y)*d,r-Math.cos(y)*g),y+=DW,e.lineTo(n+Math.sin(y)*d,r-Math.cos(y)*g),e.closePath();break;case"rectRounded":u=g*.516,c=g-u,o=Math.cos(y+Tu)*c,h=Math.cos(y+Tu)*(s?s/2-u:c),l=Math.sin(y+Tu)*c,f=Math.sin(y+Tu)*(s?s/2-u:c),e.arc(n-h,r-l,u,y-Ht,y-wr),e.arc(n+f,r-o,u,y-wr,y),e.arc(n+h,r+l,u,y,y+wr),e.arc(n-f,r+o,u,y+wr,y+Ht),e.closePath();break;case"rect":if(!m){c=Math.SQRT1_2*g,d=s?s/2:c,e.rect(n-d,r-c,2*d,2*c);break}y+=Tu;case"rectRot":h=Math.cos(y)*(s?s/2:g),o=Math.cos(y)*g,l=Math.sin(y)*g,f=Math.sin(y)*(s?s/2:g),e.moveTo(n-h,r-l),e.lineTo(n+f,r-o),e.lineTo(n+h,r+l),e.lineTo(n-f,r+o),e.closePath();break;case"crossRot":y+=Tu;case"cross":h=Math.cos(y)*(s?s/2:g),o=Math.cos(y)*g,l=Math.sin(y)*g,f=Math.sin(y)*(s?s/2:g),e.moveTo(n-h,r-l),e.lineTo(n+h,r+l),e.moveTo(n+f,r-o),e.lineTo(n-f,r+o);break;case"star":h=Math.cos(y)*(s?s/2:g),o=Math.cos(y)*g,l=Math.sin(y)*g,f=Math.sin(y)*(s?s/2:g),e.moveTo(n-h,r-l),e.lineTo(n+h,r+l),e.moveTo(n+f,r-o),e.lineTo(n-f,r+o),y+=Tu,h=Math.cos(y)*(s?s/2:g),o=Math.cos(y)*g,l=Math.sin(y)*g,f=Math.sin(y)*(s?s/2:g),e.moveTo(n-h,r-l),e.lineTo(n+h,r+l),e.moveTo(n+f,r-o),e.lineTo(n-f,r+o);break;case"line":o=s?s/2:Math.cos(y)*g,l=Math.sin(y)*g,e.moveTo(n-o,r-l),e.lineTo(n+o,r+l);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(y)*(s?s/2:g),r+Math.sin(y)*g);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function kv(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function B$(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function F$(e){e.restore()}function kft(e,t,n,r,s){if(!t)return e.lineTo(n.x,n.y);if(s==="middle"){const i=(t.x+n.x)/2;e.lineTo(i,t.y),e.lineTo(i,n.y)}else s==="after"!=!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function jft(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function _ft(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Bt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function Eft(e,t,n,r,s){if(s.strikethrough||s.underline){const i=e.measureText(r),o=t-i.actualBoundingBoxLeft,l=t+i.actualBoundingBoxRight,c=n-i.actualBoundingBoxAscent,u=n+i.actualBoundingBoxDescent,d=s.strikethrough?(c+u)/2:u;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(o,d),e.lineTo(l,d),e.stroke()}}function Cft(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function jv(e,t,n,r,s,i={}){const o=yr(t)?t:[t],l=i.strokeWidth>0&&i.strokeColor!=="";let c,u;for(e.save(),e.font=s.string,_ft(e,i),c=0;c<o.length;++c)u=o[c],i.backdrop&&Cft(e,i.backdrop),l&&(i.strokeColor&&(e.strokeStyle=i.strokeColor),Bt(i.strokeWidth)||(e.lineWidth=i.strokeWidth),e.strokeText(u,n,r,i.maxWidth)),e.fillText(u,n,r,i.maxWidth),Eft(e,n,r,u,i),r+=Number(s.lineHeight);e.restore()}function xk(e,t){const{x:n,y:r,w:s,h:i,radius:o}=t;e.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*Ht,Ht,!0),e.lineTo(n,r+i-o.bottomLeft),e.arc(n+o.bottomLeft,r+i-o.bottomLeft,o.bottomLeft,Ht,wr,!0),e.lineTo(n+s-o.bottomRight,r+i),e.arc(n+s-o.bottomRight,r+i-o.bottomRight,o.bottomRight,wr,0,!0),e.lineTo(n+s,r+o.topRight),e.arc(n+s-o.topRight,r+o.topRight,o.topRight,0,-wr,!0),e.lineTo(n+o.topLeft,r)}const Tft=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Aft=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Oft(e,t){const n=(""+e).match(Tft);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const Mft=e=>+e||0;function z$(e,t){const n={},r=Ot(t),s=r?Object.keys(t):t,i=Ot(e)?r?o=>pt(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of s)n[o]=Mft(i(o));return n}function mce(e){return z$(e,{top:"y",right:"x",bottom:"y",left:"x"})}function tp(e){return z$(e,["topLeft","topRight","bottomLeft","bottomRight"])}function eo(e){const t=mce(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function cs(e,t){e=e||{},t=t||nr.font;let n=pt(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let r=pt(e.style,t.style);r&&!(""+r).match(Aft)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:pt(e.family,t.family),lineHeight:Oft(pt(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:pt(e.weight,t.weight),string:""};return s.string=Nft(s),s}function Sw(e,t,n,r){let s,i,o;for(s=0,i=e.length;s<i;++s)if(o=e[s],o!==void 0&&o!==void 0)return o}function Pft(e,t,n){const{min:r,max:s}=e,i=ice(t,(s-r)/2),o=(l,c)=>n&&l===0?0:l+c;return{min:o(r,-Math.abs(i)),max:o(s,i)}}function Sh(e,t){return Object.assign(Object.create(e),t)}function U$(e,t=[""],n,r,s=()=>e[0]){const i=n||e;typeof r>"u"&&(r=vce("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:r,_getTarget:s,override:l=>U$([l,...e],t,i,r)};return new Proxy(o,{deleteProperty(l,c){return delete l[c],delete l._keys,delete e[0][c],!0},get(l,c){return yce(l,c,()=>zft(c,t,e,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(l,c){return VW(l).includes(c)},ownKeys(l){return VW(l)},set(l,c,u){const d=l._storage||(l._storage=s());return l[c]=d[c]=u,delete l._keys,!0}})}function um(e,t,n,r){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:gce(e,r),setContext:i=>um(e,i,n,r),override:i=>um(e.override(i),t,n,r)};return new Proxy(s,{deleteProperty(i,o){return delete i[o],delete e[o],!0},get(i,o,l){return yce(i,o,()=>Rft(i,o,l))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(i,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(i,o,l){return e[o]=l,delete i[o],!0}})}function gce(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:n,indexable:r,isScriptable:ou(n)?n:()=>n,isIndexable:ou(r)?r:()=>r}}const Dft=(e,t)=>e?e+D$(t):t,H$=(e,t)=>Ot(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function yce(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const r=n();return e[t]=r,r}function Rft(e,t,n){const{_proxy:r,_context:s,_subProxy:i,_descriptors:o}=e;let l=r[t];return ou(l)&&o.isScriptable(t)&&(l=Ift(t,l,e,n)),yr(l)&&l.length&&(l=Lft(t,l,e,o.isIndexable)),H$(t,l)&&(l=um(l,s,i&&i[t],o)),l}function Ift(e,t,n,r){const{_proxy:s,_context:i,_subProxy:o,_stack:l}=n;if(l.has(e))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+e);l.add(e);let c=t(i,o||r);return l.delete(e),H$(e,c)&&(c=W$(s._scopes,s,e,c)),c}function Lft(e,t,n,r){const{_proxy:s,_context:i,_subProxy:o,_descriptors:l}=n;if(typeof i.index<"u"&&r(e))return t[i.index%t.length];if(Ot(t[0])){const c=t,u=s._scopes.filter(d=>d!==c);t=[];for(const d of c){const h=W$(u,s,e,d);t.push(um(h,i,o&&o[e],l))}}return t}function xce(e,t,n){return ou(e)?e(t,n):e}const $ft=(e,t)=>e===!0?t:typeof e=="string"?rh(t,e):void 0;function Bft(e,t,n,r,s){for(const i of t){const o=$ft(n,i);if(o){e.add(o);const l=xce(o._fallback,n,s);if(typeof l<"u"&&l!==n&&l!==r)return l}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function W$(e,t,n,r){const s=t._rootScopes,i=xce(t._fallback,n,r),o=[...e,...s],l=new Set;l.add(r);let c=WW(l,o,n,i||n,r);return c===null||typeof i<"u"&&i!==n&&(c=WW(l,o,i,c,r),c===null)?!1:U$(Array.from(l),[""],s,i,()=>Fft(t,n,r))}function WW(e,t,n,r,s){for(;n;)n=Bft(e,t,n,r,s);return n}function Fft(e,t,n){const r=e._getTarget();t in r||(r[t]={});const s=r[t];return yr(s)&&Ot(n)?n:s||{}}function zft(e,t,n,r){let s;for(const i of t)if(s=vce(Dft(i,e),n),typeof s<"u")return H$(e,s)?W$(n,r,e,s):s}function vce(e,t){for(const n of t){if(!n)continue;const r=n[e];if(typeof r<"u")return r}}function VW(e){let t=e._keys;return t||(t=e._keys=Uft(e._scopes)),t}function Uft(e){const t=new Set;for(const n of e)for(const r of Object.keys(n).filter(s=>!s.startsWith("_")))t.add(r);return Array.from(t)}const Hft=Number.EPSILON||1e-14,dm=(e,t)=>t<e.length&&!e[t].skip&&e[t],bce=e=>e==="x"?"y":"x";function Wft(e,t,n,r){const s=e.skip?t:e,i=t,o=n.skip?t:n,l=mP(i,s),c=mP(o,i);let u=l/(l+c),d=c/(l+c);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const h=r*u,f=r*d;return{previous:{x:i.x-h*(o.x-s.x),y:i.y-h*(o.y-s.y)},next:{x:i.x+f*(o.x-s.x),y:i.y+f*(o.y-s.y)}}}function Vft(e,t,n){const r=e.length;let s,i,o,l,c,u=dm(e,0);for(let d=0;d<r-1;++d)if(c=u,u=dm(e,d+1),!(!c||!u)){if(Ry(t[d],0,Hft)){n[d]=n[d+1]=0;continue}s=n[d]/t[d],i=n[d+1]/t[d],l=Math.pow(s,2)+Math.pow(i,2),!(l<=9)&&(o=3/Math.sqrt(l),n[d]=s*o*t[d],n[d+1]=i*o*t[d])}}function Gft(e,t,n="x"){const r=bce(n),s=e.length;let i,o,l,c=dm(e,0);for(let u=0;u<s;++u){if(o=l,l=c,c=dm(e,u+1),!l)continue;const d=l[n],h=l[r];o&&(i=(d-o[n])/3,l[`cp1${n}`]=d-i,l[`cp1${r}`]=h-i*t[u]),c&&(i=(c[n]-d)/3,l[`cp2${n}`]=d+i,l[`cp2${r}`]=h+i*t[u])}}function qft(e,t="x"){const n=bce(t),r=e.length,s=Array(r).fill(0),i=Array(r);let o,l,c,u=dm(e,0);for(o=0;o<r;++o)if(l=c,c=u,u=dm(e,o+1),!!c){if(u){const d=u[t]-c[t];s[o]=d!==0?(u[n]-c[n])/d:0}i[o]=l?u?wa(s[o-1])!==wa(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}Vft(e,s,i),Gft(e,i,t)}function Nw(e,t,n){return Math.max(Math.min(e,n),t)}function Kft(e,t){let n,r,s,i,o,l=kv(e[0],t);for(n=0,r=e.length;n<r;++n)o=i,i=l,l=n<r-1&&kv(e[n+1],t),i&&(s=e[n],o&&(s.cp1x=Nw(s.cp1x,t.left,t.right),s.cp1y=Nw(s.cp1y,t.top,t.bottom)),l&&(s.cp2x=Nw(s.cp2x,t.left,t.right),s.cp2y=Nw(s.cp2y,t.top,t.bottom)))}function Yft(e,t,n,r,s){let i,o,l,c;if(t.spanGaps&&(e=e.filter(u=>!u.skip)),t.cubicInterpolationMode==="monotone")qft(e,s);else{let u=r?e[e.length-1]:e[0];for(i=0,o=e.length;i<o;++i)l=e[i],c=Wft(u,l,e[Math.min(i+1,o-(r?0:1))%o],t.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,u=l}t.capBezierPoints&&Kft(e,n)}function V$(){return typeof window<"u"&&typeof document<"u"}function G$(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function vk(e,t,n){let r;return typeof e=="string"?(r=parseInt(e,10),e.indexOf("%")!==-1&&(r=r/100*t.parentNode[n])):r=e,r}const J_=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function Xft(e,t){return J_(e).getPropertyValue(t)}const Jft=["top","right","bottom","left"];function Td(e,t,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const i=Jft[s];r[i]=parseFloat(e[t+"-"+i+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const Qft=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function Zft(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:s,offsetY:i}=r;let o=!1,l,c;if(Qft(s,i,e.target))l=s,c=i;else{const u=t.getBoundingClientRect();l=r.clientX-u.left,c=r.clientY-u.top,o=!0}return{x:l,y:c,box:o}}function Uu(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,s=J_(n),i=s.boxSizing==="border-box",o=Td(s,"padding"),l=Td(s,"border","width"),{x:c,y:u,box:d}=Zft(e,n),h=o.left+(d&&l.left),f=o.top+(d&&l.top);let{width:p,height:m}=t;return i&&(p-=o.width+l.width,m-=o.height+l.height),{x:Math.round((c-h)/p*n.width/r),y:Math.round((u-f)/m*n.height/r)}}function ept(e,t,n){let r,s;if(t===void 0||n===void 0){const i=e&&G$(e);if(!i)t=e.clientWidth,n=e.clientHeight;else{const o=i.getBoundingClientRect(),l=J_(i),c=Td(l,"border","width"),u=Td(l,"padding");t=o.width-u.width-c.width,n=o.height-u.height-c.height,r=vk(l.maxWidth,i,"clientWidth"),s=vk(l.maxHeight,i,"clientHeight")}}return{width:t,height:n,maxWidth:r||yk,maxHeight:s||yk}}const Ac=e=>Math.round(e*10)/10;function tpt(e,t,n,r){const s=J_(e),i=Td(s,"margin"),o=vk(s.maxWidth,e,"clientWidth")||yk,l=vk(s.maxHeight,e,"clientHeight")||yk,c=ept(e,t,n);let{width:u,height:d}=c;if(s.boxSizing==="content-box"){const f=Td(s,"border","width"),p=Td(s,"padding");u-=p.width+f.width,d-=p.height+f.height}return u=Math.max(0,u-i.width),d=Math.max(0,r?u/r:d-i.height),u=Ac(Math.min(u,o,c.maxWidth)),d=Ac(Math.min(d,l,c.maxHeight)),u&&!d&&(d=Ac(u/2)),(t!==void 0||n!==void 0)&&r&&c.height&&d>c.height&&(d=c.height,u=Ac(Math.floor(d*r))),{width:u,height:d}}function GW(e,t,n){const r=t||1,s=Ac(e.height*r),i=Ac(e.width*r);e.height=Ac(e.height),e.width=Ac(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==r||o.height!==s||o.width!==i?(e.currentDevicePixelRatio=r,o.height=s,o.width=i,e.ctx.setTransform(r,0,0,r,0,0),!0):!1}const npt=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};V$()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function qW(e,t){const n=Xft(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Hu(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function rpt(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:r==="middle"?n<.5?e.y:t.y:r==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function spt(e,t,n,r){const s={x:e.cp2x,y:e.cp2y},i={x:t.cp1x,y:t.cp1y},o=Hu(e,s,n),l=Hu(s,i,n),c=Hu(i,t,n),u=Hu(o,l,n),d=Hu(l,c,n);return Hu(u,d,n)}const ipt=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},opt=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function np(e,t,n){return e?ipt(t,n):opt()}function wce(e,t){let n,r;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function Sce(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Nce(e){return e==="angle"?{between:Nv,compare:ift,normalize:So}:{between:Tc,compare:(t,n)=>t-n,normalize:t=>t}}function KW({start:e,end:t,count:n,loop:r,style:s}){return{start:e%n,end:t%n,loop:r&&(t-e+1)%n===0,style:s}}function apt(e,t,n){const{property:r,start:s,end:i}=n,{between:o,normalize:l}=Nce(r),c=t.length;let{start:u,end:d,loop:h}=e,f,p;if(h){for(u+=c,d+=c,f=0,p=c;f<p&&o(l(t[u%c][r]),s,i);++f)u--,d--;u%=c,d%=c}return d<u&&(d+=c),{start:u,end:d,loop:h,style:e.style}}function lpt(e,t,n){if(!n)return[e];const{property:r,start:s,end:i}=n,o=t.length,{compare:l,between:c,normalize:u}=Nce(r),{start:d,end:h,loop:f,style:p}=apt(e,t,n),m=[];let g=!1,y=null,x,b,w;const N=()=>c(s,w,x)&&l(s,w)!==0,S=()=>l(i,x)===0||c(i,w,x),k=()=>g||N(),j=()=>!g||S();for(let _=d,C=d;_<=h;++_)b=t[_%o],!b.skip&&(x=u(b[r]),x!==w&&(g=c(x,s,i),y===null&&k()&&(y=l(x,s)===0?_:C),y!==null&&j()&&(m.push(KW({start:y,end:_,loop:f,count:o,style:p})),y=null),C=_,w=x));return y!==null&&m.push(KW({start:y,end:h,loop:f,count:o,style:p})),m}function cpt(e,t){const n=[],r=e.segments;for(let s=0;s<r.length;s++){const i=lpt(r[s],e.points,t);i.length&&n.push(...i)}return n}function upt(e,t,n,r){let s=0,i=t-1;if(n&&!r)for(;s<t&&!e[s].skip;)s++;for(;s<t&&e[s].skip;)s++;for(s%=t,n&&(i+=s);i>s&&e[i%t].skip;)i--;return i%=t,{start:s,end:i}}function dpt(e,t,n,r){const s=e.length,i=[];let o=t,l=e[t],c;for(c=t+1;c<=n;++c){const u=e[c%s];u.skip||u.stop?l.skip||(r=!1,i.push({start:t%s,end:(c-1)%s,loop:r}),t=o=u.stop?c:null):(o=c,l.skip&&(t=c)),l=u}return o!==null&&i.push({start:t%s,end:o%s,loop:r}),i}function hpt(e,t){const n=e.points,r=e.options.spanGaps,s=n.length;if(!s)return[];const i=!!e._loop,{start:o,end:l}=upt(n,s,i,r);if(r===!0)return YW(e,[{start:o,end:l,loop:i}],n,t);const c=l<o?l+s:l,u=!!e._fullLoop&&o===0&&l===s-1;return YW(e,dpt(n,o,c,u),n,t)}function YW(e,t,n,r){return!r||!r.setContext||!n?t:fpt(e,t,n,r)}function fpt(e,t,n,r){const s=e._chart.getContext(),i=XW(e.options),{_datasetIndex:o,options:{spanGaps:l}}=e,c=n.length,u=[];let d=i,h=t[0].start,f=h;function p(m,g,y,x){const b=l?-1:1;if(m!==g){for(m+=c;n[m%c].skip;)m-=b;for(;n[g%c].skip;)g+=b;m%c!==g%c&&(u.push({start:m%c,end:g%c,loop:y,style:x}),d=x,h=g%c)}}for(const m of t){h=l?h:m.start;let g=n[h%c],y;for(f=h+1;f<=m.end;f++){const x=n[f%c];y=XW(r.setContext(Sh(s,{type:"segment",p0:g,p1:x,p0DataIndex:(f-1)%c,p1DataIndex:f%c,datasetIndex:o}))),ppt(y,d)&&p(h,f-1,m.loop,d),g=x,d=y}h<f-1&&p(h,f-1,m.loop,d)}return u}function XW(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function ppt(e,t){if(!t)return!1;const n=[],r=function(s,i){return L$(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(e,r)!==JSON.stringify(t,r)}function kw(e,t,n){return e.options.clip?e[n]:t[n]}function mpt(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:kw(n,t,"left"),right:kw(n,t,"right"),top:kw(r,t,"top"),bottom:kw(r,t,"bottom")}:t}function gpt(e,t){const n=t._clip;if(n.disabled)return!1;const r=mpt(t,e.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class ypt{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,r,s){const i=n.listeners[s],o=n.duration;i.forEach(l=>l({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=dce.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const i=r.items;let o=i.length-1,l=!1,c;for(;o>=0;--o)c=i[o],c._active?(c._total>r.duration&&(r.duration=c._total),c.tick(t),l=!0):(i[o]=i[i.length-1],i.pop());l&&(s.draw(),this._notify(s,r,t,"progress")),i.length||(r.running=!1,this._notify(s,r,t,"complete"),r.initial=!1),n+=i.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let r=n.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,r)),r}listen(t,n,r){this._getAnims(t).listeners[n].push(r)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const r=n.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Ka=new ypt;const JW="transparent",xpt={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const r=FW(e||JW),s=r.valid&&FW(t||JW);return s&&s.valid?s.mix(r,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class vpt{constructor(t,n,r,s){const i=n[r];s=Sw([t.to,s,i,t.from]);const o=Sw([t.from,i,s]);this._active=!0,this._fn=t.fn||xpt[t.type||typeof o],this._easing=Iy[t.easing]||Iy.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=r,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(t,n,r){if(this._active){this._notify(!1);const s=this._target[this._prop],i=r-this._start,o=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=i,this._loop=!!t.loop,this._to=Sw([t.to,n,s,t.from]),this._from=Sw([t.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,r=this._duration,s=this._prop,i=this._from,o=this._loop,l=this._to;let c;if(this._active=i!==l&&(o||n<r),!this._active){this._target[s]=l,this._notify(!0);return}if(n<0){this._target[s]=i;return}c=n/r%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[s]=this._fn(i,l,c)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,r)=>{t.push({res:n,rej:r})})}_notify(t){const n=t?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][n]()}}class kce{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!Ot(t))return;const n=Object.keys(nr.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const i=t[s];if(!Ot(i))return;const o={};for(const l of n)o[l]=i[l];(yr(i.properties)&&i.properties||[s]).forEach(l=>{(l===s||!r.has(l))&&r.set(l,o)})})}_animateOptions(t,n){const r=n.options,s=wpt(t,r);if(!s)return[];const i=this._createAnimations(s,r);return r.$shared&&bpt(t.options.$animations,r).then(()=>{t.options=r},()=>{}),i}_createAnimations(t,n){const r=this._properties,s=[],i=t.$animations||(t.$animations={}),o=Object.keys(n),l=Date.now();let c;for(c=o.length-1;c>=0;--c){const u=o[c];if(u.charAt(0)==="$")continue;if(u==="options"){s.push(...this._animateOptions(t,n));continue}const d=n[u];let h=i[u];const f=r.get(u);if(h)if(f&&h.active()){h.update(f,d,l);continue}else h.cancel();if(!f||!f.duration){t[u]=d;continue}i[u]=h=new vpt(f,t,u,d),s.push(h)}return s}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const r=this._createAnimations(t,n);if(r.length)return Ka.add(this._chart,r),!0}}function bpt(e,t){const n=[],r=Object.keys(t);for(let s=0;s<r.length;s++){const i=e[r[s]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function wpt(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function QW(e,t){const n=e&&e.options||{},r=n.reverse,s=n.min===void 0?t:0,i=n.max===void 0?t:0;return{start:r?i:s,end:r?s:i}}function Spt(e,t,n){if(n===!1)return!1;const r=QW(e,n),s=QW(t,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function Npt(e){let t,n,r,s;return Ot(e)?(t=e.top,n=e.right,r=e.bottom,s=e.left):t=n=r=s=e,{top:t,right:n,bottom:r,left:s,disabled:e===!1}}function jce(e,t){const n=[],r=e._getSortedDatasetMetas(t);let s,i;for(s=0,i=r.length;s<i;++s)n.push(r[s].index);return n}function ZW(e,t,n,r={}){const s=e.keys,i=r.mode==="single";let o,l,c,u;if(t===null)return;let d=!1;for(o=0,l=s.length;o<l;++o){if(c=+s[o],c===n){if(d=!0,r.all)continue;break}u=e.values[c],Zi(u)&&(i||t===0||wa(t)===wa(u))&&(t+=u)}return!d&&!r.all?0:t}function kpt(e,t){const{iScale:n,vScale:r}=t,s=n.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",o=Object.keys(e),l=new Array(o.length);let c,u,d;for(c=0,u=o.length;c<u;++c)d=o[c],l[c]={[s]:d,[i]:e[d]};return l}function HT(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function jpt(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function _pt(e){const{min:t,max:n,minDefined:r,maxDefined:s}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function Ept(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function eV(e,t,n,r){for(const s of t.getMatchingVisibleMetas(r).reverse()){const i=e[s.index];if(n&&i>0||!n&&i<0)return s.index}return null}function tV(e,t){const{chart:n,_cachedMeta:r}=e,s=n._stacks||(n._stacks={}),{iScale:i,vScale:o,index:l}=r,c=i.axis,u=o.axis,d=jpt(i,o,r),h=t.length;let f;for(let p=0;p<h;++p){const m=t[p],{[c]:g,[u]:y}=m,x=m._stacks||(m._stacks={});f=x[u]=Ept(s,d,g),f[l]=y,f._top=eV(f,o,!0,r.type),f._bottom=eV(f,o,!1,r.type);const b=f._visualValues||(f._visualValues={});b[l]=y}}function WT(e,t){const n=e.scales;return Object.keys(n).filter(r=>n[r].axis===t).shift()}function Cpt(e,t){return Sh(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Tpt(e,t,n){return Sh(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function Eg(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const s of t){const i=s._stacks;if(!i||i[r]===void 0||i[r][n]===void 0)return;delete i[r][n],i[r]._visualValues!==void 0&&i[r]._visualValues[n]!==void 0&&delete i[r]._visualValues[n]}}}const VT=e=>e==="reset"||e==="none",nV=(e,t)=>t?e:Object.assign({},e),Apt=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:jce(n,!0),values:null};class Ad{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=HT(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Eg(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(h,f,p,m)=>h==="x"?f:h==="r"?m:p,i=n.xAxisID=pt(r.xAxisID,WT(t,"x")),o=n.yAxisID=pt(r.yAxisID,WT(t,"y")),l=n.rAxisID=pt(r.rAxisID,WT(t,"r")),c=n.indexAxis,u=n.iAxisID=s(c,i,o,l),d=n.vAxisID=s(c,o,i,l);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&LW(this._data,this),t._stacked&&Eg(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),r=this._data;if(Ot(n)){const s=this._cachedMeta;this._data=kpt(n,s)}else if(r!==n){if(r){LW(r,this);const s=this._cachedMeta;Eg(s),s._parsed=[]}n&&Object.isExtensible(n)&&cft(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const i=n._stacked;n._stacked=HT(n.vScale,n),n.stack!==r.stack&&(s=!0,Eg(n),n.stack=r.stack),this._resyncElements(t),(s||i!==n._stacked)&&(tV(this,n._parsed),n._stacked=HT(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:r,_data:s}=this,{iScale:i,_stacked:o}=r,l=i.axis;let c=t===0&&n===s.length?!0:r._sorted,u=t>0&&r._parsed[t-1],d,h,f;if(this._parsing===!1)r._parsed=s,r._sorted=!0,f=s;else{yr(s[t])?f=this.parseArrayData(r,s,t,n):Ot(s[t])?f=this.parseObjectData(r,s,t,n):f=this.parsePrimitiveData(r,s,t,n);const p=()=>h[l]===null||u&&h[l]<u[l];for(d=0;d<n;++d)r._parsed[d+t]=h=f[d],c&&(p()&&(c=!1),u=h);r._sorted=c}o&&tV(this,f)}parsePrimitiveData(t,n,r,s){const{iScale:i,vScale:o}=t,l=i.axis,c=o.axis,u=i.getLabels(),d=i===o,h=new Array(s);let f,p,m;for(f=0,p=s;f<p;++f)m=f+r,h[f]={[l]:d||i.parse(u[m],m),[c]:o.parse(n[m],m)};return h}parseArrayData(t,n,r,s){const{xScale:i,yScale:o}=t,l=new Array(s);let c,u,d,h;for(c=0,u=s;c<u;++c)d=c+r,h=n[d],l[c]={x:i.parse(h[0],d),y:o.parse(h[1],d)};return l}parseObjectData(t,n,r,s){const{xScale:i,yScale:o}=t,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=new Array(s);let d,h,f,p;for(d=0,h=s;d<h;++d)f=d+r,p=n[f],u[d]={x:i.parse(rh(p,l),f),y:o.parse(rh(p,c),f)};return u}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,r){const s=this.chart,i=this._cachedMeta,o=n[t.axis],l={keys:jce(s,!0),values:n._stacks[t.axis]._visualValues};return ZW(l,o,i.index,{mode:r})}updateRangeFromParsed(t,n,r,s){const i=r[n.axis];let o=i===null?NaN:i;const l=s&&r._stacks[n.axis];s&&l&&(s.values=l,o=ZW(s,i,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const r=this._cachedMeta,s=r._parsed,i=r._sorted&&t===r.iScale,o=s.length,l=this._getOtherScale(t),c=Apt(n,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=_pt(l);let f,p;function m(){p=s[f];const g=p[l.axis];return!Zi(p[t.axis])||d>g||h<g}for(f=0;f<o&&!(!m()&&(this.updateRangeFromParsed(u,t,p,c),i));++f);if(i){for(f=o-1;f>=0;--f)if(!m()){this.updateRangeFromParsed(u,t,p,c);break}}return u}getAllParsedValues(t){const n=this._cachedMeta._parsed,r=[];let s,i,o;for(s=0,i=n.length;s<i;++s)o=n[s][t.axis],Zi(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,r=n.iScale,s=n.vScale,i=this.getParsed(t);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=Npt(pt(this.options.clip,Spt(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],i=n.chartArea,o=[],l=this._drawStart||0,c=this._drawCount||s.length-l,u=this.options.drawActiveElementsOnTop;let d;for(r.dataset&&r.dataset.draw(t,i,l,c),d=l;d<l+c;++d){const h=s[d];h.hidden||(h.active&&u?o.push(h):h.draw(t,i))}for(d=0;d<o.length;++d)o[d].draw(t,i)}getStyle(t,n){const r=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,n,r){const s=this.getDataset();let i;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];i=o.$context||(o.$context=Tpt(this.getContext(),t,o)),i.parsed=this.getParsed(t),i.raw=s.data[t],i.index=i.dataIndex=t}else i=this.$context||(this.$context=Cpt(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=r,i}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",r){const s=n==="active",i=this._cachedDataOpts,o=t+"-"+n,l=i[o],c=this.enableOptionSharing&&wv(r);if(l)return nV(l,c);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,t),h=s?[`${t}Hover`,"hover",t,""]:[t,""],f=u.getOptionScopes(this.getDataset(),d),p=Object.keys(nr.elements[t]),m=()=>this.getContext(r,s,n),g=u.resolveNamedOptions(f,p,m,h);return g.$shared&&(g.$shared=c,i[o]=Object.freeze(nV(g,c))),g}_resolveAnimations(t,n,r){const s=this.chart,i=this._cachedDataOpts,o=`animation-${n}`,l=i[o];if(l)return l;let c;if(s.options.animation!==!1){const d=this.chart.config,h=d.datasetAnimationScopeKeys(this._type,n),f=d.getOptionScopes(this.getDataset(),h);c=d.createResolver(f,this.getContext(t,r,n))}const u=new kce(s,c&&c.animations);return c&&c._cacheable&&(i[o]=Object.freeze(u)),u}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||VT(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const r=this.resolveDataElementOptions(t,n),s=this._sharedOptions,i=this.getSharedOptions(r),o=this.includeOptions(n,i)||i!==s;return this.updateSharedOptions(i,n,r),{sharedOptions:i,includeOptions:o}}updateElement(t,n,r,s){VT(s)?Object.assign(t,r):this._resolveAnimations(n,s).update(t,r)}updateSharedOptions(t,n,r){t&&!VT(n)&&this._resolveAnimations(void 0,n).update(t,r)}_setStyle(t,n,r,s){t.active=s;const i=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(t,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(t,n,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,n,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,r=this._cachedMeta.data;for(const[l,c,u]of this._syncList)this[l](c,u);this._syncList=[];const s=r.length,i=n.length,o=Math.min(i,s);o&&this.parse(0,o),i>s?this._insertElements(s,i-s,t):i<s&&this._removeElements(i,s-i)}_insertElements(t,n,r=!0){const s=this._cachedMeta,i=s.data,o=t+n;let l;const c=u=>{for(u.length+=n,l=u.length-1;l>=o;l--)u[l]=u[l-n]};for(c(i),l=t;l<o;++l)i[l]=new this.dataElementType;this._parsing&&c(s._parsed),this.parse(t,n),r&&this.updateElements(i,t,n,"reset")}updateElements(t,n,r,s){}_removeElements(t,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(t,n);r._stacked&&Eg(r,s)}r.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,r,s]=t;this[n](r,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Ie(Ad,"defaults",{}),Ie(Ad,"datasetElementType",null),Ie(Ad,"dataElementType",null);function Opt(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let r=[];for(let s=0,i=n.length;s<i;s++)r=r.concat(n[s].controller.getAllParsedValues(e));e._cache.$bar=uce(r.sort((s,i)=>s-i))}return e._cache.$bar}function Mpt(e){const t=e.iScale,n=Opt(t,e.type);let r=t._length,s,i,o,l;const c=()=>{o===32767||o===-32768||(wv(l)&&(r=Math.min(r,Math.abs(o-l)||r)),l=o)};for(s=0,i=n.length;s<i;++s)o=t.getPixelForValue(n[s]),c();for(l=void 0,s=0,i=t.ticks.length;s<i;++s)o=t.getPixelForTick(s),c();return r}function Ppt(e,t,n,r){const s=n.barThickness;let i,o;return Bt(s)?(i=t.min*n.categoryPercentage,o=n.barPercentage):(i=s*r,o=1),{chunk:i/r,ratio:o,start:t.pixels[e]-i/2}}function Dpt(e,t,n,r){const s=t.pixels,i=s[e];let o=e>0?s[e-1]:null,l=e<s.length-1?s[e+1]:null;const c=n.categoryPercentage;o===null&&(o=i-(l===null?t.end-t.start:l-i)),l===null&&(l=i+i-o);const u=i-(i-Math.min(o,l))/2*c;return{chunk:Math.abs(l-o)/2*c/r,ratio:n.barPercentage,start:u}}function Rpt(e,t,n,r){const s=n.parse(e[0],r),i=n.parse(e[1],r),o=Math.min(s,i),l=Math.max(s,i);let c=o,u=l;Math.abs(o)>Math.abs(l)&&(c=l,u=o),t[n.axis]=u,t._custom={barStart:c,barEnd:u,start:s,end:i,min:o,max:l}}function _ce(e,t,n,r){return yr(e)?Rpt(e,t,n,r):t[n.axis]=n.parse(e,r),t}function rV(e,t,n,r){const s=e.iScale,i=e.vScale,o=s.getLabels(),l=s===i,c=[];let u,d,h,f;for(u=n,d=n+r;u<d;++u)f=t[u],h={},h[s.axis]=l||s.parse(o[u],u),c.push(_ce(f,h,i,u));return c}function GT(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function Ipt(e,t,n){return e!==0?wa(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function Lpt(e){let t,n,r,s,i;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(s="end",i="start"):(s="start",i="end"),{start:n,end:r,reverse:t,top:s,bottom:i}}function $pt(e,t,n,r){let s=t.borderSkipped;const i={};if(!s){e.borderSkipped=i;return}if(s===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:l,reverse:c,top:u,bottom:d}=Lpt(e);s==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?s=u:(n._bottom||0)===r?s=d:(i[sV(d,o,l,c)]=!0,s=u)),i[sV(s,o,l,c)]=!0,e.borderSkipped=i}function sV(e,t,n,r){return r?(e=Bpt(e,t,n),e=iV(e,n,t)):e=iV(e,t,n),e}function Bpt(e,t,n){return e===t?n:e===n?t:e}function iV(e,t,n){return e==="start"?t:e==="end"?n:e}function Fpt(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class h1 extends Ad{parsePrimitiveData(t,n,r,s){return rV(t,n,r,s)}parseArrayData(t,n,r,s){return rV(t,n,r,s)}parseObjectData(t,n,r,s){const{iScale:i,vScale:o}=t,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=i.axis==="x"?l:c,d=o.axis==="x"?l:c,h=[];let f,p,m,g;for(f=r,p=r+s;f<p;++f)g=n[f],m={},m[i.axis]=i.parse(rh(g,u),f),h.push(_ce(rh(g,d),m,o,f));return h}updateRangeFromParsed(t,n,r,s){super.updateRangeFromParsed(t,n,r,s);const i=r._custom;i&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,i.min),t.max=Math.max(t.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:r,vScale:s}=n,i=this.getParsed(t),o=i._custom,l=GT(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(i[s.axis]);return{label:""+r.getLabelForValue(i[r.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,r,s){const i=s==="reset",{index:o,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),u=l.isHorizontal(),d=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(n,s);for(let p=n;p<n+r;p++){const m=this.getParsed(p),g=i||Bt(m[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(p),y=this._calculateBarIndexPixels(p,d),x=(m._stacks||{})[l.axis],b={horizontal:u,base:g.base,enableBorderRadius:!x||GT(m._custom)||o===x._top||o===x._bottom,x:u?g.head:y.center,y:u?y.center:g.head,height:u?y.size:Math.abs(g.size),width:u?Math.abs(g.size):y.size};f&&(b.options=h||this.resolveDataElementOptions(p,t[p].active?"active":s));const w=b.options||t[p].options;$pt(b,w,x,o),Fpt(b,w,d.ratio),this.updateElement(t[p],p,b,s)}}_getStacks(t,n){const{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),i=r.options.stacked,o=[],l=this._cachedMeta.controller.getParsed(n),c=l&&l[r.axis],u=d=>{const h=d._parsed.find(p=>p[r.axis]===c),f=h&&h[d.vScale.axis];if(Bt(f)||isNaN(f))return!0};for(const d of s)if(!(n!==void 0&&u(d))&&((i===!1||o.indexOf(d.stack)===-1||i===void 0&&d.stack===void 0)&&o.push(d.stack),d.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(t).filter(r=>t[r].axis===n).shift()}_getAxis(){const t={},n=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)t[pt(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(t)}_getStackIndex(t,n,r){const s=this._getStacks(t,r),i=n!==void 0?s.indexOf(n):-1;return i===-1?s.length-1:i}_getRuler(){const t=this.options,n=this._cachedMeta,r=n.iScale,s=[];let i,o;for(i=0,o=n.data.length;i<o;++i)s.push(r.getPixelForValue(this.getParsed(i)[r.axis],i));const l=t.barThickness;return{min:l||Mpt(n),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:l?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:r,index:s},options:{base:i,minBarLength:o}}=this,l=i||0,c=this.getParsed(t),u=c._custom,d=GT(u);let h=c[n.axis],f=0,p=r?this.applyStack(n,c,r):h,m,g;p!==h&&(f=p-h,p=h),d&&(h=u.barStart,p=u.barEnd-u.barStart,h!==0&&wa(h)!==wa(u.barEnd)&&(f=0),f+=h);const y=!Bt(i)&&!d?i:f;let x=n.getPixelForValue(y);if(this.chart.getDataVisibility(t)?m=n.getPixelForValue(f+p):m=x,g=m-x,Math.abs(g)<o){g=Ipt(g,n,l)*o,h===l&&(x-=g/2);const b=n.getPixelForDecimal(0),w=n.getPixelForDecimal(1),N=Math.min(b,w),S=Math.max(b,w);x=Math.max(Math.min(x,S),N),m=x+g,r&&!d&&(c._stacks[n.axis]._visualValues[s]=n.getValueForPixel(m)-n.getValueForPixel(x))}if(x===n.getPixelForValue(l)){const b=wa(g)*n.getLineWidthForValue(l)/2;x+=b,g-=b}return{size:g,base:x,head:m,center:m+g/2}}_calculateBarIndexPixels(t,n){const r=n.scale,s=this.options,i=s.skipNull,o=pt(s.maxBarThickness,1/0);let l,c;const u=this._getAxisCount();if(n.grouped){const d=i?this._getStackCount(t):n.stackCount,h=s.barThickness==="flex"?Dpt(t,n,s,d*u):Ppt(t,n,s,d*u),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,p=this._getAxis().indexOf(pt(f,this.getFirstScaleIdForIndexAxis())),m=this._getStackIndex(this.index,this._cachedMeta.stack,i?t:void 0)+p;l=h.start+h.chunk*m+h.chunk/2,c=Math.min(o,h.chunk*h.ratio)}else l=r.getPixelForValue(this.getParsed(t)[r.axis],t),c=Math.min(o,n.min*n.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const t=this._cachedMeta,n=t.vScale,r=t.data,s=r.length;let i=0;for(;i<s;++i)this.getParsed(i)[n.axis]!==null&&!r[i].hidden&&r[i].draw(this._ctx)}}Ie(h1,"id","bar"),Ie(h1,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Ie(h1,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function zpt(e,t,n){let r=1,s=1,i=0,o=0;if(t<Xn){const l=e,c=l+t,u=Math.cos(l),d=Math.sin(l),h=Math.cos(c),f=Math.sin(c),p=(w,N,S)=>Nv(w,l,c,!0)?1:Math.max(N,N*n,S,S*n),m=(w,N,S)=>Nv(w,l,c,!0)?-1:Math.min(N,N*n,S,S*n),g=p(0,u,h),y=p(wr,d,f),x=m(Ht,u,h),b=m(Ht+wr,d,f);r=(g-x)/2,s=(y-b)/2,i=-(g+x)/2,o=-(y+b)/2}return{ratioX:r,ratioY:s,offsetX:i,offsetY:o}}class Xg extends Ad{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const r=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=r;else{let i=c=>+r[c];if(Ot(r[t])){const{key:c="value"}=this._parsing;i=u=>+rh(r[u],c)}let o,l;for(o=t,l=t+n;o<l;++o)s._parsed[o]=i(o)}}_getRotation(){return dl(this.options.rotation-90)}_getCircumference(){return dl(this.options.circumference)}_getRotationExtents(){let t=Xn,n=-Xn;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const s=this.chart.getDatasetMeta(r).controller,i=s._getRotation(),o=s._getCircumference();t=Math.min(t,i),n=Math.max(n,i+o)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:r}=n,s=this._cachedMeta,i=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,l=Math.max((Math.min(r.width,r.height)-o)/2,0),c=Math.min(Ght(this.options.cutout,l),1),u=this._getRingWeight(this.index),{circumference:d,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:m,offsetY:g}=zpt(h,d,c),y=(r.width-o)/f,x=(r.height-o)/p,b=Math.max(Math.min(y,x)/2,0),w=ice(this.options.radius,b),N=Math.max(w*c,0),S=(w-N)/this._getVisibleDatasetWeightTotal();this.offsetX=m*w,this.offsetY=g*w,s.total=this.calculateTotal(),this.outerRadius=w-S*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-S*u,0),this.updateElements(i,0,i.length,t)}_circumference(t,n){const r=this.options,s=this._cachedMeta,i=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*i/Xn)}updateElements(t,n,r,s){const i=s==="reset",o=this.chart,l=o.chartArea,u=o.options.animation,d=(l.left+l.right)/2,h=(l.top+l.bottom)/2,f=i&&u.animateScale,p=f?0:this.innerRadius,m=f?0:this.outerRadius,{sharedOptions:g,includeOptions:y}=this._getSharedOptions(n,s);let x=this._getRotation(),b;for(b=0;b<n;++b)x+=this._circumference(b,i);for(b=n;b<n+r;++b){const w=this._circumference(b,i),N=t[b],S={x:d+this.offsetX,y:h+this.offsetY,startAngle:x,endAngle:x+w,circumference:w,outerRadius:m,innerRadius:p};y&&(S.options=g||this.resolveDataElementOptions(b,N.active?"active":s)),x+=w,this.updateElement(N,b,S,s)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let r=0,s;for(s=0;s<n.length;s++){const i=t._parsed[s];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(r+=Math.abs(i))}return r}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?Xn*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart,s=r.data.labels||[],i=$$(n._parsed[t],r.options.locale);return{label:s[t]||"",value:i}}getMaxBorderWidth(t){let n=0;const r=this.chart;let s,i,o,l,c;if(!t){for(s=0,i=r.data.datasets.length;s<i;++s)if(r.isDatasetVisible(s)){o=r.getDatasetMeta(s),t=o.data,l=o.controller;break}}if(!t)return 0;for(s=0,i=t.length;s<i;++s)c=l.resolveDataElementOptions(s),c.borderAlign!=="inner"&&(n=Math.max(n,c.borderWidth||0,c.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let r=0,s=t.length;r<s;++r){const i=this.resolveDataElementOptions(r);n=Math.max(n,i.offset||0,i.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(t){return Math.max(pt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Ie(Xg,"id","doughnut"),Ie(Xg,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Ie(Xg,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),Ie(Xg,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data,{labels:{pointStyle:r,textAlign:s,color:i,useBorderRadius:o,borderRadius:l}}=t.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((c,u)=>{const h=t.getDatasetMeta(0).controller.getStyle(u);return{text:c,fillStyle:h.backgroundColor,fontColor:i,hidden:!t.getDataVisibility(u),lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:h.borderWidth,strokeStyle:h.borderColor,textAlign:s,pointStyle:r,borderRadius:o&&(l||h.borderRadius),index:u}}):[]}},onClick(t,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class f1 extends Ad{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:r,data:s=[],_dataset:i}=n,o=this.chart._animationsDisabled;let{start:l,count:c}=hft(n,s,o);this._drawStart=l,this._drawCount=c,fft(n)&&(l=0,c=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=s;const u=this.resolveDatasetElementOptions(t);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:u},t),this.updateElements(s,l,c,t)}updateElements(t,n,r,s){const i=s==="reset",{iScale:o,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:h}=this._getSharedOptions(n,s),f=o.axis,p=l.axis,{spanGaps:m,segment:g}=this.options,y=Sv(m)?m:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||i||s==="none",b=n+r,w=t.length;let N=n>0&&this.getParsed(n-1);for(let S=0;S<w;++S){const k=t[S],j=x?k:{};if(S<n||S>=b){j.skip=!0;continue}const _=this.getParsed(S),C=Bt(_[p]),A=j[f]=o.getPixelForValue(_[f],S),O=j[p]=i||C?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,_,c):_[p],S);j.skip=isNaN(A)||isNaN(O)||C,j.stop=S>0&&Math.abs(_[f]-N[f])>y,g&&(j.parsed=_,j.raw=u.data[S]),h&&(j.options=d||this.resolveDataElementOptions(S,k.active?"active":s)),x||this.updateElement(k,S,j,s),N=_}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,r=n.options&&n.options.borderWidth||0,s=t.data||[];if(!s.length)return r;const i=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,i,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}Ie(f1,"id","line"),Ie(f1,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Ie(f1,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class xP extends Xg{}Ie(xP,"id","pie"),Ie(xP,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function Ou(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class q${constructor(t){Ie(this,"options");this.options=t||{}}static override(t){Object.assign(q$.prototype,t)}init(){}formats(){return Ou()}parse(){return Ou()}format(){return Ou()}add(){return Ou()}diff(){return Ou()}startOf(){return Ou()}endOf(){return Ou()}}var Upt={_date:q$};function Hpt(e,t,n,r){const{controller:s,data:i,_sorted:o}=e,l=s._cachedMeta.iScale,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(l&&t===l.axis&&t!=="r"&&o&&i.length){const u=l._reversePixels?aft:ad;if(r){if(s._sharedOptions){const d=i[0],h=typeof d.getRange=="function"&&d.getRange(t);if(h){const f=u(i,t,n-h),p=u(i,t,n+h);return{lo:f.lo,hi:p.hi}}}}else{const d=u(i,t,n);if(c){const{vScale:h}=s._cachedMeta,{_parsed:f}=e,p=f.slice(0,d.lo+1).reverse().findIndex(g=>!Bt(g[h.axis]));d.lo-=Math.max(0,p);const m=f.slice(d.hi).findIndex(g=>!Bt(g[h.axis]));d.hi+=Math.max(0,m)}return d}}return{lo:0,hi:i.length-1}}function Q_(e,t,n,r,s){const i=e.getSortedVisibleDatasetMetas(),o=n[t];for(let l=0,c=i.length;l<c;++l){const{index:u,data:d}=i[l],{lo:h,hi:f}=Hpt(i[l],t,o,s);for(let p=h;p<=f;++p){const m=d[p];m.skip||r(m,u,p)}}}function Wpt(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(r,s){const i=t?Math.abs(r.x-s.x):0,o=n?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function qT(e,t,n,r,s){const i=[];return!s&&!e.isPointInArea(t)||Q_(e,n,t,function(l,c,u){!s&&!kv(l,e.chartArea,0)||l.inRange(t.x,t.y,r)&&i.push({element:l,datasetIndex:c,index:u})},!0),i}function Vpt(e,t,n,r){let s=[];function i(o,l,c){const{startAngle:u,endAngle:d}=o.getProps(["startAngle","endAngle"],r),{angle:h}=lce(o,{x:t.x,y:t.y});Nv(h,u,d)&&s.push({element:o,datasetIndex:l,index:c})}return Q_(e,n,t,i),s}function Gpt(e,t,n,r,s,i){let o=[];const l=Wpt(n);let c=Number.POSITIVE_INFINITY;function u(d,h,f){const p=d.inRange(t.x,t.y,s);if(r&&!p)return;const m=d.getCenterPoint(s);if(!(!!i||e.isPointInArea(m))&&!p)return;const y=l(t,m);y<c?(o=[{element:d,datasetIndex:h,index:f}],c=y):y===c&&o.push({element:d,datasetIndex:h,index:f})}return Q_(e,n,t,u),o}function KT(e,t,n,r,s,i){return!i&&!e.isPointInArea(t)?[]:n==="r"&&!r?Vpt(e,t,n,s):Gpt(e,t,n,r,s,i)}function oV(e,t,n,r,s){const i=[],o=n==="x"?"inXRange":"inYRange";let l=!1;return Q_(e,n,t,(c,u,d)=>{c[o]&&c[o](t[n],s)&&(i.push({element:c,datasetIndex:u,index:d}),l=l||c.inRange(t.x,t.y,s))}),r&&!l?[]:i}var qpt={modes:{index(e,t,n,r){const s=Uu(t,e),i=n.axis||"x",o=n.includeInvisible||!1,l=n.intersect?qT(e,s,i,r,o):KT(e,s,i,!1,r,o),c=[];return l.length?(e.getSortedVisibleDatasetMetas().forEach(u=>{const d=l[0].index,h=u.data[d];h&&!h.skip&&c.push({element:h,datasetIndex:u.index,index:d})}),c):[]},dataset(e,t,n,r){const s=Uu(t,e),i=n.axis||"xy",o=n.includeInvisible||!1;let l=n.intersect?qT(e,s,i,r,o):KT(e,s,i,!1,r,o);if(l.length>0){const c=l[0].datasetIndex,u=e.getDatasetMeta(c).data;l=[];for(let d=0;d<u.length;++d)l.push({element:u[d],datasetIndex:c,index:d})}return l},point(e,t,n,r){const s=Uu(t,e),i=n.axis||"xy",o=n.includeInvisible||!1;return qT(e,s,i,r,o)},nearest(e,t,n,r){const s=Uu(t,e),i=n.axis||"xy",o=n.includeInvisible||!1;return KT(e,s,i,n.intersect,r,o)},x(e,t,n,r){const s=Uu(t,e);return oV(e,s,"x",n.intersect,r)},y(e,t,n,r){const s=Uu(t,e);return oV(e,s,"y",n.intersect,r)}}};const Ece=["left","top","right","bottom"];function Cg(e,t){return e.filter(n=>n.pos===t)}function aV(e,t){return e.filter(n=>Ece.indexOf(n.pos)===-1&&n.box.axis===t)}function Tg(e,t){return e.sort((n,r)=>{const s=t?r:n,i=t?n:r;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function Kpt(e){const t=[];let n,r,s,i,o,l;for(n=0,r=(e||[]).length;n<r;++n)s=e[n],{position:i,options:{stack:o,stackWeight:l=1}}=s,t.push({index:n,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&i+o,stackWeight:l});return t}function Ypt(e){const t={};for(const n of e){const{stack:r,pos:s,stackWeight:i}=n;if(!r||!Ece.includes(s))continue;const o=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return t}function Xpt(e,t){const n=Ypt(e),{vBoxMaxWidth:r,hBoxMaxHeight:s}=t;let i,o,l;for(i=0,o=e.length;i<o;++i){l=e[i];const{fullSize:c}=l.box,u=n[l.stack],d=u&&l.stackWeight/u.weight;l.horizontal?(l.width=d?d*r:c&&t.availableWidth,l.height=s):(l.width=r,l.height=d?d*s:c&&t.availableHeight)}return n}function Jpt(e){const t=Kpt(e),n=Tg(t.filter(u=>u.box.fullSize),!0),r=Tg(Cg(t,"left"),!0),s=Tg(Cg(t,"right")),i=Tg(Cg(t,"top"),!0),o=Tg(Cg(t,"bottom")),l=aV(t,"x"),c=aV(t,"y");return{fullSize:n,leftAndTop:r.concat(i),rightAndBottom:s.concat(c).concat(o).concat(l),chartArea:Cg(t,"chartArea"),vertical:r.concat(s).concat(c),horizontal:i.concat(o).concat(l)}}function lV(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function Cce(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function Qpt(e,t,n,r){const{pos:s,box:i}=n,o=e.maxPadding;if(!Ot(s)){n.size&&(e[s]-=n.size);const h=r[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?i.height:i.width),n.size=h.size/h.count,e[s]+=n.size}i.getPadding&&Cce(o,i.getPadding());const l=Math.max(0,t.outerWidth-lV(o,e,"left","right")),c=Math.max(0,t.outerHeight-lV(o,e,"top","bottom")),u=l!==e.w,d=c!==e.h;return e.w=l,e.h=c,n.horizontal?{same:u,other:d}:{same:d,other:u}}function Zpt(e){const t=e.maxPadding;function n(r){const s=Math.max(t[r]-e[r],0);return e[r]+=s,s}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function emt(e,t){const n=t.maxPadding;function r(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{i[o]=Math.max(t[o],n[o])}),i}return r(e?["left","right"]:["top","bottom"])}function Jg(e,t,n,r){const s=[];let i,o,l,c,u,d;for(i=0,o=e.length,u=0;i<o;++i){l=e[i],c=l.box,c.update(l.width||t.w,l.height||t.h,emt(l.horizontal,t));const{same:h,other:f}=Qpt(t,n,l,r);u|=h&&s.length,d=d||f,c.fullSize||s.push(l)}return u&&Jg(s,t,n,r)||d}function jw(e,t,n,r,s){e.top=n,e.left=t,e.right=t+r,e.bottom=n+s,e.width=r,e.height=s}function cV(e,t,n,r){const s=n.padding;let{x:i,y:o}=t;for(const l of e){const c=l.box,u=r[l.stack]||{placed:0,weight:1},d=l.stackWeight/u.weight||1;if(l.horizontal){const h=t.w*d,f=u.size||c.height;wv(u.start)&&(o=u.start),c.fullSize?jw(c,s.left,o,n.outerWidth-s.right-s.left,f):jw(c,t.left+u.placed,o,h,f),u.start=o,u.placed+=h,o=c.bottom}else{const h=t.h*d,f=u.size||c.width;wv(u.start)&&(i=u.start),c.fullSize?jw(c,i,s.top,f,n.outerHeight-s.bottom-s.top):jw(c,i,t.top+u.placed,f,h),u.start=i,u.placed+=h,i=c.right}}t.x=i,t.y=o}var zi={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const s=eo(e.options.layout.padding),i=Math.max(t-s.width,0),o=Math.max(n-s.height,0),l=Jpt(e.boxes),c=l.vertical,u=l.horizontal;Ut(e.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const d=c.reduce((g,y)=>y.box.options&&y.box.options.display===!1?g:g+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:n,padding:s,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/d,hBoxMaxHeight:o/2}),f=Object.assign({},s);Cce(f,eo(r));const p=Object.assign({maxPadding:f,w:i,h:o,x:s.left,y:s.top},s),m=Xpt(c.concat(u),h);Jg(l.fullSize,p,h,m),Jg(c,p,h,m),Jg(u,p,h,m)&&Jg(c,p,h,m),Zpt(p),cV(l.leftAndTop,p,h,m),p.x+=p.w,p.y+=p.h,cV(l.rightAndBottom,p,h,m),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},Ut(l.chartArea,g=>{const y=g.box;Object.assign(y,e.chartArea),y.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class Tce{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,r){}removeEventListener(t,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,r,s){return n=Math.max(0,n||t.width),r=r||t.height,{width:n,height:Math.max(0,s?Math.floor(n/s):r)}}isAttached(t){return!0}updateConfig(t){}}class tmt extends Tce{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const p1="$chartjs",nmt={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},uV=e=>e===null||e==="";function rmt(e,t){const n=e.style,r=e.getAttribute("height"),s=e.getAttribute("width");if(e[p1]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",uV(s)){const i=qW(e,"width");i!==void 0&&(e.width=i)}if(uV(r))if(e.style.height==="")e.height=e.width/(t||2);else{const i=qW(e,"height");i!==void 0&&(e.height=i)}return e}const Ace=npt?{passive:!0}:!1;function smt(e,t,n){e&&e.addEventListener(t,n,Ace)}function imt(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,Ace)}function omt(e,t){const n=nmt[e.type]||e.type,{x:r,y:s}=Uu(e,t);return{type:n,chart:t,native:e,x:r!==void 0?r:null,y:s!==void 0?s:null}}function bk(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function amt(e,t,n){const r=e.canvas,s=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||bk(l.addedNodes,r),o=o&&!bk(l.removedNodes,r);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function lmt(e,t,n){const r=e.canvas,s=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||bk(l.removedNodes,r),o=o&&!bk(l.addedNodes,r);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const _v=new Map;let dV=0;function Oce(){const e=window.devicePixelRatio;e!==dV&&(dV=e,_v.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function cmt(e,t){_v.size||window.addEventListener("resize",Oce),_v.set(e,t)}function umt(e){_v.delete(e),_v.size||window.removeEventListener("resize",Oce)}function dmt(e,t,n){const r=e.canvas,s=r&&G$(r);if(!s)return;const i=hce((l,c)=>{const u=s.clientWidth;n(l,c),u<s.clientWidth&&n()},window),o=new ResizeObserver(l=>{const c=l[0],u=c.contentRect.width,d=c.contentRect.height;u===0&&d===0||i(u,d)});return o.observe(s),cmt(e,i),o}function YT(e,t,n){n&&n.disconnect(),t==="resize"&&umt(e)}function hmt(e,t,n){const r=e.canvas,s=hce(i=>{e.ctx!==null&&n(omt(i,e))},e);return smt(r,t,s),s}class fmt extends Tce{acquireContext(t,n){const r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(rmt(t,n),r):null}releaseContext(t){const n=t.canvas;if(!n[p1])return!1;const r=n[p1].initial;["height","width"].forEach(i=>{const o=r[i];Bt(o)?n.removeAttribute(i):n.setAttribute(i,o)});const s=r.style||{};return Object.keys(s).forEach(i=>{n.style[i]=s[i]}),n.width=n.width,delete n[p1],!0}addEventListener(t,n,r){this.removeEventListener(t,n);const s=t.$proxies||(t.$proxies={}),o={attach:amt,detach:lmt,resize:dmt}[n]||hmt;s[n]=o(t,n,r)}removeEventListener(t,n){const r=t.$proxies||(t.$proxies={}),s=r[n];if(!s)return;({attach:YT,detach:YT,resize:YT}[n]||imt)(t,n,s),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,r,s){return tpt(t,n,r,s)}isAttached(t){const n=t&&G$(t);return!!(n&&n.isConnected)}}function pmt(e){return!V$()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?tmt:fmt}var Dw;let Bl=(Dw=class{constructor(){Ie(this,"x");Ie(this,"y");Ie(this,"active",!1);Ie(this,"options");Ie(this,"$animations")}tooltipPosition(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}hasValue(){return Sv(this.x)&&Sv(this.y)}getProps(t,n){const r=this.$animations;if(!n||!r)return this;const s={};return t.forEach(i=>{s[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),s}},Ie(Dw,"defaults",{}),Ie(Dw,"defaultRoutes"),Dw);function mmt(e,t){const n=e.options.ticks,r=gmt(e),s=Math.min(n.maxTicksLimit||r,r),i=n.major.enabled?xmt(t):[],o=i.length,l=i[0],c=i[o-1],u=[];if(o>s)return vmt(t,u,i,o/s),u;const d=ymt(i,t,s);if(o>0){let h,f;const p=o>1?Math.round((c-l)/(o-1)):null;for(_w(t,u,d,Bt(p)?0:l-p,l),h=0,f=o-1;h<f;h++)_w(t,u,d,i[h],i[h+1]);return _w(t,u,d,c,Bt(p)?t.length:c+p),u}return _w(t,u,d),u}function gmt(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),s=e._maxLength/n;return Math.floor(Math.min(r,s))}function ymt(e,t,n){const r=bmt(e),s=t.length/n;if(!r)return Math.max(s,1);const i=eft(r);for(let o=0,l=i.length-1;o<l;o++){const c=i[o];if(c>s)return c}return Math.max(s,1)}function xmt(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}function vmt(e,t,n,r){let s=0,i=n[0],o;for(r=Math.ceil(r),o=0;o<e.length;o++)o===i&&(t.push(e[o]),s++,i=n[s*r])}function _w(e,t,n,r,s){const i=pt(r,0),o=Math.min(pt(s,e.length),e.length);let l=0,c,u,d;for(n=Math.ceil(n),s&&(c=s-r,n=c/Math.floor(c/n)),d=i;d<0;)l++,d=Math.round(i+l*n);for(u=Math.max(i,0);u<o;u++)u===d&&(t.push(e[u]),l++,d=Math.round(i+l*n))}function bmt(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}const wmt=e=>e==="left"?"right":e==="right"?"left":e,hV=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,fV=(e,t)=>Math.min(t||e,e);function pV(e,t){const n=[],r=e.length/t,s=e.length;let i=0;for(;i<s;i+=r)n.push(e[Math.floor(i)]);return n}function Smt(e,t,n){const r=e.ticks.length,s=Math.min(t,r-1),i=e._startPixel,o=e._endPixel,l=1e-6;let c=e.getPixelForTick(s),u;if(!(n&&(r===1?u=Math.max(c-i,o-c):t===0?u=(e.getPixelForTick(1)-c)/2:u=(c-e.getPixelForTick(s-1))/2,c+=s<t?u:-u,c<i-l||c>o+l)))return c}function Nmt(e,t){Ut(e,n=>{const r=n.gc,s=r.length/2;let i;if(s>t){for(i=0;i<s;++i)delete n.data[r[i]];r.splice(0,s)}})}function Ag(e){return e.drawTicks?e.tickLength:0}function mV(e,t){if(!e.display)return 0;const n=cs(e.font,t),r=eo(e.padding);return(yr(e.text)?e.text.length:1)*n.lineHeight+r.height}function kmt(e,t){return Sh(e,{scale:t,type:"scale"})}function jmt(e,t,n){return Sh(e,{tick:n,index:t,type:"tick"})}function _mt(e,t,n){let r=I$(e);return(n&&t!=="right"||!n&&t==="right")&&(r=wmt(r)),r}function Emt(e,t,n,r){const{top:s,left:i,bottom:o,right:l,chart:c}=e,{chartArea:u,scales:d}=c;let h=0,f,p,m;const g=o-s,y=l-i;if(e.isHorizontal()){if(p=Qr(r,i,l),Ot(n)){const x=Object.keys(n)[0],b=n[x];m=d[x].getPixelForValue(b)+g-t}else n==="center"?m=(u.bottom+u.top)/2+g-t:m=hV(e,n,t);f=l-i}else{if(Ot(n)){const x=Object.keys(n)[0],b=n[x];p=d[x].getPixelForValue(b)-y+t}else n==="center"?p=(u.left+u.right)/2-y+t:p=hV(e,n,t);m=Qr(r,o,s),h=n==="left"?-wr:wr}return{titleX:p,titleY:m,maxWidth:f,rotation:h}}class zm extends Bl{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:r,_suggestedMax:s}=this;return t=ea(t,Number.POSITIVE_INFINITY),n=ea(n,Number.NEGATIVE_INFINITY),r=ea(r,Number.POSITIVE_INFINITY),s=ea(s,Number.NEGATIVE_INFINITY),{min:ea(t,r),max:ea(n,s),minDefined:Zi(t),maxDefined:Zi(n)}}getMinMax(t){let{min:n,max:r,minDefined:s,maxDefined:i}=this.getUserBounds(),o;if(s&&i)return{min:n,max:r};const l=this.getMatchingVisibleMetas();for(let c=0,u=l.length;c<u;++c)o=l[c].controller.getMinMax(this,t),s||(n=Math.min(n,o.min)),i||(r=Math.max(r,o.max));return n=i&&n>r?r:n,r=s&&n>r?n:r,{min:ea(n,ea(r,n)),max:ea(r,ea(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){xn(this.options.beforeUpdate,[this])}update(t,n,r){const{beginAtZero:s,grace:i,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Pft(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?pV(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=mmt(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,t=!t),this._startPixel=n,this._endPixel=r,this._reversePixels=t,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){xn(this.options.afterUpdate,[this])}beforeSetDimensions(){xn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){xn(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),xn(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){xn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let r,s,i;for(r=0,s=t.length;r<s;r++)i=t[r],i.label=xn(n.callback,[i.value,r,t],this)}afterTickToLabelConversion(){xn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){xn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,r=fV(this.ticks.length,t.ticks.maxTicksLimit),s=n.minRotation||0,i=n.maxRotation;let o=s,l,c,u;if(!this._isVisible()||!n.display||s>=i||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const d=this._getLabelSizes(),h=d.widest.width,f=d.highest.height,p=ls(this.chart.width-h,0,this.maxWidth);l=t.offset?this.maxWidth/r:p/(r-1),h+6>l&&(l=p/(r-(t.offset?.5:1)),c=this.maxHeight-Ag(t.grid)-n.padding-mV(t.title,this.chart.options.font),u=Math.sqrt(h*h+f*f),o=sft(Math.min(Math.asin(ls((d.highest.height+6)/l,-1,1)),Math.asin(ls(c/u,-1,1))-Math.asin(ls(f/u,-1,1)))),o=Math.max(s,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){xn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){xn(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:r,title:s,grid:i}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const c=mV(s,n.options.font);if(l?(t.width=this.maxWidth,t.height=Ag(i)+c):(t.height=this.maxHeight,t.width=Ag(i)+c),r.display&&this.ticks.length){const{first:u,last:d,widest:h,highest:f}=this._getLabelSizes(),p=r.padding*2,m=dl(this.labelRotation),g=Math.cos(m),y=Math.sin(m);if(l){const x=r.mirror?0:y*h.width+g*f.height;t.height=Math.min(this.maxHeight,t.height+x+p)}else{const x=r.mirror?0:g*h.width+y*f.height;t.width=Math.min(this.maxWidth,t.width+x+p)}this._calculatePadding(u,d,y,g)}}this._handleMargins(),l?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,r,s){const{ticks:{align:i,padding:o},position:l}=this.options,c=this.labelRotation!==0,u=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,p=0;c?u?(f=s*t.width,p=r*n.height):(f=r*t.height,p=s*n.width):i==="start"?p=n.width:i==="end"?f=t.width:i!=="inner"&&(f=t.width/2,p=n.width/2),this.paddingLeft=Math.max((f-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((p-h+o)*this.width/(this.width-h),0)}else{let d=n.height/2,h=t.height/2;i==="start"?(d=0,h=t.height):i==="end"&&(d=n.height,h=0),this.paddingTop=d+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){xn(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,r;for(n=0,r=t.length;n<r;n++)Bt(t[n].label)&&(t.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=pV(r,n)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,r){const{ctx:s,_longestTextCache:i}=this,o=[],l=[],c=Math.floor(n/fV(n,r));let u=0,d=0,h,f,p,m,g,y,x,b,w,N,S;for(h=0;h<n;h+=c){if(m=t[h].label,g=this._resolveTickFontOptions(h),s.font=y=g.string,x=i[y]=i[y]||{data:{},gc:[]},b=g.lineHeight,w=N=0,!Bt(m)&&!yr(m))w=UW(s,x.data,x.gc,w,m),N=b;else if(yr(m))for(f=0,p=m.length;f<p;++f)S=m[f],!Bt(S)&&!yr(S)&&(w=UW(s,x.data,x.gc,w,S),N+=b);o.push(w),l.push(N),u=Math.max(w,u),d=Math.max(N,d)}Nmt(i,n);const k=o.indexOf(u),j=l.indexOf(d),_=C=>({width:o[C]||0,height:l[C]||0});return{first:_(0),last:_(n-1),widest:_(k),highest:_(j),widths:o,heights:l}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return oft(this._alignToPixels?Au(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const r=n[t];return r.$context||(r.$context=jmt(this.getContext(),t,r))}return this.$context||(this.$context=kmt(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=dl(this.labelRotation),r=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),i=this._getLabelSizes(),o=t.autoSkipPadding||0,l=i?i.widest.width+o:0,c=i?i.highest.height+o:0;return this.isHorizontal()?c*r>l*s?l/r:c/s:c*s<l*r?c/r:l/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,r=this.chart,s=this.options,{grid:i,position:o,border:l}=s,c=i.offset,u=this.isHorizontal(),h=this.ticks.length+(c?1:0),f=Ag(i),p=[],m=l.setContext(this.getContext()),g=m.display?m.width:0,y=g/2,x=function(T){return Au(r,T,g)};let b,w,N,S,k,j,_,C,A,O,M,P;if(o==="top")b=x(this.bottom),j=this.bottom-f,C=b-y,O=x(t.top)+y,P=t.bottom;else if(o==="bottom")b=x(this.top),O=t.top,P=x(t.bottom)-y,j=b+y,C=this.top+f;else if(o==="left")b=x(this.right),k=this.right-f,_=b-y,A=x(t.left)+y,M=t.right;else if(o==="right")b=x(this.left),A=t.left,M=x(t.right)-y,k=b+y,_=this.left+f;else if(n==="x"){if(o==="center")b=x((t.top+t.bottom)/2+.5);else if(Ot(o)){const T=Object.keys(o)[0],R=o[T];b=x(this.chart.scales[T].getPixelForValue(R))}O=t.top,P=t.bottom,j=b+y,C=j+f}else if(n==="y"){if(o==="center")b=x((t.left+t.right)/2);else if(Ot(o)){const T=Object.keys(o)[0],R=o[T];b=x(this.chart.scales[T].getPixelForValue(R))}k=b-y,_=k-f,A=t.left,M=t.right}const E=pt(s.ticks.maxTicksLimit,h),I=Math.max(1,Math.ceil(h/E));for(w=0;w<h;w+=I){const T=this.getContext(w),R=i.setContext(T),L=l.setContext(T),D=R.lineWidth,F=R.color,z=L.dash||[],B=L.dashOffset,$=R.tickWidth,W=R.tickColor,V=R.tickBorderDash||[],Y=R.tickBorderDashOffset;N=Smt(this,w,c),N!==void 0&&(S=Au(r,N,D),u?k=_=A=M=S:j=C=O=P=S,p.push({tx1:k,ty1:j,tx2:_,ty2:C,x1:A,y1:O,x2:M,y2:P,width:D,color:F,borderDash:z,borderDashOffset:B,tickWidth:$,tickColor:W,tickBorderDash:V,tickBorderDashOffset:Y}))}return this._ticksLength=h,this._borderValue=b,p}_computeLabelItems(t){const n=this.axis,r=this.options,{position:s,ticks:i}=r,o=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:u,padding:d,mirror:h}=i,f=Ag(r.grid),p=f+d,m=h?-d:p,g=-dl(this.labelRotation),y=[];let x,b,w,N,S,k,j,_,C,A,O,M,P="middle";if(s==="top")k=this.bottom-m,j=this._getXAxisLabelAlignment();else if(s==="bottom")k=this.top+m,j=this._getXAxisLabelAlignment();else if(s==="left"){const I=this._getYAxisLabelAlignment(f);j=I.textAlign,S=I.x}else if(s==="right"){const I=this._getYAxisLabelAlignment(f);j=I.textAlign,S=I.x}else if(n==="x"){if(s==="center")k=(t.top+t.bottom)/2+p;else if(Ot(s)){const I=Object.keys(s)[0],T=s[I];k=this.chart.scales[I].getPixelForValue(T)+p}j=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")S=(t.left+t.right)/2-p;else if(Ot(s)){const I=Object.keys(s)[0],T=s[I];S=this.chart.scales[I].getPixelForValue(T)}j=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(c==="start"?P="top":c==="end"&&(P="bottom"));const E=this._getLabelSizes();for(x=0,b=l.length;x<b;++x){w=l[x],N=w.label;const I=i.setContext(this.getContext(x));_=this.getPixelForTick(x)+i.labelOffset,C=this._resolveTickFontOptions(x),A=C.lineHeight,O=yr(N)?N.length:1;const T=O/2,R=I.color,L=I.textStrokeColor,D=I.textStrokeWidth;let F=j;o?(S=_,j==="inner"&&(x===b-1?F=this.options.reverse?"left":"right":x===0?F=this.options.reverse?"right":"left":F="center"),s==="top"?u==="near"||g!==0?M=-O*A+A/2:u==="center"?M=-E.highest.height/2-T*A+A:M=-E.highest.height+A/2:u==="near"||g!==0?M=A/2:u==="center"?M=E.highest.height/2-T*A:M=E.highest.height-O*A,h&&(M*=-1),g!==0&&!I.showLabelBackdrop&&(S+=A/2*Math.sin(g))):(k=_,M=(1-O)*A/2);let z;if(I.showLabelBackdrop){const B=eo(I.backdropPadding),$=E.heights[x],W=E.widths[x];let V=M-B.top,Y=0-B.left;switch(P){case"middle":V-=$/2;break;case"bottom":V-=$;break}switch(j){case"center":Y-=W/2;break;case"right":Y-=W;break;case"inner":x===b-1?Y-=W:x>0&&(Y-=W/2);break}z={left:Y,top:V,width:W+B.width,height:$+B.height,color:I.backdropColor}}y.push({label:N,font:C,textOffset:M,options:{rotation:g,color:R,strokeColor:L,strokeWidth:D,textAlign:F,textBaseline:P,translation:[S,k],backdrop:z}})}return y}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-dl(this.labelRotation))return t==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:r,mirror:s,padding:i}}=this.options,o=this._getLabelSizes(),l=t+i,c=o.widest.width;let u,d;return n==="left"?s?(d=this.right+i,r==="near"?u="left":r==="center"?(u="center",d+=c/2):(u="right",d+=c)):(d=this.right-l,r==="near"?u="right":r==="center"?(u="center",d-=c/2):(u="left",d=this.left)):n==="right"?s?(d=this.left+i,r==="near"?u="right":r==="center"?(u="center",d-=c/2):(u="left",d-=c)):(d=this.left+l,r==="near"?u="left":r==="center"?(u="center",d+=c/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:r,top:s,width:i,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(r,s,i,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(i=>i.value===t);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const n=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let i,o;const l=(c,u,d)=>{!d.width||!d.color||(r.save(),r.lineWidth=d.width,r.strokeStyle=d.color,r.setLineDash(d.borderDash||[]),r.lineDashOffset=d.borderDashOffset,r.beginPath(),r.moveTo(c.x,c.y),r.lineTo(u.x,u.y),r.stroke(),r.restore())};if(n.display)for(i=0,o=s.length;i<o;++i){const c=s[i];n.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:r,grid:s}}=this,i=r.setContext(this.getContext()),o=r.display?i.width:0;if(!o)return;const l=s.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let u,d,h,f;this.isHorizontal()?(u=Au(t,this.left,o)-o/2,d=Au(t,this.right,l)+l/2,h=f=c):(h=Au(t,this.top,o)-o/2,f=Au(t,this.bottom,l)+l/2,u=d=c),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(u,h),n.lineTo(d,f),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&B$(r,s);const i=this.getLabelItems(t);for(const o of i){const l=o.options,c=o.font,u=o.label,d=o.textOffset;jv(r,u,0,d,c,l)}s&&F$(r)}drawTitle(){const{ctx:t,options:{position:n,title:r,reverse:s}}=this;if(!r.display)return;const i=cs(r.font),o=eo(r.padding),l=r.align;let c=i.lineHeight/2;n==="bottom"||n==="center"||Ot(n)?(c+=o.bottom,yr(r.text)&&(c+=i.lineHeight*(r.text.length-1))):c+=o.top;const{titleX:u,titleY:d,maxWidth:h,rotation:f}=Emt(this,c,n,l);jv(t,r.text,0,0,i,{color:r.color,maxWidth:h,rotation:f,textAlign:_mt(l,n,s),textBaseline:"middle",translation:[u,d]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,r=pt(t.grid&&t.grid.z,-1),s=pt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==zm.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let i,o;for(i=0,o=n.length;i<o;++i){const l=n[i];l[r]===this.id&&(!t||l.type===t)&&s.push(l)}return s}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return cs(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Ew{constructor(t,n,r){this.type=t,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let r;Amt(n)&&(r=this.register(n));const s=this.items,i=t.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+t);return i in s||(s[i]=t,Cmt(t,o,r),this.override&&nr.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,r=t.id,s=this.scope;r in n&&delete n[r],s&&r in nr[s]&&(delete nr[s][r],this.override&&delete sh[r])}}function Cmt(e,t,n){const r=bv(Object.create(null),[n?nr.get(n):{},nr.get(t),e.defaults]);nr.set(t,r),e.defaultRoutes&&Tmt(t,e.defaultRoutes),e.descriptors&&nr.describe(t,e.descriptors)}function Tmt(e,t){Object.keys(t).forEach(n=>{const r=n.split("."),s=r.pop(),i=[e].concat(r).join("."),o=t[n].split("."),l=o.pop(),c=o.join(".");nr.route(i,s,c,l)})}function Amt(e){return"id"in e&&"defaults"in e}class Omt{constructor(){this.controllers=new Ew(Ad,"datasets",!0),this.elements=new Ew(Bl,"elements"),this.plugins=new Ew(Object,"plugins"),this.scales=new Ew(zm,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,r){[...n].forEach(s=>{const i=r||this._getRegistryForType(s);r||i.isForType(s)||i===this.plugins&&s.id?this._exec(t,i,s):Ut(s,o=>{const l=r||this._getRegistryForType(o);this._exec(t,l,o)})})}_exec(t,n,r){const s=D$(t);xn(r["before"+s],[],r),n[t](r),xn(r["after"+s],[],r)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(t))return r}return this.plugins}_get(t,n,r){const s=n.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+r+".");return s}}var la=new Omt;class Mmt{constructor(){this._init=void 0}notify(t,n,r,s){if(n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const i=s?this._descriptors(t).filter(s):this._descriptors(t),o=this._notify(i,t,n,r);return n==="afterDestroy"&&(this._notify(i,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),o}_notify(t,n,r,s){s=s||{};for(const i of t){const o=i.plugin,l=o[r],c=[n,s,i.options];if(xn(l,c,o)===!1&&s.cancelable)return!1}return!0}invalidate(){Bt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const r=t&&t.config,s=pt(r.options&&r.options.plugins,{}),i=Pmt(r);return s===!1&&!n?[]:Rmt(t,i,s,n)}_notifyStateChanges(t){const n=this._oldCache||[],r=this._cache,s=(i,o)=>i.filter(l=>!o.some(c=>l.plugin.id===c.plugin.id));this._notify(s(n,r),t,"stop"),this._notify(s(r,n),t,"start")}}function Pmt(e){const t={},n=[],r=Object.keys(la.plugins.items);for(let i=0;i<r.length;i++)n.push(la.getPlugin(r[i]));const s=e.plugins||[];for(let i=0;i<s.length;i++){const o=s[i];n.indexOf(o)===-1&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}function Dmt(e,t){return!t&&e===!1?null:e===!0?{}:e}function Rmt(e,{plugins:t,localIds:n},r,s){const i=[],o=e.getContext();for(const l of t){const c=l.id,u=Dmt(r[c],s);u!==null&&i.push({plugin:l,options:Imt(e.config,{plugin:l,local:n[c]},u,o)})}return i}function Imt(e,{plugin:t,local:n},r,s){const i=e.pluginScopeKeys(t),o=e.getOptionScopes(r,i);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function vP(e,t){const n=nr.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function Lmt(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function $mt(e,t){return e===t?"_index_":"_value_"}function gV(e){if(e==="x"||e==="y"||e==="r")return e}function Bmt(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function bP(e,...t){if(gV(e))return e;for(const n of t){const r=n.axis||Bmt(n.position)||e.length>1&&gV(e[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function yV(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function Fmt(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(r=>r.xAxisID===e||r.yAxisID===e);if(n.length)return yV(e,"x",n[0])||yV(e,"y",n[0])}return{}}function zmt(e,t){const n=sh[e.type]||{scales:{}},r=t.scales||{},s=vP(e.type,t),i=Object.create(null);return Object.keys(r).forEach(o=>{const l=r[o];if(!Ot(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=bP(o,l,Fmt(o,e),nr.scales[l.type]),u=$mt(c,s),d=n.scales||{};i[o]=Dy(Object.create(null),[{axis:c},l,d[c],d[u]])}),e.data.datasets.forEach(o=>{const l=o.type||e.type,c=o.indexAxis||vP(l,t),d=(sh[l]||{}).scales||{};Object.keys(d).forEach(h=>{const f=Lmt(h,c),p=o[f+"AxisID"]||f;i[p]=i[p]||Object.create(null),Dy(i[p],[{axis:f},r[p],d[h]])})}),Object.keys(i).forEach(o=>{const l=i[o];Dy(l,[nr.scales[l.type],nr.scale])}),i}function Mce(e){const t=e.options||(e.options={});t.plugins=pt(t.plugins,{}),t.scales=zmt(e,t)}function Pce(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function Umt(e){return e=e||{},e.data=Pce(e.data),Mce(e),e}const xV=new Map,Dce=new Set;function Cw(e,t){let n=xV.get(e);return n||(n=t(),xV.set(e,n),Dce.add(n)),n}const Og=(e,t,n)=>{const r=rh(t,n);r!==void 0&&e.add(r)};class Hmt{constructor(t){this._config=Umt(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Pce(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Mce(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Cw(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Cw(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Cw(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,r=this.type;return Cw(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const r=this._scopeCache;let s=r.get(t);return(!s||n)&&(s=new Map,r.set(t,s)),s}getOptionScopes(t,n,r){const{options:s,type:i}=this,o=this._cachedScopes(t,r),l=o.get(n);if(l)return l;const c=new Set;n.forEach(d=>{t&&(c.add(t),d.forEach(h=>Og(c,t,h))),d.forEach(h=>Og(c,s,h)),d.forEach(h=>Og(c,sh[i]||{},h)),d.forEach(h=>Og(c,nr,h)),d.forEach(h=>Og(c,gP,h))});const u=Array.from(c);return u.length===0&&u.push(Object.create(null)),Dce.has(n)&&o.set(n,u),u}chartOptionScopes(){const{options:t,type:n}=this;return[t,sh[n]||{},nr.datasets[n]||{},{type:n},nr,gP]}resolveNamedOptions(t,n,r,s=[""]){const i={$shared:!0},{resolver:o,subPrefixes:l}=vV(this._resolverCache,t,s);let c=o;if(Vmt(o,n)){i.$shared=!1,r=ou(r)?r():r;const u=this.createResolver(t,r,l);c=um(o,r,u)}for(const u of n)i[u]=c[u];return i}createResolver(t,n,r=[""],s){const{resolver:i}=vV(this._resolverCache,t,r);return Ot(n)?um(i,n,void 0,s):i}}function vV(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const s=n.join();let i=r.get(s);return i||(i={resolver:U$(t,n),subPrefixes:n.filter(l=>!l.toLowerCase().includes("hover"))},r.set(s,i)),i}const Wmt=e=>Ot(e)&&Object.getOwnPropertyNames(e).some(t=>ou(e[t]));function Vmt(e,t){const{isScriptable:n,isIndexable:r}=gce(e);for(const s of t){const i=n(s),o=r(s),l=(o||i)&&e[s];if(i&&(ou(l)||Wmt(l))||o&&yr(l))return!0}return!1}var Gmt="4.5.1";const qmt=["top","bottom","left","right","chartArea"];function bV(e,t){return e==="top"||e==="bottom"||qmt.indexOf(e)===-1&&t==="x"}function wV(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function SV(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),xn(n&&n.onComplete,[e],t)}function Kmt(e){const t=e.chart,n=t.options.animation;xn(n&&n.onProgress,[e],t)}function Rce(e){return V$()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const m1={},NV=e=>{const t=Rce(e);return Object.values(m1).filter(n=>n.canvas===t).pop()};function Ymt(e,t,n){const r=Object.keys(e);for(const s of r){const i=+s;if(i>=t){const o=e[s];delete e[s],(n>0||i>t)&&(e[i+n]=o)}}}function Xmt(e,t,n,r){return!n||e.type==="mouseout"?null:r?t:e}var ql;let M0=(ql=class{static register(...t){la.add(...t),kV()}static unregister(...t){la.remove(...t),kV()}constructor(t,n){const r=this.config=new Hmt(n),s=Rce(t),i=NV(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||pmt(s)),this.platform.updateConfig(r);const l=this.platform.acquireContext(s,o.aspectRatio),c=l&&l.canvas,u=c&&c.height,d=c&&c.width;if(this.id=Vht(),this.ctx=l,this.canvas=c,this.width=d,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Mmt,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=uft(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],m1[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Ka.listen(this,"complete",SV),Ka.listen(this,"progress",Kmt),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:r,height:s,_aspectRatio:i}=this;return Bt(t)?n&&i?i:s?r/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return la}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():GW(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return HW(this.canvas,this.ctx),this}stop(){return Ka.stop(this),this}resize(t,n){Ka.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const r=this.options,s=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,t,n,i),l=r.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,GW(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),xn(r.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Ut(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){const t=this.options,n=t.scales,r=this.scales,s=Object.keys(r).reduce((o,l)=>(o[l]=!1,o),{});let i=[];n&&(i=i.concat(Object.keys(n).map(o=>{const l=n[o],c=bP(o,l),u=c==="r",d=c==="x";return{options:l,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),Ut(i,o=>{const l=o.options,c=l.id,u=bP(c,l),d=pt(l.type,o.dtype);(l.position===void 0||bV(l.position,u)!==bV(o.dposition))&&(l.position=o.dposition),s[c]=!0;let h=null;if(c in r&&r[c].type===d)h=r[c];else{const f=la.getScale(d);h=new f({id:c,type:d,ctx:this.ctx,chart:this}),r[h.id]=h}h.init(l,t)}),Ut(s,(o,l)=>{o||delete r[l]}),Ut(r,o=>{zi.configure(this,o,o.options),zi.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,r=t.length;if(t.sort((s,i)=>s.index-i.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);t.splice(n,r-n)}this._sortedMetasets=t.slice(0).sort(wV("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((r,s)=>{n.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const i=n[r];let o=this.getDatasetMeta(r);const l=i.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=l,o.indexAxis=i.indexAxis||vP(l,this.options),o.order=i.order||0,o.index=r,o.label=""+i.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const c=la.getController(l),{datasetElementType:u,dataElementType:d}=nr.datasets[l];Object.assign(c,{dataElementType:la.getElement(d),datasetElementType:u&&la.getElement(u)}),o.controller=new c(this,r),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){Ut(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:h}=this.getDatasetMeta(u),f=!s&&i.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),s||Ut(i,u=>{u.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(wV("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Ut(this.scales,t=>{zi.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!PW(n,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:i}of n){const o=r==="_removeElements"?-i:i;Ymt(t,s,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=i=>new Set(t.filter(o=>o[0]===i).map((o,l)=>l+","+o.splice(1).join(","))),s=r(0);for(let i=1;i<n;i++)if(!PW(s,r(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;zi.update(this,this.width,this.height,t);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Ut(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,ou(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const r=this.getDatasetMeta(t),s={meta:r,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ka.has(this)?this.attached&&!Ka.running(this)&&Ka.start(this):(this.draw(),SV({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,r=[];let s,i;for(s=0,i=n.length;s<i;++s){const o=n[s];(!t||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,r={meta:t,index:t.index,cancelable:!0},s=gpt(this,t);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&B$(n,s),t.controller.draw(),s&&F$(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return kv(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,r,s){const i=qpt.modes[n];return typeof i=="function"?i(this,t,r,s):[]}getDatasetMeta(t){const n=this.data.datasets[t],r=this._metasets;let s=r.filter(i=>i&&i._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=Sh(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(t,n){const r=this.getDatasetMeta(t);r.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,r){const s=r?"show":"hide",i=this.getDatasetMeta(t),o=i.controller._resolveAnimations(void 0,s);wv(n)?(i.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),o.update(i,{visible:r}),this.update(l=>l.datasetIndex===t?s:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Ka.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),HW(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete m1[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,r=(i,o)=>{n.addEventListener(this,i,o),t[i]=o},s=(i,o,l)=>{i.offsetX=o,i.offsetY=l,this._eventHandler(i)};Ut(this.options.events,i=>r(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,r=(c,u)=>{n.addEventListener(this,c,u),t[c]=u},s=(c,u)=>{t[c]&&(n.removeEventListener(this,c,u),delete t[c])},i=(c,u)=>{this.canvas&&this.resize(c,u)};let o;const l=()=>{s("attach",l),this.attached=!0,this.resize(),r("resize",i),r("detach",o)};o=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),r("attach",l)},n.isAttached(this.canvas)?l():o()}unbindEvents(){Ut(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},Ut(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,r){const s=r?"set":"remove";let i,o,l,c;for(n==="dataset"&&(i=this.getDatasetMeta(t[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),l=0,c=t.length;l<c;++l){o=t[l];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],r=t.map(({datasetIndex:i,index:o})=>{const l=this.getDatasetMeta(i);if(!l)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:l.data[o],index:o}});!mk(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(t,n,r){return this._plugins.notify(this,t,n,r)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,r){const s=this.options.hover,i=(c,u)=>c.filter(d=>!u.some(h=>d.datasetIndex===h.datasetIndex&&d.index===h.index)),o=i(n,t),l=r?t:i(t,n);o.length&&this.updateHoverStyle(o,s.mode,!1),l.length&&s.mode&&this.updateHoverStyle(l,s.mode,!0)}_eventHandler(t,n){const r={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},s=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const i=this._handleEvent(t,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(i||r.changed)&&this.render(),this}_handleEvent(t,n,r){const{_active:s=[],options:i}=this,o=n,l=this._getActiveElements(t,s,r,o),c=Jht(t),u=Xmt(t,this._lastEvent,r,c);r&&(this._lastEvent=null,xn(i.onHover,[t,l,this],this),c&&xn(i.onClick,[t,l,this],this));const d=!mk(l,s);return(d||n)&&(this._active=l,this._updateHoverStyles(l,s,n)),this._lastEvent=u,d}_getActiveElements(t,n,r,s){if(t.type==="mouseout")return[];if(!r)return n;const i=this.options.hover;return this.getElementsAtEventForMode(t,i.mode,i,s)}},Ie(ql,"defaults",nr),Ie(ql,"instances",m1),Ie(ql,"overrides",sh),Ie(ql,"registry",la),Ie(ql,"version",Gmt),Ie(ql,"getChart",NV),ql);function kV(){return Ut(M0.instances,e=>e._plugins.invalidate())}function Jmt(e,t,n){const{startAngle:r,x:s,y:i,outerRadius:o,innerRadius:l,options:c}=t,{borderWidth:u,borderJoinStyle:d}=c,h=Math.min(u/o,So(r-n));if(e.beginPath(),e.arc(s,i,o-u/2,r+h/2,n-h/2),l>0){const f=Math.min(u/l,So(r-n));e.arc(s,i,l+u/2,n-f/2,r+f/2,!0)}else{const f=Math.min(u/2,o*So(r-n));if(d==="round")e.arc(s,i,f,n-Ht/2,r+Ht/2,!0);else if(d==="bevel"){const p=2*f*f,m=-p*Math.cos(n+Ht/2)+s,g=-p*Math.sin(n+Ht/2)+i,y=p*Math.cos(r+Ht/2)+s,x=p*Math.sin(r+Ht/2)+i;e.lineTo(m,g),e.lineTo(y,x)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function Qmt(e,t,n){const{startAngle:r,pixelMargin:s,x:i,y:o,outerRadius:l,innerRadius:c}=t;let u=s/l;e.beginPath(),e.arc(i,o,l,r-u,n+u),c>s?(u=s/c,e.arc(i,o,c,n+u,r-u,!0)):e.arc(i,o,s,n+wr,r-wr),e.closePath(),e.clip()}function Zmt(e){return z$(e,["outerStart","outerEnd","innerStart","innerEnd"])}function egt(e,t,n,r){const s=Zmt(e.options.borderRadius),i=(n-t)/2,o=Math.min(i,r*t/2),l=c=>{const u=(n-Math.min(i,c))*r/2;return ls(c,0,Math.min(i,u))};return{outerStart:l(s.outerStart),outerEnd:l(s.outerEnd),innerStart:ls(s.innerStart,0,o),innerEnd:ls(s.innerEnd,0,o)}}function Jh(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function wk(e,t,n,r,s,i){const{x:o,y:l,startAngle:c,pixelMargin:u,innerRadius:d}=t,h=Math.max(t.outerRadius+r+n-u,0),f=d>0?d+r+n+u:0;let p=0;const m=s-c;if(r){const I=d>0?d-r:0,T=h>0?h-r:0,R=(I+T)/2,L=R!==0?m*R/(R+r):m;p=(m-L)/2}const g=Math.max(.001,m*h-n/Ht)/h,y=(m-g)/2,x=c+y+p,b=s-y-p,{outerStart:w,outerEnd:N,innerStart:S,innerEnd:k}=egt(t,f,h,b-x),j=h-w,_=h-N,C=x+w/j,A=b-N/_,O=f+S,M=f+k,P=x+S/O,E=b-k/M;if(e.beginPath(),i){const I=(C+A)/2;if(e.arc(o,l,h,C,I),e.arc(o,l,h,I,A),N>0){const D=Jh(_,A,o,l);e.arc(D.x,D.y,N,A,b+wr)}const T=Jh(M,b,o,l);if(e.lineTo(T.x,T.y),k>0){const D=Jh(M,E,o,l);e.arc(D.x,D.y,k,b+wr,E+Math.PI)}const R=(b-k/f+(x+S/f))/2;if(e.arc(o,l,f,b-k/f,R,!0),e.arc(o,l,f,R,x+S/f,!0),S>0){const D=Jh(O,P,o,l);e.arc(D.x,D.y,S,P+Math.PI,x-wr)}const L=Jh(j,x,o,l);if(e.lineTo(L.x,L.y),w>0){const D=Jh(j,C,o,l);e.arc(D.x,D.y,w,x-wr,C)}}else{e.moveTo(o,l);const I=Math.cos(C)*h+o,T=Math.sin(C)*h+l;e.lineTo(I,T);const R=Math.cos(A)*h+o,L=Math.sin(A)*h+l;e.lineTo(R,L)}e.closePath()}function tgt(e,t,n,r,s){const{fullCircles:i,startAngle:o,circumference:l}=t;let c=t.endAngle;if(i){wk(e,t,n,r,c,s);for(let u=0;u<i;++u)e.fill();isNaN(l)||(c=o+(l%Xn||Xn))}return wk(e,t,n,r,c,s),e.fill(),c}function ngt(e,t,n,r,s){const{fullCircles:i,startAngle:o,circumference:l,options:c}=t,{borderWidth:u,borderJoinStyle:d,borderDash:h,borderDashOffset:f,borderRadius:p}=c,m=c.borderAlign==="inner";if(!u)return;e.setLineDash(h||[]),e.lineDashOffset=f,m?(e.lineWidth=u*2,e.lineJoin=d||"round"):(e.lineWidth=u,e.lineJoin=d||"bevel");let g=t.endAngle;if(i){wk(e,t,n,r,g,s);for(let y=0;y<i;++y)e.stroke();isNaN(l)||(g=o+(l%Xn||Xn))}m&&Qmt(e,t,g),c.selfJoin&&g-o>=Ht&&p===0&&d!=="miter"&&Jmt(e,t,g),i||(wk(e,t,n,r,g,s),e.stroke())}class Qg extends Bl{constructor(n){super();Ie(this,"circumference");Ie(this,"endAngle");Ie(this,"fullCircles");Ie(this,"innerRadius");Ie(this,"outerRadius");Ie(this,"pixelMargin");Ie(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,s){const i=this.getProps(["x","y"],s),{angle:o,distance:l}=lce(i,{x:n,y:r}),{startAngle:c,endAngle:u,innerRadius:d,outerRadius:h,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),p=(this.options.spacing+this.options.borderWidth)/2,m=pt(f,u-c),g=Nv(o,c,u)&&c!==u,y=m>=Xn||g,x=Tc(l,d+p,h+p);return y&&x}getCenterPoint(n){const{x:r,y:s,startAngle:i,endAngle:o,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:u,spacing:d}=this.options,h=(i+o)/2,f=(l+c+d+u)/2;return{x:r+Math.cos(h)*f,y:s+Math.sin(h)*f}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:s}=this,i=(r.offset||0)/4,o=(r.spacing||0)/2,l=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=s>Xn?Math.floor(s/Xn):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const c=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(c)*i,Math.sin(c)*i);const u=1-Math.sin(Math.min(Ht,s||0)),d=i*u;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,tgt(n,this,d,o,l),ngt(n,this,d,o,l),n.restore()}}Ie(Qg,"id","arc"),Ie(Qg,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),Ie(Qg,"defaultRoutes",{backgroundColor:"backgroundColor"}),Ie(Qg,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function Ice(e,t,n=t){e.lineCap=pt(n.borderCapStyle,t.borderCapStyle),e.setLineDash(pt(n.borderDash,t.borderDash)),e.lineDashOffset=pt(n.borderDashOffset,t.borderDashOffset),e.lineJoin=pt(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=pt(n.borderWidth,t.borderWidth),e.strokeStyle=pt(n.borderColor,t.borderColor)}function rgt(e,t,n){e.lineTo(n.x,n.y)}function sgt(e){return e.stepped?kft:e.tension||e.cubicInterpolationMode==="monotone"?jft:rgt}function Lce(e,t,n={}){const r=e.length,{start:s=0,end:i=r-1}=n,{start:o,end:l}=t,c=Math.max(s,o),u=Math.min(i,l),d=s<o&&i<o||s>l&&i>l;return{count:r,start:c,loop:t.loop,ilen:u<c&&!d?r+u-c:u-c}}function igt(e,t,n,r){const{points:s,options:i}=t,{count:o,start:l,loop:c,ilen:u}=Lce(s,n,r),d=sgt(i);let{move:h=!0,reverse:f}=r||{},p,m,g;for(p=0;p<=u;++p)m=s[(l+(f?u-p:p))%o],!m.skip&&(h?(e.moveTo(m.x,m.y),h=!1):d(e,g,m,f,i.stepped),g=m);return c&&(m=s[(l+(f?u:0))%o],d(e,g,m,f,i.stepped)),!!c}function ogt(e,t,n,r){const s=t.points,{count:i,start:o,ilen:l}=Lce(s,n,r),{move:c=!0,reverse:u}=r||{};let d=0,h=0,f,p,m,g,y,x;const b=N=>(o+(u?l-N:N))%i,w=()=>{g!==y&&(e.lineTo(d,y),e.lineTo(d,g),e.lineTo(d,x))};for(c&&(p=s[b(0)],e.moveTo(p.x,p.y)),f=0;f<=l;++f){if(p=s[b(f)],p.skip)continue;const N=p.x,S=p.y,k=N|0;k===m?(S<g?g=S:S>y&&(y=S),d=(h*d+N)/++h):(w(),e.lineTo(N,S),m=k,h=0,g=y=S),x=S}w()}function wP(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?ogt:igt}function agt(e){return e.stepped?rpt:e.tension||e.cubicInterpolationMode==="monotone"?spt:Hu}function lgt(e,t,n,r){let s=t._path;s||(s=t._path=new Path2D,t.path(s,n,r)&&s.closePath()),Ice(e,t.options),e.stroke(s)}function cgt(e,t,n,r){const{segments:s,options:i}=t,o=wP(t);for(const l of s)Ice(e,i,l.style),e.beginPath(),o(e,t,l,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}const ugt=typeof Path2D=="function";function dgt(e,t,n,r){ugt&&!t.options.segment?lgt(e,t,n,r):cgt(e,t,n,r)}class Zg extends Bl{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const s=r.spanGaps?this._loop:this._fullLoop;Yft(this._points,r,t,s,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=hpt(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,r=t.length;return r&&n[t[r-1].end]}interpolate(t,n){const r=this.options,s=t[n],i=this.points,o=cpt(this,{property:n,start:s,end:s});if(!o.length)return;const l=[],c=agt(r);let u,d;for(u=0,d=o.length;u<d;++u){const{start:h,end:f}=o[u],p=i[h],m=i[f];if(p===m){l.push(p);continue}const g=Math.abs((s-p[n])/(m[n]-p[n])),y=c(p,m,g,r.stepped);y[n]=t[n],l.push(y)}return l.length===1?l[0]:l}pathSegment(t,n,r){return wP(this)(t,this,n,r)}path(t,n,r){const s=this.segments,i=wP(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const l of s)o&=i(t,this,l,{start:n,end:n+r-1});return!!o}draw(t,n,r,s){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(t.save(),dgt(t,this,r,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Ie(Zg,"id","line"),Ie(Zg,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Ie(Zg,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Ie(Zg,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function jV(e,t,n,r){const s=e.options,{[n]:i}=e.getProps([n],r);return Math.abs(t-i)<s.radius+s.hitRadius}class g1 extends Bl{constructor(n){super();Ie(this,"parsed");Ie(this,"skip");Ie(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,s){const i=this.options,{x:o,y:l}=this.getProps(["x","y"],s);return Math.pow(n-o,2)+Math.pow(r-l,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(n,r){return jV(this,n,"x",r)}inYRange(n,r){return jV(this,n,"y",r)}getCenterPoint(n){const{x:r,y:s}=this.getProps(["x","y"],n);return{x:r,y:s}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const s=r&&n.borderWidth||0;return(r+s)*2}draw(n,r){const s=this.options;this.skip||s.radius<.1||!kv(this,r,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,yP(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Ie(g1,"id","point"),Ie(g1,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Ie(g1,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function $ce(e,t){const{x:n,y:r,base:s,width:i,height:o}=e.getProps(["x","y","base","width","height"],t);let l,c,u,d,h;return e.horizontal?(h=o/2,l=Math.min(n,s),c=Math.max(n,s),u=r-h,d=r+h):(h=i/2,l=n-h,c=n+h,u=Math.min(r,s),d=Math.max(r,s)),{left:l,top:u,right:c,bottom:d}}function Oc(e,t,n,r){return e?0:ls(t,n,r)}function hgt(e,t,n){const r=e.options.borderWidth,s=e.borderSkipped,i=mce(r);return{t:Oc(s.top,i.top,0,n),r:Oc(s.right,i.right,0,t),b:Oc(s.bottom,i.bottom,0,n),l:Oc(s.left,i.left,0,t)}}function fgt(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,i=tp(s),o=Math.min(t,n),l=e.borderSkipped,c=r||Ot(s);return{topLeft:Oc(!c||l.top||l.left,i.topLeft,0,o),topRight:Oc(!c||l.top||l.right,i.topRight,0,o),bottomLeft:Oc(!c||l.bottom||l.left,i.bottomLeft,0,o),bottomRight:Oc(!c||l.bottom||l.right,i.bottomRight,0,o)}}function pgt(e){const t=$ce(e),n=t.right-t.left,r=t.bottom-t.top,s=hgt(e,n/2,r/2),i=fgt(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:i},inner:{x:t.left+s.l,y:t.top+s.t,w:n-s.l-s.r,h:r-s.t-s.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,i.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(s.b,s.r))}}}}function XT(e,t,n,r){const s=t===null,i=n===null,l=e&&!(s&&i)&&$ce(e,r);return l&&(s||Tc(t,l.left,l.right))&&(i||Tc(n,l.top,l.bottom))}function mgt(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function ggt(e,t){e.rect(t.x,t.y,t.w,t.h)}function JT(e,t,n={}){const r=e.x!==n.x?-t:0,s=e.y!==n.y?-t:0,i=(e.x+e.w!==n.x+n.w?t:0)-r,o=(e.y+e.h!==n.y+n.h?t:0)-s;return{x:e.x+r,y:e.y+s,w:e.w+i,h:e.h+o,radius:e.radius}}class y1 extends Bl{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:r,backgroundColor:s}}=this,{inner:i,outer:o}=pgt(this),l=mgt(o.radius)?xk:ggt;t.save(),(o.w!==i.w||o.h!==i.h)&&(t.beginPath(),l(t,JT(o,n,i)),t.clip(),l(t,JT(i,-n,o)),t.fillStyle=r,t.fill("evenodd")),t.beginPath(),l(t,JT(i,n)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,n,r){return XT(this,t,n,r)}inXRange(t,n){return XT(this,t,null,n)}inYRange(t,n){return XT(this,null,t,n)}getCenterPoint(t){const{x:n,y:r,base:s,horizontal:i}=this.getProps(["x","y","base","horizontal"],t);return{x:i?(n+s)/2:n,y:i?r:(r+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}Ie(y1,"id","bar"),Ie(y1,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Ie(y1,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const _V=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}},ygt=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class EV extends Bl{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,r){this.maxWidth=t,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=xn(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(r=>t.filter(r,this.chart.data))),t.sort&&(n=n.sort((r,s)=>t.sort(r,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const r=t.labels,s=cs(r.font),i=s.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=_V(r,i);let u,d;n.font=s.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(o,i,l,c)+10):(d=this.maxHeight,u=this._fitCols(o,s,l,c)+10),this.width=Math.min(u,t.maxWidth||this.maxWidth),this.height=Math.min(d,t.maxHeight||this.maxHeight)}_fitRows(t,n,r,s){const{ctx:i,maxWidth:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.lineWidths=[0],d=s+l;let h=t;i.textAlign="left",i.textBaseline="middle";let f=-1,p=-d;return this.legendItems.forEach((m,g)=>{const y=r+n/2+i.measureText(m.text).width;(g===0||u[u.length-1]+y+2*l>o)&&(h+=d,u[u.length-(g>0?0:1)]=0,p+=d,f++),c[g]={left:0,top:p,row:f,width:y,height:s},u[u.length-1]+=y+l}),h}_fitCols(t,n,r,s){const{ctx:i,maxHeight:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.columnSizes=[],d=o-t;let h=l,f=0,p=0,m=0,g=0;return this.legendItems.forEach((y,x)=>{const{itemWidth:b,itemHeight:w}=xgt(r,n,i,y,s);x>0&&p+w+2*l>d&&(h+=f+l,u.push({width:f,height:p}),m+=f+l,g++,f=p=0),c[x]={left:m,top:p,col:g,width:b,height:w},f=Math.max(f,b),p+=w+l}),h+=f,u.push({width:f,height:p}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:s},rtl:i}}=this,o=np(i,this.left,this.width);if(this.isHorizontal()){let l=0,c=Qr(r,this.left+s,this.right-this.lineWidths[l]);for(const u of n)l!==u.row&&(l=u.row,c=Qr(r,this.left+s,this.right-this.lineWidths[l])),u.top+=this.top+t+s,u.left=o.leftForLtr(o.x(c),u.width),c+=u.width+s}else{let l=0,c=Qr(r,this.top+t+s,this.bottom-this.columnSizes[l].height);for(const u of n)u.col!==l&&(l=u.col,c=Qr(r,this.top+t+s,this.bottom-this.columnSizes[l].height)),u.top=c,u.left+=this.left+s,u.left=o.leftForLtr(o.x(u.left),u.width),c+=u.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;B$(t,this),this._draw(),F$(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:r,ctx:s}=this,{align:i,labels:o}=t,l=nr.color,c=np(t.rtl,this.left,this.width),u=cs(o.font),{padding:d}=o,h=u.size,f=h/2;let p;this.drawTitle(),s.textAlign=c.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=u.string;const{boxWidth:m,boxHeight:g,itemHeight:y}=_V(o,h),x=function(k,j,_){if(isNaN(m)||m<=0||isNaN(g)||g<0)return;s.save();const C=pt(_.lineWidth,1);if(s.fillStyle=pt(_.fillStyle,l),s.lineCap=pt(_.lineCap,"butt"),s.lineDashOffset=pt(_.lineDashOffset,0),s.lineJoin=pt(_.lineJoin,"miter"),s.lineWidth=C,s.strokeStyle=pt(_.strokeStyle,l),s.setLineDash(pt(_.lineDash,[])),o.usePointStyle){const A={radius:g*Math.SQRT2/2,pointStyle:_.pointStyle,rotation:_.rotation,borderWidth:C},O=c.xPlus(k,m/2),M=j+f;pce(s,A,O,M,o.pointStyleWidth&&m)}else{const A=j+Math.max((h-g)/2,0),O=c.leftForLtr(k,m),M=tp(_.borderRadius);s.beginPath(),Object.values(M).some(P=>P!==0)?xk(s,{x:O,y:A,w:m,h:g,radius:M}):s.rect(O,A,m,g),s.fill(),C!==0&&s.stroke()}s.restore()},b=function(k,j,_){jv(s,_.text,k,j+y/2,u,{strikethrough:_.hidden,textAlign:c.textAlign(_.textAlign)})},w=this.isHorizontal(),N=this._computeTitleHeight();w?p={x:Qr(i,this.left+d,this.right-r[0]),y:this.top+d+N,line:0}:p={x:this.left+d,y:Qr(i,this.top+N+d,this.bottom-n[0].height),line:0},wce(this.ctx,t.textDirection);const S=y+d;this.legendItems.forEach((k,j)=>{s.strokeStyle=k.fontColor,s.fillStyle=k.fontColor;const _=s.measureText(k.text).width,C=c.textAlign(k.textAlign||(k.textAlign=o.textAlign)),A=m+f+_;let O=p.x,M=p.y;c.setWidth(this.width),w?j>0&&O+A+d>this.right&&(M=p.y+=S,p.line++,O=p.x=Qr(i,this.left+d,this.right-r[p.line])):j>0&&M+S>this.bottom&&(O=p.x=O+n[p.line].width+d,p.line++,M=p.y=Qr(i,this.top+N+d,this.bottom-n[p.line].height));const P=c.x(O);if(x(P,M,k),O=dft(C,O+m+f,w?O+A:this.right,t.rtl),b(c.x(O),M,k),w)p.x+=A+d;else if(typeof k.text!="string"){const E=u.lineHeight;p.y+=Bce(k,E)+d}else p.y+=S}),Sce(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,r=cs(n.font),s=eo(n.padding);if(!n.display)return;const i=np(t.rtl,this.left,this.width),o=this.ctx,l=n.position,c=r.size/2,u=s.top+c;let d,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),d=this.top+u,h=Qr(t.align,h,this.right-f);else{const m=this.columnSizes.reduce((g,y)=>Math.max(g,y.height),0);d=u+Qr(t.align,this.top,this.bottom-m-t.labels.padding-this._computeTitleHeight())}const p=Qr(l,h,h+f);o.textAlign=i.textAlign(I$(l)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,jv(o,n.text,p,d,r)}_computeTitleHeight(){const t=this.options.title,n=cs(t.font),r=eo(t.padding);return t.display?n.lineHeight+r.height:0}_getLegendItemAt(t,n){let r,s,i;if(Tc(t,this.left,this.right)&&Tc(n,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(s=i[r],Tc(t,s.left,s.left+s.width)&&Tc(n,s.top,s.top+s.height))return this.legendItems[r]}return null}handleEvent(t){const n=this.options;if(!wgt(t.type,n))return;const r=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,i=ygt(s,r);s&&!i&&xn(n.onLeave,[t,s,this],this),this._hoveredItem=r,r&&!i&&xn(n.onHover,[t,r,this],this)}else r&&xn(n.onClick,[t,r,this],this)}}function xgt(e,t,n,r,s){const i=vgt(r,e,t,n),o=bgt(s,r,t.lineHeight);return{itemWidth:i,itemHeight:o}}function vgt(e,t,n,r){let s=e.text;return s&&typeof s!="string"&&(s=s.reduce((i,o)=>i.length>o.length?i:o)),t+n.size/2+r.measureText(s).width}function bgt(e,t,n){let r=e;return typeof t.text!="string"&&(r=Bce(t,n)),r}function Bce(e,t){const n=e.text?e.text.length:0;return t*n}function wgt(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var Sgt={id:"legend",_element:EV,start(e,t,n){const r=e.legend=new EV({ctx:e.ctx,options:n,chart:e});zi.configure(e,r,n),zi.addBox(e,r)},stop(e){zi.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;zi.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,s=n.chart;s.isDatasetVisible(r)?(s.hide(r),t.hidden=!0):(s.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:s,color:i,useBorderRadius:o,borderRadius:l}}=e.legend.options;return e._getSortedDatasetMetas().map(c=>{const u=c.controller.getStyle(n?0:void 0),d=eo(u.borderWidth);return{text:t[c.index].label,fillStyle:u.backgroundColor,fontColor:i,hidden:!c.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:r||u.pointStyle,rotation:u.rotation,textAlign:s||u.textAlign,borderRadius:o&&(l||u.borderRadius),datasetIndex:c.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Fce extends Bl{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const s=yr(r.text)?r.text.length:1;this._padding=eo(r.padding);const i=s*cs(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:r,bottom:s,right:i,options:o}=this,l=o.align;let c=0,u,d,h;return this.isHorizontal()?(d=Qr(l,r,i),h=n+t,u=i-r):(o.position==="left"?(d=r+t,h=Qr(l,s,n),c=Ht*-.5):(d=i-t,h=Qr(l,n,s),c=Ht*.5),u=s-n),{titleX:d,titleY:h,maxWidth:u,rotation:c}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const r=cs(n.font),i=r.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:c,rotation:u}=this._drawArgs(i);jv(t,n.text,0,0,r,{color:n.color,maxWidth:c,rotation:u,textAlign:I$(n.align),textBaseline:"middle",translation:[o,l]})}}function Ngt(e,t){const n=new Fce({ctx:e.ctx,options:t,chart:e});zi.configure(e,n,t),zi.addBox(e,n),e.titleBlock=n}var kgt={id:"title",_element:Fce,start(e,t,n){Ngt(e,n)},stop(e){const t=e.titleBlock;zi.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;zi.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ey={average(e){if(!e.length)return!1;let t,n,r=new Set,s=0,i=0;for(t=0,n=e.length;t<n;++t){const l=e[t].element;if(l&&l.hasValue()){const c=l.tooltipPosition();r.add(c.x),s+=c.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((l,c)=>l+c)/r.size,y:s/i}},nearest(e,t){if(!e.length)return!1;let n=t.x,r=t.y,s=Number.POSITIVE_INFINITY,i,o,l;for(i=0,o=e.length;i<o;++i){const c=e[i].element;if(c&&c.hasValue()){const u=c.getCenterPoint(),d=mP(t,u);d<s&&(s=d,l=c)}}if(l){const c=l.tooltipPosition();n=c.x,r=c.y}return{x:n,y:r}}};function ra(e,t){return t&&(yr(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Ya(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function jgt(e,t){const{element:n,datasetIndex:r,index:s}=t,i=e.getDatasetMeta(r).controller,{label:o,value:l}=i.getLabelAndValue(s);return{chart:e,label:o,parsed:i.getParsed(s),raw:e.data.datasets[r].data[s],formattedValue:l,dataset:i.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function CV(e,t){const n=e.chart.ctx,{body:r,footer:s,title:i}=e,{boxWidth:o,boxHeight:l}=t,c=cs(t.bodyFont),u=cs(t.titleFont),d=cs(t.footerFont),h=i.length,f=s.length,p=r.length,m=eo(t.padding);let g=m.height,y=0,x=r.reduce((N,S)=>N+S.before.length+S.lines.length+S.after.length,0);if(x+=e.beforeBody.length+e.afterBody.length,h&&(g+=h*u.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),x){const N=t.displayColors?Math.max(l,c.lineHeight):c.lineHeight;g+=p*N+(x-p)*c.lineHeight+(x-1)*t.bodySpacing}f&&(g+=t.footerMarginTop+f*d.lineHeight+(f-1)*t.footerSpacing);let b=0;const w=function(N){y=Math.max(y,n.measureText(N).width+b)};return n.save(),n.font=u.string,Ut(e.title,w),n.font=c.string,Ut(e.beforeBody.concat(e.afterBody),w),b=t.displayColors?o+2+t.boxPadding:0,Ut(r,N=>{Ut(N.before,w),Ut(N.lines,w),Ut(N.after,w)}),b=0,n.font=d.string,Ut(e.footer,w),n.restore(),y+=m.width,{width:y,height:g}}function _gt(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}function Egt(e,t,n,r){const{x:s,width:i}=r,o=n.caretSize+n.caretPadding;if(e==="left"&&s+i+o>t.width||e==="right"&&s-i-o<0)return!0}function Cgt(e,t,n,r){const{x:s,width:i}=n,{width:o,chartArea:{left:l,right:c}}=e;let u="center";return r==="center"?u=s<=(l+c)/2?"left":"right":s<=i/2?u="left":s>=o-i/2&&(u="right"),Egt(u,e,t,n)&&(u="center"),u}function TV(e,t,n){const r=n.yAlign||t.yAlign||_gt(e,n);return{xAlign:n.xAlign||t.xAlign||Cgt(e,t,n,r),yAlign:r}}function Tgt(e,t){let{x:n,width:r}=e;return t==="right"?n-=r:t==="center"&&(n-=r/2),n}function Agt(e,t,n){let{y:r,height:s}=e;return t==="top"?r+=n:t==="bottom"?r-=s+n:r-=s/2,r}function AV(e,t,n,r){const{caretSize:s,caretPadding:i,cornerRadius:o}=e,{xAlign:l,yAlign:c}=n,u=s+i,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:p}=tp(o);let m=Tgt(t,l);const g=Agt(t,c,u);return c==="center"?l==="left"?m+=u:l==="right"&&(m-=u):l==="left"?m-=Math.max(d,f)+s:l==="right"&&(m+=Math.max(h,p)+s),{x:ls(m,0,r.width-t.width),y:ls(g,0,r.height-t.height)}}function Tw(e,t,n){const r=eo(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-r.right:e.x+r.left}function OV(e){return ra([],Ya(e))}function Ogt(e,t,n){return Sh(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function MV(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const zce={beforeTitle:Wa,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:Wa,beforeBody:Wa,beforeLabel:Wa,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return Bt(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Wa,afterBody:Wa,beforeFooter:Wa,footer:Wa,afterFooter:Wa};function Is(e,t,n,r){const s=e[t].call(n,r);return typeof s>"u"?zce[t].call(n,r):s}class SP extends Bl{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,i=new kce(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=Ogt(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:r}=n,s=Is(r,"beforeTitle",this,t),i=Is(r,"title",this,t),o=Is(r,"afterTitle",this,t);let l=[];return l=ra(l,Ya(s)),l=ra(l,Ya(i)),l=ra(l,Ya(o)),l}getBeforeBody(t,n){return OV(Is(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:r}=n,s=[];return Ut(t,i=>{const o={before:[],lines:[],after:[]},l=MV(r,i);ra(o.before,Ya(Is(l,"beforeLabel",this,i))),ra(o.lines,Is(l,"label",this,i)),ra(o.after,Ya(Is(l,"afterLabel",this,i))),s.push(o)}),s}getAfterBody(t,n){return OV(Is(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:r}=n,s=Is(r,"beforeFooter",this,t),i=Is(r,"footer",this,t),o=Is(r,"afterFooter",this,t);let l=[];return l=ra(l,Ya(s)),l=ra(l,Ya(i)),l=ra(l,Ya(o)),l}_createItems(t){const n=this._active,r=this.chart.data,s=[],i=[],o=[];let l=[],c,u;for(c=0,u=n.length;c<u;++c)l.push(jgt(this.chart,n[c]));return t.filter&&(l=l.filter((d,h,f)=>t.filter(d,h,f,r))),t.itemSort&&(l=l.sort((d,h)=>t.itemSort(d,h,r))),Ut(l,d=>{const h=MV(t.callbacks,d);s.push(Is(h,"labelColor",this,d)),i.push(Is(h,"labelPointStyle",this,d)),o.push(Is(h,"labelTextColor",this,d))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=l,l}update(t,n){const r=this.options.setContext(this.getContext()),s=this._active;let i,o=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const l=ey[r.position].call(this,s,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const c=this._size=CV(this,r),u=Object.assign({},l,c),d=TV(this.chart,r,u),h=AV(r,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,i={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,r,s){const i=this.getCaretPosition(t,r,s);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(t,n,r){const{xAlign:s,yAlign:i}=this,{caretSize:o,cornerRadius:l}=r,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:h}=tp(l),{x:f,y:p}=t,{width:m,height:g}=n;let y,x,b,w,N,S;return i==="center"?(N=p+g/2,s==="left"?(y=f,x=y-o,w=N+o,S=N-o):(y=f+m,x=y+o,w=N-o,S=N+o),b=y):(s==="left"?x=f+Math.max(c,d)+o:s==="right"?x=f+m-Math.max(u,h)-o:x=this.caretX,i==="top"?(w=p,N=w-o,y=x-o,b=x+o):(w=p+g,N=w+o,y=x+o,b=x-o),S=w),{x1:y,x2:x,x3:b,y1:w,y2:N,y3:S}}drawTitle(t,n,r){const s=this.title,i=s.length;let o,l,c;if(i){const u=np(r.rtl,this.x,this.width);for(t.x=Tw(this,r.titleAlign,r),n.textAlign=u.textAlign(r.titleAlign),n.textBaseline="middle",o=cs(r.titleFont),l=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,c=0;c<i;++c)n.fillText(s[c],u.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+l,c+1===i&&(t.y+=r.titleMarginBottom-l)}}_drawColorBox(t,n,r,s,i){const o=this.labelColors[r],l=this.labelPointStyles[r],{boxHeight:c,boxWidth:u}=i,d=cs(i.bodyFont),h=Tw(this,"left",i),f=s.x(h),p=c<d.lineHeight?(d.lineHeight-c)/2:0,m=n.y+p;if(i.usePointStyle){const g={radius:Math.min(u,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},y=s.leftForLtr(f,u)+u/2,x=m+c/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,yP(t,g,y,x),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,yP(t,g,y,x)}else{t.lineWidth=Ot(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const g=s.leftForLtr(f,u),y=s.leftForLtr(s.xPlus(f,1),u-2),x=tp(o.borderRadius);Object.values(x).some(b=>b!==0)?(t.beginPath(),t.fillStyle=i.multiKeyBackground,xk(t,{x:g,y:m,w:u,h:c,radius:x}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),xk(t,{x:y,y:m+1,w:u-2,h:c-2,radius:x}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(g,m,u,c),t.strokeRect(g,m,u,c),t.fillStyle=o.backgroundColor,t.fillRect(y,m+1,u-2,c-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,n,r){const{body:s}=this,{bodySpacing:i,bodyAlign:o,displayColors:l,boxHeight:c,boxWidth:u,boxPadding:d}=r,h=cs(r.bodyFont);let f=h.lineHeight,p=0;const m=np(r.rtl,this.x,this.width),g=function(_){n.fillText(_,m.x(t.x+p),t.y+f/2),t.y+=f+i},y=m.textAlign(o);let x,b,w,N,S,k,j;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,t.x=Tw(this,y,r),n.fillStyle=r.bodyColor,Ut(this.beforeBody,g),p=l&&y!=="right"?o==="center"?u/2+d:u+2+d:0,N=0,k=s.length;N<k;++N){for(x=s[N],b=this.labelTextColors[N],n.fillStyle=b,Ut(x.before,g),w=x.lines,l&&w.length&&(this._drawColorBox(n,t,N,m,r),f=Math.max(h.lineHeight,c)),S=0,j=w.length;S<j;++S)g(w[S]),f=h.lineHeight;Ut(x.after,g)}p=0,f=h.lineHeight,Ut(this.afterBody,g),t.y-=i}drawFooter(t,n,r){const s=this.footer,i=s.length;let o,l;if(i){const c=np(r.rtl,this.x,this.width);for(t.x=Tw(this,r.footerAlign,r),t.y+=r.footerMarginTop,n.textAlign=c.textAlign(r.footerAlign),n.textBaseline="middle",o=cs(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,l=0;l<i;++l)n.fillText(s[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+r.footerSpacing}}drawBackground(t,n,r,s){const{xAlign:i,yAlign:o}=this,{x:l,y:c}=t,{width:u,height:d}=r,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:m}=tp(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(l+h,c),o==="top"&&this.drawCaret(t,n,r,s),n.lineTo(l+u-f,c),n.quadraticCurveTo(l+u,c,l+u,c+f),o==="center"&&i==="right"&&this.drawCaret(t,n,r,s),n.lineTo(l+u,c+d-m),n.quadraticCurveTo(l+u,c+d,l+u-m,c+d),o==="bottom"&&this.drawCaret(t,n,r,s),n.lineTo(l+p,c+d),n.quadraticCurveTo(l,c+d,l,c+d-p),o==="center"&&i==="left"&&this.drawCaret(t,n,r,s),n.lineTo(l,c+h),n.quadraticCurveTo(l,c,l+h,c),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,r=this.$animations,s=r&&r.x,i=r&&r.y;if(s||i){const o=ey[t.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=CV(this,t),c=Object.assign({},o,this._size),u=TV(n,t,c),d=AV(t,c,u,n);(s._to!==d.x||i._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=eo(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(t.save(),t.globalAlpha=r,this.drawBackground(i,t,s,n),wce(t,n.textDirection),i.y+=o.top,this.drawTitle(i,t,n),this.drawBody(i,t,n),this.drawFooter(i,t,n),Sce(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const r=this._active,s=t.map(({datasetIndex:l,index:c})=>{const u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[c],index:c}}),i=!mk(r,s),o=this._positionChanged(s,n);(i||o)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],o=this._getActiveElements(t,i,n,r),l=this._positionChanged(o,t),c=n||!mk(o,i)||l;return c&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),c}_getActiveElements(t,n,r,s){const i=this.options;if(t.type==="mouseout")return[];if(!s)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,i.mode,i,r);return i.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:r,caretY:s,options:i}=this,o=ey[i.position].call(this,t,n);return o!==!1&&(r!==o.x||s!==o.y)}}Ie(SP,"positioners",ey);var Mgt={id:"tooltip",_element:SP,positioners:ey,afterInit(e,t,n){n&&(e.tooltip=new SP({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:zce},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Pgt=(e,t,n,r)=>(typeof t=="string"?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function Dgt(e,t,n,r){const s=e.indexOf(t);if(s===-1)return Pgt(e,t,n,r);const i=e.lastIndexOf(t);return s!==i?n:s}const Rgt=(e,t)=>e===null?null:ls(Math.round(e),0,t);function PV(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class NP extends zm{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:s,label:i}of n)r[s]===i&&r.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(Bt(t))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===t?n:Dgt(r,t,pt(n,t),this._addedLabels),Rgt(n,r.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const t=this.min,n=this.max,r=this.options.offset,s=[];let i=this.getLabels();i=t===0&&n===i.length-1?i:i.slice(t,n+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=t;o<=n;o++)s.push({value:o});return s}getLabelForValue(t){return PV.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}Ie(NP,"id","category"),Ie(NP,"defaults",{ticks:{callback:PV}});function Igt(e,t){const n=[],{bounds:s,step:i,min:o,max:l,precision:c,count:u,maxTicks:d,maxDigits:h,includeBounds:f}=e,p=i||1,m=d-1,{min:g,max:y}=t,x=!Bt(o),b=!Bt(l),w=!Bt(u),N=(y-g)/(h+1);let S=RW((y-g)/m/p)*p,k,j,_,C;if(S<1e-14&&!x&&!b)return[{value:g},{value:y}];C=Math.ceil(y/S)-Math.floor(g/S),C>m&&(S=RW(C*S/m/p)*p),Bt(c)||(k=Math.pow(10,c),S=Math.ceil(S*k)/k),s==="ticks"?(j=Math.floor(g/S)*S,_=Math.ceil(y/S)*S):(j=g,_=y),x&&b&&i&&nft((l-o)/i,S/1e3)?(C=Math.round(Math.min((l-o)/S,d)),S=(l-o)/C,j=o,_=l):w?(j=x?o:j,_=b?l:_,C=u-1,S=(_-j)/C):(C=(_-j)/S,Ry(C,Math.round(C),S/1e3)?C=Math.round(C):C=Math.ceil(C));const A=Math.max(IW(S),IW(j));k=Math.pow(10,Bt(c)?A:c),j=Math.round(j*k)/k,_=Math.round(_*k)/k;let O=0;for(x&&(f&&j!==o?(n.push({value:o}),j<o&&O++,Ry(Math.round((j+O*S)*k)/k,o,DV(o,N,e))&&O++):j<o&&O++);O<C;++O){const M=Math.round((j+O*S)*k)/k;if(b&&M>l)break;n.push({value:M})}return b&&f&&_!==l?n.length&&Ry(n[n.length-1].value,l,DV(l,N,e))?n[n.length-1].value=l:n.push({value:l}):(!b||_===l)&&n.push({value:_}),n}function DV(e,t,{horizontal:n,minRotation:r}){const s=dl(r),i=(n?Math.sin(s):Math.cos(s))||.001,o=.75*t*(""+e).length;return Math.min(t/i,o)}class Lgt extends zm{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return Bt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:s,max:i}=this;const o=c=>s=n?s:c,l=c=>i=r?i:c;if(t){const c=wa(s),u=wa(i);c<0&&u<0?l(0):c>0&&u>0&&o(0)}if(s===i){let c=i===0?1:Math.abs(i*.05);l(i+c),t||o(s-c)}this.min=s,this.max=i}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=t,s;return r?(s=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s={maxTicks:r,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,o=Igt(s,i);return t.bounds==="ticks"&&rft(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&t.length){const s=(r-n)/Math.max(t.length-1,1)/2;n-=s,r+=s}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(t){return $$(t,this.chart.options.locale,this.options.ticks.format)}}class kP extends Lgt{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Zi(t)?t:0,this.max=Zi(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,r=dl(this.options.ticks.minRotation),s=(t?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Ie(kP,"id","linear"),Ie(kP,"defaults",{ticks:{callback:fce.formatters.numeric}});const Z_={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Fs=Object.keys(Z_);function RV(e,t){return e-t}function IV(e,t){if(Bt(t))return null;const n=e._adapter,{parser:r,round:s,isoWeekday:i}=e._parseOpts;let o=t;return typeof r=="function"&&(o=r(o)),Zi(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(s&&(o=s==="week"&&(Sv(i)||i===!0)?n.startOf(o,"isoWeek",i):n.startOf(o,s)),+o)}function LV(e,t,n,r){const s=Fs.length;for(let i=Fs.indexOf(e);i<s-1;++i){const o=Z_[Fs[i]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(l*o.size))<=r)return Fs[i]}return Fs[s-1]}function $gt(e,t,n,r,s){for(let i=Fs.length-1;i>=Fs.indexOf(n);i--){const o=Fs[i];if(Z_[o].common&&e._adapter.diff(s,r,o)>=t-1)return o}return Fs[n?Fs.indexOf(n):0]}function Bgt(e){for(let t=Fs.indexOf(e)+1,n=Fs.length;t<n;++t)if(Z_[Fs[t]].common)return Fs[t]}function $V(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:r,hi:s}=R$(n,t),i=n[r]>=t?n[r]:n[s];e[i]=!0}}function Fgt(e,t,n,r){const s=e._adapter,i=+s.startOf(t[0].value,r),o=t[t.length-1].value;let l,c;for(l=i;l<=o;l=+s.add(l,1,r))c=n[l],c>=0&&(t[c].major=!0);return t}function BV(e,t,n){const r=[],s={},i=t.length;let o,l;for(o=0;o<i;++o)l=t[o],s[l]=o,r.push({value:l,major:!1});return i===0||!n?r:Fgt(e,r,s,n)}class Sk extends zm{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const r=t.time||(t.time={}),s=this._adapter=new Upt._date(t.adapters.date);s.init(n),Dy(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:IV(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,r=t.time.unit||"day";let{min:s,max:i,minDefined:o,maxDefined:l}=this.getUserBounds();function c(u){!o&&!isNaN(u.min)&&(s=Math.min(s,u.min)),!l&&!isNaN(u.max)&&(i=Math.max(i,u.max))}(!o||!l)&&(c(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&c(this.getMinMax(!1))),s=Zi(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),i=Zi(i)&&!isNaN(i)?i:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],r=t[t.length-1]),{min:n,max:r}}buildTicks(){const t=this.options,n=t.time,r=t.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,o=this.max,l=lft(s,i,o);return this._unit=n.unit||(r.autoSkip?LV(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):$gt(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:Bgt(this._unit),this.initOffsets(s),t.reverse&&l.reverse(),BV(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,r=0,s,i;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?n=1-s:n=(this.getDecimalForValue(t[1])-s)/2,i=this.getDecimalForValue(t[t.length-1]),t.length===1?r=i:r=(i-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=ls(n,0,o),r=ls(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const t=this._adapter,n=this.min,r=this.max,s=this.options,i=s.time,o=i.unit||LV(i.minUnit,n,r,this._getLabelCapacity(n)),l=pt(s.ticks.stepSize,1),c=o==="week"?i.isoWeekday:!1,u=Sv(c)||c===!0,d={};let h=n,f,p;if(u&&(h=+t.startOf(h,"isoWeek",c)),h=+t.startOf(h,u?"day":o),t.diff(r,n,o)>1e5*l)throw new Error(n+" and "+r+" are too far apart with stepSize of "+l+" "+o);const m=s.ticks.source==="data"&&this.getDataTimestamps();for(f=h,p=0;f<r;f=+t.add(f,l,o),p++)$V(d,f,m);return(f===r||s.bounds==="ticks"||p===1)&&$V(d,f,m),Object.keys(d).sort(RV).map(g=>+g)}getLabelForValue(t){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(t,r.tooltipFormat):n.format(t,r.displayFormats.datetime)}format(t,n){const s=this.options.time.displayFormats,i=this._unit,o=n||s[i];return this._adapter.format(t,o)}_tickFormatFunction(t,n,r,s){const i=this.options,o=i.ticks.callback;if(o)return xn(o,[t,n,r],this);const l=i.time.displayFormats,c=this._unit,u=this._majorUnit,d=c&&l[c],h=u&&l[u],f=r[n],p=u&&h&&f&&f.major;return this._adapter.format(t,s||(p?h:d))}generateTickLabels(t){let n,r,s;for(n=0,r=t.length;n<r;++n)s=t[n],s.label=this._tickFormatFunction(s.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,r=this.ctx.measureText(t).width,s=dl(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(s),o=Math.sin(s),l=this._resolveTickFontOptions(0).size;return{w:r*i+l*o,h:r*o+l*i}}_getLabelCapacity(t){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,i=this._tickFormatFunction(t,0,BV(this,[t],this._majorUnit),s),o=this._getLabelSize(i),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let t=this._cache.data||[],n,r;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)t=t.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,r;if(t.length)return t;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)t.push(IV(this,s[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return uce(t.sort(RV))}}Ie(Sk,"id","time"),Ie(Sk,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Aw(e,t,n){let r=0,s=e.length-1,i,o,l,c;n?(t>=e[r].pos&&t<=e[s].pos&&({lo:r,hi:s}=ad(e,"pos",t)),{pos:i,time:l}=e[r],{pos:o,time:c}=e[s]):(t>=e[r].time&&t<=e[s].time&&({lo:r,hi:s}=ad(e,"time",t)),{time:i,pos:l}=e[r],{time:o,pos:c}=e[s]);const u=o-i;return u?l+(c-l)*(t-i)/u:l}class FV extends Sk{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Aw(n,this.min),this._tableRange=Aw(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:r}=this,s=[],i=[];let o,l,c,u,d;for(o=0,l=t.length;o<l;++o)u=t[o],u>=n&&u<=r&&s.push(u);if(s.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,l=s.length;o<l;++o)d=s[o+1],c=s[o-1],u=s[o],Math.round((d+c)/2)!==u&&i.push({time:u,pos:o/(l-1)});return i}_generate(){const t=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(t)||!r.length)&&r.splice(0,0,t),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((s,i)=>s-i)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?t=this.normalize(n.concat(r)):t=n.length?n:r,t=this._cache.all=t,t}getDecimalForValue(t){return(Aw(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return Aw(this._table,r*this._tableRange+this._minPos,!0)}}Ie(FV,"id","timeseries"),Ie(FV,"defaults",Sk.defaults);const Uce="label";function zV(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function zgt(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function Hce(e,t){e.labels=t}function Wce(e,t,n=Uce){const r=[];e.datasets=t.map(s=>{const i=e.datasets.find(o=>o[n]===s[n]);return!i||!s.data||r.includes(i)?{...s}:(r.push(i),Object.assign(i,s),i)})}function Ugt(e,t=Uce){const n={labels:[],datasets:[]};return Hce(n,e.labels),Wce(n,e.datasets,t),n}function Hgt(e,t){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:i,type:o,data:l,options:c,plugins:u=[],fallbackContent:d,updateMode:h,...f}=e,p=v.useRef(null),m=v.useRef(null),g=()=>{p.current&&(m.current=new M0(p.current,{type:o,data:Ugt(l,i),options:c&&{...c},plugins:u}),zV(t,m.current))},y=()=>{zV(t,null),m.current&&(m.current.destroy(),m.current=null)};return v.useEffect(()=>{!s&&m.current&&c&&zgt(m.current,c)},[s,c]),v.useEffect(()=>{!s&&m.current&&Hce(m.current.config.data,l.labels)},[s,l.labels]),v.useEffect(()=>{!s&&m.current&&l.datasets&&Wce(m.current.config.data,l.datasets,i)},[s,l.datasets]),v.useEffect(()=>{m.current&&(s?(y(),setTimeout(g)):m.current.update(h))},[s,c,l.labels,l.datasets,h]),v.useEffect(()=>{m.current&&(y(),setTimeout(g))},[o]),v.useEffect(()=>(g(),()=>y()),[]),a.jsx("canvas",{ref:p,role:"img",height:n,width:r,...f,children:d})}const Wgt=v.forwardRef(Hgt);function K$(e,t){return M0.register(t),v.forwardRef((n,r)=>a.jsx(Wgt,{...n,ref:r,type:e}))}const Vgt=K$("line",f1),Ggt=K$("bar",h1),qgt=K$("pie",xP);M0.register(NP,kP,y1,Zg,Qg,g1,kgt,Mgt,Sgt);function Kgt({editor:e}){const[t,n]=v.useState(!1),[r,s]=v.useState("bar"),[i,o]=v.useState(""),[l,c]=v.useState([{label:"A",value:10},{label:"B",value:20},{label:"C",value:15}]),u=()=>{c([...l,{label:`Item ${l.length+1}`,value:0}])},d=g=>{c(l.filter((y,x)=>x!==g))},h=(g,y,x)=>{const b=[...l];y==="label"?b[g].label=x:b[g].value=Number(x)||0,c(b)},f=()=>{const g=l.map(b=>b.label),y=l.map(b=>b.value),x=["rgba(54, 162, 235, 0.8)","rgba(255, 99, 132, 0.8)","rgba(255, 206, 86, 0.8)","rgba(75, 192, 192, 0.8)","rgba(153, 102, 255, 0.8)","rgba(255, 159, 64, 0.8)"];return{labels:g,datasets:[{label:i||"Dataset",data:y,backgroundColor:r==="pie"?x:x[0],borderColor:r==="pie"?x.map(b=>b.replace("0.8","1")):x[0].replace("0.8","1"),borderWidth:1}]}},p={responsive:!0,plugins:{legend:{position:"top"},title:{display:!!i,text:i}}},m=async()=>{const g=document.createElement("canvas");g.width=600,g.height=400;const y=g.getContext("2d");if(!y)return;const x=new M0(y,{type:r,data:f(),options:{...p,animation:!1}});await new Promise(w=>setTimeout(w,100));const b=g.toDataURL("image/png");e.chain().focus().setImage({src:b}).run(),x.destroy(),n(!1),o(""),c([{label:"A",value:10},{label:"B",value:20},{label:"C",value:15}])};return a.jsxs(ot,{open:t,onOpenChange:n,children:[a.jsx(js,{asChild:!0,children:a.jsx(U,{variant:"ghost",size:"sm",title:"Insert Chart",children:a.jsx(fy,{className:"w-4 h-4"})})}),a.jsxs(nt,{className:"max-w-4xl max-h-[90vh]",children:[a.jsxs(rt,{children:[a.jsx(st,{children:"Create Chart"}),a.jsx(dt,{children:"Choose a chart type, enter your data, and insert it into your note."})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6 py-4",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(K,{children:"Chart Type"}),a.jsxs("div",{className:"flex gap-2 mt-2",children:[a.jsxs(U,{variant:r==="bar"?"default":"outline",size:"sm",onClick:()=>s("bar"),children:[a.jsx(fy,{className:"w-4 h-4 mr-2"}),"Bar"]}),a.jsxs(U,{variant:r==="line"?"default":"outline",size:"sm",onClick:()=>s("line"),children:[a.jsx(bpe,{className:"w-4 h-4 mr-2"}),"Line"]}),a.jsxs(U,{variant:r==="pie"?"default":"outline",size:"sm",onClick:()=>s("pie"),children:[a.jsx(wpe,{className:"w-4 h-4 mr-2"}),"Pie"]})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"chartTitle",children:"Chart Title"}),a.jsx(re,{id:"chartTitle",value:i,onChange:g=>o(g.target.value),placeholder:"Enter chart title (optional)",className:"mt-2"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(K,{children:"Data Points"}),a.jsxs(U,{size:"sm",variant:"outline",onClick:u,children:[a.jsx(We,{className:"w-3 h-3 mr-1"}),"Add"]})]}),a.jsx(A$,{className:"h-[300px] border rounded-md p-2",children:a.jsx("div",{className:"space-y-2",children:l.map((g,y)=>a.jsxs("div",{className:"flex gap-2 items-center",children:[a.jsx(re,{value:g.label,onChange:x=>h(y,"label",x.target.value),placeholder:"Label",className:"flex-1"}),a.jsx(re,{type:"number",value:g.value,onChange:x=>h(y,"value",x.target.value),placeholder:"Value",className:"w-24"}),a.jsx(U,{variant:"ghost",size:"sm",onClick:()=>d(y),disabled:l.length<=2,className:"h-9 w-9 p-0",children:a.jsx(Xw,{className:"w-4 h-4"})})]},y))})})]})]}),a.jsx("div",{className:"border rounded-lg p-4 bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"w-full h-full max-h-[400px]",children:[a.jsx("h3",{className:"text-sm font-semibold mb-4 text-center",children:"Preview"}),r==="bar"&&a.jsx(Ggt,{data:f(),options:p}),r==="line"&&a.jsx(Vgt,{data:f(),options:p}),r==="pie"&&a.jsx(qgt,{data:f(),options:p})]})})]}),a.jsxs(Wt,{children:[a.jsx(U,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),a.jsx(U,{onClick:m,children:"Insert Chart"})]})]})]})}function Ygt({editor:e}){const[t,n]=v.useState(!1),r=v.useRef(null);v.useEffect(()=>{const u=window.SpeechRecognition||window.webkitSpeechRecognition;return u&&(r.current=new u,r.current.continuous=!0,r.current.interimResults=!0,r.current.onresult=d=>{const h=Array.from(d.results).map(f=>f[0]).map(f=>f.transcript).join("");d.results[0].isFinal&&e.commands.insertContent(h+" ")},r.current.onerror=d=>{console.error("Speech recognition error:",d.error),n(!1)},r.current.onend=()=>{n(!1)}),()=>{r.current&&r.current.stop()}},[e]);const s=()=>{if(!r.current){alert("Speech recognition is not supported in your browser. Try Chrome or Edge.");return}t?(r.current.stop(),n(!1)):(r.current.start(),n(!0))};if(!e)return null;const i=()=>{const u=e.getAttributes("link").href,d=window.prompt("Enter URL:",u);if(d!==null){if(d===""){e.chain().focus().extendMarkRange("link").unsetLink().run();return}e.chain().focus().extendMarkRange("link").setLink({href:d}).run()}},o=u=>{var f;const d=(f=u.target.files)==null?void 0:f[0];if(!d)return;if(!d.type.startsWith("image/")){alert("Please select an image file");return}const h=new FileReader;h.onload=p=>{var g;const m=(g=p.target)==null?void 0:g.result;e.chain().focus().setImage({src:m}).run()},h.readAsDataURL(d),u.target.value=""},l=()=>{if(window.confirm("Click OK to upload from computer, or Cancel to enter image URL")){const d=document.createElement("input");d.type="file",d.accept="image/*",d.onchange=h=>o(h),d.click()}else{const d=window.prompt("Enter image URL:");d&&e.chain().focus().setImage({src:d}).run()}},c=()=>{e.chain().focus().insertTable({rows:3,cols:3,withHeaderRow:!0}).run()};return a.jsx(sR,{children:a.jsxs("div",{className:"border-b border-gray-200 bg-white sticky top-0 z-10 flex flex-wrap items-center gap-1 p-2",children:[a.jsxs(et,{children:[a.jsx(tt,{asChild:!0,children:a.jsx(U,{variant:"ghost",size:"sm",onClick:()=>e.chain().focus().undo().run(),disabled:!e.can().undo(),children:a.jsx(Yk,{className:"w-4 h-4"})})}),a.jsx(Ze,{children:a.jsx("p",{children:"Undo (Ctrl+Z)"})})]}),a.jsxs(et,{children:[a.jsx(tt,{asChild:!0,children:a.jsx(U,{variant:"ghost",size:"sm",onClick:()=>e.chain().focus().redo().run(),disabled:!e.can().redo(),children:a.jsx(Kk,{className:"w-4 h-4"})})}),a.jsx(Ze,{children:a.jsx("p",{children:"Redo (Ctrl+Y)"})})]}),a.jsx(kn,{orientation:"vertical",className:"h-6 mx-1"}),a.jsxs(et,{children:[a.jsx(tt,{asChild:!0,children:a.jsx(U,{variant:e.isActive("bold")?"secondary":"ghost",size:"sm",onClick:()=>e.chain().focus().toggleBold().run(),children:a.jsx(PD,{className:"w-4 h-4"})})}),a.jsx(Ze,{children:a.jsx("p",{children:"Bold (Ctrl+B)"})})]}),a.jsxs(et,{children:[a.jsx(tt,{asChild:!0,children:a.jsx(U,{variant:e.isActive("italic")?"secondary":"ghost",size:"sm",onClick:()=>e.chain().focus().toggleItalic().run(),children:a.jsx(ID,{className:"w-4 h-4"})})}),a.jsx(Ze,{children:a.jsx("p",{children:"Italic (Ctrl+I)"})})]}),a.jsxs(et,{children:[a.jsx(tt,{asChild:!0,children:a.jsx(U,{variant:e.isActive("underline")?"secondary":"ghost",size:"sm",onClick:()=>e.chain().focus().toggleUnderline().run(),children:a.jsx(BD,{className:"w-4 h-4"})})}),a.jsx(Ze,{children:a.jsx("p",{children:"Underline (Ctrl+U)"})})]}),a.jsxs(et,{children:[a.jsx(tt,{asChild:!0,children:a.jsx(U,{variant:e.isActive("strike")?"secondary":"ghost",size:"sm",onClick:()=>e.chain().focus().toggleStrike().run(),children:a.jsx(yq,{className:"w-4 h-4"})})}),a.jsx(Ze,{children:a.jsx("p",{children:"Strikethrough"})})]}),a.jsxs(et,{children:[a.jsx(tt,{asChild:!0,children:a.jsx(U,{variant:e.isActive("code")?"secondary":"ghost",size:"sm",onClick:()=>e.chain().focus().toggleCode().run(),children:a.jsx(eq,{className:"w-4 h-4"})})}),a.jsx(Ze,{children:a.jsx("p",{children:"Inline Code"})})]}),a.jsxs(et,{children:[a.jsx(tt,{asChild:!0,children:a.jsx(U,{variant:e.isActive("highlight")?"secondary":"ghost",size:"sm",onClick:()=>e.chain().focus().toggleHighlight().run(),children:a.jsx(Epe,{className:"w-4 h-4"})})}),a.jsx(Ze,{children:a.jsx("p",{children:"Highlight"})})]}),a.jsx(kn,{orientation:"vertical",className:"h-6 mx-1"}),a.jsxs(et,{children:[a.jsx(tt,{asChild:!0,children:a.jsx(U,{variant:e.isActive("heading",{level:1})?"secondary":"ghost",size:"sm",onClick:()=>e.chain().focus().toggleHeading({level:1}).run(),children:a.jsx(rq,{className:"w-4 h-4"})})}),a.jsx(Ze,{children:a.jsx("p",{children:"Heading 1"})})]}),a.jsxs(et,{children:[a.jsx(tt,{asChild:!0,children:a.jsx(U,{variant:e.isActive("heading",{level:2})?"secondary":"ghost",size:"sm",onClick:()=>e.chain().focus().toggleHeading({level:2}).run(),children:a.jsx(sq,{className:"w-4 h-4"})})}),a.jsx(Ze,{children:a.jsx("p",{children:"Heading 2"})})]}),a.jsxs(et,{children:[a.jsx(tt,{asChild:!0,children:a.jsx(U,{variant:e.isActive("heading",{level:3})?"secondary":"ghost",size:"sm",onClick:()=>e.chain().focus().toggleHeading({level:3}).run(),children:a.jsx(_pe,{className:"w-4 h-4"})})}),a.jsx(Ze,{children:a.jsx("p",{children:"Heading 3"})})]}),a.jsx(kn,{orientation:"vertical",className:"h-6 mx-1"}),a.jsxs(et,{children:[a.jsx(tt,{asChild:!0,children:a.jsx(U,{variant:e.isActive("bulletList")?"secondary":"ghost",size:"sm",onClick:()=>e.chain().focus().toggleBulletList().run(),children:a.jsx(qk,{className:"w-4 h-4"})})}),a.jsx(Ze,{children:a.jsx("p",{children:"Bullet List"})})]}),a.jsxs(et,{children:[a.jsx(tt,{asChild:!0,children:a.jsx(U,{variant:e.isActive("orderedList")?"secondary":"ghost",size:"sm",onClick:()=>e.chain().focus().toggleOrderedList().run(),children:a.jsx(aq,{className:"w-4 h-4"})})}),a.jsx(Ze,{children:a.jsx("p",{children:"Numbered List"})})]}),a.jsxs(et,{children:[a.jsx(tt,{asChild:!0,children:a.jsx(U,{variant:e.isActive("blockquote")?"secondary":"ghost",size:"sm",onClick:()=>e.chain().focus().toggleBlockquote().run(),children:a.jsx(fq,{className:"w-4 h-4"})})}),a.jsx(Ze,{children:a.jsx("p",{children:"Blockquote"})})]}),a.jsxs(et,{children:[a.jsx(tt,{asChild:!0,children:a.jsx(U,{variant:e.isActive("taskList")?"secondary":"ghost",size:"sm",onClick:()=>e.chain().focus().toggleTaskList().run(),children:a.jsx(gq,{className:"w-4 h-4"})})}),a.jsx(Ze,{children:a.jsx("p",{children:"Task List"})})]}),a.jsx(kn,{orientation:"vertical",className:"h-6 mx-1"}),a.jsxs(et,{children:[a.jsx(tt,{asChild:!0,children:a.jsx(U,{variant:e.isActive({textAlign:"left"})?"secondary":"ghost",size:"sm",onClick:()=>e.chain().focus().setTextAlign("left").run(),children:a.jsx(ppe,{className:"w-4 h-4"})})}),a.jsx(Ze,{children:a.jsx("p",{children:"Align Left"})})]}),a.jsxs(et,{children:[a.jsx(tt,{asChild:!0,children:a.jsx(U,{variant:e.isActive({textAlign:"center"})?"secondary":"ghost",size:"sm",onClick:()=>e.chain().focus().setTextAlign("center").run(),children:a.jsx(hpe,{className:"w-4 h-4"})})}),a.jsx(Ze,{children:a.jsx("p",{children:"Align Center"})})]}),a.jsxs(et,{children:[a.jsx(tt,{asChild:!0,children:a.jsx(U,{variant:e.isActive({textAlign:"right"})?"secondary":"ghost",size:"sm",onClick:()=>e.chain().focus().setTextAlign("right").run(),children:a.jsx(mpe,{className:"w-4 h-4"})})}),a.jsx(Ze,{children:a.jsx("p",{children:"Align Right"})})]}),a.jsxs(et,{children:[a.jsx(tt,{asChild:!0,children:a.jsx(U,{variant:e.isActive({textAlign:"justify"})?"secondary":"ghost",size:"sm",onClick:()=>e.chain().focus().setTextAlign("justify").run(),children:a.jsx(fpe,{className:"w-4 h-4"})})}),a.jsx(Ze,{children:a.jsx("p",{children:"Justify"})})]}),a.jsx(kn,{orientation:"vertical",className:"h-6 mx-1"}),a.jsxs(et,{children:[a.jsx(tt,{asChild:!0,children:a.jsx(U,{variant:e.isActive("link")?"secondary":"ghost",size:"sm",onClick:i,children:a.jsx(oq,{className:"w-4 h-4"})})}),a.jsx(Ze,{children:a.jsx("p",{children:"Insert Link (Ctrl+K)"})})]}),a.jsx(kn,{orientation:"vertical",className:"h-6 mx-1"}),a.jsxs(et,{children:[a.jsx(tt,{asChild:!0,children:a.jsx(U,{variant:e.isActive("table")?"secondary":"ghost",size:"sm",onClick:c,children:a.jsx(k4,{className:"w-4 h-4"})})}),a.jsx(Ze,{children:a.jsx("p",{children:"Insert Table"})})]}),e.isActive("table")&&a.jsxs(a.Fragment,{children:[a.jsxs(et,{children:[a.jsx(tt,{asChild:!0,children:a.jsxs(U,{variant:"ghost",size:"sm",onClick:()=>e.chain().focus().addColumnBefore().run(),children:[a.jsx(VE,{className:"w-4 h-4"}),a.jsx(We,{className:"w-3 h-3 -ml-1"})]})}),a.jsx(Ze,{children:a.jsx("p",{children:"Add Column Before"})})]}),a.jsxs(et,{children:[a.jsx(tt,{asChild:!0,children:a.jsxs(U,{variant:"ghost",size:"sm",onClick:()=>e.chain().focus().addColumnAfter().run(),children:[a.jsx(We,{className:"w-3 h-3 -mr-1"}),a.jsx(VE,{className:"w-4 h-4"})]})}),a.jsx(Ze,{children:a.jsx("p",{children:"Add Column After"})})]}),a.jsxs(et,{children:[a.jsx(tt,{asChild:!0,children:a.jsxs(U,{variant:"ghost",size:"sm",onClick:()=>e.chain().focus().deleteColumn().run(),children:[a.jsx(VE,{className:"w-4 h-4"}),a.jsx(Xw,{className:"w-3 h-3 -ml-1"})]})}),a.jsx(Ze,{children:a.jsx("p",{children:"Delete Column"})})]}),a.jsxs(et,{children:[a.jsx(tt,{asChild:!0,children:a.jsxs(U,{variant:"ghost",size:"sm",onClick:()=>e.chain().focus().addRowBefore().run(),children:[a.jsx(GE,{className:"w-4 h-4"}),a.jsx(We,{className:"w-3 h-3 -ml-1"})]})}),a.jsx(Ze,{children:a.jsx("p",{children:"Add Row Before"})})]}),a.jsxs(et,{children:[a.jsx(tt,{asChild:!0,children:a.jsxs(U,{variant:"ghost",size:"sm",onClick:()=>e.chain().focus().addRowAfter().run(),children:[a.jsx(We,{className:"w-3 h-3 -mr-1"}),a.jsx(GE,{className:"w-4 h-4"})]})}),a.jsx(Ze,{children:a.jsx("p",{children:"Add Row After"})})]}),a.jsxs(et,{children:[a.jsx(tt,{asChild:!0,children:a.jsxs(U,{variant:"ghost",size:"sm",onClick:()=>e.chain().focus().deleteRow().run(),children:[a.jsx(GE,{className:"w-4 h-4"}),a.jsx(Xw,{className:"w-3 h-3 -ml-1"})]})}),a.jsx(Ze,{children:a.jsx("p",{children:"Delete Row"})})]}),a.jsxs(et,{children:[a.jsx(tt,{asChild:!0,children:a.jsxs(U,{variant:"ghost",size:"sm",onClick:()=>e.chain().focus().deleteTable().run(),className:"text-red-600 hover:text-red-700",children:[a.jsx(k4,{className:"w-4 h-4"}),a.jsx(Xw,{className:"w-3 h-3 -ml-1"})]})}),a.jsx(Ze,{children:a.jsx("p",{children:"Delete Table"})})]}),a.jsx(kn,{orientation:"vertical",className:"h-6 mx-1"})]}),a.jsxs(et,{children:[a.jsx(tt,{asChild:!0,children:a.jsx(U,{variant:e.isActive("codeBlock")?"secondary":"ghost",size:"sm",onClick:()=>e.chain().focus().toggleCodeBlock().run(),children:a.jsx(Npe,{className:"w-4 h-4"})})}),a.jsx(Ze,{children:a.jsx("p",{children:"Code Block"})})]}),a.jsxs(et,{children:[a.jsx(tt,{asChild:!0,children:a.jsx(U,{variant:"ghost",size:"sm",onClick:l,children:a.jsx(Cpe,{className:"w-4 h-4"})})}),a.jsx(Ze,{children:a.jsx("p",{children:"Insert Image"})})]}),a.jsx(kn,{orientation:"vertical",className:"h-6 mx-1"}),a.jsxs(et,{children:[a.jsx(tt,{asChild:!0,children:a.jsx(U,{variant:t?"default":"ghost",size:"sm",onClick:s,className:t?"bg-red-600 hover:bg-red-700 text-white animate-pulse":"",children:t?a.jsx(Ipe,{className:"w-4 h-4"}):a.jsx(Lpe,{className:"w-4 h-4"})})}),a.jsx(Ze,{children:a.jsx("p",{children:t?"Stop Recording":"Voice Input (Speech-to-text)"})})]}),a.jsx(Sht,{}),a.jsx(Kgt,{editor:e})]})})}function Xgt(e,t){const n=Math.min(e.top,t.top),r=Math.max(e.bottom,t.bottom),s=Math.min(e.left,t.left),o=Math.max(e.right,t.right)-s,l=r-n,c=s,u=n;return new DOMRect(c,u,o,l)}var Jgt=class{constructor({editor:e,element:t,view:n,updateDelay:r=250,resizeDelay:s=60,shouldShow:i,appendTo:o,getReferencedVirtualElement:l,options:c}){this.preventHide=!1,this.isVisible=!1,this.scrollTarget=window,this.floatingUIOptions={strategy:"absolute",placement:"top",offset:8,flip:{},shift:{},arrow:!1,size:!1,autoPlacement:!1,hide:!1,inline:!1,onShow:void 0,onHide:void 0,onUpdate:void 0,onDestroy:void 0},this.shouldShow=({view:d,state:h,from:f,to:p})=>{const{doc:m,selection:g}=h,{empty:y}=g,x=!m.textBetween(f,p).length&&QL(h.selection),b=this.element.contains(document.activeElement);return!(!(d.hasFocus()||b)||y||x||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.resizeHandler=()=>{this.resizeDebounceTimer&&clearTimeout(this.resizeDebounceTimer),this.resizeDebounceTimer=window.setTimeout(()=>{this.updatePosition()},this.resizeDelay)},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:d})=>{var h;if(this.editor.isDestroyed){this.destroy();return}if(this.preventHide){this.preventHide=!1;return}d!=null&&d.relatedTarget&&((h=this.element.parentNode)!=null&&h.contains(d.relatedTarget))||(d==null?void 0:d.relatedTarget)!==this.editor.view.dom&&this.hide()},this.handleDebouncedUpdate=(d,h)=>{const f=!(h!=null&&h.selection.eq(d.state.selection)),p=!(h!=null&&h.doc.eq(d.state.doc));!f&&!p||(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(d,f,p,h)},this.updateDelay))},this.updateHandler=(d,h,f,p)=>{const{composing:m}=d;if(m||!h&&!f)return;if(!this.getShouldShow(p)){this.hide();return}this.updatePosition(),this.show()},this.transactionHandler=({transaction:d})=>{d.getMeta("bubbleMenu")==="updatePosition"&&this.updatePosition()};var u;this.editor=e,this.element=t,this.view=n,this.updateDelay=r,this.resizeDelay=s,this.appendTo=o,this.scrollTarget=(u=c==null?void 0:c.scrollTarget)!=null?u:window,this.getReferencedVirtualElement=l,this.floatingUIOptions={...this.floatingUIOptions,...c},this.element.tabIndex=0,i&&(this.shouldShow=i),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.editor.on("transaction",this.transactionHandler),window.addEventListener("resize",this.resizeHandler),this.scrollTarget.addEventListener("scroll",this.resizeHandler),this.update(n,n.state),this.getShouldShow()&&(this.show(),this.updatePosition())}get middlewares(){const e=[];return this.floatingUIOptions.flip&&e.push(JD(typeof this.floatingUIOptions.flip!="boolean"?this.floatingUIOptions.flip:void 0)),this.floatingUIOptions.shift&&e.push(XD(typeof this.floatingUIOptions.shift!="boolean"?this.floatingUIOptions.shift:void 0)),this.floatingUIOptions.offset&&e.push(YD(typeof this.floatingUIOptions.offset!="boolean"?this.floatingUIOptions.offset:void 0)),this.floatingUIOptions.arrow&&e.push(Y1(this.floatingUIOptions.arrow)),this.floatingUIOptions.size&&e.push(QD(typeof this.floatingUIOptions.size!="boolean"?this.floatingUIOptions.size:void 0)),this.floatingUIOptions.autoPlacement&&e.push(Wq(typeof this.floatingUIOptions.autoPlacement!="boolean"?this.floatingUIOptions.autoPlacement:void 0)),this.floatingUIOptions.hide&&e.push(ZD(typeof this.floatingUIOptions.hide!="boolean"?this.floatingUIOptions.hide:void 0)),this.floatingUIOptions.inline&&e.push(Vq(typeof this.floatingUIOptions.inline!="boolean"?this.floatingUIOptions.inline:void 0)),e}get virtualElement(){var e;const{selection:t}=this.editor.state,n=(e=this.getReferencedVirtualElement)==null?void 0:e.call(this);if(n)return n;const r=tae(this.view,t.from,t.to);let s={getBoundingClientRect:()=>r,getClientRects:()=>[r]};if(t instanceof He){let i=this.view.nodeDOM(t.from);const o=i.dataset.nodeViewWrapper?i:i.querySelector("[data-node-view-wrapper]");o&&(i=o),i&&(s={getBoundingClientRect:()=>i.getBoundingClientRect(),getClientRects:()=>[i.getBoundingClientRect()]})}if(t instanceof rn){const{$anchorCell:i,$headCell:o}=t,l=i?i.pos:o.pos,c=o?o.pos:i.pos,u=this.view.nodeDOM(l),d=this.view.nodeDOM(c);if(!u||!d)return;const h=u===d?u.getBoundingClientRect():Xgt(u.getBoundingClientRect(),d.getBoundingClientRect());s={getBoundingClientRect:()=>h,getClientRects:()=>[h]}}return s}updatePosition(){const e=this.virtualElement;e&&eR(e,this.element,{placement:this.floatingUIOptions.placement,strategy:this.floatingUIOptions.strategy,middleware:this.middlewares}).then(({x:t,y:n,strategy:r})=>{this.element.style.width="max-content",this.element.style.position=r,this.element.style.left=`${t}px`,this.element.style.top=`${n}px`,this.isVisible&&this.floatingUIOptions.onUpdate&&this.floatingUIOptions.onUpdate()})}update(e,t){const{state:n}=e,r=n.selection.from!==n.selection.to;if(this.updateDelay>0&&r){this.handleDebouncedUpdate(e,t);return}const s=!(t!=null&&t.selection.eq(e.state.selection)),i=!(t!=null&&t.doc.eq(e.state.doc));this.updateHandler(e,s,i,t)}getShouldShow(e){var t;const{state:n}=this.view,{selection:r}=n,{ranges:s}=r,i=Math.min(...s.map(c=>c.$from.pos)),o=Math.max(...s.map(c=>c.$to.pos));return((t=this.shouldShow)==null?void 0:t.call(this,{editor:this.editor,element:this.element,view:this.view,state:n,oldState:e,from:i,to:o}))||!1}show(){var e;if(this.isVisible)return;this.element.style.visibility="visible",this.element.style.opacity="1";const t=typeof this.appendTo=="function"?this.appendTo():this.appendTo;(e=t??this.view.dom.parentElement)==null||e.appendChild(this.element),this.floatingUIOptions.onShow&&this.floatingUIOptions.onShow(),this.isVisible=!0}hide(){this.isVisible&&(this.element.style.visibility="hidden",this.element.style.opacity="0",this.element.remove(),this.floatingUIOptions.onHide&&this.floatingUIOptions.onHide(),this.isVisible=!1)}destroy(){this.hide(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),window.removeEventListener("resize",this.resizeHandler),this.scrollTarget.removeEventListener("scroll",this.resizeHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler),this.editor.off("transaction",this.transactionHandler),this.floatingUIOptions.onDestroy&&this.floatingUIOptions.onDestroy()}},Vce=e=>new an({key:typeof e.pluginKey=="string"?new Cn(e.pluginKey):e.pluginKey,view:t=>new Jgt({view:t,...e})});Ft.create({name:"bubbleMenu",addOptions(){return{element:null,pluginKey:"bubbleMenu",updateDelay:void 0,appendTo:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[Vce({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,updateDelay:this.options.updateDelay,options:this.options.options,appendTo:this.options.appendTo,getReferencedVirtualElement:this.options.getReferencedVirtualElement,shouldShow:this.options.shouldShow})]:[]}});var Qgt=class{constructor({editor:e,element:t,view:n,options:r,appendTo:s,shouldShow:i}){this.preventHide=!1,this.isVisible=!1,this.shouldShow=({view:o,state:l})=>{const{selection:c}=l,{$anchor:u,empty:d}=c,h=u.depth===1,f=u.parent.isTextblock&&!u.parent.type.spec.code&&!u.parent.textContent&&u.parent.childCount===0&&!this.getTextContent(u.parent);return!(!o.hasFocus()||!d||!h||!f||!this.editor.isEditable)},this.floatingUIOptions={strategy:"absolute",placement:"right",offset:8,flip:{},shift:{},arrow:!1,size:!1,autoPlacement:!1,hide:!1,inline:!1},this.updateHandler=(o,l,c,u)=>{const{composing:d}=o;if(d||!l&&!c)return;if(!this.getShouldShow(u)){this.hide();return}this.updatePosition(),this.show()},this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:o})=>{var l;if(this.preventHide){this.preventHide=!1;return}o!=null&&o.relatedTarget&&((l=this.element.parentNode)!=null&&l.contains(o.relatedTarget))||(o==null?void 0:o.relatedTarget)!==this.editor.view.dom&&this.hide()},this.editor=e,this.element=t,this.view=n,this.appendTo=s,this.floatingUIOptions={...this.floatingUIOptions,...r},this.element.tabIndex=0,i&&(this.shouldShow=i),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.update(n,n.state),this.getShouldShow()&&(this.show(),this.updatePosition())}getTextContent(e){return Joe(e,{textSerializers:r$(this.editor.schema)})}get middlewares(){const e=[];return this.floatingUIOptions.flip&&e.push(JD(typeof this.floatingUIOptions.flip!="boolean"?this.floatingUIOptions.flip:void 0)),this.floatingUIOptions.shift&&e.push(XD(typeof this.floatingUIOptions.shift!="boolean"?this.floatingUIOptions.shift:void 0)),this.floatingUIOptions.offset&&e.push(YD(typeof this.floatingUIOptions.offset!="boolean"?this.floatingUIOptions.offset:void 0)),this.floatingUIOptions.arrow&&e.push(Y1(this.floatingUIOptions.arrow)),this.floatingUIOptions.size&&e.push(QD(typeof this.floatingUIOptions.size!="boolean"?this.floatingUIOptions.size:void 0)),this.floatingUIOptions.autoPlacement&&e.push(Wq(typeof this.floatingUIOptions.autoPlacement!="boolean"?this.floatingUIOptions.autoPlacement:void 0)),this.floatingUIOptions.hide&&e.push(ZD(typeof this.floatingUIOptions.hide!="boolean"?this.floatingUIOptions.hide:void 0)),this.floatingUIOptions.inline&&e.push(Vq(typeof this.floatingUIOptions.inline!="boolean"?this.floatingUIOptions.inline:void 0)),e}getShouldShow(e){var t;const{state:n}=this.view,{selection:r}=n,{ranges:s}=r,i=Math.min(...s.map(c=>c.$from.pos)),o=Math.max(...s.map(c=>c.$to.pos));return(t=this.shouldShow)==null?void 0:t.call(this,{editor:this.editor,view:this.view,state:n,oldState:e,from:i,to:o})}updatePosition(){const{selection:e}=this.editor.state,t=tae(this.view,e.from,e.to);eR({getBoundingClientRect:()=>t,getClientRects:()=>[t]},this.element,{placement:this.floatingUIOptions.placement,strategy:this.floatingUIOptions.strategy,middleware:this.middlewares}).then(({x:r,y:s,strategy:i})=>{this.element.style.width="max-content",this.element.style.position=i,this.element.style.left=`${r}px`,this.element.style.top=`${s}px`,this.isVisible&&this.floatingUIOptions.onUpdate&&this.floatingUIOptions.onUpdate()})}update(e,t){const n=!(t!=null&&t.selection.eq(e.state.selection)),r=!(t!=null&&t.doc.eq(e.state.doc));this.updateHandler(e,n,r,t)}show(){var e;if(this.isVisible)return;this.element.style.visibility="visible",this.element.style.opacity="1";const t=typeof this.appendTo=="function"?this.appendTo():this.appendTo;(e=t??this.view.dom.parentElement)==null||e.appendChild(this.element),this.floatingUIOptions.onShow&&this.floatingUIOptions.onShow(),this.isVisible=!0}hide(){this.isVisible&&(this.element.style.visibility="hidden",this.element.style.opacity="0",this.element.remove(),this.floatingUIOptions.onHide&&this.floatingUIOptions.onHide(),this.isVisible=!1)}destroy(){this.hide(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler),this.floatingUIOptions.onDestroy&&this.floatingUIOptions.onDestroy()}},Gce=e=>new an({key:typeof e.pluginKey=="string"?new Cn(e.pluginKey):e.pluginKey,view:t=>new Qgt({view:t,...e})});Ft.create({name:"floatingMenu",addOptions(){return{element:null,options:{},pluginKey:"floatingMenu",appendTo:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[Gce({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,options:this.options.options,appendTo:this.options.appendTo,shouldShow:this.options.shouldShow})]:[]}});var Zgt=H.forwardRef(({pluginKey:e="bubbleMenu",editor:t,updateDelay:n,resizeDelay:r,appendTo:s,shouldShow:i=null,getReferencedVirtualElement:o,options:l,children:c,...u},d)=>{const h=v.useRef(document.createElement("div"));typeof d=="function"?d(h.current):d&&(d.current=h.current);const{editor:f}=vae(),p=t||f,m={updateDelay:n,resizeDelay:r,appendTo:s,pluginKey:e,shouldShow:i,getReferencedVirtualElement:o,options:l},g=v.useRef(m);return g.current=m,v.useEffect(()=>{if(p!=null&&p.isDestroyed)return;if(!p){console.warn("BubbleMenu component is not rendered inside of an editor component or does not have editor prop.");return}const y=h.current;y.style.visibility="hidden",y.style.position="absolute";const x=Vce({...g.current,editor:p,element:y});p.registerPlugin(x);const b=g.current.pluginKey;return()=>{p.unregisterPlugin(b),window.requestAnimationFrame(()=>{y.parentNode&&y.parentNode.removeChild(y)})}},[p]),Ta.createPortal(a.jsx("div",{...u,children:c}),h.current)});H.forwardRef(({pluginKey:e="floatingMenu",editor:t,appendTo:n,shouldShow:r=null,options:s,children:i,...o},l)=>{const c=v.useRef(document.createElement("div"));typeof l=="function"?l(c.current):l&&(l.current=c.current);const{editor:u}=vae();return v.useEffect(()=>{const d=c.current;if(d.style.visibility="hidden",d.style.position="absolute",t!=null&&t.isDestroyed||u!=null&&u.isDestroyed)return;const h=t||u;if(!h){console.warn("FloatingMenu component is not rendered inside of an editor component or does not have editor prop.");return}const f=Gce({editor:h,element:d,pluginKey:e,appendTo:n,shouldShow:r,options:s});return h.registerPlugin(f),()=>{h.unregisterPlugin(e),window.requestAnimationFrame(()=>{d.parentNode&&d.parentNode.removeChild(d)})}},[t,u,n,e,r,s]),Ta.createPortal(a.jsx("div",{...o,children:i}),c.current)});function eyt({editor:e}){const t=()=>{const n=e.getAttributes("link").href,r=window.prompt("Enter URL:",n);if(r!==null){if(r===""){e.chain().focus().extendMarkRange("link").unsetLink().run();return}e.chain().focus().extendMarkRange("link").setLink({href:r}).run()}};return a.jsx(Zgt,{editor:e,tippyOptions:{duration:100,placement:"top",maxWidth:"none"},children:a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-lg flex items-center gap-1 p-1",children:[a.jsx(U,{variant:e.isActive("bold")?"secondary":"ghost",size:"sm",onClick:()=>e.chain().focus().toggleBold().run(),className:"h-8 w-8 p-0",children:a.jsx(PD,{className:"w-4 h-4"})}),a.jsx(U,{variant:e.isActive("italic")?"secondary":"ghost",size:"sm",onClick:()=>e.chain().focus().toggleItalic().run(),className:"h-8 w-8 p-0",children:a.jsx(ID,{className:"w-4 h-4"})}),a.jsx(U,{variant:e.isActive("underline")?"secondary":"ghost",size:"sm",onClick:()=>e.chain().focus().toggleUnderline().run(),className:"h-8 w-8 p-0",children:a.jsx(BD,{className:"w-4 h-4"})}),a.jsx(U,{variant:e.isActive("strike")?"secondary":"ghost",size:"sm",onClick:()=>e.chain().focus().toggleStrike().run(),className:"h-8 w-8 p-0",children:a.jsx(yq,{className:"w-4 h-4"})}),a.jsx(U,{variant:e.isActive("code")?"secondary":"ghost",size:"sm",onClick:()=>e.chain().focus().toggleCode().run(),className:"h-8 w-8 p-0",children:a.jsx(eq,{className:"w-4 h-4"})}),a.jsx("div",{className:"w-px h-6 bg-gray-200 mx-1"}),a.jsx(U,{variant:e.isActive("link")?"secondary":"ghost",size:"sm",onClick:t,className:"h-8 w-8 p-0",children:a.jsx(oq,{className:"w-4 h-4"})})]})})}const tyt=v.forwardRef(function({tool:t,strokeColor:n,fillColor:r,strokeWidth:s,showGrid:i,gridSize:o,snapToGrid:l,canvasData:c=[],onChange:u},d){const h=v.useRef(null);v.useImperativeHandle(d,()=>h.current);const[f,p]=v.useState(!1),[m,g]=v.useState(!1),[y,x]=v.useState(null),[b,w]=v.useState(null),[N,S]=v.useState(c),[k,j]=v.useState([]),[_,C]=v.useState(1),[A,O]=v.useState({x:0,y:0}),[M,P]=v.useState(null),E=v.useCallback($=>l?{x:Math.round($.x/o)*o,y:Math.round($.y/o)*o}:$,[l,o]),I=v.useCallback($=>{const W=h.current;if(!W)return{x:0,y:0};const V=W.getBoundingClientRect(),Y=W.width/V.width,G=W.height/V.height,Z=($.clientX-V.left)*Y,q=($.clientY-V.top)*G,ee={x:(Z-A.x)/_,y:(q-A.y)/_};return E(ee)},[E,_,A]),T=v.useCallback(($,W,V)=>{if(i){$.strokeStyle="#e5e7eb",$.lineWidth=1;for(let Y=0;Y<=W;Y+=o)$.beginPath(),$.moveTo(Y,0),$.lineTo(Y,V),$.stroke();for(let Y=0;Y<=V;Y+=o)$.beginPath(),$.moveTo(0,Y),$.lineTo(W,Y),$.stroke()}},[i,o]),R=v.useCallback(($,W)=>{if(W.points.length!==0){if($.strokeStyle=W.strokeColor,$.fillStyle=W.fillColor,$.lineWidth=W.strokeWidth,$.lineCap="round",$.lineJoin="round",W.type==="pen"){$.beginPath(),$.moveTo(W.points[0].x,W.points[0].y);for(let V=1;V<W.points.length;V++)$.lineTo(W.points[V].x,W.points[V].y);$.stroke()}else if(W.type==="eraser"){$.globalCompositeOperation="destination-out",$.lineWidth=W.strokeWidth*5,$.lineCap="round",$.lineJoin="round",$.beginPath(),$.moveTo(W.points[0].x,W.points[0].y);for(let V=1;V<W.points.length;V++)$.lineTo(W.points[V].x,W.points[V].y);$.stroke(),$.globalCompositeOperation="source-over"}else if(W.type==="line"&&W.points.length>=2){const[V,Y]=W.points;$.beginPath(),$.moveTo(V.x,V.y),$.lineTo(Y.x,Y.y),$.stroke()}else if(W.type==="rectangle"&&W.points.length>=2){const[V,Y]=W.points,G=Y.x-V.x,Z=Y.y-V.y;W.fillColor!=="transparent"&&$.fillRect(V.x,V.y,G,Z),$.strokeRect(V.x,V.y,G,Z)}else if(W.type==="circle"&&W.points.length>=2){const[V,Y]=W.points,G=Math.sqrt(Math.pow(Y.x-V.x,2)+Math.pow(Y.y-V.y,2));$.beginPath(),$.arc(V.x,V.y,G,0,Math.PI*2),W.fillColor!=="transparent"&&$.fill(),$.stroke()}}},[]),L=v.useCallback(()=>{const $=h.current;if(!$)return;const W=$.getContext("2d");W&&(W.clearRect(0,0,$.width,$.height),W.save(),W.translate(A.x,A.y),W.scale(_,_),T(W,$.width/_,$.height/_),N.forEach(V=>R(W,V)),f&&y&&b&&R(W,{type:t,points:t==="pen"||t==="eraser"?k:[y,b],strokeColor:n,fillColor:r,strokeWidth:s}),W.restore())},[N,f,y,b,k,t,n,r,s,T,R,_,A]),D=$=>{const W=I($);if($.button===1||$.button===0&&$.shiftKey){g(!0),P({x:$.clientX,y:$.clientY});return}$.button===0&&!m&&(p(!0),x(W),w(W),(t==="pen"||t==="eraser")&&j([W]))},F=$=>{if(m&&M){const V=$.clientX-M.x,Y=$.clientY-M.y;O(G=>({x:G.x+V,y:G.y+Y})),P({x:$.clientX,y:$.clientY});return}if(!f)return;const W=I($);w(W),(t==="pen"||t==="eraser")&&j(V=>[...V,W])},z=()=>{if(m){g(!1),P(null);return}if(!f||!y)return;const $={type:t,points:t==="pen"||t==="eraser"?k:[y,b],strokeColor:n,fillColor:r,strokeWidth:s},W=[...N,$];S(W),u==null||u(W),p(!1),x(null),w(null),j([])},B=v.useCallback($=>{$.preventDefault();const W=$.deltaY>0?.9:1.1;C(V=>Math.max(.1,Math.min(5,V*W)))},[]);return v.useEffect(()=>{const $=h.current;if(!$)return;const W=$.parentElement;W&&($.width=W.clientWidth,$.height=W.clientHeight,L())},[L]),v.useEffect(()=>{L()},[L]),v.useEffect(()=>{S(c)},[c]),a.jsxs("div",{className:"relative w-full h-full bg-gray-100",children:[a.jsx("canvas",{ref:h,className:`absolute inset-0 ${m?"cursor-grabbing":"cursor-crosshair"}`,onMouseDown:D,onMouseMove:F,onMouseUp:z,onMouseLeave:z,onWheel:B,onContextMenu:$=>$.preventDefault()}),a.jsxs("div",{className:"absolute bottom-4 right-4 bg-white rounded-lg shadow-lg border border-gray-200 p-2 flex flex-col gap-2",children:[a.jsx("button",{onClick:()=>C($=>Math.min(5,$*1.2)),className:"px-3 py-1 text-sm font-semibold bg-blue-500 text-white rounded hover:bg-blue-600",title:"Zoom In",children:"+"}),a.jsxs("div",{className:"text-center text-xs font-medium text-gray-700 px-1",children:[Math.round(_*100),"%"]}),a.jsx("button",{onClick:()=>C($=>Math.max(.1,$*.8)),className:"px-3 py-1 text-sm font-semibold bg-blue-500 text-white rounded hover:bg-blue-600",title:"Zoom Out",children:""}),a.jsx("button",{onClick:()=>{C(1),O({x:0,y:0})},className:"px-2 py-1 text-xs font-medium bg-gray-200 text-gray-700 rounded hover:bg-gray-300",title:"Reset View",children:"Reset"})]}),a.jsxs("div",{className:"absolute top-4 right-4 bg-white/90 rounded-lg shadow-sm border border-gray-200 px-3 py-2 text-xs text-gray-600",children:[a.jsx("div",{className:"font-semibold mb-1",children:"Controls:"}),a.jsx("div",{children:" Scroll: Zoom"}),a.jsx("div",{children:" Shift+Drag: Pan"})]})]})});var qce=["PageUp","PageDown"],Kce=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Yce={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Um="Slider",[jP,nyt,ryt]=$v(Um),[Xce]=fs(Um,[ryt]),[syt,eE]=Xce(Um),Jce=v.forwardRef((e,t)=>{const{name:n,min:r=0,max:s=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:d,onValueChange:h=()=>{},onValueCommit:f=()=>{},inverted:p=!1,form:m,...g}=e,y=v.useRef(new Set),x=v.useRef(0),w=o==="horizontal"?iyt:oyt,[N=[],S]=Ji({prop:d,defaultProp:u,onChange:O=>{var P;(P=[...y.current][x.current])==null||P.focus(),h(O)}}),k=v.useRef(N);function j(O){const M=dyt(N,O);A(O,M)}function _(O){A(O,x.current)}function C(){const O=k.current[x.current];N[x.current]!==O&&f(N)}function A(O,M,{commit:P}={commit:!1}){const E=myt(i),I=gyt(Math.round((O-r)/i)*i+r,E),T=gx(I,[r,s]);S((R=[])=>{const L=cyt(R,T,M);if(pyt(L,c*i)){x.current=L.indexOf(T);const D=String(L)!==String(R);return D&&P&&f(L),D?L:R}else return R})}return a.jsx(syt,{scope:e.__scopeSlider,name:n,disabled:l,min:r,max:s,valueIndexToChangeRef:x,thumbs:y.current,values:N,orientation:o,form:m,children:a.jsx(jP.Provider,{scope:e.__scopeSlider,children:a.jsx(jP.Slot,{scope:e.__scopeSlider,children:a.jsx(w,{"aria-disabled":l,"data-disabled":l?"":void 0,...g,ref:t,onPointerDown:ge(g.onPointerDown,()=>{l||(k.current=N)}),min:r,max:s,inverted:p,onSlideStart:l?void 0:j,onSlideMove:l?void 0:_,onSlideEnd:l?void 0:C,onHomeKeyDown:()=>!l&&A(r,0,{commit:!0}),onEndKeyDown:()=>!l&&A(s,N.length-1,{commit:!0}),onStepKeyDown:({event:O,direction:M})=>{if(!l){const I=qce.includes(O.key)||O.shiftKey&&Kce.includes(O.key)?10:1,T=x.current,R=N[T],L=i*I*M;A(R+L,T,{commit:!0})}}})})})})});Jce.displayName=Um;var[Qce,Zce]=Xce(Um,{startEdge:"left",endEdge:"right",size:"width",direction:1}),iyt=v.forwardRef((e,t)=>{const{min:n,max:r,dir:s,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=e,[h,f]=v.useState(null),p=Ke(t,w=>f(w)),m=v.useRef(void 0),g=Sm(s),y=g==="ltr",x=y&&!i||!y&&i;function b(w){const N=m.current||h.getBoundingClientRect(),S=[0,N.width],j=Y$(S,x?[n,r]:[r,n]);return m.current=N,j(w-N.left)}return a.jsx(Qce,{scope:e.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:a.jsx(eue,{dir:g,"data-orientation":"horizontal",...d,ref:p,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const N=b(w.clientX);o==null||o(N)},onSlideMove:w=>{const N=b(w.clientX);l==null||l(N)},onSlideEnd:()=>{m.current=void 0,c==null||c()},onStepKeyDown:w=>{const S=Yce[x?"from-left":"from-right"].includes(w.key);u==null||u({event:w,direction:S?-1:1})}})})}),oyt=v.forwardRef((e,t)=>{const{min:n,max:r,inverted:s,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=e,d=v.useRef(null),h=Ke(t,d),f=v.useRef(void 0),p=!s;function m(g){const y=f.current||d.current.getBoundingClientRect(),x=[0,y.height],w=Y$(x,p?[r,n]:[n,r]);return f.current=y,w(g-y.top)}return a.jsx(Qce,{scope:e.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:a.jsx(eue,{"data-orientation":"vertical",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const y=m(g.clientY);i==null||i(y)},onSlideMove:g=>{const y=m(g.clientY);o==null||o(y)},onSlideEnd:()=>{f.current=void 0,l==null||l()},onStepKeyDown:g=>{const x=Yce[p?"from-bottom":"from-top"].includes(g.key);c==null||c({event:g,direction:x?-1:1})}})})}),eue=v.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...u}=e,d=eE(Um,n);return a.jsx($e.span,{...u,ref:t,onKeyDown:ge(e.onKeyDown,h=>{h.key==="Home"?(o(h),h.preventDefault()):h.key==="End"?(l(h),h.preventDefault()):qce.concat(Kce).includes(h.key)&&(c(h),h.preventDefault())}),onPointerDown:ge(e.onPointerDown,h=>{const f=h.target;f.setPointerCapture(h.pointerId),h.preventDefault(),d.thumbs.has(f)?f.focus():r(h)}),onPointerMove:ge(e.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&s(h)}),onPointerUp:ge(e.onPointerUp,h=>{const f=h.target;f.hasPointerCapture(h.pointerId)&&(f.releasePointerCapture(h.pointerId),i(h))})})}),tue="SliderTrack",nue=v.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=eE(tue,n);return a.jsx($e.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:t})});nue.displayName=tue;var _P="SliderRange",rue=v.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=eE(_P,n),i=Zce(_P,n),o=v.useRef(null),l=Ke(t,o),c=s.values.length,u=s.values.map(f=>oue(f,s.min,s.max)),d=c>1?Math.min(...u):0,h=100-Math.max(...u);return a.jsx($e.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:l,style:{...e.style,[i.startEdge]:d+"%",[i.endEdge]:h+"%"}})});rue.displayName=_P;var EP="SliderThumb",sue=v.forwardRef((e,t)=>{const n=nyt(e.__scopeSlider),[r,s]=v.useState(null),i=Ke(t,l=>s(l)),o=v.useMemo(()=>r?n().findIndex(l=>l.ref.current===r):-1,[n,r]);return a.jsx(ayt,{...e,ref:i,index:o})}),ayt=v.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:s,...i}=e,o=eE(EP,n),l=Zce(EP,n),[c,u]=v.useState(null),d=Ke(t,b=>u(b)),h=c?o.form||!!c.closest("form"):!0,f=ej(c),p=o.values[r],m=p===void 0?0:oue(p,o.min,o.max),g=uyt(r,o.values.length),y=f==null?void 0:f[l.size],x=y?hyt(y,m,l.direction):0;return v.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),a.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${m}% + ${x}px)`},children:[a.jsx(jP.ItemSlot,{scope:e.__scopeSlider,children:a.jsx($e.span,{role:"slider","aria-label":e["aria-label"]||g,"aria-valuemin":o.min,"aria-valuenow":p,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:d,style:p===void 0?{display:"none"}:e.style,onFocus:ge(e.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),h&&a.jsx(iue,{name:s??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:p},r)]})});sue.displayName=EP;var lyt="RadioBubbleInput",iue=v.forwardRef(({__scopeSlider:e,value:t,...n},r)=>{const s=v.useRef(null),i=Ke(s,r),o=Sj(t);return v.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const h=new Event("input",{bubbles:!0});d.call(l,t),l.dispatchEvent(h)}},[o,t]),a.jsx($e.input,{style:{display:"none"},...n,ref:i,defaultValue:t})});iue.displayName=lyt;function cyt(e=[],t,n){const r=[...e];return r[n]=t,r.sort((s,i)=>s-i)}function oue(e,t,n){const i=100/(n-t)*(e-t);return gx(i,[0,100])}function uyt(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function dyt(e,t){if(e.length===1)return 0;const n=e.map(s=>Math.abs(s-t)),r=Math.min(...n);return n.indexOf(r)}function hyt(e,t,n){const r=e/2,i=Y$([0,50],[0,r]);return(r-i(t)*n)*n}function fyt(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function pyt(e,t){if(t>0){const n=fyt(e);return Math.min(...n)>=t}return!0}function Y$(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function myt(e){return(String(e).split(".")[1]||"").length}function gyt(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var aue=Jce,yyt=nue,xyt=rue,vyt=sue;const lue=v.forwardRef(({className:e,...t},n)=>a.jsxs(aue,{ref:n,className:me("relative flex w-full touch-none select-none items-center",e),...t,children:[a.jsx(yyt,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:a.jsx(xyt,{className:"absolute h-full bg-primary"})}),a.jsx(vyt,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));lue.displayName=aue.displayName;const UV=["#000000","#ef4444","#3b82f6","#22c55e","#eab308","#a855f7","#f97316","#06b6d4","#ec4899","#ffffff"],byt=[{label:"Small (10px)",value:10},{label:"Medium (20px)",value:20},{label:"Large (40px)",value:40},{label:"Extra Large (60px)",value:60}];function wyt({tool:e,onToolChange:t,strokeColor:n,onStrokeColorChange:r,fillColor:s,onFillColorChange:i,strokeWidth:o,onStrokeWidthChange:l,showGrid:c,onShowGridChange:u,gridSize:d,onGridSizeChange:h,snapToGrid:f,onSnapToGridChange:p,onClear:m,onUndo:g,onRedo:y,canUndo:x=!1,canRedo:b=!1,onOCR:w,onBeautify:N,isProcessing:S=!1}){return a.jsx(sR,{children:a.jsx("div",{className:"border-b border-gray-200 bg-white sticky top-0 z-10 p-2",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g&&y&&a.jsxs(a.Fragment,{children:[a.jsxs(et,{children:[a.jsx(tt,{asChild:!0,children:a.jsx(U,{variant:"ghost",size:"sm",onClick:g,disabled:!x,children:a.jsx(Yk,{className:"w-4 h-4"})})}),a.jsx(Ze,{children:a.jsx("p",{children:"Undo (Ctrl+Z)"})})]}),a.jsxs(et,{children:[a.jsx(tt,{asChild:!0,children:a.jsx(U,{variant:"ghost",size:"sm",onClick:y,disabled:!b,children:a.jsx(Kk,{className:"w-4 h-4"})})}),a.jsx(Ze,{children:a.jsx("p",{children:"Redo (Ctrl+Y)"})})]}),a.jsx(kn,{orientation:"vertical",className:"h-6"})]}),a.jsxs(et,{children:[a.jsx(tt,{asChild:!0,children:a.jsx(U,{variant:e==="pen"?"secondary":"ghost",size:"sm",onClick:()=>t("pen"),children:a.jsx($D,{className:"w-4 h-4"})})}),a.jsx(Ze,{children:a.jsx("p",{children:"Pen Tool"})})]}),a.jsxs(et,{children:[a.jsx(tt,{asChild:!0,children:a.jsx(U,{variant:e==="line"?"secondary":"ghost",size:"sm",onClick:()=>t("line"),children:a.jsx(uq,{className:"w-4 h-4"})})}),a.jsx(Ze,{children:a.jsx("p",{children:"Line Tool"})})]}),a.jsxs(et,{children:[a.jsx(tt,{asChild:!0,children:a.jsx(U,{variant:e==="rectangle"?"secondary":"ghost",size:"sm",onClick:()=>t("rectangle"),children:a.jsx(Gpe,{className:"w-4 h-4"})})}),a.jsx(Ze,{children:a.jsx("p",{children:"Rectangle Tool"})})]}),a.jsxs(et,{children:[a.jsx(tt,{asChild:!0,children:a.jsx(U,{variant:e==="circle"?"secondary":"ghost",size:"sm",onClick:()=>t("circle"),children:a.jsx(gm,{className:"w-4 h-4"})})}),a.jsx(Ze,{children:a.jsx("p",{children:"Circle Tool"})})]}),a.jsxs(et,{children:[a.jsx(tt,{asChild:!0,children:a.jsx(U,{variant:e==="eraser"?"secondary":"ghost",size:"sm",onClick:()=>t("eraser"),children:a.jsx(nq,{className:"w-4 h-4"})})}),a.jsx(Ze,{children:a.jsx("p",{children:"Eraser Tool"})})]}),a.jsx(kn,{orientation:"vertical",className:"h-6"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(K,{className:"text-xs",children:"Stroke:"}),a.jsxs("div",{className:"flex gap-1",children:[UV.map(k=>a.jsx("button",{className:`w-6 h-6 rounded border-2 ${n===k?"border-blue-500":"border-gray-300"}`,style:{backgroundColor:k},onClick:()=>r(k),title:k},`stroke-${k}`)),a.jsx("input",{type:"color",value:n,onChange:k=>r(k.target.value),className:"w-6 h-6 rounded cursor-pointer",title:"Custom color"})]})]}),a.jsx(kn,{orientation:"vertical",className:"h-6"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(K,{className:"text-xs",children:"Fill:"}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{className:`w-6 h-6 rounded border-2 flex items-center justify-center ${s==="transparent"?"border-blue-500":"border-gray-300"}`,onClick:()=>i("transparent"),title:"No fill",children:a.jsx("div",{className:"w-4 h-0.5 bg-red-500 rotate-45"})}),UV.map(k=>a.jsx("button",{className:`w-6 h-6 rounded border-2 ${s===k?"border-blue-500":"border-gray-300"}`,style:{backgroundColor:k},onClick:()=>i(k),title:k},`fill-${k}`)),a.jsx("input",{type:"color",value:s==="transparent"?"#ffffff":s,onChange:k=>i(k.target.value),className:"w-6 h-6 rounded cursor-pointer",title:"Custom fill color"})]})]}),a.jsx(kn,{orientation:"vertical",className:"h-6"}),a.jsxs("div",{className:"flex items-center gap-2 min-w-[150px]",children:[a.jsx(K,{className:"text-xs",children:"Width:"}),a.jsx(lue,{value:[o],onValueChange:k=>l(k[0]),min:1,max:20,step:1,className:"flex-1"}),a.jsx("span",{className:"text-xs w-6 text-right",children:o})]}),a.jsx(kn,{orientation:"vertical",className:"h-6"}),a.jsxs(et,{children:[a.jsx(tt,{asChild:!0,children:a.jsx(U,{variant:c?"secondary":"ghost",size:"sm",onClick:()=>u(!c),children:a.jsx(rx,{className:"w-4 h-4"})})}),a.jsx(Ze,{children:a.jsx("p",{children:"Toggle Grid"})})]}),c&&a.jsxs(a.Fragment,{children:[a.jsxs(Ee,{value:d.toString(),onValueChange:k=>h(parseInt(k)),children:[a.jsx(je,{className:"w-[140px] h-8",children:a.jsx(Ce,{})}),a.jsx(_e,{children:byt.map(k=>a.jsx(Q,{value:k.value.toString(),children:k.label},k.value))})]}),a.jsxs(et,{children:[a.jsx(tt,{asChild:!0,children:a.jsx(U,{variant:f?"secondary":"ghost",size:"sm",onClick:()=>p(!f),children:a.jsx("span",{className:"text-xs font-semibold",children:"SNAP"})})}),a.jsx(Ze,{children:a.jsx("p",{children:"Snap to Grid"})})]})]}),a.jsx(kn,{orientation:"vertical",className:"h-6"}),N&&a.jsxs(et,{children:[a.jsx(tt,{asChild:!0,children:a.jsx(U,{variant:"ghost",size:"sm",onClick:N,disabled:S,className:"text-purple-600",children:S?a.jsx(bp,{className:"w-4 h-4 animate-spin"}):a.jsx(mi,{className:"w-4 h-4"})})}),a.jsx(Ze,{children:a.jsx("p",{children:"Beautify Handwriting"})})]}),w&&a.jsxs(et,{children:[a.jsx(tt,{asChild:!0,children:a.jsx(U,{variant:"ghost",size:"sm",onClick:w,disabled:S,className:"text-blue-600",children:S?a.jsx(bp,{className:"w-4 h-4 animate-spin"}):a.jsx(xq,{className:"w-4 h-4"})})}),a.jsx(Ze,{children:a.jsx("p",{children:"Convert to Text (OCR)"})})]}),a.jsx(kn,{orientation:"vertical",className:"h-6"}),a.jsxs(et,{children:[a.jsx(tt,{asChild:!0,children:a.jsx(U,{variant:"ghost",size:"sm",onClick:m,className:"text-red-600",children:a.jsx(Jt,{className:"w-4 h-4"})})}),a.jsx(Ze,{children:a.jsx("p",{children:"Clear Canvas"})})]})]})})})}var Syt={exports:{}};(function(e){var t=function(n){var r=Object.prototype,s=r.hasOwnProperty,i=Object.defineProperty||function(D,F,z){D[F]=z.value},o,l=typeof Symbol=="function"?Symbol:{},c=l.iterator||"@@iterator",u=l.asyncIterator||"@@asyncIterator",d=l.toStringTag||"@@toStringTag";function h(D,F,z){return Object.defineProperty(D,F,{value:z,enumerable:!0,configurable:!0,writable:!0}),D[F]}try{h({},"")}catch{h=function(F,z,B){return F[z]=B}}function f(D,F,z,B){var $=F&&F.prototype instanceof w?F:w,W=Object.create($.prototype),V=new T(B||[]);return i(W,"_invoke",{value:M(D,z,V)}),W}n.wrap=f;function p(D,F,z){try{return{type:"normal",arg:D.call(F,z)}}catch(B){return{type:"throw",arg:B}}}var m="suspendedStart",g="suspendedYield",y="executing",x="completed",b={};function w(){}function N(){}function S(){}var k={};h(k,c,function(){return this});var j=Object.getPrototypeOf,_=j&&j(j(R([])));_&&_!==r&&s.call(_,c)&&(k=_);var C=S.prototype=w.prototype=Object.create(k);N.prototype=S,i(C,"constructor",{value:S,configurable:!0}),i(S,"constructor",{value:N,configurable:!0}),N.displayName=h(S,d,"GeneratorFunction");function A(D){["next","throw","return"].forEach(function(F){h(D,F,function(z){return this._invoke(F,z)})})}n.isGeneratorFunction=function(D){var F=typeof D=="function"&&D.constructor;return F?F===N||(F.displayName||F.name)==="GeneratorFunction":!1},n.mark=function(D){return Object.setPrototypeOf?Object.setPrototypeOf(D,S):(D.__proto__=S,h(D,d,"GeneratorFunction")),D.prototype=Object.create(C),D},n.awrap=function(D){return{__await:D}};function O(D,F){function z(W,V,Y,G){var Z=p(D[W],D,V);if(Z.type==="throw")G(Z.arg);else{var q=Z.arg,ee=q.value;return ee&&typeof ee=="object"&&s.call(ee,"__await")?F.resolve(ee.__await).then(function(se){z("next",se,Y,G)},function(se){z("throw",se,Y,G)}):F.resolve(ee).then(function(se){q.value=se,Y(q)},function(se){return z("throw",se,Y,G)})}}var B;function $(W,V){function Y(){return new F(function(G,Z){z(W,V,G,Z)})}return B=B?B.then(Y,Y):Y()}i(this,"_invoke",{value:$})}A(O.prototype),h(O.prototype,u,function(){return this}),n.AsyncIterator=O,n.async=function(D,F,z,B,$){$===void 0&&($=Promise);var W=new O(f(D,F,z,B),$);return n.isGeneratorFunction(F)?W:W.next().then(function(V){return V.done?V.value:W.next()})};function M(D,F,z){var B=m;return function(W,V){if(B===y)throw new Error("Generator is already running");if(B===x){if(W==="throw")throw V;return L()}for(z.method=W,z.arg=V;;){var Y=z.delegate;if(Y){var G=P(Y,z);if(G){if(G===b)continue;return G}}if(z.method==="next")z.sent=z._sent=z.arg;else if(z.method==="throw"){if(B===m)throw B=x,z.arg;z.dispatchException(z.arg)}else z.method==="return"&&z.abrupt("return",z.arg);B=y;var Z=p(D,F,z);if(Z.type==="normal"){if(B=z.done?x:g,Z.arg===b)continue;return{value:Z.arg,done:z.done}}else Z.type==="throw"&&(B=x,z.method="throw",z.arg=Z.arg)}}}function P(D,F){var z=F.method,B=D.iterator[z];if(B===o)return F.delegate=null,z==="throw"&&D.iterator.return&&(F.method="return",F.arg=o,P(D,F),F.method==="throw")||z!=="return"&&(F.method="throw",F.arg=new TypeError("The iterator does not provide a '"+z+"' method")),b;var $=p(B,D.iterator,F.arg);if($.type==="throw")return F.method="throw",F.arg=$.arg,F.delegate=null,b;var W=$.arg;if(!W)return F.method="throw",F.arg=new TypeError("iterator result is not an object"),F.delegate=null,b;if(W.done)F[D.resultName]=W.value,F.next=D.nextLoc,F.method!=="return"&&(F.method="next",F.arg=o);else return W;return F.delegate=null,b}A(C),h(C,d,"Generator"),h(C,c,function(){return this}),h(C,"toString",function(){return"[object Generator]"});function E(D){var F={tryLoc:D[0]};1 in D&&(F.catchLoc=D[1]),2 in D&&(F.finallyLoc=D[2],F.afterLoc=D[3]),this.tryEntries.push(F)}function I(D){var F=D.completion||{};F.type="normal",delete F.arg,D.completion=F}function T(D){this.tryEntries=[{tryLoc:"root"}],D.forEach(E,this),this.reset(!0)}n.keys=function(D){var F=Object(D),z=[];for(var B in F)z.push(B);return z.reverse(),function $(){for(;z.length;){var W=z.pop();if(W in F)return $.value=W,$.done=!1,$}return $.done=!0,$}};function R(D){if(D){var F=D[c];if(F)return F.call(D);if(typeof D.next=="function")return D;if(!isNaN(D.length)){var z=-1,B=function $(){for(;++z<D.length;)if(s.call(D,z))return $.value=D[z],$.done=!1,$;return $.value=o,$.done=!0,$};return B.next=B}}return{next:L}}n.values=R;function L(){return{value:o,done:!0}}return T.prototype={constructor:T,reset:function(D){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(I),!D)for(var F in this)F.charAt(0)==="t"&&s.call(this,F)&&!isNaN(+F.slice(1))&&(this[F]=o)},stop:function(){this.done=!0;var D=this.tryEntries[0],F=D.completion;if(F.type==="throw")throw F.arg;return this.rval},dispatchException:function(D){if(this.done)throw D;var F=this;function z(G,Z){return W.type="throw",W.arg=D,F.next=G,Z&&(F.method="next",F.arg=o),!!Z}for(var B=this.tryEntries.length-1;B>=0;--B){var $=this.tryEntries[B],W=$.completion;if($.tryLoc==="root")return z("end");if($.tryLoc<=this.prev){var V=s.call($,"catchLoc"),Y=s.call($,"finallyLoc");if(V&&Y){if(this.prev<$.catchLoc)return z($.catchLoc,!0);if(this.prev<$.finallyLoc)return z($.finallyLoc)}else if(V){if(this.prev<$.catchLoc)return z($.catchLoc,!0)}else if(Y){if(this.prev<$.finallyLoc)return z($.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(D,F){for(var z=this.tryEntries.length-1;z>=0;--z){var B=this.tryEntries[z];if(B.tryLoc<=this.prev&&s.call(B,"finallyLoc")&&this.prev<B.finallyLoc){var $=B;break}}$&&(D==="break"||D==="continue")&&$.tryLoc<=F&&F<=$.finallyLoc&&($=null);var W=$?$.completion:{};return W.type=D,W.arg=F,$?(this.method="next",this.next=$.finallyLoc,b):this.complete(W)},complete:function(D,F){if(D.type==="throw")throw D.arg;return D.type==="break"||D.type==="continue"?this.next=D.arg:D.type==="return"?(this.rval=this.arg=D.arg,this.method="return",this.next="end"):D.type==="normal"&&F&&(this.next=F),b},finish:function(D){for(var F=this.tryEntries.length-1;F>=0;--F){var z=this.tryEntries[F];if(z.finallyLoc===D)return this.complete(z.completion,z.afterLoc),I(z),b}},catch:function(D){for(var F=this.tryEntries.length-1;F>=0;--F){var z=this.tryEntries[F];if(z.tryLoc===D){var B=z.completion;if(B.type==="throw"){var $=B.arg;I(z)}return $}}throw new Error("illegal catch attempt")},delegateYield:function(D,F,z){return this.delegate={iterator:R(D),resultName:F,nextLoc:z},this.method==="next"&&(this.arg=o),b}},n}(e.exports);try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})(Syt);var X$=(e,t)=>`${e}-${t}-${Math.random().toString(16).slice(3,8)}`;const Nyt=X$;let HV=0;var cue=({id:e,action:t,payload:n={}})=>{let r=e;return typeof r>"u"&&(r=Nyt("Job",HV),HV+=1),{id:r,action:t,payload:n}},Hm={};let J$=!1;Hm.logging=J$;Hm.setLogging=e=>{J$=e};Hm.log=(...e)=>J$?console.log.apply(void 0,e):null;const kyt=cue,{log:Ow}=Hm,jyt=X$;let WV=0;var _yt=()=>{const e=jyt("Scheduler",WV),t={},n={};let r=[];WV+=1;const s=()=>r.length,i=()=>Object.keys(t).length,o=()=>{if(r.length!==0){const h=Object.keys(t);for(let f=0;f<h.length;f+=1)if(typeof n[h[f]]>"u"){r[0](t[h[f]]);break}}},l=(h,f)=>new Promise((p,m)=>{const g=kyt({action:h,payload:f});r.push(async y=>{r.shift(),n[y.id]=g;try{p(await y[h].apply(void 0,[...f,g.id]))}catch(x){m(x)}finally{delete n[y.id],o()}}),Ow(`[${e}]: Add ${g.id} to JobQueue`),Ow(`[${e}]: JobQueue length=${r.length}`),o()});return{addWorker:h=>(t[h.id]=h,Ow(`[${e}]: Add ${h.id}`),Ow(`[${e}]: Number of workers=${i()}`),o(),h.id),addJob:async(h,...f)=>{if(i()===0)throw Error(`[${e}]: You need to have at least one worker before adding jobs`);return l(h,f)},terminate:async()=>{Object.keys(t).forEach(async h=>{await t[h].terminate()}),r=[]},getQueueLen:s,getNumWorkers:i}};function Eyt(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Cyt=e=>{const t={};return typeof WorkerGlobalScope<"u"?t.type="webworker":typeof document=="object"?t.type="browser":typeof process=="object"&&typeof Eyt=="function"&&(t.type="node"),typeof e>"u"?t:t[e]};const Tyt=Cyt("type")==="browser",Ayt=Tyt?e=>new URL(e,window.location.href).href:e=>e;var Oyt=e=>{const t={...e};return["corePath","workerPath","langPath"].forEach(n=>{e[n]&&(t[n]=Ayt(t[n]))}),t},uue={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3};const Myt="6.0.1",Pyt={version:Myt};var Dyt={workerBlobURL:!0,logger:()=>{}};const Ryt=Pyt.version,Iyt=Dyt;var Lyt={...Iyt,workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${Ryt}/dist/worker.min.js`},$yt=({workerPath:e,workerBlobURL:t})=>{let n;if(Blob&&URL&&t){const r=new Blob([`importScripts("${e}");`],{type:"application/javascript"});n=new Worker(URL.createObjectURL(r))}else n=new Worker(e);return n},Byt=e=>{e.terminate()},Fyt=(e,t)=>{e.onmessage=({data:n})=>{t(n)}},zyt=async(e,t)=>{e.postMessage(t)};const QT=e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{t(r.result)},r.onerror=({target:{error:{code:s}}})=>{n(Error(`File could not be read! Code=${s}`))},r.readAsArrayBuffer(e)}),CP=async e=>{let t=e;if(typeof e>"u")return"undefined";if(typeof e=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(e)?t=atob(e.split(",")[1]).split("").map(n=>n.charCodeAt(0)):t=await(await fetch(e)).arrayBuffer();else if(typeof HTMLElement<"u"&&e instanceof HTMLElement)e.tagName==="IMG"&&(t=await CP(e.src)),e.tagName==="VIDEO"&&(t=await CP(e.poster)),e.tagName==="CANVAS"&&await new Promise(n=>{e.toBlob(async r=>{t=await QT(r),n()})});else if(typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas){const n=await e.convertToBlob();t=await QT(n)}else(e instanceof File||e instanceof Blob)&&(t=await QT(e));return new Uint8Array(t)};var Uyt=CP;const Hyt=Lyt,Wyt=$yt,Vyt=Byt,Gyt=Fyt,qyt=zyt,Kyt=Uyt;var Yyt={defaultOptions:Hyt,spawnWorker:Wyt,terminateWorker:Vyt,onMessage:Gyt,send:qyt,loadImage:Kyt};const Xyt=Oyt,ta=cue,{log:VV}=Hm,Jyt=X$,Mu=uue,{defaultOptions:Qyt,spawnWorker:Zyt,terminateWorker:ext,onMessage:txt,loadImage:GV,send:nxt}=Yyt;let qV=0;var due=async(e="eng",t=Mu.LSTM_ONLY,n={},r={})=>{const s=Jyt("Worker",qV),{logger:i,errorHandler:o,...l}=Xyt({...Qyt,...n}),c={},u=typeof e=="string"?e.split("+"):e;let d=t,h=r;const f=[Mu.DEFAULT,Mu.LSTM_ONLY].includes(t)&&!l.legacyCore;let p,m;const g=new Promise((R,L)=>{m=R,p=L}),y=R=>{p(R.message)};let x=Zyt(l);x.onerror=y,qV+=1;const b=({id:R,action:L,payload:D})=>new Promise((F,z)=>{VV(`[${s}]: Start ${R}, action=${L}`);const B=`${L}-${R}`;c[B]={resolve:F,reject:z},nxt(x,{workerId:s,jobId:R,action:L,payload:D})}),w=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),N=R=>b(ta({id:R,action:"load",payload:{options:{lstmOnly:f,corePath:l.corePath,logging:l.logging}}})),S=(R,L,D)=>b(ta({id:D,action:"FS",payload:{method:"writeFile",args:[R,L]}})),k=(R,L)=>b(ta({id:L,action:"FS",payload:{method:"readFile",args:[R,{encoding:"utf8"}]}})),j=(R,L)=>b(ta({id:L,action:"FS",payload:{method:"unlink",args:[R]}})),_=(R,L,D)=>b(ta({id:D,action:"FS",payload:{method:R,args:L}})),C=(R,L)=>b(ta({id:L,action:"loadLanguage",payload:{langs:R,options:{langPath:l.langPath,dataPath:l.dataPath,cachePath:l.cachePath,cacheMethod:l.cacheMethod,gzip:l.gzip,lstmOnly:[Mu.DEFAULT,Mu.LSTM_ONLY].includes(d)&&!l.legacyLang}}})),A=(R,L,D,F)=>b(ta({id:F,action:"initialize",payload:{langs:R,oem:L,config:D}})),O=(R="eng",L,D,F)=>{if(f&&[Mu.TESSERACT_ONLY,Mu.TESSERACT_LSTM_COMBINED].includes(L))throw Error("Legacy model requested but code missing.");const z=L||d;d=z;const B=D||h;h=B;const W=(typeof R=="string"?R.split("+"):R).filter(V=>!u.includes(V));return u.push(...W),W.length>0?C(W,F).then(()=>A(R,z,B,F)):A(R,z,B,F)},M=(R={},L)=>b(ta({id:L,action:"setParameters",payload:{params:R}})),P=async(R,L={},D={text:!0},F)=>b(ta({id:F,action:"recognize",payload:{image:await GV(R),options:L,output:D}})),E=async(R,L)=>{if(f)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return b(ta({id:L,action:"detect",payload:{image:await GV(R)}}))},I=async()=>(x!==null&&(ext(x),x=null),Promise.resolve());txt(x,({workerId:R,jobId:L,status:D,action:F,data:z})=>{const B=`${F}-${L}`;if(D==="resolve")VV(`[${R}]: Complete ${L}`),c[B].resolve({jobId:L,data:z}),delete c[B];else if(D==="reject")if(c[B].reject(z),delete c[B],F==="load"&&p(z),o)o(z);else throw Error(z);else D==="progress"&&i({...z,userJobId:L})});const T={id:s,worker:x,load:w,writeText:S,readText:k,removeFile:j,FS:_,reinitialize:O,setParameters:M,recognize:P,detect:E,terminate:I};return N().then(()=>C(e)).then(()=>A(e,t,r)).then(()=>m(T)).catch(()=>{}),g};const hue=due,rxt=async(e,t,n)=>{const r=await hue(t,1,n);return r.recognize(e).finally(async()=>{await r.terminate()})},sxt=async(e,t)=>{const n=await hue("osd",0,t);return n.detect(e).finally(async()=>{await n.terminate()})};var ixt={recognize:rxt,detect:sxt},oxt={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"},axt={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"};const lxt=_yt,cxt=due,uxt=ixt,dxt=oxt,hxt=uue,fxt=axt,{setLogging:pxt}=Hm;var mxt={languages:dxt,OEM:hxt,PSM:fxt,createScheduler:lxt,createWorker:cxt,setLogging:pxt,...uxt};const gxt=Dt(mxt);function yxt(e){return e.toDataURL("image/png")}async function xxt(e,t){const n=yxt(e),r=await gxt.createWorker("eng",1,{logger:s=>{s.status==="recognizing text"&&t&&t(s.progress)}});try{const{data:s}=await r.recognize(n);return await r.terminate(),s.text.trim()}catch(s){throw await r.terminate(),new Error(`OCR failed: ${s}`)}}function vxt(e,t=1){if(e.length<3)return e;const n=TP(e,t);return wxt(n,.5,10)}function TP(e,t){if(e.length<=2)return e;let n=0,r=0;const s=e[0],i=e[e.length-1];for(let o=1;o<e.length-1;o++){const l=bxt(e[o],s,i);l>n&&(n=l,r=o)}if(n>t){const o=TP(e.slice(0,r+1),t),l=TP(e.slice(r),t);return[...o.slice(0,-1),...l]}else return[s,i]}function bxt(e,t,n){const r=n.x-t.x,s=n.y-t.y,i=Math.abs(s*e.x-r*e.y+n.x*t.y-n.y*t.x),o=Math.sqrt(r*r+s*s);return i/o}function wxt(e,t,n){if(e.length<2||e.length===2)return e;const r=[];r.push(e[0]);for(let s=0;s<e.length-1;s++){const i=e[Math.max(0,s-1)],o=e[s],l=e[s+1],c=e[Math.min(e.length-1,s+2)];for(let u=0;u<n;u++){const d=u/n,h=Sxt(i,o,l,c,d,t);r.push(h)}}return r.push(e[e.length-1]),r}function Sxt(e,t,n,r,s,i){const o=s*s,l=o*s,c=(n.x-e.x)*i,u=(n.y-e.y)*i,d=(r.x-t.x)*i,h=(r.y-t.y)*i;return{x:(2*t.x-2*n.x+c+d)*l+(-3*t.x+3*n.x-2*c-d)*o+c*s+t.x,y:(2*t.y-2*n.y+u+h)*l+(-3*t.y+3*n.y-2*u-h)*o+u*s+t.y}}function Nxt({drawingData:e=[],onChange:t,onTextRecognized:n}){const r=v.useRef(null),[s,i]=v.useState("pen"),[o,l]=v.useState("#000000"),[c,u]=v.useState("transparent"),[d,h]=v.useState(2),[f,p]=v.useState(!1),[m,g]=v.useState(20),[y,x]=v.useState(!1),[b,w]=v.useState(e),[N,S]=v.useState([e]),[k,j]=v.useState(0),[_,C]=v.useState(!1);v.useEffect(()=>{w(e),S([e]),j(0)},[e]);const A=v.useCallback(T=>{w(T);const R=N.slice(0,k+1);R.push(T),S(R),j(R.length-1),t==null||t(T)},[N,k,t]),O=v.useCallback(()=>{if(k>0){const T=k-1;j(T);const R=N[T];w(R),t==null||t(R)}},[N,k,t]),M=v.useCallback(()=>{if(k<N.length-1){const T=k+1;j(T);const R=N[T];w(R),t==null||t(R)}},[N,k,t]),P=v.useCallback(()=>{if(confirm("Are you sure you want to clear the canvas?")){const T=[];w(T),S([...N.slice(0,k+1),T]),j(k+1),t==null||t(T)}},[N,k,t]),E=v.useCallback(async()=>{if(!r.current||b.length===0){J.error("No handwriting to recognize");return}C(!0),J.info("Recognizing handwriting...");try{const T=await xxt(r.current,R=>{console.log("OCR Progress:",Math.round(R*100)+"%")});T?(J.success("Handwriting recognized!"),n==null||n(T)):J.warning("No text recognized")}catch(T){console.error("OCR error:",T),J.error("Failed to recognize handwriting")}finally{C(!1)}},[b.length,n]),I=v.useCallback(()=>{if(b.length===0){J.error("No handwriting to beautify");return}C(!0),J.info("Beautifying handwriting...");try{const T=b.map(R=>R.type==="pen"&&R.points.length>2?{...R,points:vxt(R.points,2)}:R);w(T),S([...N.slice(0,k+1),T]),j(k+1),t==null||t(T),J.success("Handwriting beautified!")}catch(T){console.error("Beautify error:",T),J.error("Failed to beautify handwriting")}finally{C(!1)}},[b,N,k,t]);return v.useEffect(()=>{const T=R=>{(R.ctrlKey||R.metaKey)&&R.key==="z"&&!R.shiftKey?(R.preventDefault(),O()):(R.ctrlKey||R.metaKey)&&(R.key==="y"||R.key==="z"&&R.shiftKey)&&(R.preventDefault(),M())};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[O,M]),a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsx(wyt,{tool:s,onToolChange:i,strokeColor:o,onStrokeColorChange:l,fillColor:c,onFillColorChange:u,strokeWidth:d,onStrokeWidthChange:h,showGrid:f,onShowGridChange:p,gridSize:m,onGridSizeChange:g,snapToGrid:y,onSnapToGridChange:x,onClear:P,onUndo:O,onRedo:M,canUndo:k>0,canRedo:k<N.length-1,onOCR:E,onBeautify:I,isProcessing:_}),a.jsx("div",{className:"flex-1 overflow-hidden",children:a.jsx(tyt,{ref:r,tool:s,strokeColor:o,fillColor:c,strokeWidth:d,showGrid:f,gridSize:m,snapToGrid:y,canvasData:b,onChange:A})})]})}const tE=v.createContext(null);tE.displayName="PanelGroupContext";const Gn={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},Q$=10,Od=v.useLayoutEffect,KV=Pv.useId,kxt=typeof KV=="function"?KV:()=>null;let jxt=0;function Z$(e=null){const t=kxt(),n=v.useRef(e||t||null);return n.current===null&&(n.current=""+jxt++),e??n.current}function fue({children:e,className:t="",collapsedSize:n,collapsible:r,defaultSize:s,forwardedRef:i,id:o,maxSize:l,minSize:c,onCollapse:u,onExpand:d,onResize:h,order:f,style:p,tagName:m="div",...g}){const y=v.useContext(tE);if(y===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:x,expandPanel:b,getPanelSize:w,getPanelStyle:N,groupId:S,isPanelCollapsed:k,reevaluatePanelConstraints:j,registerPanel:_,resizePanel:C,unregisterPanel:A}=y,O=Z$(o),M=v.useRef({callbacks:{onCollapse:u,onExpand:d,onResize:h},constraints:{collapsedSize:n,collapsible:r,defaultSize:s,maxSize:l,minSize:c},id:O,idIsFromProps:o!==void 0,order:f});v.useRef({didLogMissingDefaultSizeWarning:!1}),Od(()=>{const{callbacks:E,constraints:I}=M.current,T={...I};M.current.id=O,M.current.idIsFromProps=o!==void 0,M.current.order=f,E.onCollapse=u,E.onExpand=d,E.onResize=h,I.collapsedSize=n,I.collapsible=r,I.defaultSize=s,I.maxSize=l,I.minSize=c,(T.collapsedSize!==I.collapsedSize||T.collapsible!==I.collapsible||T.maxSize!==I.maxSize||T.minSize!==I.minSize)&&j(M.current,T)}),Od(()=>{const E=M.current;return _(E),()=>{A(E)}},[f,O,_,A]),v.useImperativeHandle(i,()=>({collapse:()=>{x(M.current)},expand:E=>{b(M.current,E)},getId(){return O},getSize(){return w(M.current)},isCollapsed(){return k(M.current)},isExpanded(){return!k(M.current)},resize:E=>{C(M.current,E)}}),[x,b,w,k,O,C]);const P=N(M.current,s);return v.createElement(m,{...g,children:e,className:t,id:O,style:{...P,...p},[Gn.groupId]:S,[Gn.panel]:"",[Gn.panelCollapsible]:r||void 0,[Gn.panelId]:O,[Gn.panelSize]:parseFloat(""+P.flexGrow).toFixed(1)})}const AP=v.forwardRef((e,t)=>v.createElement(fue,{...e,forwardedRef:t}));fue.displayName="Panel";AP.displayName="forwardRef(Panel)";let OP=null,x1=-1,hc=null;function _xt(e,t){if(t){const n=(t&xue)!==0,r=(t&vue)!==0,s=(t&bue)!==0,i=(t&wue)!==0;if(n)return s?"se-resize":i?"ne-resize":"e-resize";if(r)return s?"sw-resize":i?"nw-resize":"w-resize";if(s)return"s-resize";if(i)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function Ext(){hc!==null&&(document.head.removeChild(hc),OP=null,hc=null,x1=-1)}function ZT(e,t){var n,r;const s=_xt(e,t);if(OP!==s){if(OP=s,hc===null&&(hc=document.createElement("style"),document.head.appendChild(hc)),x1>=0){var i;(i=hc.sheet)===null||i===void 0||i.removeRule(x1)}x1=(n=(r=hc.sheet)===null||r===void 0?void 0:r.insertRule(`*{cursor: ${s} !important;}`))!==null&&n!==void 0?n:-1}}function pue(e){return e.type==="keydown"}function mue(e){return e.type.startsWith("pointer")}function gue(e){return e.type.startsWith("mouse")}function nE(e){if(mue(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(gue(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function Cxt(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function Txt(e,t,n){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function Axt(e,t){if(e===t)throw new Error("Cannot compare node with itself");const n={a:JV(e),b:JV(t)};let r;for(;n.a.at(-1)===n.b.at(-1);)e=n.a.pop(),t=n.b.pop(),r=e;ut(r,"Stacking order can only be calculated for elements with a common ancestor");const s={a:XV(YV(n.a)),b:XV(YV(n.b))};if(s.a===s.b){const i=r.childNodes,o={a:n.a.at(-1),b:n.b.at(-1)};let l=i.length;for(;l--;){const c=i[l];if(c===o.a)return 1;if(c===o.b)return-1}}return Math.sign(s.a-s.b)}const Oxt=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function Mxt(e){var t;const n=getComputedStyle((t=yue(e))!==null&&t!==void 0?t:e).display;return n==="flex"||n==="inline-flex"}function Pxt(e){const t=getComputedStyle(e);return!!(t.position==="fixed"||t.zIndex!=="auto"&&(t.position!=="static"||Mxt(e))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||Oxt.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function YV(e){let t=e.length;for(;t--;){const n=e[t];if(ut(n,"Missing node"),Pxt(n))return n}return null}function XV(e){return e&&Number(getComputedStyle(e).zIndex)||0}function JV(e){const t=[];for(;e;)t.push(e),e=yue(e);return t}function yue(e){const{parentNode:t}=e;return t&&t instanceof ShadowRoot?t.host:t}const xue=1,vue=2,bue=4,wue=8,Dxt=Cxt()==="coarse";let Bo=[],rp=!1,Ku=new Map,rE=new Map;const Ev=new Set;function Rxt(e,t,n,r,s){var i;const{ownerDocument:o}=t,l={direction:n,element:t,hitAreaMargins:r,setResizeHandlerState:s},c=(i=Ku.get(o))!==null&&i!==void 0?i:0;return Ku.set(o,c+1),Ev.add(l),Nk(),function(){var d;rE.delete(e),Ev.delete(l);const h=(d=Ku.get(o))!==null&&d!==void 0?d:1;if(Ku.set(o,h-1),Nk(),h===1&&Ku.delete(o),Bo.includes(l)){const f=Bo.indexOf(l);f>=0&&Bo.splice(f,1),t3(),s("up",!0,null)}}}function Ixt(e){const{target:t}=e,{x:n,y:r}=nE(e);rp=!0,e3({target:t,x:n,y:r}),Nk(),Bo.length>0&&(kk("down",e),e.preventDefault(),Sue(t)||e.stopImmediatePropagation())}function eA(e){const{x:t,y:n}=nE(e);if(rp&&e.buttons===0&&(rp=!1,kk("up",e)),!rp){const{target:r}=e;e3({target:r,x:t,y:n})}kk("move",e),t3(),Bo.length>0&&e.preventDefault()}function tA(e){const{target:t}=e,{x:n,y:r}=nE(e);rE.clear(),rp=!1,Bo.length>0&&(e.preventDefault(),Sue(t)||e.stopImmediatePropagation()),kk("up",e),e3({target:t,x:n,y:r}),t3(),Nk()}function Sue(e){let t=e;for(;t;){if(t.hasAttribute(Gn.resizeHandle))return!0;t=t.parentElement}return!1}function e3({target:e,x:t,y:n}){Bo.splice(0);let r=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(r=e),Ev.forEach(s=>{const{element:i,hitAreaMargins:o}=s,l=i.getBoundingClientRect(),{bottom:c,left:u,right:d,top:h}=l,f=Dxt?o.coarse:o.fine;if(t>=u-f&&t<=d+f&&n>=h-f&&n<=c+f){if(r!==null&&document.contains(r)&&i!==r&&!i.contains(r)&&!r.contains(i)&&Axt(r,i)>0){let m=r,g=!1;for(;m&&!m.contains(i);){if(Txt(m.getBoundingClientRect(),l)){g=!0;break}m=m.parentElement}if(g)return}Bo.push(s)}})}function nA(e,t){rE.set(e,t)}function t3(){let e=!1,t=!1;Bo.forEach(r=>{const{direction:s}=r;s==="horizontal"?e=!0:t=!0});let n=0;rE.forEach(r=>{n|=r}),e&&t?ZT("intersection",n):e?ZT("horizontal",n):t?ZT("vertical",n):Ext()}let rA=new AbortController;function Nk(){rA.abort(),rA=new AbortController;const e={capture:!0,signal:rA.signal};Ev.size&&(rp?(Bo.length>0&&Ku.forEach((t,n)=>{const{body:r}=n;t>0&&(r.addEventListener("contextmenu",tA,e),r.addEventListener("pointerleave",eA,e),r.addEventListener("pointermove",eA,e))}),window.addEventListener("pointerup",tA,e),window.addEventListener("pointercancel",tA,e)):Ku.forEach((t,n)=>{const{body:r}=n;t>0&&(r.addEventListener("pointerdown",Ixt,e),r.addEventListener("pointermove",eA,e))}))}function kk(e,t){Ev.forEach(n=>{const{setResizeHandlerState:r}=n,s=Bo.includes(n);r(e,s,t)})}function Lxt(){const[e,t]=v.useState(0);return v.useCallback(()=>t(n=>n+1),[])}function ut(e,t){if(!e)throw console.error(t),Error(t)}function ih(e,t,n=Q$){return e.toFixed(n)===t.toFixed(n)?0:e>t?1:-1}function nl(e,t,n=Q$){return ih(e,t,n)===0}function ri(e,t,n){return ih(e,t,n)===0}function $xt(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){const s=e[r],i=t[r];if(!ri(s,i,n))return!1}return!0}function Cf({panelConstraints:e,panelIndex:t,size:n}){const r=e[t];ut(r!=null,`Panel constraints not found for index ${t}`);let{collapsedSize:s=0,collapsible:i,maxSize:o=100,minSize:l=0}=r;if(ih(n,l)<0)if(i){const c=(s+l)/2;ih(n,c)<0?n=s:n=l}else n=l;return n=Math.min(o,n),n=parseFloat(n.toFixed(Q$)),n}function ty({delta:e,initialLayout:t,panelConstraints:n,pivotIndices:r,prevLayout:s,trigger:i}){if(ri(e,0))return t;const o=[...t],[l,c]=r;ut(l!=null,"Invalid first pivot index"),ut(c!=null,"Invalid second pivot index");let u=0;if(i==="keyboard"){{const h=e<0?c:l,f=n[h];ut(f,`Panel constraints not found for index ${h}`);const{collapsedSize:p=0,collapsible:m,minSize:g=0}=f;if(m){const y=t[h];if(ut(y!=null,`Previous layout not found for panel index ${h}`),ri(y,p)){const x=g-y;ih(x,Math.abs(e))>0&&(e=e<0?0-x:x)}}}{const h=e<0?l:c,f=n[h];ut(f,`No panel constraints found for index ${h}`);const{collapsedSize:p=0,collapsible:m,minSize:g=0}=f;if(m){const y=t[h];if(ut(y!=null,`Previous layout not found for panel index ${h}`),ri(y,g)){const x=y-p;ih(x,Math.abs(e))>0&&(e=e<0?0-x:x)}}}}{const h=e<0?1:-1;let f=e<0?c:l,p=0;for(;;){const g=t[f];ut(g!=null,`Previous layout not found for panel index ${f}`);const x=Cf({panelConstraints:n,panelIndex:f,size:100})-g;if(p+=x,f+=h,f<0||f>=n.length)break}const m=Math.min(Math.abs(e),Math.abs(p));e=e<0?0-m:m}{let f=e<0?l:c;for(;f>=0&&f<n.length;){const p=Math.abs(e)-Math.abs(u),m=t[f];ut(m!=null,`Previous layout not found for panel index ${f}`);const g=m-p,y=Cf({panelConstraints:n,panelIndex:f,size:g});if(!ri(m,y)&&(u+=m-y,o[f]=y,u.toPrecision(3).localeCompare(Math.abs(e).toPrecision(3),void 0,{numeric:!0})>=0))break;e<0?f--:f++}}if($xt(s,o))return s;{const h=e<0?c:l,f=t[h];ut(f!=null,`Previous layout not found for panel index ${h}`);const p=f+u,m=Cf({panelConstraints:n,panelIndex:h,size:p});if(o[h]=m,!ri(m,p)){let g=p-m,x=e<0?c:l;for(;x>=0&&x<n.length;){const b=o[x];ut(b!=null,`Previous layout not found for panel index ${x}`);const w=b+g,N=Cf({panelConstraints:n,panelIndex:x,size:w});if(ri(b,N)||(g-=N-b,o[x]=N),ri(g,0))break;e>0?x--:x++}}}const d=o.reduce((h,f)=>f+h,0);return ri(d,100)?o:s}function Bxt({layout:e,panelsArray:t,pivotIndices:n}){let r=0,s=100,i=0,o=0;const l=n[0];ut(l!=null,"No pivot index found"),t.forEach((h,f)=>{const{constraints:p}=h,{maxSize:m=100,minSize:g=0}=p;f===l?(r=g,s=m):(i+=g,o+=m)});const c=Math.min(s,100-i),u=Math.max(r,100-o),d=e[l];return{valueMax:c,valueMin:u,valueNow:d}}function Cv(e,t=document){return Array.from(t.querySelectorAll(`[${Gn.resizeHandleId}][data-panel-group-id="${e}"]`))}function Nue(e,t,n=document){const s=Cv(e,n).findIndex(i=>i.getAttribute(Gn.resizeHandleId)===t);return s??null}function kue(e,t,n){const r=Nue(e,t,n);return r!=null?[r,r+1]:[-1,-1]}function jue(e,t=document){var n;if(t instanceof HTMLElement&&(t==null||(n=t.dataset)===null||n===void 0?void 0:n.panelGroupId)==e)return t;const r=t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return r||null}function sE(e,t=document){const n=t.querySelector(`[${Gn.resizeHandleId}="${e}"]`);return n||null}function Fxt(e,t,n,r=document){var s,i,o,l;const c=sE(t,r),u=Cv(e,r),d=c?u.indexOf(c):-1,h=(s=(i=n[d])===null||i===void 0?void 0:i.id)!==null&&s!==void 0?s:null,f=(o=(l=n[d+1])===null||l===void 0?void 0:l.id)!==null&&o!==void 0?o:null;return[h,f]}function zxt({committedValuesRef:e,eagerValuesRef:t,groupId:n,layout:r,panelDataArray:s,panelGroupElement:i,setLayout:o}){v.useRef({didWarnAboutMissingResizeHandle:!1}),Od(()=>{if(!i)return;const l=Cv(n,i);for(let c=0;c<s.length-1;c++){const{valueMax:u,valueMin:d,valueNow:h}=Bxt({layout:r,panelsArray:s,pivotIndices:[c,c+1]}),f=l[c];if(f!=null){const p=s[c];ut(p,`No panel data found for index "${c}"`),f.setAttribute("aria-controls",p.id),f.setAttribute("aria-valuemax",""+Math.round(u)),f.setAttribute("aria-valuemin",""+Math.round(d)),f.setAttribute("aria-valuenow",h!=null?""+Math.round(h):"")}}return()=>{l.forEach((c,u)=>{c.removeAttribute("aria-controls"),c.removeAttribute("aria-valuemax"),c.removeAttribute("aria-valuemin"),c.removeAttribute("aria-valuenow")})}},[n,r,s,i]),v.useEffect(()=>{if(!i)return;const l=t.current;ut(l,"Eager values not found");const{panelDataArray:c}=l,u=jue(n,i);ut(u!=null,`No group found for id "${n}"`);const d=Cv(n,i);ut(d,`No resize handles found for group id "${n}"`);const h=d.map(f=>{const p=f.getAttribute(Gn.resizeHandleId);ut(p,"Resize handle element has no handle id attribute");const[m,g]=Fxt(n,p,c,i);if(m==null||g==null)return()=>{};const y=x=>{if(!x.defaultPrevented)switch(x.key){case"Enter":{x.preventDefault();const b=c.findIndex(w=>w.id===m);if(b>=0){const w=c[b];ut(w,`No panel data found for index ${b}`);const N=r[b],{collapsedSize:S=0,collapsible:k,minSize:j=0}=w.constraints;if(N!=null&&k){const _=ty({delta:ri(N,S)?j-S:S-N,initialLayout:r,panelConstraints:c.map(C=>C.constraints),pivotIndices:kue(n,p,i),prevLayout:r,trigger:"keyboard"});r!==_&&o(_)}}break}}};return f.addEventListener("keydown",y),()=>{f.removeEventListener("keydown",y)}});return()=>{h.forEach(f=>f())}},[i,e,t,n,r,s,o])}function QV(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function _ue(e,t){const n=e==="horizontal",{x:r,y:s}=nE(t);return n?r:s}function Uxt(e,t,n,r,s){const i=n==="horizontal",o=sE(t,s);ut(o,`No resize handle element found for id "${t}"`);const l=o.getAttribute(Gn.groupId);ut(l,"Resize handle element has no group id attribute");let{initialCursorPosition:c}=r;const u=_ue(n,e),d=jue(l,s);ut(d,`No group element found for id "${l}"`);const h=d.getBoundingClientRect(),f=i?h.width:h.height;return(u-c)/f*100}function Hxt(e,t,n,r,s,i){if(pue(e)){const o=n==="horizontal";let l=0;e.shiftKey?l=100:s!=null?l=s:l=10;let c=0;switch(e.key){case"ArrowDown":c=o?0:l;break;case"ArrowLeft":c=o?-l:0;break;case"ArrowRight":c=o?l:0;break;case"ArrowUp":c=o?0:-l;break;case"End":c=100;break;case"Home":c=-100;break}return c}else return r==null?0:Uxt(e,t,n,r,i)}function Wxt({panelDataArray:e}){const t=Array(e.length),n=e.map(i=>i.constraints);let r=0,s=100;for(let i=0;i<e.length;i++){const o=n[i];ut(o,`Panel constraints not found for index ${i}`);const{defaultSize:l}=o;l!=null&&(r++,t[i]=l,s-=l)}for(let i=0;i<e.length;i++){const o=n[i];ut(o,`Panel constraints not found for index ${i}`);const{defaultSize:l}=o;if(l!=null)continue;const c=e.length-r,u=s/c;r++,t[i]=u,s-=u}return t}function Qh(e,t,n){t.forEach((r,s)=>{const i=e[s];ut(i,`Panel data not found for index ${s}`);const{callbacks:o,constraints:l,id:c}=i,{collapsedSize:u=0,collapsible:d}=l,h=n[c];if(h==null||r!==h){n[c]=r;const{onCollapse:f,onExpand:p,onResize:m}=o;m&&m(r,h),d&&(f||p)&&(p&&(h==null||nl(h,u))&&!nl(r,u)&&p(),f&&(h==null||!nl(h,u))&&nl(r,u)&&f())}})}function Mw(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function Vxt({defaultSize:e,dragState:t,layout:n,panelData:r,panelIndex:s,precision:i=3}){const o=n[s];let l;return o==null?l=e!=null?e.toPrecision(i):"1":r.length===1?l="1":l=o.toPrecision(i),{flexBasis:0,flexGrow:l,flexShrink:1,overflow:"hidden",pointerEvents:t!==null?"none":void 0}}function Gxt(e,t=10){let n=null;return(...s)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{e(...s)},t)}}function ZV(e){try{if(typeof localStorage<"u")e.getItem=t=>localStorage.getItem(t),e.setItem=(t,n)=>{localStorage.setItem(t,n)};else throw new Error("localStorage not supported in this environment")}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}function Eue(e){return`react-resizable-panels:${e}`}function Cue(e){return e.map(t=>{const{constraints:n,id:r,idIsFromProps:s,order:i}=t;return s?r:i?`${i}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((t,n)=>t.localeCompare(n)).join(",")}function Tue(e,t){try{const n=Eue(e),r=t.getItem(n);if(r){const s=JSON.parse(r);if(typeof s=="object"&&s!=null)return s}}catch{}return null}function qxt(e,t,n){var r,s;const i=(r=Tue(e,n))!==null&&r!==void 0?r:{},o=Cue(t);return(s=i[o])!==null&&s!==void 0?s:null}function Kxt(e,t,n,r,s){var i;const o=Eue(e),l=Cue(t),c=(i=Tue(e,s))!==null&&i!==void 0?i:{};c[l]={expandToSizes:Object.fromEntries(n.entries()),layout:r};try{s.setItem(o,JSON.stringify(c))}catch(u){console.error(u)}}function e9({layout:e,panelConstraints:t}){const n=[...e],r=n.reduce((i,o)=>i+o,0);if(n.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${n.map(i=>`${i}%`).join(", ")}`);if(!ri(r,100)&&n.length>0)for(let i=0;i<t.length;i++){const o=n[i];ut(o!=null,`No layout data found for index ${i}`);const l=100/r*o;n[i]=l}let s=0;for(let i=0;i<t.length;i++){const o=n[i];ut(o!=null,`No layout data found for index ${i}`);const l=Cf({panelConstraints:t,panelIndex:i,size:o});o!=l&&(s+=o-l,n[i]=l)}if(!ri(s,0))for(let i=0;i<t.length;i++){const o=n[i];ut(o!=null,`No layout data found for index ${i}`);const l=o+s,c=Cf({panelConstraints:t,panelIndex:i,size:l});if(o!==c&&(s-=c-o,n[i]=c,ri(s,0)))break}return n}const Yxt=100,ny={getItem:e=>(ZV(ny),ny.getItem(e)),setItem:(e,t)=>{ZV(ny),ny.setItem(e,t)}},t9={};function Aue({autoSaveId:e=null,children:t,className:n="",direction:r,forwardedRef:s,id:i=null,onLayout:o=null,keyboardResizeBy:l=null,storage:c=ny,style:u,tagName:d="div",...h}){const f=Z$(i),p=v.useRef(null),[m,g]=v.useState(null),[y,x]=v.useState([]),b=Lxt(),w=v.useRef({}),N=v.useRef(new Map),S=v.useRef(0),k=v.useRef({autoSaveId:e,direction:r,dragState:m,id:f,keyboardResizeBy:l,onLayout:o,storage:c}),j=v.useRef({layout:y,panelDataArray:[],panelDataArrayChanged:!1});v.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),v.useImperativeHandle(s,()=>({getId:()=>k.current.id,getLayout:()=>{const{layout:$}=j.current;return $},setLayout:$=>{const{onLayout:W}=k.current,{layout:V,panelDataArray:Y}=j.current,G=e9({layout:$,panelConstraints:Y.map(Z=>Z.constraints)});QV(V,G)||(x(G),j.current.layout=G,W&&W(G),Qh(Y,G,w.current))}}),[]),Od(()=>{k.current.autoSaveId=e,k.current.direction=r,k.current.dragState=m,k.current.id=f,k.current.onLayout=o,k.current.storage=c}),zxt({committedValuesRef:k,eagerValuesRef:j,groupId:f,layout:y,panelDataArray:j.current.panelDataArray,setLayout:x,panelGroupElement:p.current}),v.useEffect(()=>{const{panelDataArray:$}=j.current;if(e){if(y.length===0||y.length!==$.length)return;let W=t9[e];W==null&&(W=Gxt(Kxt,Yxt),t9[e]=W);const V=[...$],Y=new Map(N.current);W(e,V,Y,y,c)}},[e,y,c]),v.useEffect(()=>{});const _=v.useCallback($=>{const{onLayout:W}=k.current,{layout:V,panelDataArray:Y}=j.current;if($.constraints.collapsible){const G=Y.map(se=>se.constraints),{collapsedSize:Z=0,panelSize:q,pivotIndices:ee}=Pu(Y,$,V);if(ut(q!=null,`Panel size not found for panel "${$.id}"`),!nl(q,Z)){N.current.set($.id,q);const X=cf(Y,$)===Y.length-1?q-Z:Z-q,de=ty({delta:X,initialLayout:V,panelConstraints:G,pivotIndices:ee,prevLayout:V,trigger:"imperative-api"});Mw(V,de)||(x(de),j.current.layout=de,W&&W(de),Qh(Y,de,w.current))}}},[]),C=v.useCallback(($,W)=>{const{onLayout:V}=k.current,{layout:Y,panelDataArray:G}=j.current;if($.constraints.collapsible){const Z=G.map(pe=>pe.constraints),{collapsedSize:q=0,panelSize:ee=0,minSize:se=0,pivotIndices:X}=Pu(G,$,Y),de=W??se;if(nl(ee,q)){const pe=N.current.get($.id),Se=pe!=null&&pe>=de?pe:de,Ae=cf(G,$)===G.length-1?ee-Se:Se-ee,ne=ty({delta:Ae,initialLayout:Y,panelConstraints:Z,pivotIndices:X,prevLayout:Y,trigger:"imperative-api"});Mw(Y,ne)||(x(ne),j.current.layout=ne,V&&V(ne),Qh(G,ne,w.current))}}},[]),A=v.useCallback($=>{const{layout:W,panelDataArray:V}=j.current,{panelSize:Y}=Pu(V,$,W);return ut(Y!=null,`Panel size not found for panel "${$.id}"`),Y},[]),O=v.useCallback(($,W)=>{const{panelDataArray:V}=j.current,Y=cf(V,$);return Vxt({defaultSize:W,dragState:m,layout:y,panelData:V,panelIndex:Y})},[m,y]),M=v.useCallback($=>{const{layout:W,panelDataArray:V}=j.current,{collapsedSize:Y=0,collapsible:G,panelSize:Z}=Pu(V,$,W);return ut(Z!=null,`Panel size not found for panel "${$.id}"`),G===!0&&nl(Z,Y)},[]),P=v.useCallback($=>{const{layout:W,panelDataArray:V}=j.current,{collapsedSize:Y=0,collapsible:G,panelSize:Z}=Pu(V,$,W);return ut(Z!=null,`Panel size not found for panel "${$.id}"`),!G||ih(Z,Y)>0},[]),E=v.useCallback($=>{const{panelDataArray:W}=j.current;W.push($),W.sort((V,Y)=>{const G=V.order,Z=Y.order;return G==null&&Z==null?0:G==null?-1:Z==null?1:G-Z}),j.current.panelDataArrayChanged=!0,b()},[b]);Od(()=>{if(j.current.panelDataArrayChanged){j.current.panelDataArrayChanged=!1;const{autoSaveId:$,onLayout:W,storage:V}=k.current,{layout:Y,panelDataArray:G}=j.current;let Z=null;if($){const ee=qxt($,G,V);ee&&(N.current=new Map(Object.entries(ee.expandToSizes)),Z=ee.layout)}Z==null&&(Z=Wxt({panelDataArray:G}));const q=e9({layout:Z,panelConstraints:G.map(ee=>ee.constraints)});QV(Y,q)||(x(q),j.current.layout=q,W&&W(q),Qh(G,q,w.current))}}),Od(()=>{const $=j.current;return()=>{$.layout=[]}},[]);const I=v.useCallback($=>{let W=!1;const V=p.current;return V&&window.getComputedStyle(V,null).getPropertyValue("direction")==="rtl"&&(W=!0),function(G){G.preventDefault();const Z=p.current;if(!Z)return()=>null;const{direction:q,dragState:ee,id:se,keyboardResizeBy:X,onLayout:de}=k.current,{layout:pe,panelDataArray:Se}=j.current,{initialLayout:be}=ee??{},Ae=kue(se,$,Z);let ne=Hxt(G,$,q,ee,X,Z);const Je=q==="horizontal";Je&&W&&(ne=-ne);const qe=Se.map(St=>St.constraints),De=ty({delta:ne,initialLayout:be??pe,panelConstraints:qe,pivotIndices:Ae,prevLayout:pe,trigger:pue(G)?"keyboard":"mouse-or-touch"}),gt=!Mw(pe,De);(mue(G)||gue(G))&&S.current!=ne&&(S.current=ne,!gt&&ne!==0?Je?nA($,ne<0?xue:vue):nA($,ne<0?bue:wue):nA($,0)),gt&&(x(De),j.current.layout=De,de&&de(De),Qh(Se,De,w.current))}},[]),T=v.useCallback(($,W)=>{const{onLayout:V}=k.current,{layout:Y,panelDataArray:G}=j.current,Z=G.map(pe=>pe.constraints),{panelSize:q,pivotIndices:ee}=Pu(G,$,Y);ut(q!=null,`Panel size not found for panel "${$.id}"`);const X=cf(G,$)===G.length-1?q-W:W-q,de=ty({delta:X,initialLayout:Y,panelConstraints:Z,pivotIndices:ee,prevLayout:Y,trigger:"imperative-api"});Mw(Y,de)||(x(de),j.current.layout=de,V&&V(de),Qh(G,de,w.current))},[]),R=v.useCallback(($,W)=>{const{layout:V,panelDataArray:Y}=j.current,{collapsedSize:G=0,collapsible:Z}=W,{collapsedSize:q=0,collapsible:ee,maxSize:se=100,minSize:X=0}=$.constraints,{panelSize:de}=Pu(Y,$,V);de!=null&&(Z&&ee&&nl(de,G)?nl(G,q)||T($,q):de<X?T($,X):de>se&&T($,se))},[T]),L=v.useCallback(($,W)=>{const{direction:V}=k.current,{layout:Y}=j.current;if(!p.current)return;const G=sE($,p.current);ut(G,`Drag handle element not found for id "${$}"`);const Z=_ue(V,W);g({dragHandleId:$,dragHandleRect:G.getBoundingClientRect(),initialCursorPosition:Z,initialLayout:Y})},[]),D=v.useCallback(()=>{g(null)},[]),F=v.useCallback($=>{const{panelDataArray:W}=j.current,V=cf(W,$);V>=0&&(W.splice(V,1),delete w.current[$.id],j.current.panelDataArrayChanged=!0,b())},[b]),z=v.useMemo(()=>({collapsePanel:_,direction:r,dragState:m,expandPanel:C,getPanelSize:A,getPanelStyle:O,groupId:f,isPanelCollapsed:M,isPanelExpanded:P,reevaluatePanelConstraints:R,registerPanel:E,registerResizeHandle:I,resizePanel:T,startDragging:L,stopDragging:D,unregisterPanel:F,panelGroupElement:p.current}),[_,m,r,C,A,O,f,M,P,R,E,I,T,L,D,F]),B={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return v.createElement(tE.Provider,{value:z},v.createElement(d,{...h,children:t,className:n,id:i,ref:p,style:{...B,...u},[Gn.group]:"",[Gn.groupDirection]:r,[Gn.groupId]:f}))}const Oue=v.forwardRef((e,t)=>v.createElement(Aue,{...e,forwardedRef:t}));Aue.displayName="PanelGroup";Oue.displayName="forwardRef(PanelGroup)";function cf(e,t){return e.findIndex(n=>n===t||n.id===t.id)}function Pu(e,t,n){const r=cf(e,t),i=r===e.length-1?[r-1,r]:[r,r+1],o=n[r];return{...t.constraints,panelSize:o,pivotIndices:i}}function Xxt({disabled:e,handleId:t,resizeHandler:n,panelGroupElement:r}){v.useEffect(()=>{if(e||n==null||r==null)return;const s=sE(t,r);if(s==null)return;const i=o=>{if(!o.defaultPrevented)switch(o.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{o.preventDefault(),n(o);break}case"F6":{o.preventDefault();const l=s.getAttribute(Gn.groupId);ut(l,`No group element found for id "${l}"`);const c=Cv(l,r),u=Nue(l,t,r);ut(u!==null,`No resize element found for id "${t}"`);const d=o.shiftKey?u>0?u-1:c.length-1:u+1<c.length?u+1:0;c[d].focus();break}}};return s.addEventListener("keydown",i),()=>{s.removeEventListener("keydown",i)}},[r,e,t,n])}function MP({children:e=null,className:t="",disabled:n=!1,hitAreaMargins:r,id:s,onBlur:i,onClick:o,onDragging:l,onFocus:c,onPointerDown:u,onPointerUp:d,style:h={},tabIndex:f=0,tagName:p="div",...m}){var g,y;const x=v.useRef(null),b=v.useRef({onClick:o,onDragging:l,onPointerDown:u,onPointerUp:d});v.useEffect(()=>{b.current.onClick=o,b.current.onDragging=l,b.current.onPointerDown=u,b.current.onPointerUp=d});const w=v.useContext(tE);if(w===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:N,groupId:S,registerResizeHandle:k,startDragging:j,stopDragging:_,panelGroupElement:C}=w,A=Z$(s),[O,M]=v.useState("inactive"),[P,E]=v.useState(!1),[I,T]=v.useState(null),R=v.useRef({state:O});Od(()=>{R.current.state=O}),v.useEffect(()=>{if(n)T(null);else{const z=k(A);T(()=>z)}},[n,A,k]);const L=(g=r==null?void 0:r.coarse)!==null&&g!==void 0?g:15,D=(y=r==null?void 0:r.fine)!==null&&y!==void 0?y:5;v.useEffect(()=>{if(n||I==null)return;const z=x.current;ut(z,"Element ref not attached");let B=!1;return Rxt(A,z,N,{coarse:L,fine:D},(W,V,Y)=>{if(!V){M("inactive");return}switch(W){case"down":{M("drag"),B=!1,ut(Y,'Expected event to be defined for "down" action'),j(A,Y);const{onDragging:G,onPointerDown:Z}=b.current;G==null||G(!0),Z==null||Z();break}case"move":{const{state:G}=R.current;B=!0,G!=="drag"&&M("hover"),ut(Y,'Expected event to be defined for "move" action'),I(Y);break}case"up":{M("hover"),_();const{onClick:G,onDragging:Z,onPointerUp:q}=b.current;Z==null||Z(!1),q==null||q(),B||G==null||G();break}}})},[L,N,n,D,k,A,I,j,_]),Xxt({disabled:n,handleId:A,resizeHandler:I,panelGroupElement:C});const F={touchAction:"none",userSelect:"none"};return v.createElement(p,{...m,children:e,className:t,id:s,onBlur:()=>{E(!1),i==null||i()},onFocus:()=>{E(!0),c==null||c()},ref:x,role:"separator",style:{...F,...h},tabIndex:f,[Gn.groupDirection]:N,[Gn.groupId]:S,[Gn.resizeHandle]:"",[Gn.resizeHandleActive]:O==="drag"?"pointer":P?"keyboard":void 0,[Gn.resizeHandleEnabled]:!n,[Gn.resizeHandleId]:A,[Gn.resizeHandleState]:O})}MP.displayName="PanelResizeHandle";const Jxt=oht(sht);function Qxt({content:e,onChange:t,drawingData:n=[],onDrawingChange:r,placeholder:s="Start typing your note...",editable:i=!0}){const[o,l]=v.useState(!1),[c,u]=v.useState(!1),[d,h]=v.useState(!1),[f,p]=v.useState(null),m=(k,j)=>{k.dataTransfer.effectAllowed="move",k.dataTransfer.setData("text/plain",j)},g=(k,j)=>{k.preventDefault(),k.dataTransfer.dropEffect="move",p(j)},y=()=>{p(null)},x=(k,j)=>{k.preventDefault(),k.dataTransfer.getData("text/plain")!==j&&h(!d),p(null)},b=Iot({extensions:[xlt.configure({heading:{levels:[1,2,3,4,5,6]},codeBlock:!1}),qat,Oat.configure({openOnClick:!1,HTMLAttributes:{class:"text-blue-600 underline cursor-pointer hover:text-blue-700"}}),vlt.configure({placeholder:s}),wlt.configure({types:["heading","paragraph"]}),jlt.configure({multicolor:!0}),Xae,Mlt,Uae,zae.configure({nested:!0,HTMLAttributes:{class:"flex items-start gap-2"}}),ule.configure({resizable:!0,HTMLAttributes:{class:"border-collapse table-auto w-full my-4"}}),cle,lle.configure({HTMLAttributes:{class:"border border-gray-300 bg-gray-50 font-semibold p-2 text-left"}}),ale.configure({HTMLAttributes:{class:"border border-gray-300 p-2"}}),Rut.configure({lowlight:Jxt,HTMLAttributes:{class:"bg-gray-900 text-gray-100 rounded-lg p-4 my-4 overflow-x-auto"}}),Lut.configure({inline:!0,allowBase64:!0,HTMLAttributes:{class:"max-w-full h-auto rounded-lg my-4"}})],content:e,editable:i,onUpdate:({editor:k})=>{t(k.getHTML())},editorProps:{attributes:{class:"prose prose-sm sm:prose lg:prose-lg max-w-none focus:outline-none min-h-[500px] p-6"}}});v.useEffect(()=>{b&&e!==b.getHTML()&&b.commands.setContent(e)},[e,b]),v.useEffect(()=>{b&&b.setEditable(i)},[i,b]);const w=v.useCallback(k=>{b&&k&&(b.commands.focus("end"),b.commands.insertContent(`<p><strong>Recognized Text:</strong></p><p>${k}</p>`))},[b]);if(!b)return null;const N=a.jsx(AP,{defaultSize:50,minSize:20,collapsible:!0,collapsedSize:0,onCollapse:()=>l(!0),onExpand:()=>l(!1),className:o?"hidden":"",children:a.jsxs("div",{className:"flex flex-col h-full bg-white border-r-2 border-gray-300",onDragOver:k=>g(k,"text"),onDragLeave:y,onDrop:k=>x(k,"text"),children:[a.jsx("div",{className:`border-b border-gray-200 px-3 py-2 bg-gradient-to-r from-blue-50 to-white cursor-move transition-all ${f==="text"?"ring-2 ring-blue-400 bg-blue-100":""}`,draggable:!0,onDragStart:k=>m(k,"text"),children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ld,{className:"w-4 h-4 text-gray-400"}),a.jsx(xq,{className:"w-5 h-5 text-blue-600"}),a.jsx("h3",{className:"font-semibold text-gray-800",children:"Text Editor"}),a.jsx(U,{variant:"ghost",size:"sm",className:"ml-auto h-6 w-6 p-0",onClick:()=>l(!0),title:"Collapse Text Editor",children:a.jsx(nx,{className:"w-4 h-4"})})]})}),i&&a.jsx(Ygt,{editor:b}),i&&a.jsx(eyt,{editor:b}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:a.jsx(Tot,{editor:b})})]})}),S=a.jsx(AP,{defaultSize:50,minSize:20,collapsible:!0,collapsedSize:0,onCollapse:()=>u(!0),onExpand:()=>u(!1),className:c?"hidden":"",children:a.jsxs("div",{className:"flex flex-col h-full bg-white",onDragOver:k=>g(k,"drawing"),onDragLeave:y,onDrop:k=>x(k,"drawing"),children:[a.jsx("div",{className:`border-b border-gray-200 px-3 py-2 bg-gradient-to-r from-purple-50 to-white cursor-move transition-all ${f==="drawing"?"ring-2 ring-purple-400 bg-purple-100":""}`,draggable:!0,onDragStart:k=>m(k,"drawing"),children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ld,{className:"w-4 h-4 text-gray-400"}),a.jsx($D,{className:"w-5 h-5 text-purple-600"}),a.jsx("h3",{className:"font-semibold text-gray-800",children:"Drawing Canvas"}),a.jsx("span",{className:"text-xs text-gray-500 ml-auto",children:"Infinite canvas with zoom & pan"}),a.jsx(U,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>u(!0),title:"Collapse Drawing Canvas",children:a.jsx(vp,{className:"w-4 h-4"})})]})}),a.jsx(Nxt,{drawingData:n,onChange:r,onTextRecognized:w},`drawing-${JSON.stringify(n==null?void 0:n.slice(0,1))}`)]})});return a.jsxs("div",{className:"note-editor h-full bg-gray-50 relative",children:[o&&a.jsx(U,{variant:"outline",size:"sm",className:"absolute top-1/2 left-2 transform -translate-y-1/2 z-10 shadow-lg bg-white",onClick:()=>l(!1),title:"Expand Text Editor",children:a.jsx(vp,{className:"w-4 h-4"})}),c&&a.jsx(U,{variant:"outline",size:"sm",className:"absolute top-1/2 right-2 transform -translate-y-1/2 z-10 shadow-lg bg-white",onClick:()=>u(!1),title:"Expand Drawing Canvas",children:a.jsx(nx,{className:"w-4 h-4"})}),a.jsx(Oue,{direction:"horizontal",className:"h-full",children:d?a.jsxs(a.Fragment,{children:[S,!o&&!c&&a.jsx(MP,{className:"w-1 bg-gray-300 hover:bg-blue-500 transition-colors cursor-col-resize"}),N]}):a.jsxs(a.Fragment,{children:[N,!o&&!c&&a.jsx(MP,{className:"w-1 bg-gray-300 hover:bg-blue-500 transition-colors cursor-col-resize"}),S]})})]})}function Zxt({tags:e,onTagsChange:t,availableTags:n=[],placeholder:r="Add tag..."}){const[s,i]=v.useState(""),[o,l]=v.useState(!1),c=n.filter(f=>!e.includes(f)&&f.toLowerCase().includes(s.toLowerCase())),u=f=>{const p=f.trim();p&&!e.includes(p)&&(t([...e,p]),i(""),l(!1))},d=f=>{t(e.filter(p=>p!==f))},h=f=>{f.key==="Enter"&&s.trim()?(f.preventDefault(),u(s)):f.key==="Backspace"&&!s&&e.length>0?d(e[e.length-1]):f.key==="Escape"&&l(!1)};return a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:e.map(f=>a.jsxs(ve,{variant:"secondary",className:"px-2 py-1 text-xs flex items-center gap-1 bg-blue-100 text-blue-800 hover:bg-blue-200",children:[a.jsx(ya,{className:"w-3 h-3"}),f,a.jsx("button",{onClick:()=>d(f),className:"ml-1 hover:text-blue-900 focus:outline-none",children:a.jsx(zo,{className:"w-3 h-3"})})]},f))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(re,{type:"text",value:s,onChange:f=>{i(f.target.value),l(f.target.value.length>0)},onKeyDown:h,onFocus:()=>s&&l(!0),onBlur:()=>setTimeout(()=>l(!1),200),placeholder:r,className:"flex-1 h-8 text-sm"}),a.jsx(U,{size:"sm",variant:"ghost",onClick:()=>u(s),disabled:!s.trim(),className:"h-8 px-2",children:a.jsx(We,{className:"w-4 h-4"})})]}),o&&c.length>0&&a.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-40 overflow-y-auto",children:c.map(f=>a.jsxs("button",{onClick:()=>u(f),className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-100 flex items-center gap-2",children:[a.jsx(ya,{className:"w-3 h-3 text-gray-400"}),f]},f))})]})}function evt(){const e=Ct(),{notes:t,isLoaded:n,activeNoteId:r,setActiveNoteId:s,createNote:i,deleteNote:o,updateNote:l,toggleFavorite:c,togglePin:u,filterAndSortNotes:d,addTagToNote:h,removeTagFromNote:f,settings:p}=ktt(),[m,g]=v.useState(""),[y,x]=v.useState([]),[b,w]=v.useState(null),[N,S]=v.useState(""),[k,j]=v.useState([]),_=v.useMemo(()=>{if(!p.userStats)return{totalPoints:0,level:1,badges:Vc.map(Z=>({...Z})),notesCreated:0,totalWords:0,currentStreak:0,longestStreak:0};const B=t.reduce((Z,q)=>Z+q.wordCount,0),$=t.reduce((Z,q)=>Z+(q.points||0),0),W=hie($);let V=0,Y=0;t.forEach(Z=>{Z.streak&&(V=Math.max(V,Z.streak.currentStreak),Y=Math.max(Y,Z.streak.longestStreak))});const G=Vc.map(Z=>{const q=TM(Z,{...p.userStats,notesCreated:t.length,totalWords:B,currentStreak:V},t);return{...Z,earnedAt:q?Z.earnedAt||new Date:void 0}});return{totalPoints:$,level:W,badges:G,notesCreated:t.length,totalWords:B,currentStreak:V,longestStreak:Y}},[t,p.userStats]),C=Array.from(new Set(t.flatMap(B=>B.tags||[]))).sort(),A=d({isArchived:!1,searchQuery:m,tags:y.length>0?y:void 0},{sortBy:"updatedAt",direction:"desc"}),O=t.find(B=>B.id===r),M=async()=>{try{await i("Untitled Note"),J.success("New note created")}catch(B){J.error("Failed to create note"),console.error(B)}},P=async B=>{if(confirm("Are you sure you want to delete this note?"))try{await o(B),J.success("Note deleted")}catch($){J.error("Failed to delete note"),console.error($)}},E=async(B,$)=>{$.stopPropagation();try{await c(B)}catch(W){J.error("Failed to update favorite status"),console.error(W)}},I=async(B,$)=>{$.stopPropagation();try{await u(B)}catch(W){J.error("Failed to update pin status"),console.error(W)}},T=async B=>{if(!r)return;const $=(O==null?void 0:O.tags)||[],W=B.filter(Y=>!$.includes(Y)),V=$.filter(Y=>!B.includes(Y));try{for(const Y of W)await h(r,Y);for(const Y of V)await f(r,Y)}catch(Y){J.error("Failed to update tags"),console.error(Y)}},R=B=>{x($=>$.includes(B)?$.filter(W=>W!==B):[...$,B])},L=v.useCallback(B=>{S(B)},[]),D=v.useCallback(B=>{j(B)},[]);v.useEffect(()=>{if(!r||!O)return;const B=setTimeout(async()=>{const $=N.replace(/<[^>]*>/g,""),W=$.trim().split(/\s+/).filter(Boolean).length;try{let V={content:N,plainText:$,wordCount:W,characterCount:$.length,drawingData:k};if(p.enableGamification){const Y={...O,...V},G=Stt(Y),Z=wtt(G);Vc.filter(ee=>{var de,pe;const se=(pe=(de=p.userStats)==null?void 0:de.badges.find(Se=>Se.id===ee.id))==null?void 0:pe.earnedAt,X=TM(ee,{..._,totalWords:_.totalWords+W-O.wordCount,totalPoints:_.totalPoints+Z-(O.points||0)},t.map(Se=>Se.id===r?G:Se));return!se&&X}).forEach(ee=>{J.success(` Badge Unlocked: ${ee.name}!`)}),V={...V,points:Z,streak:G.streak}}await l(r,V)}catch(V){console.error("Failed to save content:",V)}},1e3);return()=>clearTimeout(B)},[N,k,r,O,l,p.enableGamification,p.userStats,_,t]);const F=B=>{const $=t.find(W=>W.id===B);$&&(s(B),S($.content),j($.drawingData||[]))};v.useEffect(()=>{O&&j(O.drawingData||[])},[r,O]);const z=async(B,$)=>{try{await l(B,{title:$.trim()||"Untitled Note"}),w(null)}catch(W){J.error("Failed to update title"),console.error(W)}};return n?a.jsxs("div",{className:"h-screen w-full flex flex-col bg-gray-50",children:[a.jsxs("div",{className:"bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(U,{variant:"ghost",size:"sm",onClick:()=>e("/apps"),children:[a.jsx(Jn,{className:"w-4 h-4 mr-2"}),"Back"]}),a.jsx("div",{className:"h-6 w-px bg-gray-300"}),a.jsx(DD,{className:"w-5 h-5 text-blue-600"}),a.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Notes"}),p.enableGamification&&p.userStats&&a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-gradient-to-r from-purple-500 to-blue-500 text-white rounded-full text-sm font-semibold",children:[a.jsx("span",{className:"text-lg",children:""}),a.jsxs("span",{children:["Level ",_.level]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[p.enableGamification&&a.jsxs(U,{variant:"outline",size:"sm",onClick:()=>e("/notes/stats"),className:"flex items-center gap-2",children:[a.jsx(Sn,{className:"h-4 w-4"}),"View Stats"]}),a.jsxs(U,{onClick:M,children:[a.jsx(We,{className:"w-4 h-4 mr-2"}),"New Note"]})]})]}),a.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[a.jsxs("div",{className:"w-80 bg-white border-r border-gray-200 flex flex-col",children:[a.jsx("div",{className:"p-4 border-b border-gray-200",children:a.jsxs("div",{className:"relative",children:[a.jsx(Sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx(re,{placeholder:"Search notes...",value:m,onChange:B=>g(B.target.value),className:"pl-10"})]})}),C.length>0&&a.jsxs("div",{className:"p-4 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(ya,{className:"w-4 h-4 text-gray-600"}),a.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Filter by tags"}),y.length>0&&a.jsx(U,{variant:"ghost",size:"sm",onClick:()=>x([]),className:"h-5 px-2 text-xs ml-auto",children:"Clear"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:C.map(B=>a.jsxs(ve,{variant:y.includes(B)?"default":"outline",className:`cursor-pointer transition-all ${y.includes(B)?"bg-blue-600 text-white hover:bg-blue-700":"hover:bg-gray-100"}`,onClick:()=>R(B),children:[a.jsx(ya,{className:"w-3 h-3 mr-1"}),B]},B))})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:A.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(sx,{className:"w-12 h-12 mx-auto mb-2 text-gray-400"}),a.jsx("p",{children:"No notes yet"}),a.jsx("p",{className:"text-sm mt-1",children:"Create your first note to get started"})]}):A.map(B=>a.jsx(te,{className:`p-3 cursor-pointer transition-all hover:shadow-md ${r===B.id?"border-2 border-blue-500 bg-blue-50":""}`,onClick:()=>F(B.id),children:a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-sm truncate",children:B.title}),a.jsx("p",{className:"text-xs text-gray-600 line-clamp-2 mt-1",children:B.plainText||"No content"}),B.tags&&B.tags.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[B.tags.slice(0,3).map($=>a.jsx(ve,{variant:"secondary",className:"px-1.5 py-0 text-xs bg-blue-100 text-blue-800",children:$},$)),B.tags.length>3&&a.jsxs(ve,{variant:"secondary",className:"px-1.5 py-0 text-xs",children:["+",B.tags.length-3]})]}),a.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-gray-500",children:[a.jsxs("span",{children:[B.wordCount," words"]}),a.jsx("span",{children:""}),a.jsx("span",{children:new Date(B.updatedAt).toLocaleDateString()})]})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(U,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",onClick:$=>I(B.id,$),children:a.jsx(zpe,{className:`w-3 h-3 ${B.isPinned?"fill-blue-600 text-blue-600":""}`})}),a.jsx(U,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",onClick:$=>E(B.id,$),children:a.jsx(Na,{className:`w-3 h-3 ${B.isFavorite?"fill-yellow-400 text-yellow-400":""}`})}),a.jsx(U,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0 text-red-600 hover:text-red-700",onClick:$=>{$.stopPropagation(),P(B.id)},children:a.jsx(Jt,{className:"w-3 h-3"})})]})]})},B.id))})]}),a.jsx("div",{className:"flex-1 bg-white flex flex-col",children:O?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"border-b border-gray-200 p-4 space-y-3",children:[b===O.id?a.jsx(re,{value:O.title,onChange:B=>l(O.id,{title:B.target.value}),onBlur:()=>w(null),onKeyDown:B=>{B.key==="Enter"&&z(O.id,O.title),B.key==="Escape"&&w(null)},autoFocus:!0,className:"text-2xl font-bold border-none shadow-none focus-visible:ring-0"}):a.jsx("h2",{className:"text-2xl font-bold cursor-pointer hover:text-blue-600",onClick:()=>w(O.id),children:O.title}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs("p",{className:"text-sm text-gray-500",children:["Last edited ",new Date(O.updatedAt).toLocaleString()]})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(ya,{className:"w-4 h-4 text-gray-600"}),a.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Tags"})]}),a.jsx(Zxt,{tags:O.tags||[],onTagsChange:T,availableTags:C,placeholder:"Add a tag..."})]})]}),a.jsx("div",{className:"flex-1 overflow-hidden",children:a.jsx(Qxt,{content:N,onChange:L,drawingData:k,onDrawingChange:D,placeholder:"Start typing your note..."})})]}):a.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-500",children:a.jsxs("div",{className:"text-center",children:[a.jsx(sx,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),a.jsx("p",{className:"text-lg font-semibold",children:"No note selected"}),a.jsx("p",{className:"text-sm mt-1",children:"Select a note or create a new one to get started"})]})})})]})]}):a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading notes..."})]})})}const tvt="DailyHavenNotesDB",nvt=1,ts={NOTES:"notes",NOTEBOOKS:"notebooks",TAGS:"tags"};let sA=null;async function P0(){return sA||new Promise((e,t)=>{const n=indexedDB.open(tvt,nvt);n.onerror=()=>{t(new Error("Failed to open IndexedDB"))},n.onsuccess=()=>{sA=n.result,e(n.result)},n.onupgradeneeded=r=>{const s=r.target.result;if(!s.objectStoreNames.contains(ts.NOTES)){const i=s.createObjectStore(ts.NOTES,{keyPath:"id"});i.createIndex("title","title",{unique:!1}),i.createIndex("createdAt","createdAt",{unique:!1}),i.createIndex("updatedAt","updatedAt",{unique:!1}),i.createIndex("notebookId","notebookId",{unique:!1}),i.createIndex("isFavorite","isFavorite",{unique:!1}),i.createIndex("isArchived","isArchived",{unique:!1}),i.createIndex("plainText","plainText",{unique:!1})}if(!s.objectStoreNames.contains(ts.NOTEBOOKS)){const i=s.createObjectStore(ts.NOTEBOOKS,{keyPath:"id"});i.createIndex("name","name",{unique:!1}),i.createIndex("createdAt","createdAt",{unique:!1}),i.createIndex("order","order",{unique:!1})}if(!s.objectStoreNames.contains(ts.TAGS)){const i=s.createObjectStore(ts.TAGS,{keyPath:"id"});i.createIndex("name","name",{unique:!0}),i.createIndex("createdAt","createdAt",{unique:!1})}}})}async function v1(e){const t=await P0();return new Promise((n,r)=>{const o=t.transaction(e,"readonly").objectStore(e).getAll();o.onsuccess=()=>{n(o.result)},o.onerror=()=>{r(new Error(`Failed to get all from ${e}`))}})}async function rvt(e,t){const n=await P0();return new Promise((r,s)=>{const l=n.transaction(e,"readonly").objectStore(e).get(t);l.onsuccess=()=>{r(l.result||null)},l.onerror=()=>{s(new Error(`Failed to get item from ${e}`))}})}async function Pw(e,t){const n=await P0();return new Promise((r,s)=>{const l=n.transaction(e,"readwrite").objectStore(e).put(t);l.onsuccess=()=>{r()},l.onerror=()=>{s(new Error(`Failed to put item in ${e}`))}})}async function svt(e,t){const n=await P0();return new Promise((r,s)=>{const l=n.transaction(e,"readwrite").objectStore(e).delete(t);l.onsuccess=()=>{r()},l.onerror=()=>{s(new Error(`Failed to delete item from ${e}`))}})}async function ivt(e){const t=await v1(ts.NOTES),n=e.toLowerCase();return t.filter(r=>r.title.toLowerCase().includes(n)||r.plainText.toLowerCase().includes(n)||r.tags.some(s=>s.toLowerCase().includes(n)))}const n9="notes-settings";function ovt(){const[e,t]=v.useState([]),[n,r]=v.useState([]),[s,i]=v.useState([]),[o,l]=v.useState(!1),[c,u]=v.useState(null),[d,h]=v.useState({enableGamification:!0,userStats:{totalPoints:0,level:1,badges:Vc.map(A=>({...A})),notesCreated:0,totalWords:0,currentStreak:0,longestStreak:0}});v.useEffect(()=>{(async()=>{try{await P0();const[O,M,P]=await Promise.all([v1(ts.NOTES),v1(ts.NOTEBOOKS),v1(ts.TAGS)]);t(O),r(M),i(P);const E=localStorage.getItem(n9);if(E)try{const I=JSON.parse(E);h(I)}catch(I){console.error("Failed to parse settings:",I)}l(!0)}catch(O){console.error("Failed to load notes data:",O),l(!0)}})()},[]);const f=v.useCallback(async(A="Untitled Note")=>{const O={id:`note-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,title:A,content:"",plainText:"",notebookId:null,tags:[],createdAt:new Date,updatedAt:new Date,isFavorite:!1,isArchived:!1,isPinned:!1,wordCount:0,characterCount:0,drawingData:[]};return await Pw(ts.NOTES,O),t(M=>[O,...M]),u(O.id),O},[]),p=v.useCallback(async(A,O)=>{const M=e.find(E=>E.id===A);if(!M)return;const P={...M,...O,updatedAt:new Date};await Pw(ts.NOTES,P),t(E=>E.map(I=>I.id===A?P:I))},[e]),m=v.useCallback(async A=>{await svt(ts.NOTES,A),t(O=>O.filter(M=>M.id!==A)),c===A&&u(null)},[c]),g=v.useCallback(async A=>await rvt(ts.NOTES,A),[]),y=v.useCallback(async A=>{const O=e.find(M=>M.id===A);O&&await p(A,{isFavorite:!O.isFavorite})},[e,p]),x=v.useCallback(async A=>{const O=e.find(M=>M.id===A);O&&await p(A,{isArchived:!O.isArchived})},[e,p]),b=v.useCallback(async A=>{const O=e.find(M=>M.id===A);O&&await p(A,{isPinned:!O.isPinned})},[e,p]),w=v.useCallback(async A=>A.trim()?await ivt(A):e,[e]),N=v.useCallback((A,O)=>{let M=[...e];if(A&&(A.notebookId!==void 0&&(M=M.filter(P=>P.notebookId===A.notebookId)),A.tags&&A.tags.length>0&&(M=M.filter(P=>A.tags.some(E=>P.tags.includes(E)))),A.isFavorite!==void 0&&(M=M.filter(P=>P.isFavorite===A.isFavorite)),A.isArchived!==void 0&&(M=M.filter(P=>P.isArchived===A.isArchived)),A.searchQuery)){const P=A.searchQuery.toLowerCase();M=M.filter(E=>E.title.toLowerCase().includes(P)||E.plainText.toLowerCase().includes(P))}return O&&M.sort((P,E)=>{let I=0;switch(O.sortBy){case"title":I=P.title.localeCompare(E.title);break;case"createdAt":I=new Date(P.createdAt).getTime()-new Date(E.createdAt).getTime();break;case"updatedAt":default:I=new Date(P.updatedAt).getTime()-new Date(E.updatedAt).getTime();break}return O.direction==="asc"?I:-I}),M.sort((P,E)=>P.isPinned&&!E.isPinned?-1:!P.isPinned&&E.isPinned?1:0)},[e]),S=v.useCallback(async A=>{const O={id:`notebook-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:A,createdAt:new Date,updatedAt:new Date,noteCount:0,order:n.length};return await Pw(ts.NOTEBOOKS,O),r(M=>[...M,O]),O},[n]),k=v.useCallback(async(A,O)=>{const M=s.find(E=>E.name.toLowerCase()===A.toLowerCase());if(M)return M;const P={id:`tag-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:A,color:O,createdAt:new Date,noteCount:0};return await Pw(ts.TAGS,P),i(E=>[...E,P]),P},[s]),j=v.useCallback(async(A,O)=>{const M=e.find(P=>P.id===A);M&&(await k(O),M.tags.includes(O)||await p(A,{tags:[...M.tags,O]}))},[e,k,p]),_=v.useCallback(async(A,O)=>{const M=e.find(P=>P.id===A);M&&await p(A,{tags:M.tags.filter(P=>P!==O)})},[e,p]),C=v.useCallback(A=>{h(O=>{const M={...O,...A};return localStorage.setItem(n9,JSON.stringify(M)),M})},[]);return{notes:e,notebooks:n,tags:s,isLoaded:o,activeNoteId:c,setActiveNoteId:u,settings:d,createNote:f,updateNote:p,deleteNote:m,getNote:g,toggleFavorite:y,toggleArchive:x,togglePin:b,searchNotes:w,filterAndSortNotes:N,createNotebook:S,createTag:k,addTagToNote:j,removeTagFromNote:_,updateSettings:C}}function avt(){const e=Ct(),{notes:t,settings:n,isLoaded:r}=ovt(),s=v.useMemo(()=>{if(!n.userStats)return{totalPoints:0,level:1,badges:Vc.map(y=>({...y})),notesCreated:0,totalWords:0,currentStreak:0,longestStreak:0};const d=t.reduce((y,x)=>y+x.wordCount,0),h=t.reduce((y,x)=>y+(x.points||0),0),f=hie(h);let p=0,m=0;t.forEach(y=>{y.streak&&(p=Math.max(p,y.streak.currentStreak),m=Math.max(m,y.streak.longestStreak))});const g=Vc.map(y=>{const x=TM(y,{...n.userStats,notesCreated:t.length,totalWords:d,currentStreak:p},t);return{...y,earnedAt:x?y.earnedAt||new Date:void 0,progress:y.id.includes("note")&&y.id!=="long-note"?t.length:y.id.includes("wordsmith")?d:y.id.includes("streak")?p:void 0}});return{totalPoints:h,level:f,badges:g,notesCreated:t.length,totalWords:d,currentStreak:p,longestStreak:m}},[t,n.userStats]),i=jH(s.level),o=s.level===1?0:jH(s.level-1),l=(s.totalPoints-o)/(i-o)*100,c=s.badges.filter(d=>d.earnedAt),u=s.badges.filter(d=>!d.earnedAt);return r?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:a.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(U,{variant:"ghost",onClick:()=>e("/notes"),children:[a.jsx(Jn,{className:"h-4 w-4 mr-2"}),"Back to Notes"]}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold",children:"Writing Stats"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Track your writing progress and achievements"})]})]}),a.jsxs("div",{className:"flex items-center gap-3 px-6 py-3 bg-gradient-to-r from-purple-500 to-blue-500 text-white rounded-full",children:[a.jsx(us,{className:"h-6 w-6"}),a.jsxs("div",{className:"text-left",children:[a.jsxs("div",{className:"text-2xl font-bold",children:["Level ",s.level]}),a.jsxs("div",{className:"text-xs opacity-90",children:[s.totalPoints," XP"]})]})]})]}),a.jsxs(te,{className:"p-6 mb-8 bg-white/80 backdrop-blur-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-2xl font-semibold flex items-center gap-2",children:[a.jsx(Xt,{className:"h-6 w-6 text-blue-600"}),"Level Progress"]}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.totalPoints," / ",i," XP"]})]}),a.jsx(Sr,{value:l,className:"h-4"}),a.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:[i-s.totalPoints," XP until Level"," ",s.level+1]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsxs(te,{className:"p-6 bg-white/80 backdrop-blur-sm",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(DD,{className:"h-5 w-5 text-blue-600"})}),a.jsx("h3",{className:"font-semibold text-gray-600",children:"Total Notes"})]}),a.jsx("p",{className:"text-3xl font-bold",children:s.notesCreated})]}),a.jsxs(te,{className:"p-6 bg-white/80 backdrop-blur-sm",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:a.jsx(Sn,{className:"h-5 w-5 text-purple-600"})}),a.jsx("h3",{className:"font-semibold text-gray-600",children:"Total Words"})]}),a.jsx("p",{className:"text-3xl font-bold",children:s.totalWords.toLocaleString()})]}),a.jsxs(te,{className:"p-6 bg-white/80 backdrop-blur-sm",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:a.jsx("span",{className:"text-2xl",children:""})}),a.jsx("h3",{className:"font-semibold text-gray-600",children:"Current Streak"})]}),a.jsxs("p",{className:"text-3xl font-bold",children:[s.currentStreak," days"]})]}),a.jsxs(te,{className:"p-6 bg-white/80 backdrop-blur-sm",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(us,{className:"h-5 w-5 text-green-600"})}),a.jsx("h3",{className:"font-semibold text-gray-600",children:"Badges"})]}),a.jsxs("p",{className:"text-3xl font-bold",children:[c.length,"/",s.badges.length]})]})]}),a.jsxs(te,{className:"p-6 mb-8 bg-white/80 backdrop-blur-sm",children:[a.jsxs("h2",{className:"text-2xl font-semibold mb-4 flex items-center gap-2",children:[a.jsx(Na,{className:"h-6 w-6 text-yellow-500"}),"Earned Badges (",c.length,")"]}),c.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(d=>a.jsx("div",{className:"p-4 border border-green-200 rounded-lg bg-green-50 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"text-4xl",children:d.icon}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-green-900",children:d.name}),a.jsx("p",{className:"text-sm text-green-700 mt-1",children:d.description}),d.earnedAt&&a.jsxs("p",{className:"text-xs text-green-600 mt-2",children:["Earned ",new Date(d.earnedAt).toLocaleDateString()]})]})]})},d.id))}):a.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Start writing to earn your first badge!"})]}),a.jsxs(te,{className:"p-6 bg-white/80 backdrop-blur-sm",children:[a.jsxs("h2",{className:"text-2xl font-semibold mb-4 flex items-center gap-2",children:[a.jsx(us,{className:"h-6 w-6 text-gray-400"}),"Locked Badges (",u.length,")"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map(d=>a.jsx("div",{className:"p-4 border rounded-lg bg-gray-50 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"text-4xl opacity-40",children:d.icon}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-gray-700",children:d.name}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:d.description}),d.progress!==void 0&&a.jsxs("div",{className:"mt-3",children:[a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-1",children:[a.jsx("span",{children:"Progress"}),a.jsxs("span",{children:[d.progress," / ",d.requirement]})]}),a.jsx(Sr,{value:d.progress/d.requirement*100,className:"h-2"})]})]})]})},d.id))})]}),a.jsxs(te,{className:"p-6 mt-8 bg-white/80 backdrop-blur-sm",children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Writing Insights"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Average Words/Note"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:t.length>0?Math.round(s.totalWords/t.length):0})]}),a.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Longest Streak"}),a.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:[s.longestStreak," days"]})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Tagged Notes"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:t.filter(d=>d.tags&&d.tags.length>0).length})]})]})]})]})}):a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsx("p",{className:"text-muted-foreground",children:"Loading..."})})}const lvt=()=>{var I;Ct();const[e,t]=v.useState([]),[n,r]=v.useState(!0),[s,i]=v.useState("all"),[o,l]=v.useState(!1),[c,u]=v.useState(null),[d,h]=v.useState(new Set),[f,p]=v.useState(""),[m,g]=v.useState(""),[y,x]=v.useState(""),[b,w]=v.useState(""),[N,S]=v.useState("4"),[k,j]=v.useState("Easy");v.useEffect(()=>{_(),C()},[]);const _=async()=>{try{r(!0);const{data:{session:T}}=await Le.auth.getSession();if(!T)return;const{data:R,error:L}=await Le.from("recipes").select("*").eq("user_id",T.user.id).order("created_at",{ascending:!1});if(L)throw L;t(R||[])}catch(T){console.error("Error fetching recipes:",T),J.error("Failed to load recipes")}finally{r(!1)}},C=async()=>{try{const{data:{session:T}}=await Le.auth.getSession();if(!T)return;const{data:R,error:L}=await Le.from("favorites").select("recipe_id").eq("user_id",T.user.id);if(L)throw L;h(new Set((R==null?void 0:R.map(D=>D.recipe_id))||[]))}catch(T){console.error("Error fetching favorites:",T)}},A=async()=>{try{const{data:{session:T}}=await Le.auth.getSession();if(!T){J.error("Please log in to add recipes");return}if(!f.trim()||!m.trim()){J.error("Please fill in recipe name and ingredients");return}const R=m.split(`
`).map(D=>D.trim()).filter(D=>D.length>0),{error:L}=await Le.from("recipes").insert({user_id:T.user.id,recipe_name:f,title:f,ingredients:R,instructions:y||"",cookTime:b||null,servings:parseInt(N)||4,difficulty:k,totalIngredients:R.length,availableIngredients:0,rating:0});if(L)throw L;J.success("Recipe added successfully!"),l(!1),M(),_()}catch(T){console.error("Error adding recipe:",T),J.error(T.message||"Failed to add recipe")}},O=async T=>{try{const{data:{session:R}}=await Le.auth.getSession();if(!R)return;if(d.has(T)){const{error:L}=await Le.from("favorites").delete().eq("user_id",R.user.id).eq("recipe_id",T);if(L)throw L;h(D=>{const F=new Set(D);return F.delete(T),F}),J.success("Removed from favorites")}else{const{error:L}=await Le.from("favorites").insert({user_id:R.user.id,recipe_id:T});if(L)throw L;h(D=>new Set(D).add(T)),J.success("Added to favorites")}}catch(R){console.error("Error toggling favorite:",R),J.error("Failed to update favorites")}},M=()=>{p(""),g(""),x(""),w(""),S("4"),j("Easy")},P=e.filter(T=>s==="ready"?T.availableIngredients!==void 0&&T.totalIngredients!==void 0&&T.availableIngredients>=T.totalIngredients:!0),E={Easy:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",Medium:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",Hard:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-amber-50 to-yellow-50 dark:from-gray-900 dark:via-orange-950 dark:to-amber-950",children:[a.jsx(wj,{}),a.jsx(Dn,{title:"Recipe Manager",icon:tO}),a.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"My Recipes"}),a.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:[e.length," recipe",e.length!==1?"s":""," saved"]})]}),a.jsxs(ot,{open:o,onOpenChange:l,children:[a.jsx(js,{asChild:!0,children:a.jsxs(U,{className:"gap-2",children:[a.jsx(We,{className:"w-4 h-4"}),"Add Recipe"]})}),a.jsxs(nt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(rt,{children:[a.jsx(st,{children:"Add New Recipe"}),a.jsx(dt,{children:"Enter the details for your new recipe"})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"recipe-name",children:"Recipe Name *"}),a.jsx(re,{id:"recipe-name",placeholder:"e.g., Spaghetti Carbonara",value:f,onChange:T=>p(T.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"ingredients",children:"Ingredients (one per line) *"}),a.jsx(ft,{id:"ingredients",placeholder:`e.g.,
2 eggs
200g spaghetti
100g bacon
50g parmesan cheese`,value:m,onChange:T=>g(T.target.value),rows:6})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"instructions",children:"Instructions"}),a.jsx(ft,{id:"instructions",placeholder:"Enter cooking instructions...",value:y,onChange:T=>x(T.target.value),rows:6})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"cook-time",children:"Cook Time"}),a.jsx(re,{id:"cook-time",placeholder:"e.g., 30 min",value:b,onChange:T=>w(T.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"servings",children:"Servings"}),a.jsx(re,{id:"servings",type:"number",min:"1",value:N,onChange:T=>S(T.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"difficulty",children:"Difficulty"}),a.jsxs(Ee,{value:k,onValueChange:T=>j(T),children:[a.jsx(je,{id:"difficulty",children:a.jsx(Ce,{})}),a.jsxs(_e,{children:[a.jsx(Q,{value:"Easy",children:"Easy"}),a.jsx(Q,{value:"Medium",children:"Medium"}),a.jsx(Q,{value:"Hard",children:"Hard"})]})]})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(U,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),a.jsx(U,{onClick:A,children:"Add Recipe"})]})]})]})]}),a.jsx(Pa,{value:s,onValueChange:T=>i(T),className:"mb-6",children:a.jsxs(Ko,{children:[a.jsx(Mt,{value:"all",children:"All Recipes"}),a.jsx(Mt,{value:"ready",children:"Ready to Cook"})]})}),n?a.jsx("div",{className:"flex justify-center items-center py-20",children:a.jsx(bp,{className:"w-8 h-8 animate-spin text-orange-600"})}):P.length===0?a.jsxs("div",{className:"text-center py-20",children:[a.jsx(tO,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No recipes yet"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Start by adding your first recipe!"}),a.jsxs(U,{onClick:()=>l(!0),className:"gap-2",children:[a.jsx(We,{className:"w-4 h-4"}),"Add Recipe"]})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:P.map(T=>{var R;return a.jsxs(te,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>u(T),children:[a.jsxs(nJ,{children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx(rJ,{className:"text-xl",children:T.title}),a.jsx(U,{variant:"ghost",size:"icon",onClick:L=>{L.stopPropagation(),O(T.id)},children:a.jsx($d,{className:`w-5 h-5 ${d.has(T.id)?"fill-red-500 text-red-500":"text-gray-400"}`})})]}),T.difficulty&&a.jsx(ve,{className:E[T.difficulty],children:T.difficulty})]}),a.jsxs(AR,{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[T.cookTime&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(kl,{className:"w-4 h-4"}),a.jsx("span",{children:T.cookTime})]}),T.servings&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(_4,{className:"w-4 h-4"}),a.jsxs("span",{children:[T.servings," servings"]})]})]}),a.jsx("div",{className:"text-sm",children:a.jsxs("p",{className:"font-semibold text-gray-700 dark:text-gray-300",children:["Ingredients: ",T.totalIngredients||((R=T.ingredients)==null?void 0:R.length)||0]})}),T.rating&&T.rating>0&&a.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((L,D)=>a.jsx(Na,{className:`w-4 h-4 ${D<T.rating?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},D))})]})]},T.id)})})]}),a.jsx(ot,{open:!!c,onOpenChange:()=>u(null),children:a.jsx(nt,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:c&&a.jsxs(a.Fragment,{children:[a.jsxs(rt,{children:[a.jsx(st,{className:"text-2xl",children:c.title}),a.jsx("div",{className:"flex gap-2 mt-2",children:c.difficulty&&a.jsx(ve,{className:E[c.difficulty],children:c.difficulty})})]}),a.jsxs("div",{className:"space-y-6 py-4",children:[a.jsxs("div",{className:"flex gap-6 text-sm text-gray-600 dark:text-gray-400",children:[c.cookTime&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(kl,{className:"w-4 h-4"}),a.jsx("span",{children:c.cookTime})]}),c.servings&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_4,{className:"w-4 h-4"}),a.jsxs("span",{children:[c.servings," servings"]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Ingredients"}),a.jsx("ul",{className:"list-disc list-inside space-y-1",children:(I=c.ingredients)==null?void 0:I.map((T,R)=>a.jsx("li",{className:"text-gray-700 dark:text-gray-300",children:T},R))})]}),c.instructions&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Instructions"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:c.instructions})]})]})]})})})]})},cvt=["Produce","Dairy","Meat","Bakery","Frozen","Pantry","Beverages","Snacks","Other"],uvt=()=>{Ct();const[e,t]=v.useState([]),[n,r]=v.useState(!0),[s,i]=v.useState(!1),[o,l]=v.useState("needed"),[c,u]=v.useState(""),[d,h]=v.useState("Other");v.useEffect(()=>{f()},[]);const f=async()=>{try{r(!0);const{data:{session:S}}=await Le.auth.getSession();if(!S)return;const{data:k,error:j}=await Le.from("grocery_items").select("*").eq("user_id",S.user.id);if(j)throw j;t(k||[])}catch(S){console.error("Error fetching grocery items:",S),J.error("Failed to load grocery items")}finally{r(!1)}},p=async()=>{try{const{data:{session:S}}=await Le.auth.getSession();if(!S){J.error("Please log in to add items");return}if(!c.trim()){J.error("Please enter an item name");return}const{error:k}=await Le.from("grocery_items").insert({user_id:S.user.id,name:c,category:d,needed:!0,inCart:!1});if(k)throw k;J.success("Item added to grocery list!"),i(!1),y(),f()}catch(S){console.error("Error adding item:",S),J.error(S.message||"Failed to add item")}},m=async S=>{try{const k=!S.inCart,{error:j}=await Le.from("grocery_items").update({inCart:k,needed:!k}).eq("id",S.id);if(j)throw j;t(_=>_.map(C=>C.id===S.id?{...C,inCart:k,needed:!k}:C)),J.success(k?"Added to cart":"Moved to needed")}catch(k){console.error("Error updating item:",k),J.error("Failed to update item")}},g=async S=>{try{const{error:k}=await Le.from("grocery_items").delete().eq("id",S);if(k)throw k;t(j=>j.filter(_=>_.id!==S)),J.success("Item deleted")}catch(k){console.error("Error deleting item:",k),J.error("Failed to delete item")}},y=()=>{u(""),h("Other")},x=e.filter(S=>S.needed),b=e.filter(S=>S.inCart),w=S=>{const k={};return S.forEach(j=>{k[j.category]||(k[j.category]=[]),k[j.category].push(j)}),k},N=S=>{if(S.length===0)return a.jsxs("div",{className:"text-center py-12",children:[a.jsx(rO,{className:"w-12 h-12 mx-auto text-gray-400 mb-3"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No items in this list"})]});const k=w(S),j=Object.keys(k).sort();return a.jsx("div",{className:"space-y-6",children:j.map(_=>a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 capitalize",children:_}),a.jsx("div",{className:"space-y-2",children:k[_].map(C=>a.jsx(te,{className:"hover:shadow-md transition-shadow",children:a.jsx(AR,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[a.jsx(ks,{checked:C.inCart,onCheckedChange:()=>m(C)}),a.jsx("span",{className:`text-base ${C.inCart?"line-through text-gray-500 dark:text-gray-600":"text-gray-900 dark:text-white"}`,children:C.name})]}),a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>g(C.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:a.jsx(Jt,{className:"w-4 h-4"})})]})})},C.id))})]},_))})};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50 dark:from-gray-900 dark:via-green-950 dark:to-emerald-950",children:[a.jsx(wj,{}),a.jsx(Dn,{title:"Grocery List",icon:rO}),a.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"My Grocery List"}),a.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:[e.length," item",e.length!==1?"s":""," total"]})]}),a.jsxs(ot,{open:s,onOpenChange:i,children:[a.jsx(js,{asChild:!0,children:a.jsxs(U,{className:"gap-2",children:[a.jsx(We,{className:"w-4 h-4"}),"Add Item"]})}),a.jsxs(nt,{children:[a.jsxs(rt,{children:[a.jsx(st,{children:"Add Grocery Item"}),a.jsx(dt,{children:"Add a new item to your grocery list"})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"item-name",children:"Item Name *"}),a.jsx(re,{id:"item-name",placeholder:"e.g., Milk, Eggs, Bread",value:c,onChange:S=>u(S.target.value),onKeyDown:S=>{S.key==="Enter"&&p()}})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"item-category",children:"Category"}),a.jsxs(Ee,{value:d,onValueChange:h,children:[a.jsx(je,{id:"item-category",children:a.jsx(Ce,{})}),a.jsx(_e,{children:cvt.map(S=>a.jsx(Q,{value:S,children:S},S))})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(U,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),a.jsx(U,{onClick:p,children:"Add Item"})]})]})]})]}),a.jsxs(Pa,{value:o,onValueChange:S=>l(S),className:"mb-6",children:[a.jsxs(Ko,{className:"grid w-full grid-cols-2",children:[a.jsxs(Mt,{value:"needed",children:["Needed (",x.length,")"]}),a.jsxs(Mt,{value:"inCart",children:["In Cart (",b.length,")"]})]}),a.jsx(bn,{value:"needed",className:"mt-6",children:n?a.jsx("div",{className:"flex justify-center items-center py-20",children:a.jsx(bp,{className:"w-8 h-8 animate-spin text-green-600"})}):N(x)}),a.jsx(bn,{value:"inCart",className:"mt-6",children:n?a.jsx("div",{className:"flex justify-center items-center py-20",children:a.jsx(bp,{className:"w-8 h-8 animate-spin text-green-600"})}):N(b)})]})]})]})},dvt=new xxe,hvt=()=>a.jsx(bxe,{client:dvt,children:a.jsx(Bbe,{children:a.jsxs(sR,{children:[a.jsx(Ome,{}),a.jsx(cge,{}),a.jsx(gve,{children:a.jsxs(hve,{children:[a.jsx(jt,{path:"/",element:a.jsx(PSe,{})}),a.jsx(jt,{path:"/apps",element:a.jsx(lC,{children:a.jsx(LSe,{})})}),a.jsx(jt,{path:"/login",element:a.jsx(USe,{})}),a.jsx(jt,{path:"/signup",element:a.jsx(qSe,{})}),a.jsx(jt,{path:"/todo",element:a.jsx(xje,{})}),a.jsx(jt,{path:"/todo/stats",element:a.jsx(E7e,{})}),a.jsx(jt,{path:"/calendar",element:a.jsx(R7e,{})}),a.jsx(jt,{path:"/finance",element:a.jsx(Q7e,{})}),a.jsx(jt,{path:"/ideas",element:a.jsx(cqe,{})}),a.jsx(jt,{path:"/goals",element:a.jsx(kqe,{})}),a.jsx(jt,{path:"/goals/create",element:a.jsx(jqe,{})}),a.jsx(jt,{path:"/goals/map",element:a.jsx(_et,{})}),a.jsx(jt,{path:"/goals/:goalId/edit",element:a.jsx(Tqe,{})}),a.jsx(jt,{path:"/journal",element:a.jsx(Ret,{})}),a.jsx(jt,{path:"/habits",element:a.jsx(Qet,{})}),a.jsx(jt,{path:"/expenses",element:a.jsx(ott,{})}),a.jsx(jt,{path:"/budgets",element:a.jsx(att,{})}),a.jsx(jt,{path:"/budgets/create",element:a.jsx(ltt,{})}),a.jsx(jt,{path:"/budgets/:budgetId/edit",element:a.jsx(ctt,{})}),a.jsx(jt,{path:"/savings",element:a.jsx(utt,{})}),a.jsx(jt,{path:"/savings/create",element:a.jsx(dtt,{})}),a.jsx(jt,{path:"/savings/:savingsId/edit",element:a.jsx(htt,{})}),a.jsx(jt,{path:"/fitness",element:a.jsx(ptt,{})}),a.jsx(jt,{path:"/fitness/activity",element:a.jsx(vtt,{})}),a.jsx(jt,{path:"/fitness/workout",element:a.jsx(mtt,{})}),a.jsx(jt,{path:"/fitness/nutrition",element:a.jsx(gtt,{})}),a.jsx(jt,{path:"/fitness/wellness",element:a.jsx(xtt,{})}),a.jsx(jt,{path:"/fitness/goals",element:a.jsx(btt,{})}),a.jsx(jt,{path:"/fitness/achievements",element:a.jsx(ytt,{})}),a.jsx(jt,{path:"/notes",element:a.jsx(evt,{})}),a.jsx(jt,{path:"/notes/stats",element:a.jsx(avt,{})}),a.jsx(jt,{path:"/recipes",element:a.jsx(lC,{children:a.jsx(lvt,{})})}),a.jsx(jt,{path:"/grocery",element:a.jsx(lC,{children:a.jsx(uvt,{})})}),a.jsx(jt,{path:"*",element:a.jsx(PNe,{})})]})})]})})});j7(document.getElementById("root")).render(a.jsx(hvt,{}));
